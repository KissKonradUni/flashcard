var __require=(x=>typeof require<`u`?require:typeof Proxy<`u`?new Proxy(x,{get:(a,b)=>(typeof require<`u`?require:a)[b]}):x)(function(x){if(typeof require<`u`)return require.apply(this,arguments);throw Error('Calling `require` for "'+x+"\" in an environment that doesn't expose the `require` function.")});(function(){let relList=document.createElement(`link`).relList;if(relList&&relList.supports&&relList.supports(`modulepreload`))return;for(let link$1 of document.querySelectorAll(`link[rel="modulepreload"]`))processPreload(link$1);new MutationObserver(mutations=>{for(let mutation of mutations)if(mutation.type===`childList`)for(let node of mutation.addedNodes)node.tagName===`LINK`&&node.rel===`modulepreload`&&processPreload(node)}).observe(document,{childList:!0,subtree:!0});function getFetchOpts(link$1){let fetchOpts={};return link$1.integrity&&(fetchOpts.integrity=link$1.integrity),link$1.referrerPolicy&&(fetchOpts.referrerPolicy=link$1.referrerPolicy),link$1.crossOrigin===`use-credentials`?fetchOpts.credentials=`include`:link$1.crossOrigin===`anonymous`?fetchOpts.credentials=`omit`:fetchOpts.credentials=`same-origin`,fetchOpts}function processPreload(link$1){if(link$1.ep)return;link$1.ep=!0;let fetchOpts=getFetchOpts(link$1);fetch(link$1.href,fetchOpts)}})();var false_default=!1,is_array=Array.isArray,index_of=Array.prototype.indexOf,array_from=Array.from,object_keys=Object.keys,define_property=Object.defineProperty,get_descriptor=Object.getOwnPropertyDescriptor,get_descriptors=Object.getOwnPropertyDescriptors,object_prototype=Object.prototype,array_prototype=Array.prototype,get_prototype_of=Object.getPrototypeOf,is_extensible=Object.isExtensible;function is_function(thing){return typeof thing==`function`}const noop=()=>{};function run(fn){return fn()}function run_all(arr){for(var i=0;i<arr.length;i++)arr[i]()}function deferred(){var resolve,reject;return{promise:new Promise((res,rej)=>{resolve=res,reject=rej}),resolve,reject}}const DERIVED=2,EFFECT=4,RENDER_EFFECT=8,MANAGED_EFFECT=1<<24,BLOCK_EFFECT=16,BRANCH_EFFECT=32,ROOT_EFFECT=64,BOUNDARY_EFFECT=128,CONNECTED=512,CLEAN=1024,DIRTY=2048,MAYBE_DIRTY=4096,INERT=8192,DESTROYED=16384,EFFECT_RAN=32768,EFFECT_TRANSPARENT=65536,EAGER_EFFECT=1<<17,HEAD_EFFECT=1<<18,EFFECT_PRESERVED=1<<19,USER_EFFECT=1<<20,EFFECT_OFFSCREEN=1<<25,WAS_MARKED=32768,REACTION_IS_UPDATING=1<<21,ASYNC=1<<22,ERROR_VALUE=1<<23,STATE_SYMBOL=Symbol(`$state`),LEGACY_PROPS=Symbol(`legacy props`),LOADING_ATTR_SYMBOL=Symbol(``),PROXY_PATH_SYMBOL=Symbol(`proxy path`),STALE_REACTION=new class extends Error{name=`StaleReactionError`;message="The reaction that called `getAbortSignal()` was re-run or destroyed"},TEXT_NODE=3,COMMENT_NODE=8;function lifecycle_outside_component(name){throw Error(`https://svelte.dev/e/lifecycle_outside_component`)}function async_derived_orphan(){throw Error(`https://svelte.dev/e/async_derived_orphan`)}function bind_invalid_checkbox_value(){throw Error(`https://svelte.dev/e/bind_invalid_checkbox_value`)}function derived_references_self(){throw Error(`https://svelte.dev/e/derived_references_self`)}function effect_in_teardown(rune){throw Error(`https://svelte.dev/e/effect_in_teardown`)}function effect_in_unowned_derived(){throw Error(`https://svelte.dev/e/effect_in_unowned_derived`)}function effect_orphan(rune){throw Error(`https://svelte.dev/e/effect_orphan`)}function effect_update_depth_exceeded(){throw Error(`https://svelte.dev/e/effect_update_depth_exceeded`)}function hydration_failed(){throw Error(`https://svelte.dev/e/hydration_failed`)}function invalid_snippet(){throw Error(`https://svelte.dev/e/invalid_snippet`)}function props_invalid_value(key){throw Error(`https://svelte.dev/e/props_invalid_value`)}function props_rest_readonly(property){throw Error(`https://svelte.dev/e/props_rest_readonly`)}function rune_outside_svelte(rune){throw Error(`https://svelte.dev/e/rune_outside_svelte`)}function state_descriptors_fixed(){throw Error(`https://svelte.dev/e/state_descriptors_fixed`)}function state_prototype_fixed(){throw Error(`https://svelte.dev/e/state_prototype_fixed`)}function state_unsafe_mutation(){throw Error(`https://svelte.dev/e/state_unsafe_mutation`)}function svelte_boundary_reset_onerror(){throw Error(`https://svelte.dev/e/svelte_boundary_reset_onerror`)}const EACH_ITEM_REACTIVE=1,EACH_INDEX_REACTIVE=2,EACH_IS_CONTROLLED=4,EACH_IS_ANIMATED=8,EACH_ITEM_IMMUTABLE=16,PROPS_IS_IMMUTABLE=1,PROPS_IS_RUNES=2,PROPS_IS_UPDATED=4,PROPS_IS_BINDABLE=8,PROPS_IS_LAZY_INITIAL=16,TEMPLATE_FRAGMENT=1,TEMPLATE_USE_IMPORT_NODE=2,HYDRATION_START=`[`,HYDRATION_START_ELSE=`[!`,HYDRATION_END=`]`,HYDRATION_ERROR={},UNINITIALIZED=Symbol(),FILENAME=Symbol(`filename`),NAMESPACE_HTML=`http://www.w3.org/1999/xhtml`;var bold=`font-weight: bold`,normal=`font-weight: normal`;function await_waterfall(name,location$1){console.warn(`https://svelte.dev/e/await_waterfall`)}function hydration_attribute_changed(attribute,html,value){console.warn(`https://svelte.dev/e/hydration_attribute_changed`)}function hydration_mismatch(location$1){console.warn(`https://svelte.dev/e/hydration_mismatch`)}function lifecycle_double_unmount(){console.warn(`https://svelte.dev/e/lifecycle_double_unmount`)}function state_proxy_equality_mismatch(operator){console.warn(`https://svelte.dev/e/state_proxy_equality_mismatch`)}function state_proxy_unmount(){console.warn(`https://svelte.dev/e/state_proxy_unmount`)}function svelte_boundary_reset_noop(){console.warn(`https://svelte.dev/e/svelte_boundary_reset_noop`)}let hydrating=!1;function set_hydrating(value){hydrating=value}let hydrate_node;function set_hydrate_node(node){if(node===null)throw hydration_mismatch(),HYDRATION_ERROR;return hydrate_node=node}function hydrate_next(){return set_hydrate_node(get_next_sibling(hydrate_node))}function reset(node){if(hydrating){if(get_next_sibling(hydrate_node)!==null)throw hydration_mismatch(),HYDRATION_ERROR;hydrate_node=node}}function next(count=1){if(hydrating){for(var i=count,node=hydrate_node;i--;)node=get_next_sibling(node);hydrate_node=node}}function skip_nodes(remove=!0){for(var depth=0,node=hydrate_node;;){if(node.nodeType===8){var data=node.data;if(data===`]`){if(depth===0)return node;--depth}else (data===`[`||data===`[!`)&&(depth+=1)}var next$1=get_next_sibling(node);remove&&node.remove(),node=next$1}}function read_hydration_instruction(node){if(!node||node.nodeType!==8)throw hydration_mismatch(),HYDRATION_ERROR;return node.data}function equals(value){return value===this.v}function safe_not_equal(a,b){return a==a?a!==b||typeof a==`object`&&!!a||typeof a==`function`:b==b}function safe_equals(value){return!safe_not_equal(value,this.v)}let async_mode_flag=!1,legacy_mode_flag=!1,tracing_mode_flag=!1;function enable_legacy_mode_flag(){legacy_mode_flag=!0}let tracing_expressions=null;function tag(source$1,label){return source$1.label=label,tag_proxy(source$1.v,label),source$1}function tag_proxy(value,label){return value?.[PROXY_PATH_SYMBOL]?.(label),value}function get_error(label){let error=Error(),stack$1=get_stack();return stack$1.length===0?null:(stack$1.unshift(`
`),define_property(error,`stack`,{value:stack$1.join(`
`)}),define_property(error,`name`,{value:label}),error)}function get_stack(){let limit=Error.stackTraceLimit;Error.stackTraceLimit=1/0;let stack$1=Error().stack;if(Error.stackTraceLimit=limit,!stack$1)return[];let lines=stack$1.split(`
`),new_lines=[];for(let i=0;i<lines.length;i++){let line=lines[i],posixified=line.replaceAll(`\\`,`/`);if(line.trim()!==`Error`){if(line.includes(`validate_each_keys`))return[];posixified.includes(`svelte/src/internal`)||posixified.includes(`node_modules/.vite`)||new_lines.push(line)}}return new_lines}let component_context=null;function set_component_context(context){component_context=context}let dev_stack=null;function set_dev_stack(stack$1){}let dev_current_component_function=null;function set_dev_current_component_function(fn){}function push(props,runes=!1,fn){component_context={p:component_context,i:!1,c:null,e:null,s:props,x:null,l:legacy_mode_flag&&!runes?{s:null,u:null,$:[]}:null}}function pop(component$1){var context=component_context,effects=context.e;if(effects!==null){context.e=null;for(var fn of effects)create_user_effect(fn)}return component$1!==void 0&&(context.x=component$1),context.i=!0,component_context=context.p,component$1??{}}function is_runes(){return!legacy_mode_flag||component_context!==null&&component_context.l===null}var micro_tasks=[];function run_micro_tasks(){var tasks=micro_tasks;micro_tasks=[],run_all(tasks)}function queue_micro_task(fn){if(micro_tasks.length===0&&!is_flushing_sync){var tasks=micro_tasks;queueMicrotask(()=>{tasks===micro_tasks&&run_micro_tasks()})}micro_tasks.push(fn)}function flush_tasks(){for(;micro_tasks.length>0;)run_micro_tasks()}var adjustments=new WeakMap;function handle_error(error){var effect$1=active_effect;if(effect$1===null)return active_reaction.f|=ERROR_VALUE,error;if(effect$1.f&32768)invoke_error_boundary(error,effect$1);else{if(!(effect$1.f&128))throw error;effect$1.b.error(error)}}function invoke_error_boundary(error,effect$1){for(;effect$1!==null;){if(effect$1.f&128)try{effect$1.b.error(error);return}catch(e){error=e}effect$1=effect$1.parent}throw error}function get_adjustments(error,effect$1){let message_descriptor=get_descriptor(error,`message`);if(!(message_descriptor&&!message_descriptor.configurable)){for(var indent=is_firefox?`  `:`	`,component_stack=`\n${indent}in ${effect$1.fn?.name||`<unknown>`}`,context=effect$1.ctx;context!==null;)component_stack+=`\n${indent}in ${context.function?.[FILENAME].split(`/`).pop()}`,context=context.p;return{message:error.message+`\n${component_stack}\n`,stack:error.stack?.split(`
`).filter(line=>!line.includes(`svelte/src/internal`)).join(`
`)}}}function apply_adjustments(error){let adjusted=adjustments.get(error);adjusted&&(define_property(error,`message`,{value:adjusted.message}),define_property(error,`stack`,{value:adjusted.stack}))}var batches=new Set;let current_batch=null,previous_batch=null,batch_values=null;var queued_root_effects=[],last_scheduled_effect=null,is_flushing=!1;let is_flushing_sync=!1;var Batch=class Batch{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#n=0;#r=0;#i=null;#a=[];#o=[];skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#r>0}process(root_effects){queued_root_effects=[],previous_batch=null,this.apply();var target={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(let root$11 of root_effects)this.#s(root$11,target);this.is_fork||this.#u(),this.is_deferred()?(this.#c(target.effects),this.#c(target.render_effects),this.#c(target.block_effects)):(previous_batch=this,current_batch=null,flush_queued_effects(target.render_effects),flush_queued_effects(target.effects),previous_batch=null,this.#i?.resolve()),batch_values=null}#s(root$11,target){root$11.f^=CLEAN;for(var effect$1=root$11.first;effect$1!==null;){var flags$1=effect$1.f,is_branch=(flags$1&96)!=0,skip=is_branch&&(flags$1&1024)!=0||(flags$1&8192)!=0||this.skipped_effects.has(effect$1);if(effect$1.f&128&&effect$1.b?.is_pending()&&(target={parent:target,effect:effect$1,effects:[],render_effects:[],block_effects:[]}),!skip&&effect$1.fn!==null){is_branch?effect$1.f^=CLEAN:flags$1&4?target.effects.push(effect$1):is_dirty(effect$1)&&(effect$1.f&16&&target.block_effects.push(effect$1),update_effect(effect$1));var child$1=effect$1.first;if(child$1!==null){effect$1=child$1;continue}}var parent=effect$1.parent;for(effect$1=effect$1.next;effect$1===null&&parent!==null;)parent===target.effect&&(this.#c(target.effects),this.#c(target.render_effects),this.#c(target.block_effects),target=target.parent),effect$1=parent.next,parent=parent.parent}}#c(effects){for(let e of effects)(e.f&2048?this.#a:this.#o).push(e),this.#l(e.deps),set_signal_status(e,CLEAN)}#l(deps){if(deps!==null)for(let dep of deps)!(dep.f&2)||!(dep.f&32768)||(dep.f^=WAS_MARKED,this.#l(dep.deps))}capture(source$1,value){this.previous.has(source$1)||this.previous.set(source$1,value),source$1.f&8388608||(this.current.set(source$1,source$1.v),batch_values?.set(source$1,source$1.v))}activate(){current_batch=this,this.apply()}deactivate(){current_batch===this&&(current_batch=null,batch_values=null)}flush(){if(this.activate(),queued_root_effects.length>0){if(flush_effects(),current_batch!==null&&current_batch!==this)return}else this.#n===0&&this.process([]);this.deactivate()}discard(){for(let fn of this.#t)fn(this);this.#t.clear()}#u(){if(this.#r===0){for(let fn of this.#e)fn();this.#e.clear()}this.#n===0&&this.#d()}#d(){if(batches.size>1){this.previous.clear();var previous_batch_values=batch_values,is_earlier=!0,dummy_target={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(let batch of batches){if(batch===this){is_earlier=!1;continue}let sources=[];for(let[source$1,value]of this.current){if(batch.current.has(source$1))if(is_earlier&&value!==batch.current.get(source$1))batch.current.set(source$1,value);else continue;sources.push(source$1)}if(sources.length===0)continue;let others=[...batch.current.keys()].filter(s=>!this.current.has(s));if(others.length>0){var prev_queued_root_effects=queued_root_effects;queued_root_effects=[];let marked=new Set,checked=new Map;for(let source$1 of sources)mark_effects(source$1,others,marked,checked);if(queued_root_effects.length>0){current_batch=batch,batch.apply();for(let root$11 of queued_root_effects)batch.#s(root$11,dummy_target);batch.deactivate()}queued_root_effects=prev_queued_root_effects}}current_batch=null,batch_values=previous_batch_values}this.committed=!0,batches.delete(this)}increment(blocking){this.#n+=1,blocking&&(this.#r+=1)}decrement(blocking){--this.#n,blocking&&--this.#r,this.revive()}revive(){for(let e of this.#a)set_signal_status(e,DIRTY),schedule_effect(e);for(let e of this.#o)set_signal_status(e,MAYBE_DIRTY),schedule_effect(e);this.#a=[],this.#o=[],this.flush()}oncommit(fn){this.#e.add(fn)}ondiscard(fn){this.#t.add(fn)}settled(){return(this.#i??=deferred()).promise}static ensure(){if(current_batch===null){let batch=current_batch=new Batch;batches.add(current_batch),is_flushing_sync||Batch.enqueue(()=>{current_batch===batch&&batch.flush()})}return current_batch}static enqueue(task){queue_micro_task(task)}apply(){}};function flushSync(fn){var was_flushing_sync=is_flushing_sync;is_flushing_sync=!0;try{var result;for(fn&&(current_batch!==null&&flush_effects(),result=fn());;){if(flush_tasks(),queued_root_effects.length===0&&(current_batch?.flush(),queued_root_effects.length===0))return last_scheduled_effect=null,result;flush_effects()}}finally{is_flushing_sync=was_flushing_sync}}function flush_effects(){var was_updating_effect=is_updating_effect;is_flushing=!0;var source_stacks=null;try{var flush_count=0;for(set_is_updating_effect(!0);queued_root_effects.length>0;){var batch=Batch.ensure();if(flush_count++>1e3){if(0)var updates,entry;infinite_loop_guard()}batch.process(queued_root_effects),old_values.clear()}}finally{is_flushing=!1,set_is_updating_effect(was_updating_effect),last_scheduled_effect=null}}function infinite_loop_guard(){try{effect_update_depth_exceeded()}catch(error){invoke_error_boundary(error,last_scheduled_effect)}}let eager_block_effects=null;function flush_queued_effects(effects){var length=effects.length;if(length!==0){for(var i=0;i<length;){var effect$1=effects[i++];if(!(effect$1.f&24576)&&is_dirty(effect$1)&&(eager_block_effects=new Set,update_effect(effect$1),effect$1.deps===null&&effect$1.first===null&&effect$1.nodes===null&&(effect$1.teardown===null&&effect$1.ac===null?unlink_effect(effect$1):effect$1.fn=null),eager_block_effects?.size>0)){old_values.clear();for(let e of eager_block_effects){if(e.f&24576)continue;let ordered_effects=[e],ancestor=e.parent;for(;ancestor!==null;)eager_block_effects.has(ancestor)&&(eager_block_effects.delete(ancestor),ordered_effects.push(ancestor)),ancestor=ancestor.parent;for(let j=ordered_effects.length-1;j>=0;j--){let e$1=ordered_effects[j];e$1.f&24576||update_effect(e$1)}}eager_block_effects.clear()}}eager_block_effects=null}}function mark_effects(value,sources,marked,checked){if(!marked.has(value)&&(marked.add(value),value.reactions!==null))for(let reaction of value.reactions){let flags$1=reaction.f;flags$1&2?mark_effects(reaction,sources,marked,checked):flags$1&4194320&&!(flags$1&2048)&&depends_on(reaction,sources,checked)&&(set_signal_status(reaction,DIRTY),schedule_effect(reaction))}}function depends_on(reaction,sources,checked){let depends=checked.get(reaction);if(depends!==void 0)return depends;if(reaction.deps!==null)for(let dep of reaction.deps){if(sources.includes(dep))return!0;if(dep.f&2&&depends_on(dep,sources,checked))return checked.set(dep,!0),!0}return checked.set(reaction,!1),!1}function schedule_effect(signal){for(var effect$1=last_scheduled_effect=signal;effect$1.parent!==null;){effect$1=effect$1.parent;var flags$1=effect$1.f;if(is_flushing&&effect$1===active_effect&&flags$1&16&&!(flags$1&262144))return;if(flags$1&96){if(!(flags$1&1024))return;effect$1.f^=CLEAN}}queued_root_effects.push(effect$1)}function createSubscriber(start){let subscribers=0,version=source(0),stop;return()=>{effect_tracking()&&(get(version),render_effect(()=>(subscribers===0&&(stop=untrack(()=>start(()=>increment(version)))),subscribers+=1,()=>{queue_micro_task(()=>{--subscribers,subscribers===0&&(stop?.(),stop=void 0,increment(version))})})))}}var flags=EFFECT_PRESERVED|65664;function boundary(node,props,children){new Boundary(node,props,children)}var Boundary=class{parent;#e=!1;#t;#n=hydrating?hydrate_node:null;#r;#i;#a;#o=null;#s=null;#c=null;#l=null;#u=null;#d=0;#f=0;#p=!1;#m=null;#h=createSubscriber(()=>(this.#m=source(this.#d),()=>{this.#m=null}));constructor(node,props,children){this.#t=node,this.#r=props,this.#i=children,this.parent=active_effect.b,this.#e=!!this.#r.pending,this.#a=block(()=>{if(active_effect.b=this,hydrating){let comment$1=this.#n;hydrate_next(),comment$1.nodeType===8&&comment$1.data===`[!`?this.#_():this.#g()}else{var anchor=this.#v();try{this.#o=branch(()=>children(anchor))}catch(error){this.error(error)}this.#f>0?this.#b():this.#e=!1}return()=>{this.#u?.remove()}},flags),hydrating&&(this.#t=hydrate_node)}#g(){try{this.#o=branch(()=>this.#i(this.#t))}catch(error){this.error(error)}this.#e=!1}#_(){let pending=this.#r.pending;pending&&(this.#s=branch(()=>pending(this.#t)),Batch.enqueue(()=>{var anchor=this.#v();this.#o=this.#y(()=>(Batch.ensure(),branch(()=>this.#i(anchor)))),this.#f>0?this.#b():(pause_effect(this.#s,()=>{this.#s=null}),this.#e=!1)}))}#v(){var anchor=this.#t;return this.#e&&(this.#u=create_text(),this.#t.before(this.#u),anchor=this.#u),anchor}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#r.pending}#y(fn){var previous_effect=active_effect,previous_reaction=active_reaction,previous_ctx=component_context;set_active_effect(this.#a),set_active_reaction(this.#a),set_component_context(this.#a.ctx);try{return fn()}catch(e){return handle_error(e),null}finally{set_active_effect(previous_effect),set_active_reaction(previous_reaction),set_component_context(previous_ctx)}}#b(){let pending=this.#r.pending;this.#o!==null&&(this.#l=document.createDocumentFragment(),this.#l.append(this.#u),move_effect(this.#o,this.#l)),this.#s===null&&(this.#s=branch(()=>pending(this.#t)))}#x(d){if(!this.has_pending_snippet()){this.parent&&this.parent.#x(d);return}this.#f+=d,this.#f===0&&(this.#e=!1,this.#s&&pause_effect(this.#s,()=>{this.#s=null}),this.#l&&=(this.#t.before(this.#l),null))}update_pending_count(d){this.#x(d),this.#d+=d,this.#m&&internal_set(this.#m,this.#d)}get_effect_pending(){return this.#h(),get(this.#m)}error(error){var onerror=this.#r.onerror;let failed=this.#r.failed;if(this.#p||!onerror&&!failed)throw error;this.#o&&=(destroy_effect(this.#o),null),this.#s&&=(destroy_effect(this.#s),null),this.#c&&=(destroy_effect(this.#c),null),hydrating&&(set_hydrate_node(this.#n),next(),set_hydrate_node(skip_nodes()));var did_reset=!1,calling_on_error=!1;let reset$1=()=>{if(did_reset){svelte_boundary_reset_noop();return}did_reset=!0,calling_on_error&&svelte_boundary_reset_onerror(),Batch.ensure(),this.#d=0,this.#c!==null&&pause_effect(this.#c,()=>{this.#c=null}),this.#e=this.has_pending_snippet(),this.#o=this.#y(()=>(this.#p=!1,branch(()=>this.#i(this.#t)))),this.#f>0?this.#b():this.#e=!1};var previous_reaction=active_reaction;try{set_active_reaction(null),calling_on_error=!0,onerror?.(error,reset$1),calling_on_error=!1}catch(error$1){invoke_error_boundary(error$1,this.#a&&this.#a.parent)}finally{set_active_reaction(previous_reaction)}failed&&queue_micro_task(()=>{this.#c=this.#y(()=>{Batch.ensure(),this.#p=!0;try{return branch(()=>{failed(this.#t,()=>error,()=>reset$1)})}catch(error$1){return invoke_error_boundary(error$1,this.#a.parent),null}finally{this.#p=!1}})})}};function flatten(blockers,sync,async,fn){let d=is_runes()?derived:derived_safe_equal;if(async.length===0&&blockers.length===0){fn(sync.map(d));return}var batch=current_batch,parent=active_effect,restore=capture();function run$1(){Promise.all(async.map(expression=>async_derived(expression))).then(result=>{restore();try{fn([...sync.map(d),...result])}catch(error){parent.f&16384||invoke_error_boundary(error,parent)}batch?.deactivate(),unset_context()}).catch(error=>{invoke_error_boundary(error,parent)})}blockers.length>0?Promise.all(blockers).then(()=>{restore();try{return run$1()}finally{batch?.deactivate(),unset_context()}}):run$1()}function capture(){var previous_effect=active_effect,previous_reaction=active_reaction,previous_component_context=component_context,previous_batch$1=current_batch;if(0)var previous_dev_stack;return function(activate_batch=!0){set_active_effect(previous_effect),set_active_reaction(previous_reaction),set_component_context(previous_component_context),activate_batch&&previous_batch$1?.activate()}}function unset_context(){set_active_effect(null),set_active_reaction(null),set_component_context(null)}let current_async_effect=null;function set_from_async_derived(v){}const recent_async_deriveds=new Set;function derived(fn){var flags$1=2|DIRTY,parent_derived=active_reaction!==null&&active_reaction.f&2?active_reaction:null;return active_effect!==null&&(active_effect.f|=EFFECT_PRESERVED),{ctx:component_context,deps:null,effects:null,equals,f:flags$1,fn,reactions:null,rv:0,v:UNINITIALIZED,wv:0,parent:parent_derived??active_effect,ac:null}}function async_derived(fn,location$1){let parent=active_effect;parent===null&&async_derived_orphan();var boundary$1=parent.b,promise=void 0,signal=source(UNINITIALIZED),should_suspend=!active_reaction,deferreds=new Map;return async_effect(()=>{var d=deferred();promise=d.promise;try{Promise.resolve(fn()).then(d.resolve,d.reject).then(()=>{batch===current_batch&&batch.committed&&batch.deactivate(),unset_context()})}catch(error){d.reject(error),unset_context()}var batch=current_batch;if(should_suspend){var blocking=!boundary$1.is_pending();boundary$1.update_pending_count(1),batch.increment(blocking),deferreds.get(batch)?.reject(STALE_REACTION),deferreds.delete(batch),deferreds.set(batch,d)}let handler=(value,error=void 0)=>{if(batch.activate(),error)error!==STALE_REACTION&&(signal.f|=ERROR_VALUE,internal_set(signal,error));else{signal.f&8388608&&(signal.f^=ERROR_VALUE),internal_set(signal,value);for(let[b,d$1]of deferreds){if(deferreds.delete(b),b===batch)break;d$1.reject(STALE_REACTION)}}should_suspend&&(boundary$1.update_pending_count(-1),batch.decrement(blocking))};d.promise.then(handler,e=>handler(null,e||`unknown`))}),teardown(()=>{for(let d of deferreds.values())d.reject(STALE_REACTION)}),new Promise(fulfil=>{function next$1(p){function go(){p===promise?fulfil(signal):next$1(promise)}p.then(go,go)}next$1(promise)})}function user_derived(fn){let d=derived(fn);return push_reaction_value(d),d}function derived_safe_equal(fn){let signal=derived(fn);return signal.equals=safe_equals,signal}function destroy_derived_effects(derived$1){var effects=derived$1.effects;if(effects!==null){derived$1.effects=null;for(var i=0;i<effects.length;i+=1)destroy_effect(effects[i])}}var stack=[];function get_derived_parent_effect(derived$1){for(var parent=derived$1.parent;parent!==null;){if(!(parent.f&2))return parent.f&16384?null:parent;parent=parent.parent}return null}function execute_derived(derived$1){var value,prev_active_effect=active_effect;set_active_effect(get_derived_parent_effect(derived$1));try{derived$1.f&=~WAS_MARKED,destroy_derived_effects(derived$1),value=update_reaction(derived$1)}finally{set_active_effect(prev_active_effect)}return value}function update_derived(derived$1){var value=execute_derived(derived$1);derived$1.equals(value)||(current_batch?.is_fork||(derived$1.v=value),derived$1.wv=increment_write_version()),!is_destroying_effect&&(batch_values===null?set_signal_status(derived$1,derived$1.f&512?CLEAN:MAYBE_DIRTY):(effect_tracking()||current_batch?.is_fork)&&batch_values.set(derived$1,value))}let eager_effects=new Set;const old_values=new Map;function set_eager_effects(v){eager_effects=v}var eager_effects_deferred=!1;function set_eager_effects_deferred(){eager_effects_deferred=!0}function source(v,stack$1){return{f:0,v,reactions:null,equals,rv:0,wv:0}}function state(v,stack$1){let s=source(v,stack$1);return push_reaction_value(s),s}function mutable_source(initial_value,immutable=!1,trackable=!0){let s=source(initial_value);return immutable||(s.equals=safe_equals),legacy_mode_flag&&trackable&&component_context!==null&&component_context.l!==null&&(component_context.l.s??=[]).push(s),s}function set(source$1,value,should_proxy=!1){return active_reaction!==null&&(!untracking||active_reaction.f&131072)&&is_runes()&&active_reaction.f&4325394&&!current_sources?.includes(source$1)&&state_unsafe_mutation(),internal_set(source$1,should_proxy?proxy(value):value)}function internal_set(source$1,value){if(!source$1.equals(value)){var old_value=source$1.v;is_destroying_effect?old_values.set(source$1,value):old_values.set(source$1,old_value),source$1.v=value;var batch=Batch.ensure();batch.capture(source$1,old_value),source$1.f&2&&(source$1.f&2048&&execute_derived(source$1),set_signal_status(source$1,source$1.f&512?CLEAN:MAYBE_DIRTY)),source$1.wv=increment_write_version(),mark_reactions(source$1,DIRTY),is_runes()&&active_effect!==null&&active_effect.f&1024&&!(active_effect.f&96)&&(untracked_writes===null?set_untracked_writes([source$1]):untracked_writes.push(source$1)),!batch.is_fork&&eager_effects.size>0&&!eager_effects_deferred&&flush_eager_effects()}return value}function flush_eager_effects(){eager_effects_deferred=!1;var prev_is_updating_effect=is_updating_effect;set_is_updating_effect(!0);let inspects=Array.from(eager_effects);try{for(let effect$1 of inspects)effect$1.f&1024&&set_signal_status(effect$1,MAYBE_DIRTY),is_dirty(effect$1)&&update_effect(effect$1)}finally{set_is_updating_effect(prev_is_updating_effect)}eager_effects.clear()}function increment(source$1){set(source$1,source$1.v+1)}function mark_reactions(signal,status){var reactions=signal.reactions;if(reactions!==null)for(var runes=is_runes(),length=reactions.length,i=0;i<length;i++){var reaction=reactions[i],flags$1=reaction.f;if(!(!runes&&reaction===active_effect)){var not_dirty=(flags$1&DIRTY)===0;if(not_dirty&&set_signal_status(reaction,status),flags$1&2){var derived$1=reaction;batch_values?.delete(derived$1),flags$1&32768||(flags$1&512&&(reaction.f|=WAS_MARKED),mark_reactions(derived$1,MAYBE_DIRTY))}else not_dirty&&(flags$1&16&&eager_block_effects!==null&&eager_block_effects.add(reaction),schedule_effect(reaction))}}}var regex_is_valid_identifier=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function proxy(value){if(typeof value!=`object`||!value||STATE_SYMBOL in value)return value;let prototype=get_prototype_of(value);if(prototype!==object_prototype&&prototype!==array_prototype)return value;var sources=new Map,is_proxied_array=is_array(value),version=state(0),stack$1=null,parent_version=update_version,with_parent=fn=>{if(update_version===parent_version)return fn();var reaction=active_reaction,version$1=update_version;set_active_reaction(null),set_update_version(parent_version);var result=fn();return set_active_reaction(reaction),set_update_version(version$1),result};is_proxied_array&&sources.set(`length`,state(value.length,stack$1));var path=``;let updating=!1;return new Proxy(value,{defineProperty(_,prop$1,descriptor){(!(`value`in descriptor)||descriptor.configurable===!1||descriptor.enumerable===!1||descriptor.writable===!1)&&state_descriptors_fixed();var s=sources.get(prop$1);return s===void 0?s=with_parent(()=>{var s$1=state(descriptor.value,stack$1);return sources.set(prop$1,s$1),s$1}):set(s,descriptor.value,!0),!0},deleteProperty(target,prop$1){var s=sources.get(prop$1);if(s===void 0){if(prop$1 in target){let s$1=with_parent(()=>state(UNINITIALIZED,stack$1));sources.set(prop$1,s$1),increment(version)}}else set(s,UNINITIALIZED),increment(version);return!0},get(target,prop$1,receiver){if(prop$1===STATE_SYMBOL)return value;var s=sources.get(prop$1),exists=prop$1 in target;if(s===void 0&&(!exists||get_descriptor(target,prop$1)?.writable)&&(s=with_parent(()=>state(proxy(exists?target[prop$1]:UNINITIALIZED),stack$1)),sources.set(prop$1,s)),s!==void 0){var v=get(s);return v===UNINITIALIZED?void 0:v}return Reflect.get(target,prop$1,receiver)},getOwnPropertyDescriptor(target,prop$1){var descriptor=Reflect.getOwnPropertyDescriptor(target,prop$1);if(descriptor&&`value`in descriptor){var s=sources.get(prop$1);s&&(descriptor.value=get(s))}else if(descriptor===void 0){var source$1=sources.get(prop$1),value$1=source$1?.v;if(source$1!==void 0&&value$1!==UNINITIALIZED)return{enumerable:!0,configurable:!0,value:value$1,writable:!0}}return descriptor},has(target,prop$1){if(prop$1===STATE_SYMBOL)return!0;var s=sources.get(prop$1),has=s!==void 0&&s.v!==UNINITIALIZED||Reflect.has(target,prop$1);return(s!==void 0||active_effect!==null&&(!has||get_descriptor(target,prop$1)?.writable))&&(s===void 0&&(s=with_parent(()=>state(has?proxy(target[prop$1]):UNINITIALIZED,stack$1)),sources.set(prop$1,s)),get(s)===UNINITIALIZED)?!1:has},set(target,prop$1,value$1,receiver){var s=sources.get(prop$1),has=prop$1 in target;if(is_proxied_array&&prop$1===`length`)for(var i=value$1;i<s.v;i+=1){var other_s=sources.get(i+``);other_s===void 0?i in target&&(other_s=with_parent(()=>state(UNINITIALIZED,stack$1)),sources.set(i+``,other_s)):set(other_s,UNINITIALIZED)}if(s===void 0)(!has||get_descriptor(target,prop$1)?.writable)&&(s=with_parent(()=>state(void 0,stack$1)),set(s,proxy(value$1)),sources.set(prop$1,s));else{has=s.v!==UNINITIALIZED;var p=with_parent(()=>proxy(value$1));set(s,p)}var descriptor=Reflect.getOwnPropertyDescriptor(target,prop$1);if(descriptor?.set&&descriptor.set.call(receiver,value$1),!has){if(is_proxied_array&&typeof prop$1==`string`){var ls=sources.get(`length`),n=Number(prop$1);Number.isInteger(n)&&n>=ls.v&&set(ls,n+1)}increment(version)}return!0},ownKeys(target){get(version);var own_keys=Reflect.ownKeys(target).filter(key$1=>{var source$2=sources.get(key$1);return source$2===void 0||source$2.v!==UNINITIALIZED});for(var[key,source$1]of sources)source$1.v!==UNINITIALIZED&&!(key in target)&&own_keys.push(key);return own_keys},setPrototypeOf(){state_prototype_fixed()}})}function get_label(path,prop$1){return typeof prop$1==`symbol`?`${path}[Symbol(${prop$1.description??``})]`:regex_is_valid_identifier.test(prop$1)?`${path}.${prop$1}`:/^\d+$/.test(prop$1)?`${path}[${prop$1}]`:`${path}['${prop$1}']`}function get_proxied_value(value){try{if(typeof value==`object`&&value&&STATE_SYMBOL in value)return value[STATE_SYMBOL]}catch{}return value}var ARRAY_MUTATING_METHODS=new Set([`copyWithin`,`fill`,`pop`,`push`,`reverse`,`shift`,`sort`,`splice`,`unshift`]);function inspectable_array(array){return new Proxy(array,{get(target,prop$1,receiver){var value=Reflect.get(target,prop$1,receiver);return ARRAY_MUTATING_METHODS.has(prop$1)?function(...args){set_eager_effects_deferred();var result=value.apply(this,args);return flush_eager_effects(),result}:value}})}function init_array_prototype_warnings(){let array_prototype$1=Array.prototype,cleanup=Array.__svelte_cleanup;cleanup&&cleanup();let{indexOf,lastIndexOf,includes}=array_prototype$1;array_prototype$1.indexOf=function(item,from_index){let index$1=indexOf.call(this,item,from_index);if(index$1===-1){for(let i=from_index??0;i<this.length;i+=1)if(get_proxied_value(this[i])===item){state_proxy_equality_mismatch(`array.indexOf(...)`);break}}return index$1},array_prototype$1.lastIndexOf=function(item,from_index){let index$1=lastIndexOf.call(this,item,from_index??this.length-1);if(index$1===-1){for(let i=0;i<=(from_index??this.length-1);i+=1)if(get_proxied_value(this[i])===item){state_proxy_equality_mismatch(`array.lastIndexOf(...)`);break}}return index$1},array_prototype$1.includes=function(item,from_index){let has=includes.call(this,item,from_index);if(!has){for(let i=0;i<this.length;i+=1)if(get_proxied_value(this[i])===item){state_proxy_equality_mismatch(`array.includes(...)`);break}}return has},Array.__svelte_cleanup=()=>{array_prototype$1.indexOf=indexOf,array_prototype$1.lastIndexOf=lastIndexOf,array_prototype$1.includes=includes}}var $window,$document,is_firefox,first_child_getter,next_sibling_getter;function init_operations(){if($window===void 0){$window=window,$document=document,is_firefox=/Firefox/.test(navigator.userAgent);var element_prototype=Element.prototype,node_prototype=Node.prototype,text_prototype=Text.prototype;first_child_getter=get_descriptor(node_prototype,`firstChild`).get,next_sibling_getter=get_descriptor(node_prototype,`nextSibling`).get,is_extensible(element_prototype)&&(element_prototype.__click=void 0,element_prototype.__className=void 0,element_prototype.__attributes=null,element_prototype.__style=void 0,element_prototype.__e=void 0),is_extensible(text_prototype)&&(text_prototype.__t=void 0)}}function create_text(value=``){return document.createTextNode(value)}function get_first_child(node){return first_child_getter.call(node)}function get_next_sibling(node){return next_sibling_getter.call(node)}function child(node,is_text){if(!hydrating)return get_first_child(node);var child$1=get_first_child(hydrate_node);if(child$1===null)child$1=hydrate_node.appendChild(create_text());else if(is_text&&child$1.nodeType!==3){var text$1=create_text();return child$1?.before(text$1),set_hydrate_node(text$1),text$1}return set_hydrate_node(child$1),child$1}function first_child(node,is_text=!1){if(!hydrating){var first=get_first_child(node);return first instanceof Comment&&first.data===``?get_next_sibling(first):first}if(is_text&&hydrate_node?.nodeType!==3){var text$1=create_text();return hydrate_node?.before(text$1),set_hydrate_node(text$1),text$1}return hydrate_node}function sibling(node,count=1,is_text=!1){let next_sibling=hydrating?hydrate_node:node;for(var last_sibling;count--;)last_sibling=next_sibling,next_sibling=get_next_sibling(next_sibling);if(!hydrating)return next_sibling;if(is_text&&next_sibling?.nodeType!==3){var text$1=create_text();return next_sibling===null?last_sibling?.after(text$1):next_sibling.before(text$1),set_hydrate_node(text$1),text$1}return set_hydrate_node(next_sibling),next_sibling}function clear_text_content(node){node.textContent=``}function should_defer_append(){return!1}function remove_textarea_child(dom){hydrating&&get_first_child(dom)!==null&&clear_text_content(dom)}var listening_to_form_reset=!1;function add_form_reset_listener(){listening_to_form_reset||(listening_to_form_reset=!0,document.addEventListener(`reset`,evt=>{Promise.resolve().then(()=>{if(!evt.defaultPrevented)for(let e of evt.target.elements)e.__on_r?.()})},{capture:!0}))}function without_reactive_context(fn){var previous_reaction=active_reaction,previous_effect=active_effect;set_active_reaction(null),set_active_effect(null);try{return fn()}finally{set_active_reaction(previous_reaction),set_active_effect(previous_effect)}}function listen_to_event_and_reset_event(element,event$2,handler,on_reset=handler){element.addEventListener(event$2,()=>without_reactive_context(handler));let prev=element.__on_r;prev?element.__on_r=()=>{prev(),on_reset(!0)}:element.__on_r=()=>on_reset(!0),add_form_reset_listener()}function validate_effect(rune){active_effect===null&&(active_reaction===null&&effect_orphan(rune),effect_in_unowned_derived()),is_destroying_effect&&effect_in_teardown(rune)}function push_effect(effect$1,parent_effect){var parent_last=parent_effect.last;parent_last===null?parent_effect.last=parent_effect.first=effect$1:(parent_last.next=effect$1,effect$1.prev=parent_last,parent_effect.last=effect$1)}function create_effect(type,fn,sync){var parent=active_effect;parent!==null&&parent.f&8192&&(type|=INERT);var effect$1={ctx:component_context,deps:null,nodes:null,f:type|2560,first:null,fn,last:null,next:null,parent,b:parent&&parent.b,prev:null,teardown:null,wv:0,ac:null};if(sync)try{update_effect(effect$1),effect$1.f|=32768}catch(e$1){throw destroy_effect(effect$1),e$1}else fn!==null&&schedule_effect(effect$1);var e=effect$1;if(sync&&e.deps===null&&e.teardown===null&&e.nodes===null&&e.first===e.last&&!(e.f&524288)&&(e=e.first,type&16&&type&65536&&e!==null&&(e.f|=EFFECT_TRANSPARENT)),e!==null&&(e.parent=parent,parent!==null&&push_effect(e,parent),active_reaction!==null&&active_reaction.f&2&&!(type&64))){var derived$1=active_reaction;(derived$1.effects??=[]).push(e)}return effect$1}function effect_tracking(){return active_reaction!==null&&!untracking}function teardown(fn){let effect$1=create_effect(8,null,!1);return set_signal_status(effect$1,CLEAN),effect$1.teardown=fn,effect$1}function user_effect(fn){validate_effect(`$effect`);var flags$1=active_effect.f;if(!active_reaction&&flags$1&32&&!(flags$1&32768)){var context=component_context;(context.e??=[]).push(fn)}else return create_user_effect(fn)}function create_user_effect(fn){return create_effect(4|USER_EFFECT,fn,!1)}function user_pre_effect(fn){return validate_effect(`$effect.pre`),create_effect(8|USER_EFFECT,fn,!0)}function effect_root(fn){Batch.ensure();let effect$1=create_effect(64|EFFECT_PRESERVED,fn,!0);return()=>{destroy_effect(effect$1)}}function component_root(fn){Batch.ensure();let effect$1=create_effect(64|EFFECT_PRESERVED,fn,!0);return(options={})=>new Promise(fulfil=>{options.outro?pause_effect(effect$1,()=>{destroy_effect(effect$1),fulfil(void 0)}):(destroy_effect(effect$1),fulfil(void 0))})}function effect(fn){return create_effect(4,fn,!1)}function async_effect(fn){return create_effect(4194304|EFFECT_PRESERVED,fn,!0)}function render_effect(fn,flags$1=0){return create_effect(8|flags$1,fn,!0)}function template_effect(fn,sync=[],async=[],blockers=[]){flatten(blockers,sync,async,values=>{create_effect(8,()=>fn(...values.map(get)),!0)})}function deferred_template_effect(fn,sync=[],async=[],blockers=[]){var batch=current_batch,is_async=async.length>0||blockers.length>0;is_async&&batch.increment(!0),flatten(blockers,sync,async,values=>{create_effect(4,()=>fn(...values.map(get)),!1),is_async&&batch.decrement(!0)})}function block(fn,flags$1=0){return create_effect(16|flags$1,fn,!0)}function branch(fn){return create_effect(32|EFFECT_PRESERVED,fn,!0)}function execute_effect_teardown(effect$1){var teardown$1=effect$1.teardown;if(teardown$1!==null){let previously_destroying_effect=is_destroying_effect,previous_reaction=active_reaction;set_is_destroying_effect(!0),set_active_reaction(null);try{teardown$1.call(null)}finally{set_is_destroying_effect(previously_destroying_effect),set_active_reaction(previous_reaction)}}}function destroy_effect_children(signal,remove_dom=!1){var effect$1=signal.first;for(signal.first=signal.last=null;effect$1!==null;){let controller=effect$1.ac;controller!==null&&without_reactive_context(()=>{controller.abort(STALE_REACTION)});var next$1=effect$1.next;effect$1.f&64?effect$1.parent=null:destroy_effect(effect$1,remove_dom),effect$1=next$1}}function destroy_block_effect_children(signal){for(var effect$1=signal.first;effect$1!==null;){var next$1=effect$1.next;effect$1.f&32||destroy_effect(effect$1),effect$1=next$1}}function destroy_effect(effect$1,remove_dom=!0){var removed=!1;(remove_dom||effect$1.f&262144)&&effect$1.nodes!==null&&effect$1.nodes.end!==null&&(remove_effect_dom(effect$1.nodes.start,effect$1.nodes.end),removed=!0),destroy_effect_children(effect$1,remove_dom&&!removed),remove_reactions(effect$1,0),set_signal_status(effect$1,16384);var transitions=effect$1.nodes&&effect$1.nodes.t;if(transitions!==null)for(let transition of transitions)transition.stop();execute_effect_teardown(effect$1);var parent=effect$1.parent;parent!==null&&parent.first!==null&&unlink_effect(effect$1),effect$1.next=effect$1.prev=effect$1.teardown=effect$1.ctx=effect$1.deps=effect$1.fn=effect$1.nodes=effect$1.ac=null}function remove_effect_dom(node,end){for(;node!==null;){var next$1=node===end?null:get_next_sibling(node);node.remove(),node=next$1}}function unlink_effect(effect$1){var parent=effect$1.parent,prev=effect$1.prev,next$1=effect$1.next;prev!==null&&(prev.next=next$1),next$1!==null&&(next$1.prev=prev),parent!==null&&(parent.first===effect$1&&(parent.first=next$1),parent.last===effect$1&&(parent.last=prev))}function pause_effect(effect$1,callback,destroy=!0){var transitions=[];pause_children(effect$1,transitions,!0);var fn=()=>{destroy&&destroy_effect(effect$1),callback&&callback()},remaining=transitions.length;if(remaining>0){var check=()=>--remaining||fn();for(var transition of transitions)transition.out(check)}else fn()}function pause_children(effect$1,transitions,local){if(!(effect$1.f&8192)){effect$1.f^=INERT;var t=effect$1.nodes&&effect$1.nodes.t;if(t!==null)for(let transition of t)(transition.is_global||local)&&transitions.push(transition);for(var child$1=effect$1.first;child$1!==null;){var sibling$1=child$1.next,transparent=(child$1.f&65536)!=0||(child$1.f&32)!=0&&(effect$1.f&16)!=0;pause_children(child$1,transitions,transparent?local:!1),child$1=sibling$1}}}function resume_effect(effect$1){resume_children(effect$1,!0)}function resume_children(effect$1,local){if(effect$1.f&8192){effect$1.f^=INERT,effect$1.f&1024||(set_signal_status(effect$1,DIRTY),schedule_effect(effect$1));for(var child$1=effect$1.first;child$1!==null;){var sibling$1=child$1.next,transparent=(child$1.f&65536)!=0||(child$1.f&32)!=0;resume_children(child$1,transparent?local:!1),child$1=sibling$1}var t=effect$1.nodes&&effect$1.nodes.t;if(t!==null)for(let transition of t)(transition.is_global||local)&&transition.in()}}function move_effect(effect$1,fragment){if(effect$1.nodes)for(var node=effect$1.nodes.start,end=effect$1.nodes.end;node!==null;){var next$1=node===end?null:get_next_sibling(node);fragment.append(node),node=next$1}}let captured_signals=null,is_updating_effect=!1;function set_is_updating_effect(value){is_updating_effect=value}let is_destroying_effect=!1;function set_is_destroying_effect(value){is_destroying_effect=value}let active_reaction=null,untracking=!1;function set_active_reaction(reaction){active_reaction=reaction}let active_effect=null;function set_active_effect(effect$1){active_effect=effect$1}let current_sources=null;function push_reaction_value(value){active_reaction!==null&&(current_sources===null?current_sources=[value]:current_sources.push(value))}var new_deps=null,skipped_deps=0;let untracked_writes=null;function set_untracked_writes(value){untracked_writes=value}let write_version=1;var read_version=0;let update_version=read_version;function set_update_version(value){update_version=value}function increment_write_version(){return++write_version}function is_dirty(reaction){var flags$1=reaction.f;if(flags$1&2048)return!0;if(flags$1&2&&(reaction.f&=~WAS_MARKED),flags$1&4096){var dependencies=reaction.deps;if(dependencies!==null)for(var length=dependencies.length,i=0;i<length;i++){var dependency=dependencies[i];if(is_dirty(dependency)&&update_derived(dependency),dependency.wv>reaction.wv)return!0}flags$1&512&&batch_values===null&&set_signal_status(reaction,CLEAN)}return!1}function schedule_possible_effect_self_invalidation(signal,effect$1,root$11=!0){var reactions=signal.reactions;if(reactions!==null&&!current_sources?.includes(signal))for(var i=0;i<reactions.length;i++){var reaction=reactions[i];reaction.f&2?schedule_possible_effect_self_invalidation(reaction,effect$1,!1):effect$1===reaction&&(root$11?set_signal_status(reaction,DIRTY):reaction.f&1024&&set_signal_status(reaction,MAYBE_DIRTY),schedule_effect(reaction))}}function update_reaction(reaction){var previous_deps=new_deps,previous_skipped_deps=skipped_deps,previous_untracked_writes=untracked_writes,previous_reaction=active_reaction,previous_sources=current_sources,previous_component_context=component_context,previous_untracking=untracking,previous_update_version=update_version,flags$1=reaction.f;new_deps=null,skipped_deps=0,untracked_writes=null,active_reaction=flags$1&96?null:reaction,current_sources=null,set_component_context(reaction.ctx),untracking=!1,update_version=++read_version,reaction.ac!==null&&(without_reactive_context(()=>{reaction.ac.abort(STALE_REACTION)}),reaction.ac=null);try{reaction.f|=REACTION_IS_UPDATING;var fn=reaction.fn,result=fn(),deps=reaction.deps;if(new_deps!==null){var i;if(remove_reactions(reaction,skipped_deps),deps!==null&&skipped_deps>0)for(deps.length=skipped_deps+new_deps.length,i=0;i<new_deps.length;i++)deps[skipped_deps+i]=new_deps[i];else reaction.deps=deps=new_deps;if(effect_tracking()&&reaction.f&512)for(i=skipped_deps;i<deps.length;i++)(deps[i].reactions??=[]).push(reaction)}else deps!==null&&skipped_deps<deps.length&&(remove_reactions(reaction,skipped_deps),deps.length=skipped_deps);if(is_runes()&&untracked_writes!==null&&!untracking&&deps!==null&&!(reaction.f&6146))for(i=0;i<untracked_writes.length;i++)schedule_possible_effect_self_invalidation(untracked_writes[i],reaction);return previous_reaction!==null&&previous_reaction!==reaction&&(read_version++,untracked_writes!==null&&(previous_untracked_writes===null?previous_untracked_writes=untracked_writes:previous_untracked_writes.push(...untracked_writes))),reaction.f&8388608&&(reaction.f^=ERROR_VALUE),result}catch(error){return handle_error(error)}finally{reaction.f^=REACTION_IS_UPDATING,new_deps=previous_deps,skipped_deps=previous_skipped_deps,untracked_writes=previous_untracked_writes,active_reaction=previous_reaction,current_sources=previous_sources,set_component_context(previous_component_context),untracking=previous_untracking,update_version=previous_update_version}}function remove_reaction(signal,dependency){let reactions=dependency.reactions;if(reactions!==null){var index$1=index_of.call(reactions,signal);if(index$1!==-1){var new_length=reactions.length-1;new_length===0?reactions=dependency.reactions=null:(reactions[index$1]=reactions[new_length],reactions.pop())}}reactions===null&&dependency.f&2&&(new_deps===null||!new_deps.includes(dependency))&&(set_signal_status(dependency,MAYBE_DIRTY),dependency.f&512&&(dependency.f^=512,dependency.f&=~WAS_MARKED),destroy_derived_effects(dependency),remove_reactions(dependency,0))}function remove_reactions(signal,start_index){var dependencies=signal.deps;if(dependencies!==null)for(var i=start_index;i<dependencies.length;i++)remove_reaction(signal,dependencies[i])}function update_effect(effect$1){var flags$1=effect$1.f;if(!(flags$1&16384)){set_signal_status(effect$1,CLEAN);var previous_effect=active_effect,was_updating_effect=is_updating_effect;if(active_effect=effect$1,is_updating_effect=!0,0)var previous_component_fn,previous_stack;try{flags$1&16777232?destroy_block_effect_children(effect$1):destroy_effect_children(effect$1),execute_effect_teardown(effect$1);var teardown$1=update_reaction(effect$1);if(effect$1.teardown=typeof teardown$1==`function`?teardown$1:null,effect$1.wv=write_version,0)var dep}finally{is_updating_effect=was_updating_effect,active_effect=previous_effect}}}async function tick(){await Promise.resolve(),flushSync()}function get(signal){var is_derived=(signal.f&2)!=0;if(null?.add(signal),active_reaction!==null&&!untracking&&!(active_effect!==null&&active_effect.f&16384)&&!current_sources?.includes(signal)){var deps=active_reaction.deps;if(active_reaction.f&2097152)signal.rv<read_version&&(signal.rv=read_version,new_deps===null&&deps!==null&&deps[skipped_deps]===signal?skipped_deps++:new_deps===null?new_deps=[signal]:new_deps.includes(signal)||new_deps.push(signal));else{(active_reaction.deps??=[]).push(signal);var reactions=signal.reactions;reactions===null?signal.reactions=[active_reaction]:reactions.includes(active_reaction)||reactions.push(active_reaction)}}if(0)var trace,entry,last;if(is_destroying_effect){if(old_values.has(signal))return old_values.get(signal);if(is_derived){var derived$1=signal,value=derived$1.v;return(!(derived$1.f&1024)&&derived$1.reactions!==null||depends_on_old_values(derived$1))&&(value=execute_derived(derived$1)),old_values.set(derived$1,value),value}}else is_derived&&(!batch_values?.has(signal)||current_batch?.is_fork&&!effect_tracking())&&(derived$1=signal,is_dirty(derived$1)&&update_derived(derived$1),is_updating_effect&&effect_tracking()&&!(derived$1.f&512)&&reconnect(derived$1));if(batch_values?.has(signal))return batch_values.get(signal);if(signal.f&8388608)throw signal.v;return signal.v}function reconnect(derived$1){if(derived$1.deps!==null){derived$1.f^=512;for(let dep of derived$1.deps)(dep.reactions??=[]).push(derived$1),dep.f&2&&!(dep.f&512)&&reconnect(dep)}}function depends_on_old_values(derived$1){if(derived$1.v===UNINITIALIZED)return!0;if(derived$1.deps===null)return!1;for(let dep of derived$1.deps)if(old_values.has(dep)||dep.f&2&&depends_on_old_values(dep))return!0;return!1}function untrack(fn){var previous_untracking=untracking;try{return untracking=!0,fn()}finally{untracking=previous_untracking}}var STATUS_MASK=~(MAYBE_DIRTY|3072);function set_signal_status(signal,status){signal.f=signal.f&STATUS_MASK|status}function deep_read_state(value){if(!(typeof value!=`object`||!value||value instanceof EventTarget)){if(STATE_SYMBOL in value)deep_read(value);else if(!Array.isArray(value))for(let key in value){let prop$1=value[key];typeof prop$1==`object`&&prop$1&&STATE_SYMBOL in prop$1&&deep_read(prop$1)}}}function deep_read(value,visited=new Set){if(typeof value==`object`&&value&&!(value instanceof EventTarget)&&!visited.has(value)){for(let key in visited.add(value),value instanceof Date&&value.getTime(),value)try{deep_read(value[key],visited)}catch{}let proto=get_prototype_of(value);if(proto!==Object.prototype&&proto!==Array.prototype&&proto!==Map.prototype&&proto!==Set.prototype&&proto!==Date.prototype){let descriptors=get_descriptors(proto);for(let key in descriptors){let get$1=descriptors[key].get;if(get$1)try{get$1.call(value)}catch{}}}}}var DOM_BOOLEAN_ATTRIBUTES=`allowfullscreen.async.autofocus.autoplay.checked.controls.default.disabled.formnovalidate.indeterminate.inert.ismap.loop.multiple.muted.nomodule.novalidate.open.playsinline.readonly.required.reversed.seamless.selected.webkitdirectory.defer.disablepictureinpicture.disableremoteplayback`.split(`.`),DOM_PROPERTIES=[...DOM_BOOLEAN_ATTRIBUTES,`formNoValidate`,`isMap`,`noModule`,`playsInline`,`readOnly`,`value`,`volume`,`defaultValue`,`defaultChecked`,`srcObject`,`noValidate`,`allowFullscreen`,`disablePictureInPicture`,`disableRemotePlayback`],PASSIVE_EVENTS=[`touchstart`,`touchmove`];function is_passive_event(name){return PASSIVE_EVENTS.includes(name)}var STATE_CREATION_RUNES=[`$state`,`$state.raw`,`$derived`,`$derived.by`],RUNES=[...STATE_CREATION_RUNES,`$state.eager`,`$state.snapshot`,`$props`,`$props.id`,`$bindable`,`$effect`,`$effect.pre`,`$effect.tracking`,`$effect.root`,`$effect.pending`,`$inspect`,`$inspect().with`,`$inspect.trace`,`$host`];const all_registered_events=new Set,root_event_handles=new Set;function delegate(events){for(var i=0;i<events.length;i++)all_registered_events.add(events[i]);for(var fn of root_event_handles)fn(events)}var last_propagated_event=null;function handle_event_propagation(event$2){var handler_element=this,owner_document=handler_element.ownerDocument,event_name=event$2.type,path=event$2.composedPath?.()||[],current_target=path[0]||event$2.target;last_propagated_event=event$2;var path_idx=0,handled_at=last_propagated_event===event$2&&event$2.__root;if(handled_at){var at_idx=path.indexOf(handled_at);if(at_idx!==-1&&(handler_element===document||handler_element===window)){event$2.__root=handler_element;return}var handler_idx=path.indexOf(handler_element);if(handler_idx===-1)return;at_idx<=handler_idx&&(path_idx=at_idx)}if(current_target=path[path_idx]||event$2.target,current_target!==handler_element){define_property(event$2,`currentTarget`,{configurable:!0,get(){return current_target||owner_document}});var previous_reaction=active_reaction,previous_effect=active_effect;set_active_reaction(null),set_active_effect(null);try{for(var throw_error,other_errors=[];current_target!==null;){var parent_element=current_target.assignedSlot||current_target.parentNode||current_target.host||null;try{var delegated=current_target[`__`+event_name];delegated!=null&&(!current_target.disabled||event$2.target===current_target)&&delegated.call(current_target,event$2)}catch(error){throw_error?other_errors.push(error):throw_error=error}if(event$2.cancelBubble||parent_element===handler_element||parent_element===null)break;current_target=parent_element}if(throw_error){for(let error of other_errors)queueMicrotask(()=>{throw error});throw throw_error}}finally{event$2.__root=handler_element,delete event$2.currentTarget,set_active_reaction(previous_reaction),set_active_effect(previous_effect)}}}function create_fragment_from_html(html){var elem=document.createElement(`template`);return elem.innerHTML=html.replaceAll(`<!>`,`<!---->`),elem.content}function assign_nodes(start,end){var effect$1=active_effect;effect$1.nodes===null&&(effect$1.nodes={start,end,a:null,t:null})}function from_html(content,flags$1){var is_fragment=(flags$1&1)!=0,use_import_node=(flags$1&2)!=0,node,has_start=!content.startsWith(`<!>`);return()=>{if(hydrating)return assign_nodes(hydrate_node,null),hydrate_node;node===void 0&&(node=create_fragment_from_html(has_start?content:`<!>`+content),is_fragment||(node=get_first_child(node)));var clone=use_import_node||is_firefox?document.importNode(node,!0):node.cloneNode(!0);if(is_fragment){var start=get_first_child(clone),end=clone.lastChild;assign_nodes(start,end)}else assign_nodes(clone,clone);return clone}}function text(value=``){if(!hydrating){var t=create_text(value+``);return assign_nodes(t,t),t}var node=hydrate_node;return node.nodeType!==3&&(node.before(node=create_text()),set_hydrate_node(node)),assign_nodes(node,node),node}function comment(){if(hydrating)return assign_nodes(hydrate_node,null),hydrate_node;var frag=document.createDocumentFragment(),start=document.createComment(``),anchor=create_text();return frag.append(start,anchor),assign_nodes(start,anchor),frag}function append(anchor,dom){if(hydrating){var effect$1=active_effect;(!(effect$1.f&32768)||effect$1.nodes.end===null)&&(effect$1.nodes.end=hydrate_node),hydrate_next();return}anchor!==null&&anchor.before(dom)}let should_intro=!0;function set_text(text$1,value){var str=value==null?``:typeof value==`object`?value+``:value;str!==(text$1.__t??=text$1.nodeValue)&&(text$1.__t=str,text$1.nodeValue=str+``)}function mount(component$1,options){return _mount(component$1,options)}function hydrate(component$1,options){init_operations(),options.intro=options.intro??!1;let target=options.target,was_hydrating=hydrating,previous_hydrate_node=hydrate_node;try{for(var anchor=get_first_child(target);anchor&&(anchor.nodeType!==8||anchor.data!==`[`);)anchor=get_next_sibling(anchor);if(!anchor)throw HYDRATION_ERROR;set_hydrating(!0),set_hydrate_node(anchor);let instance=_mount(component$1,{...options,anchor});return set_hydrating(!1),instance}catch(error){if(error instanceof Error&&error.message.split(`
`).some(line=>line.startsWith(`https://svelte.dev/e/`)))throw error;return error!==HYDRATION_ERROR&&console.warn(`Failed to hydrate: `,error),options.recover===!1&&hydration_failed(),init_operations(),clear_text_content(target),set_hydrating(!1),mount(component$1,options)}finally{set_hydrating(was_hydrating),set_hydrate_node(previous_hydrate_node)}}var document_listeners=new Map;function _mount(Component,{target,anchor,props={},events,context,intro=!0}){init_operations();var registered_events=new Set,event_handle=events$1=>{for(var i=0;i<events$1.length;i++){var event_name=events$1[i];if(!registered_events.has(event_name)){registered_events.add(event_name);var passive=is_passive_event(event_name);target.addEventListener(event_name,handle_event_propagation,{passive});var n=document_listeners.get(event_name);n===void 0?(document.addEventListener(event_name,handle_event_propagation,{passive}),document_listeners.set(event_name,1)):document_listeners.set(event_name,n+1)}}};event_handle(array_from(all_registered_events)),root_event_handles.add(event_handle);var component$1=void 0,unmount$1=component_root(()=>{var anchor_node=anchor??target.appendChild(create_text());return boundary(anchor_node,{pending:()=>{}},anchor_node$1=>{if(context){push({});var ctx=component_context;ctx.c=context}if(events&&(props.$$events=events),hydrating&&assign_nodes(anchor_node$1,null),component$1=Component(anchor_node$1,props)||{},hydrating&&(active_effect.nodes.end=hydrate_node,hydrate_node===null||hydrate_node.nodeType!==8||hydrate_node.data!==`]`))throw hydration_mismatch(),HYDRATION_ERROR;context&&pop()}),()=>{for(var event_name of registered_events){target.removeEventListener(event_name,handle_event_propagation);var n=document_listeners.get(event_name);--n===0?(document.removeEventListener(event_name,handle_event_propagation),document_listeners.delete(event_name)):document_listeners.set(event_name,n)}root_event_handles.delete(event_handle),anchor_node!==anchor&&anchor_node.parentNode?.removeChild(anchor_node)}});return mounted_components.set(component$1,unmount$1),component$1}var mounted_components=new WeakMap;function unmount(component$1,options){let fn=mounted_components.get(component$1);return fn?(mounted_components.delete(component$1),fn(options)):Promise.resolve()}var BranchManager=class{anchor;#e=new Map;#t=new Map;#n=new Map;#r=new Set;#i=!0;constructor(anchor,transition=!0){this.anchor=anchor,this.#i=transition}#a=()=>{var batch=current_batch;if(this.#e.has(batch)){var key=this.#e.get(batch),onscreen=this.#t.get(key);if(onscreen)resume_effect(onscreen),this.#r.delete(key);else{var offscreen=this.#n.get(key);offscreen&&(this.#t.set(key,offscreen.effect),this.#n.delete(key),offscreen.fragment.lastChild.remove(),this.anchor.before(offscreen.fragment),onscreen=offscreen.effect)}for(let[b,k]of this.#e){if(this.#e.delete(b),b===batch)break;let offscreen$1=this.#n.get(k);offscreen$1&&(destroy_effect(offscreen$1.effect),this.#n.delete(k))}for(let[k,effect$1]of this.#t){if(k===key||this.#r.has(k))continue;let on_destroy=()=>{if(Array.from(this.#e.values()).includes(k)){var fragment=document.createDocumentFragment();move_effect(effect$1,fragment),fragment.append(create_text()),this.#n.set(k,{effect:effect$1,fragment})}else destroy_effect(effect$1);this.#r.delete(k),this.#t.delete(k)};this.#i||!onscreen?(this.#r.add(k),pause_effect(effect$1,on_destroy,!1)):on_destroy()}}};#o=batch=>{this.#e.delete(batch);let keys=Array.from(this.#e.values());for(let[k,branch$1]of this.#n)keys.includes(k)||(destroy_effect(branch$1.effect),this.#n.delete(k))};ensure(key,fn){var batch=current_batch,defer=should_defer_append();if(fn&&!this.#t.has(key)&&!this.#n.has(key))if(defer){var fragment=document.createDocumentFragment(),target=create_text();fragment.append(target),this.#n.set(key,{effect:branch(()=>fn(target)),fragment})}else this.#t.set(key,branch(()=>fn(this.anchor)));if(this.#e.set(batch,key),defer){for(let[k,effect$1]of this.#t)k===key?batch.skipped_effects.delete(effect$1):batch.skipped_effects.add(effect$1);for(let[k,branch$1]of this.#n)k===key?batch.skipped_effects.delete(branch$1.effect):batch.skipped_effects.add(branch$1.effect);batch.oncommit(this.#a),batch.ondiscard(this.#o)}else hydrating&&(this.anchor=hydrate_node),this.#a()}};function if_block(node,fn,elseif=!1){hydrating&&hydrate_next();var branches=new BranchManager(node),flags$1=elseif?EFFECT_TRANSPARENT:0;function update_branch(condition,fn$1){if(hydrating&&condition===(read_hydration_instruction(node)===`[!`)){var anchor=skip_nodes();set_hydrate_node(anchor),branches.anchor=anchor,set_hydrating(!1),branches.ensure(condition,fn$1),set_hydrating(!0);return}branches.ensure(condition,fn$1)}block(()=>{var has_branch=!1;fn((fn$1,flag=!0)=>{has_branch=!0,update_branch(flag,fn$1)}),has_branch||update_branch(!1,null)},flags$1)}function index(_,i){return i}function pause_effects(state$1,to_destroy,controlled_anchor){for(var transitions=[],length=to_destroy.length,group,remaining=to_destroy.length,i=0;i<length;i++){let effect$1=to_destroy[i];pause_effect(effect$1,()=>{if(group){if(group.pending.delete(effect$1),group.done.add(effect$1),group.pending.size===0){var groups=state$1.outrogroups;destroy_effects(array_from(group.done)),groups.delete(group),groups.size===0&&(state$1.outrogroups=null)}}else --remaining},!1)}if(remaining===0){var fast_path=transitions.length===0&&controlled_anchor!==null;if(fast_path){var anchor=controlled_anchor,parent_node=anchor.parentNode;clear_text_content(parent_node),parent_node.append(anchor),state$1.items.clear()}destroy_effects(to_destroy,!fast_path)}else group={pending:new Set(to_destroy),done:new Set},(state$1.outrogroups??=new Set).add(group)}function destroy_effects(to_destroy,remove_dom=!0){for(var i=0;i<to_destroy.length;i++)destroy_effect(to_destroy[i],remove_dom)}var offscreen_anchor;function each(node,flags$1,get_collection,get_key,render_fn,fallback_fn=null){var anchor=node,items=new Map;if(flags$1&4){var parent_node=node;anchor=hydrating?set_hydrate_node(get_first_child(parent_node)):parent_node.appendChild(create_text())}hydrating&&hydrate_next();var fallback$1=null,each_array=derived_safe_equal(()=>{var collection=get_collection();return is_array(collection)?collection:collection==null?[]:array_from(collection)}),array,first_run=!0;function commit(){state$1.fallback=fallback$1,reconcile(state$1,array,anchor,flags$1,get_key),fallback$1!==null&&(array.length===0?fallback$1.f&33554432?(fallback$1.f^=EFFECT_OFFSCREEN,move(fallback$1,null,anchor)):resume_effect(fallback$1):pause_effect(fallback$1,()=>{fallback$1=null}))}var state$1={effect:block(()=>{array=get(each_array);var length=array.length;let mismatch=!1;hydrating&&read_hydration_instruction(anchor)===`[!`!=(length===0)&&(anchor=skip_nodes(),set_hydrate_node(anchor),set_hydrating(!1),mismatch=!0);for(var keys=new Set,batch=current_batch,defer=should_defer_append(),index$1=0;index$1<length;index$1+=1){hydrating&&hydrate_node.nodeType===8&&hydrate_node.data===`]`&&(anchor=hydrate_node,mismatch=!0,set_hydrating(!1));var value=array[index$1],key=get_key(value,index$1),item=first_run?null:items.get(key);item?(item.v&&internal_set(item.v,value),item.i&&internal_set(item.i,index$1),defer&&batch.skipped_effects.delete(item.e)):(item=create_item(items,first_run?anchor:offscreen_anchor??=create_text(),value,key,index$1,render_fn,flags$1,get_collection),first_run||(item.e.f|=EFFECT_OFFSCREEN),items.set(key,item)),keys.add(key)}if(length===0&&fallback_fn&&!fallback$1&&(first_run?fallback$1=branch(()=>fallback_fn(anchor)):(fallback$1=branch(()=>fallback_fn(offscreen_anchor??=create_text())),fallback$1.f|=EFFECT_OFFSCREEN)),hydrating&&length>0&&set_hydrate_node(skip_nodes()),!first_run)if(defer){for(let[key$1,item$1]of items)keys.has(key$1)||batch.skipped_effects.add(item$1.e);batch.oncommit(commit),batch.ondiscard(()=>{})}else commit();mismatch&&set_hydrating(!0),get(each_array)}),flags:flags$1,items,outrogroups:null,fallback:fallback$1};first_run=!1,hydrating&&(anchor=hydrate_node)}function reconcile(state$1,array,anchor,flags$1,get_key){var is_animated=(flags$1&8)!=0,length=array.length,items=state$1.items,current=state$1.effect.first,seen,prev=null,to_animate,matched=[],stashed=[],value,key,effect$1,i;if(is_animated)for(i=0;i<length;i+=1)value=array[i],key=get_key(value,i),effect$1=items.get(key).e,effect$1.f&33554432||(effect$1.nodes?.a?.measure(),(to_animate??=new Set).add(effect$1));for(i=0;i<length;i+=1){if(value=array[i],key=get_key(value,i),effect$1=items.get(key).e,state$1.outrogroups!==null)for(let group of state$1.outrogroups)group.pending.delete(effect$1),group.done.delete(effect$1);if(effect$1.f&33554432)if(effect$1.f^=EFFECT_OFFSCREEN,effect$1===current)move(effect$1,null,anchor);else{var next$1=prev?prev.next:current;effect$1===state$1.effect.last&&(state$1.effect.last=effect$1.prev),effect$1.prev&&(effect$1.prev.next=effect$1.next),effect$1.next&&(effect$1.next.prev=effect$1.prev),link(state$1,prev,effect$1),link(state$1,effect$1,next$1),move(effect$1,next$1,anchor),prev=effect$1,matched=[],stashed=[],current=prev.next;continue}if(effect$1.f&8192&&(resume_effect(effect$1),is_animated&&(effect$1.nodes?.a?.unfix(),(to_animate??=new Set).delete(effect$1))),effect$1!==current){if(seen!==void 0&&seen.has(effect$1)){if(matched.length<stashed.length){var start=stashed[0],j;prev=start.prev;var a=matched[0],b=matched[matched.length-1];for(j=0;j<matched.length;j+=1)move(matched[j],start,anchor);for(j=0;j<stashed.length;j+=1)seen.delete(stashed[j]);link(state$1,a.prev,b.next),link(state$1,prev,a),link(state$1,b,start),current=start,prev=b,--i,matched=[],stashed=[]}else seen.delete(effect$1),move(effect$1,current,anchor),link(state$1,effect$1.prev,effect$1.next),link(state$1,effect$1,prev===null?state$1.effect.first:prev.next),link(state$1,prev,effect$1),prev=effect$1;continue}for(matched=[],stashed=[];current!==null&&current!==effect$1;)(seen??=new Set).add(current),stashed.push(current),current=current.next;if(current===null)continue}effect$1.f&33554432||matched.push(effect$1),prev=effect$1,current=effect$1.next}if(state$1.outrogroups!==null){for(let group of state$1.outrogroups)group.pending.size===0&&(destroy_effects(array_from(group.done)),state$1.outrogroups?.delete(group));state$1.outrogroups.size===0&&(state$1.outrogroups=null)}if(current!==null||seen!==void 0){var to_destroy=[];if(seen!==void 0)for(effect$1 of seen)effect$1.f&8192||to_destroy.push(effect$1);for(;current!==null;)!(current.f&8192)&&current!==state$1.fallback&&to_destroy.push(current),current=current.next;var destroy_length=to_destroy.length;if(destroy_length>0){var controlled_anchor=flags$1&4&&length===0?anchor:null;if(is_animated){for(i=0;i<destroy_length;i+=1)to_destroy[i].nodes?.a?.measure();for(i=0;i<destroy_length;i+=1)to_destroy[i].nodes?.a?.fix()}pause_effects(state$1,to_destroy,controlled_anchor)}}is_animated&&queue_micro_task(()=>{if(to_animate!==void 0)for(effect$1 of to_animate)effect$1.nodes?.a?.apply()})}function create_item(items,anchor,value,key,index$1,render_fn,flags$1,get_collection){var v=flags$1&1?flags$1&16?source(value):mutable_source(value,!1,!1):null,i=flags$1&2?source(index$1):null;return{v,i,e:branch(()=>(render_fn(anchor,v??value,i??index$1,get_collection),()=>{items.delete(key)}))}}function move(effect$1,next$1,anchor){if(effect$1.nodes)for(var node=effect$1.nodes.start,end=effect$1.nodes.end,dest=next$1&&!(next$1.f&33554432)?next$1.nodes.start:anchor;node!==null;){var next_node=get_next_sibling(node);if(dest.before(node),node===end)return;node=next_node}}function link(state$1,prev,next$1){prev===null?state$1.effect.first=next$1:prev.next=next$1,next$1===null?state$1.effect.last=prev:next$1.prev=prev}function snippet(node,get_snippet,...args){var branches=new BranchManager(node);block(()=>{let snippet$1=get_snippet()??null;branches.ensure(snippet$1,snippet$1&&(anchor=>snippet$1(anchor,...args)))},EFFECT_TRANSPARENT)}function component(node,get_component,render_fn){hydrating&&hydrate_next();var branches=new BranchManager(node);block(()=>{var component$1=get_component()??null;branches.ensure(component$1,component$1&&(target=>render_fn(target,component$1)))},EFFECT_TRANSPARENT)}function head(hash,render_fn){let previous_hydrate_node=null,was_hydrating=hydrating;var anchor;if(hydrating){previous_hydrate_node=hydrate_node;for(var head_anchor=get_first_child(document.head);head_anchor!==null&&(head_anchor.nodeType!==8||head_anchor.data!==hash);)head_anchor=get_next_sibling(head_anchor);if(head_anchor===null)set_hydrating(!1);else{var start=get_next_sibling(head_anchor);head_anchor.remove(),set_hydrate_node(start)}}hydrating||(anchor=document.head.appendChild(create_text()));try{block(()=>render_fn(anchor),262144)}finally{was_hydrating&&(set_hydrating(!0),set_hydrate_node(previous_hydrate_node))}}var whitespace=[...` 	
\r\f\xA0\v`];function to_class(value,hash,directives){var classname=value==null?``:``+value;if(hash&&(classname=classname?classname+` `+hash:hash),directives){for(var key in directives)if(directives[key])classname=classname?classname+` `+key:key;else if(classname.length)for(var len=key.length,a=0;(a=classname.indexOf(key,a))>=0;){var b=a+len;(a===0||whitespace.includes(classname[a-1]))&&(b===classname.length||whitespace.includes(classname[b]))?classname=(a===0?``:classname.substring(0,a))+classname.substring(b+1):a=b}}return classname===``?null:classname}function append_styles(styles,important=!1){var separator=important?` !important;`:`;`,css=``;for(var key in styles){var value=styles[key];value!=null&&value!==``&&(css+=` `+key+`: `+value+separator)}return css}function to_css_name(name){return name[0]!==`-`||name[1]!==`-`?name.toLowerCase():name}function to_style(value,styles){if(styles){var new_style=``,normal_styles,important_styles;if(Array.isArray(styles)?(normal_styles=styles[0],important_styles=styles[1]):normal_styles=styles,value){value=String(value).replaceAll(/\s*\/\*.*?\*\/\s*/g,``).trim();var in_str=!1,in_apo=0,in_comment=!1,reserved_names=[];normal_styles&&reserved_names.push(...Object.keys(normal_styles).map(to_css_name)),important_styles&&reserved_names.push(...Object.keys(important_styles).map(to_css_name));var start_index=0,name_index=-1;let len=value.length;for(var i=0;i<len;i++){var c=value[i];if(in_comment?c===`/`&&value[i-1]===`*`&&(in_comment=!1):in_str?in_str===c&&(in_str=!1):c===`/`&&value[i+1]===`*`?in_comment=!0:c===`"`||c===`'`?in_str=c:c===`(`?in_apo++:c===`)`&&in_apo--,!in_comment&&in_str===!1&&in_apo===0){if(c===`:`&&name_index===-1)name_index=i;else if(c===`;`||i===len-1){if(name_index!==-1){var name=to_css_name(value.substring(start_index,name_index).trim());if(!reserved_names.includes(name)){c!==`;`&&i++;var property=value.substring(start_index,i).trim();new_style+=` `+property+`;`}}start_index=i+1,name_index=-1}}}}return normal_styles&&(new_style+=append_styles(normal_styles)),important_styles&&(new_style+=append_styles(important_styles,!0)),new_style=new_style.trim(),new_style===``?null:new_style}return value==null?null:String(value)}function set_class(dom,is_html,value,hash,prev_classes,next_classes){var prev=dom.__className;if(hydrating||prev!==value||prev===void 0){var next_class_name=to_class(value,hash,next_classes);(!hydrating||next_class_name!==dom.getAttribute(`class`))&&(next_class_name==null?dom.removeAttribute(`class`):is_html?dom.className=next_class_name:dom.setAttribute(`class`,next_class_name)),dom.__className=value}else if(next_classes&&prev_classes!==next_classes)for(var key in next_classes){var is_present=!!next_classes[key];(prev_classes==null||is_present!==!!prev_classes[key])&&dom.classList.toggle(key,is_present)}return next_classes}function update_styles(dom,prev={},next$1,priority){for(var key in next$1){var value=next$1[key];prev[key]!==value&&(next$1[key]==null?dom.style.removeProperty(key):dom.style.setProperty(key,value,priority))}}function set_style(dom,value,prev_styles,next_styles){var prev=dom.__style;if(hydrating||prev!==value){var next_style_attr=to_style(value,next_styles);(!hydrating||next_style_attr!==dom.getAttribute(`style`))&&(next_style_attr==null?dom.removeAttribute(`style`):dom.style.cssText=next_style_attr),dom.__style=value}else next_styles&&(Array.isArray(next_styles)?(update_styles(dom,prev_styles?.[0],next_styles[0]),update_styles(dom,prev_styles?.[1],next_styles[1],`important`)):update_styles(dom,prev_styles,next_styles));return next_styles}var IS_CUSTOM_ELEMENT=Symbol(`is custom element`),IS_HTML=Symbol(`is html`);function remove_input_defaults(input){if(hydrating){var already_removed=!1,remove_defaults=()=>{if(!already_removed){if(already_removed=!0,input.hasAttribute(`value`)){var value=input.value;set_attribute(input,`value`,null),input.value=value}if(input.hasAttribute(`checked`)){var checked=input.checked;set_attribute(input,`checked`,null),input.checked=checked}}};input.__on_r=remove_defaults,queue_micro_task(remove_defaults),add_form_reset_listener()}}function set_value(element,value){var attributes=get_attributes(element);attributes.value===(attributes.value=value??void 0)||element.value===value&&(value!==0||element.nodeName!==`PROGRESS`)||(element.value=value??``)}function set_attribute(element,attribute,value,skip_warning){var attributes=get_attributes(element);hydrating&&(attributes[attribute]=element.getAttribute(attribute),attribute===`src`||attribute===`srcset`||attribute===`href`&&element.nodeName===`LINK`)||attributes[attribute]!==(attributes[attribute]=value)&&(attribute===`loading`&&(element[LOADING_ATTR_SYMBOL]=value),value==null?element.removeAttribute(attribute):typeof value!=`string`&&get_setters(element).includes(attribute)?element[attribute]=value:element.setAttribute(attribute,value))}function get_attributes(element){return element.__attributes??={[IS_CUSTOM_ELEMENT]:element.nodeName.includes(`-`),[IS_HTML]:element.namespaceURI===`http://www.w3.org/1999/xhtml`}}var setters_cache=new Map;function get_setters(element){var cache_key=element.getAttribute(`is`)||element.nodeName,setters=setters_cache.get(cache_key);if(setters)return setters;setters_cache.set(cache_key,setters=[]);for(var descriptors,proto=element,element_proto=Element.prototype;element_proto!==proto;){for(var key in descriptors=get_descriptors(proto),descriptors)descriptors[key].set&&setters.push(key);proto=get_prototype_of(proto)}return setters}function check_src_in_dev_hydration(element,attribute,value){}function src_url_equal(element_src,url){return element_src===url?!0:new URL(element_src,document.baseURI).href===new URL(url,document.baseURI).href}function split_srcset(srcset){return srcset.split(`,`).map(src=>src.trim().split(` `).filter(Boolean))}function srcset_url_equal(element,srcset){var element_urls=split_srcset(element.srcset),urls=split_srcset(srcset);return urls.length===element_urls.length&&urls.every(([url,width],i)=>width===element_urls[i][1]&&(src_url_equal(element_urls[i][0],url)||src_url_equal(url,element_urls[i][0])))}function bind_value(input,get$1,set$1=get$1){var batches$1=new WeakSet;listen_to_event_and_reset_event(input,`input`,async is_reset=>{var value=is_reset?input.defaultValue:input.value;if(value=is_numberlike_input(input)?to_number(value):value,set$1(value),current_batch!==null&&batches$1.add(current_batch),await tick(),value!==(value=get$1())){var start=input.selectionStart,end=input.selectionEnd,length=input.value.length;if(input.value=value??``,end!==null){var new_length=input.value.length;start===end&&end===length&&new_length>length?(input.selectionStart=new_length,input.selectionEnd=new_length):(input.selectionStart=start,input.selectionEnd=Math.min(end,new_length))}}}),(hydrating&&input.defaultValue!==input.value||untrack(get$1)==null&&input.value)&&(set$1(is_numberlike_input(input)?to_number(input.value):input.value),current_batch!==null&&batches$1.add(current_batch)),render_effect(()=>{var value=get$1();if(input===document.activeElement){var batch=previous_batch??current_batch;if(batches$1.has(batch))return}is_numberlike_input(input)&&value===to_number(input.value)||input.type===`date`&&!value&&!input.value||value!==input.value&&(input.value=value??``)})}function bind_checked(input,get$1,set$1=get$1){listen_to_event_and_reset_event(input,`change`,is_reset=>{set$1(is_reset?input.defaultChecked:input.checked)}),(hydrating&&input.defaultChecked!==input.checked||untrack(get$1)==null)&&set$1(input.checked),render_effect(()=>{input.checked=!!get$1()})}function is_numberlike_input(input){var type=input.type;return type===`number`||type===`range`}function to_number(value){return value===``?null:+value}function is_bound_this(bound_value,element_or_component){return bound_value===element_or_component||bound_value?.[STATE_SYMBOL]===element_or_component}function bind_this(element_or_component={},update$1,get_value,get_parts){return effect(()=>{var old_parts,parts;return render_effect(()=>{old_parts=parts,parts=get_parts?.()||[],untrack(()=>{element_or_component!==get_value(...parts)&&(update$1(element_or_component,...parts),old_parts&&is_bound_this(get_value(...old_parts),element_or_component)&&update$1(null,...old_parts))})}),()=>{queue_micro_task(()=>{parts&&is_bound_this(get_value(...parts),element_or_component)&&update$1(null,...parts)})}}),element_or_component}function init(immutable=!1){let context=component_context,callbacks=context.l.u;if(!callbacks)return;let props=()=>deep_read_state(context.s);if(immutable){let version=0,prev={},d=derived(()=>{let changed=!1,props$1=context.s;for(let key in props$1)props$1[key]!==prev[key]&&(prev[key]=props$1[key],changed=!0);return changed&&version++,version});props=()=>get(d)}callbacks.b.length&&user_pre_effect(()=>{observe_all(context,props),run_all(callbacks.b)}),user_effect(()=>{let fns=untrack(()=>callbacks.m.map(run));return()=>{for(let fn of fns)typeof fn==`function`&&fn()}}),callbacks.a.length&&user_effect(()=>{observe_all(context,props),run_all(callbacks.a)})}function observe_all(context,props){if(context.l.s)for(let signal of context.l.s)get(signal);props()}var is_store_binding=!1;function capture_store_binding(fn){var previous_is_store_binding=is_store_binding;try{return is_store_binding=!1,[fn(),is_store_binding]}finally{is_store_binding=previous_is_store_binding}}var rest_props_handler={get(target,key){if(!target.exclude.includes(key))return target.props[key]},set(target,key){return!1},getOwnPropertyDescriptor(target,key){if(!target.exclude.includes(key)&&key in target.props)return{enumerable:!0,configurable:!0,value:target.props[key]}},has(target,key){return target.exclude.includes(key)?!1:key in target.props},ownKeys(target){return Reflect.ownKeys(target.props).filter(key=>!target.exclude.includes(key))}};function rest_props(props,exclude,name){return new Proxy({props,exclude},rest_props_handler)}var spread_props_handler={get(target,key){let i=target.props.length;for(;i--;){let p=target.props[i];if(is_function(p)&&(p=p()),typeof p==`object`&&p&&key in p)return p[key]}},set(target,key,value){let i=target.props.length;for(;i--;){let p=target.props[i];is_function(p)&&(p=p());let desc=get_descriptor(p,key);if(desc&&desc.set)return desc.set(value),!0}return!1},getOwnPropertyDescriptor(target,key){let i=target.props.length;for(;i--;){let p=target.props[i];if(is_function(p)&&(p=p()),typeof p==`object`&&p&&key in p){let descriptor=get_descriptor(p,key);return descriptor&&!descriptor.configurable&&(descriptor.configurable=!0),descriptor}}},has(target,key){if(key===STATE_SYMBOL||key===LEGACY_PROPS)return!1;for(let p of target.props)if(is_function(p)&&(p=p()),p!=null&&key in p)return!0;return!1},ownKeys(target){let keys=[];for(let p of target.props)if(is_function(p)&&(p=p()),p){for(let key in p)keys.includes(key)||keys.push(key);for(let key of Object.getOwnPropertySymbols(p))keys.includes(key)||keys.push(key)}return keys}};function spread_props(...props){return new Proxy({props},spread_props_handler)}function prop(props,key,flags$1,fallback$1){var runes=!legacy_mode_flag||(flags$1&2)!=0,bindable=(flags$1&8)!=0,lazy=(flags$1&16)!=0,fallback_value=fallback$1,fallback_dirty=!0,get_fallback=()=>(fallback_dirty&&(fallback_dirty=!1,fallback_value=lazy?untrack(fallback$1):fallback$1),fallback_value),setter;if(bindable){var is_entry_props=STATE_SYMBOL in props||LEGACY_PROPS in props;setter=get_descriptor(props,key)?.set??(is_entry_props&&key in props?v=>props[key]=v:void 0)}var initial_value,is_store_sub=!1;bindable?[initial_value,is_store_sub]=capture_store_binding(()=>props[key]):initial_value=props[key],initial_value===void 0&&fallback$1!==void 0&&(initial_value=get_fallback(),setter&&(runes&&props_invalid_value(key),setter(initial_value)));var getter=runes?()=>{var value=props[key];return value===void 0?get_fallback():(fallback_dirty=!0,value)}:()=>{var value=props[key];return value!==void 0&&(fallback_value=void 0),value===void 0?fallback_value:value};if(runes&&!(flags$1&4))return getter;if(setter){var legacy_parent=props.$$legacy;return(function(value,mutation){return arguments.length>0?((!runes||!mutation||legacy_parent||is_store_sub)&&setter(mutation?getter():value),value):getter()})}var overridden=!1,d=(flags$1&1?derived:derived_safe_equal)(()=>(overridden=!1,getter()));bindable&&get(d);var parent_effect=active_effect;return(function(value,mutation){if(arguments.length>0){let new_value=mutation?get(d):runes&&bindable?proxy(value):value;return set(d,new_value),overridden=!0,fallback_value!==void 0&&(fallback_value=new_value),value}return is_destroying_effect&&overridden||parent_effect.f&16384?d.v:get(d)})}function createClassComponent(options){return new Svelte4Component(options)}var Svelte4Component=class{#e;#t;constructor(options){var sources=new Map,add_source=(key,value)=>{var s=mutable_source(value,!1,!1);return sources.set(key,s),s};let props=new Proxy({...options.props||{},$$events:{}},{get(target,prop$1){return get(sources.get(prop$1)??add_source(prop$1,Reflect.get(target,prop$1)))},has(target,prop$1){return prop$1===LEGACY_PROPS?!0:(get(sources.get(prop$1)??add_source(prop$1,Reflect.get(target,prop$1))),Reflect.has(target,prop$1))},set(target,prop$1,value){return set(sources.get(prop$1)??add_source(prop$1,value),value),Reflect.set(target,prop$1,value)}});this.#t=(options.hydrate?hydrate:mount)(options.component,{target:options.target,anchor:options.anchor,props,context:options.context,intro:options.intro??!1,recover:options.recover}),(!options?.props?.$$host||options.sync===!1)&&flushSync(),this.#e=props.$$events;for(let key of Object.keys(this.#t))key===`$set`||key===`$destroy`||key===`$on`||define_property(this,key,{get(){return this.#t[key]},set(value){this.#t[key]=value},enumerable:!0});this.#t.$set=next$1=>{Object.assign(props,next$1)},this.#t.$destroy=()=>{unmount(this.#t)}}$set(props){this.#t.$set(props)}$on(event$2,callback){this.#e[event$2]=this.#e[event$2]||[];let cb=(...args)=>callback.call(this,...args);return this.#e[event$2].push(cb),()=>{this.#e[event$2]=this.#e[event$2].filter(fn=>fn!==cb)}}$destroy(){this.#t.$destroy()}},SvelteElement;typeof HTMLElement==`function`&&(SvelteElement=class extends HTMLElement{$$ctor;$$s;$$c;$$cn=!1;$$d={};$$r=!1;$$p_d={};$$l={};$$l_u=new Map;$$me;constructor($$componentCtor,$$slots,use_shadow_dom){super(),this.$$ctor=$$componentCtor,this.$$s=$$slots,use_shadow_dom&&this.attachShadow({mode:`open`})}addEventListener(type,listener,options){if(this.$$l[type]=this.$$l[type]||[],this.$$l[type].push(listener),this.$$c){let unsub=this.$$c.$on(type,listener);this.$$l_u.set(listener,unsub)}super.addEventListener(type,listener,options)}removeEventListener(type,listener,options){if(super.removeEventListener(type,listener,options),this.$$c){let unsub=this.$$l_u.get(listener);unsub&&(unsub(),this.$$l_u.delete(listener))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){if(await Promise.resolve(),!this.$$cn||this.$$c)return;function create_slot(name){return anchor=>{let slot=document.createElement(`slot`);name!==`default`&&(slot.name=name),append(anchor,slot)}}let $$slots={},existing_slots=get_custom_elements_slots(this);for(let name of this.$$s)name in existing_slots&&(name===`default`&&!this.$$d.children?(this.$$d.children=create_slot(name),$$slots.default=!0):$$slots[name]=create_slot(name));for(let attribute of this.attributes){let name=this.$$g_p(attribute.name);name in this.$$d||(this.$$d[name]=get_custom_element_value(name,attribute.value,this.$$p_d,`toProp`))}for(let key in this.$$p_d)!(key in this.$$d)&&this[key]!==void 0&&(this.$$d[key]=this[key],delete this[key]);for(let type in this.$$c=createClassComponent({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots,$$host:this}}),this.$$me=effect_root(()=>{render_effect(()=>{this.$$r=!0;for(let key of object_keys(this.$$c)){if(!this.$$p_d[key]?.reflect)continue;this.$$d[key]=this.$$c[key];let attribute_value=get_custom_element_value(key,this.$$d[key],this.$$p_d,`toAttribute`);attribute_value==null?this.removeAttribute(this.$$p_d[key].attribute||key):this.setAttribute(this.$$p_d[key].attribute||key,attribute_value)}this.$$r=!1})}),this.$$l)for(let listener of this.$$l[type]){let unsub=this.$$c.$on(type,listener);this.$$l_u.set(listener,unsub)}this.$$l={}}}attributeChangedCallback(attr,_oldValue,newValue){this.$$r||(attr=this.$$g_p(attr),this.$$d[attr]=get_custom_element_value(attr,newValue,this.$$p_d,`toProp`),this.$$c?.$set({[attr]:this.$$d[attr]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(attribute_name){return object_keys(this.$$p_d).find(key=>this.$$p_d[key].attribute===attribute_name||!this.$$p_d[key].attribute&&key.toLowerCase()===attribute_name)||attribute_name}});function get_custom_element_value(prop$1,value,props_definition,transform){let type=props_definition[prop$1]?.type;if(value=type===`Boolean`&&typeof value!=`boolean`?value!=null:value,!transform||!props_definition[prop$1])return value;if(transform===`toAttribute`)switch(type){case`Object`:case`Array`:return value==null?null:JSON.stringify(value);case`Boolean`:return value?``:null;case`Number`:return value??null;default:return value}else switch(type){case`Object`:case`Array`:return value&&JSON.parse(value);case`Boolean`:return value;case`Number`:return value==null?value:+value;default:return value}}function get_custom_elements_slots(element){let result={};return element.childNodes.forEach(node=>{result[node.slot||`default`]=!0}),result}function onMount(fn){component_context===null&&lifecycle_outside_component(`onMount`),legacy_mode_flag&&component_context.l!==null?init_update_callbacks(component_context).m.push(fn):user_effect(()=>{let cleanup=untrack(fn);if(typeof cleanup==`function`)return cleanup})}function init_update_callbacks(context){var l=context.l;return l.u??={a:[],b:[],m:[]}}const PUBLIC_VERSION=`5`;typeof window<`u`&&((window.__svelte??={}).v??=new Set).add(`5`),enable_legacy_mode_flag();var Card=class{constructor(front,back){this.front=front,this.back=back}},Album=class Album{constructor(name,description,cards=[]){this.title=`Unnamed Album`,this.description=`An album of flashcards.`,this.title=name,this.description=description,this.cards=cards}shuffle(){for(let i=this.cards.length-1;i>0;i--){let j=Math.floor(Math.random()*(i+1));[this.cards[i],this.cards[j]]=[this.cards[j],this.cards[i]]}}getNextCard(index$1){for(;index$1<0;)index$1+=this.cards.length;return index$1%=this.cards.length,this.cards[index$1]}static deserialize(data){let parsed=JSON.parse(data);return new Album(parsed.title||`Unnamed Album`,parsed.description||`An album of flashcards.`,(parsed.cards||[]).map(cardData=>new Card(cardData.front,cardData.back)))}serialize(){let data={title:this.title,description:this.description,cards:this.cards.map(card=>({front:card.front,back:card.back}))};return JSON.stringify(data)}};const ExampleAlbum=new Album(`Example Album`,`An example album.`,[new Card(`What is the capital of France?`,`Paris`),new Card(`What is 2 + 2?`,`4`),new Card(`What is the capital of Japan?`,`Tokyo`),new Card(`What is the largest planet in our solar system?`,`Jupiter`),new Card(`What is the chemical symbol for water?`,`H2O`),new Card(`Who wrote 'Romeo and Juliet'?`,`William Shakespeare`)]);var AlbumCollection=class{constructor(){this.albums=[],this.loadFromLocalStorage()}addAlbum(album){let id=this.albums.push(album);return this.saveToLocalStorage(),id-1}deleteAlbum(albumIndex){albumIndex<0||albumIndex>=this.albums.length||(this.albums.splice(albumIndex,1),this.saveToLocalStorage())}getAllAlbums(){return this.albums}getAlbum(index$1){return index$1<0||index$1>=this.albums.length?null:this.albums[index$1]}updateAlbum(albumIndex,editedAlbum){albumIndex<0||albumIndex>=this.albums.length||(this.albums[albumIndex].cards=editedAlbum.cards,this.albums[albumIndex].title=editedAlbum.title,this.albums[albumIndex].description=editedAlbum.description,this.saveToLocalStorage())}saveToLocalStorage(){let serializedAlbums=this.albums.map(album=>album.serialize());localStorage.setItem(`albums`,JSON.stringify(serializedAlbums))}loadFromLocalStorage(){let data=localStorage.getItem(`albums`);data?this.albums=JSON.parse(data).map(albumData=>Album.deserialize(albumData)):(this.albums=[],this.addAlbum(ExampleAlbum))}},AlbumRegistry=new AlbumCollection,root$10=from_html(`<div class="card-album svelte-rpujmn"><div class="card-album-info svelte-rpujmn"><h2 class="card-album-title svelte-rpujmn"> </h2> <p class="card-album-description svelte-rpujmn"> </p> <div class="flex svelte-rpujmn"></div> <div class="button-row"><button class="learn">Learn</button> <button class="edit">Edit</button> <button class="delete red svelte-rpujmn">Delete</button></div></div> <img alt="Album Cover" class="card-album-cover svelte-rpujmn"/></div>`);function Album$1($$anchor,$$props){push($$props,!0);let album=$$props.album||{title:`Sample Album`,description:`This is a sample album description.`},index$1=$$props.index||0;function deleteAlbum(index$2){confirm(`Are you sure you want to delete the album "${album.title}"? This action cannot be undone.`)&&(AlbumRegistry.deleteAlbum(index$2),window.location.reload())}var div=root$10(),div_1=child(div),h2=child(div_1),text$1=child(h2,!0);reset(h2);var p=sibling(h2,2),text_1=child(p,!0);reset(p);var div_2=sibling(p,4),button=child(div_2);button.__click=()=>Navigate(`/learn?album=${index$1}`);var button_1=sibling(button,2);button_1.__click=()=>Navigate(`/edit?album=${index$1}`);var button_2=sibling(button_1,2);button_2.__click=()=>deleteAlbum(index$1),reset(div_2),reset(div_1);var img=sibling(div_1,2);reset(div),template_effect(()=>{set_text(text$1,album.title),set_text(text_1,album.description),set_attribute(img,`src`,`https://picsum.photos/seed/${index$1+1}/200/200`)}),append($$anchor,div),pop()}delegate([`click`]);var root$9=from_html(`<div class="albums svelte-1nmp6pz"></div> <button class="add-button svelte-1nmp6pz"><span class="svelte-1nmp6pz">+</span></button>`,1);function Home($$anchor,$$props){push($$props,!1);function newAlbum(){Navigate(`/edit?album=`+AlbumRegistry.addAlbum(new Album(`New Album`,`My new album.`,[])))}init();var fragment=root$9(),div=first_child(fragment);each(div,5,()=>AlbumRegistry.getAllAlbums(),index,($$anchor$1,album,index$1)=>{Album$1($$anchor$1,{get album(){return get(album)},index:index$1})}),reset(div);var button=sibling(div,2);button.__click=()=>newAlbum(),append($$anchor,fragment),pop()}delegate([`click`]);var root$8=from_html(`<a><!> <!></a>`);function Link($$anchor,$$props){push($$props,!0);let style=prop($$props,`style`,3,``),cssClass=prop($$props,`cssClass`,3,``),target=prop($$props,`target`,3,``),rel=prop($$props,`rel`,3,``),element;function onclick(event$2){target()===``&&(event$2.preventDefault(),event$2.stopPropagation(),Navigate($$props.href))}tick().then(()=>{element.innerText=element.innerText.trim()});var a=root$8();a.__click=onclick;var node=child(a);snippet(node,()=>$$props.children??noop);var node_1=sibling(node,2),consequent=$$anchor$1=>{var text$1=text();template_effect(()=>set_text(text$1,$$props.href)),append($$anchor$1,text$1)};if_block(node_1,$$render=>{$$props.children||$$render(consequent)}),reset(a),bind_this(a,$$value=>element=$$value,()=>element),template_effect(()=>{set_attribute(a,`href`,$$props.href),set_style(a,style()),set_attribute(a,`target`,target()),set_attribute(a,`rel`,rel()),set_class(a,1,`link ${cssClass()??``}`,`svelte-96nnl8`)}),append($$anchor,a),pop()}delegate([`click`]);var root$7=from_html(`<div class="not-found svelte-1h4jfc7"><div class="text svelte-1h4jfc7"><h1 class="svelte-1h4jfc7">404 - Page Not Found</h1> <div class="left-align svelte-1h4jfc7"><br/>[Page-Chan] <b><i>*looks around confusedly*</i></b> <br/>[Page-Chan] Where am I...? <br/>[Page-Chan] <b><i>*sighs*</i></b> <br/>[Page-Chan] I guess this page doesn't exist... <br/> <br/>[User-Chan] <b><i>*looks at Page-Chan*</i></b> <br/>[User-Chan] Don't worry Page-Chan, let's go <!>!</div></div></div>`);function NotFound($$anchor){var div=root$7(),div_1=child(div),div_2=sibling(child(div_1),2);Link(sibling(child(div_2),20),{href:`/`,children:($$anchor$1,$$slotProps)=>{next(),append($$anchor$1,text(`back home`))},$$slots:{default:!0}}),next(),reset(div_2),reset(div_1),reset(div),append($$anchor,div)}function loadSettings(){let settingsString=localStorage.getItem(`settings`);return settingsString?JSON.parse(settingsString):{shouldShuffle:!0,enableMathJax:!0}}function saveSettings(settings){localStorage.setItem(`settings`,JSON.stringify(settings))}(()=>{var __webpack_modules__={74:(__unused_webpack___webpack_module__,__webpack_exports__$1,__webpack_require__$1)=>{__webpack_require__$1.d(__webpack_exports__$1,{f:()=>SystemExternal});var _variables_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__$1(714),_lib_external_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__$1(268);const windowSupported=!(typeof window>`u`),documentSupported=windowSupported&&window.document!==void 0,webworker=!(typeof DedicatedWorkerGlobalScope>`u`),nodeRequire=()=>{try{return eval(`require`)}catch{return t$1=>null}},SystemExternal={extRequire:t=>typeof process<`u`&&__require!==void 0?nodeRequire()(t):null,windowSupported,documentSupported,webworker,xmldom:_lib_external_js__WEBPACK_IMPORTED_MODULE_1__.Gb,document:_lib_external_js__WEBPACK_IMPORTED_MODULE_1__.Al,fs:documentSupported||webworker?null:nodeRequire()(`fs`),url:_variables_js__WEBPACK_IMPORTED_MODULE_0__.u.url,jsonPath:function(){if(documentSupported||webworker)return _variables_js__WEBPACK_IMPORTED_MODULE_0__.u.url;if({}.SRE_JSON_PATH||global.SRE_JSON_PATH)return{}.SRE_JSON_PATH||global.SRE_JSON_PATH;try{return nodeRequire().resolve(`speech-rule-engine`).replace(/sre\.js$/,``)+`mathmaps`}catch{}try{return nodeRequire().resolve(`.`).replace(/sre\.js$/,``)+`mathmaps`}catch{}return typeof __dirname<`u`?__dirname+(__dirname.match(/lib?$/)?`/mathmaps`:`/lib/mathmaps`):process.cwd()+`/lib/mathmaps`}(),xpath:_lib_external_js__WEBPACK_IMPORTED_MODULE_1__.Oe}},159:(t,e,s)=>{var i=s(870).freeze;e.XML_ENTITIES=i({amp:`&`,apos:`'`,gt:`>`,lt:`<`,quot:`"`}),e.HTML_ENTITIES=i({Aacute:``,aacute:``,Abreve:``,abreve:``,ac:``,acd:``,acE:``,Acirc:``,acirc:``,acute:``,Acy:``,acy:``,AElig:``,aelig:``,af:``,Afr:``,afr:``,Agrave:``,agrave:``,alefsym:``,aleph:``,Alpha:``,alpha:``,Amacr:``,amacr:``,amalg:``,AMP:`&`,amp:`&`,And:``,and:``,andand:``,andd:``,andslope:``,andv:``,ang:``,ange:``,angle:``,angmsd:``,angmsdaa:``,angmsdab:``,angmsdac:``,angmsdad:``,angmsdae:``,angmsdaf:``,angmsdag:``,angmsdah:``,angrt:``,angrtvb:``,angrtvbd:``,angsph:``,angst:``,angzarr:``,Aogon:``,aogon:``,Aopf:``,aopf:``,ap:``,apacir:``,apE:``,ape:``,apid:``,apos:`'`,ApplyFunction:``,approx:``,approxeq:``,Aring:``,aring:``,Ascr:``,ascr:``,Assign:``,ast:`*`,asymp:``,asympeq:``,Atilde:``,atilde:``,Auml:``,auml:``,awconint:``,awint:``,backcong:``,backepsilon:``,backprime:``,backsim:``,backsimeq:``,Backslash:``,Barv:``,barvee:``,Barwed:``,barwed:``,barwedge:``,bbrk:``,bbrktbrk:``,bcong:``,Bcy:``,bcy:``,bdquo:``,becaus:``,Because:``,because:``,bemptyv:``,bepsi:``,bernou:``,Bernoullis:``,Beta:``,beta:``,beth:``,between:``,Bfr:``,bfr:``,bigcap:``,bigcirc:``,bigcup:``,bigodot:``,bigoplus:``,bigotimes:``,bigsqcup:``,bigstar:``,bigtriangledown:``,bigtriangleup:``,biguplus:``,bigvee:``,bigwedge:``,bkarow:``,blacklozenge:``,blacksquare:``,blacktriangle:``,blacktriangledown:``,blacktriangleleft:``,blacktriangleright:``,blank:``,blk12:``,blk14:``,blk34:``,block:``,bne:`=`,bnequiv:``,bNot:``,bnot:``,Bopf:``,bopf:``,bot:``,bottom:``,bowtie:``,boxbox:``,boxDL:``,boxDl:``,boxdL:``,boxdl:``,boxDR:``,boxDr:``,boxdR:``,boxdr:``,boxH:``,boxh:``,boxHD:``,boxHd:``,boxhD:``,boxhd:``,boxHU:``,boxHu:``,boxhU:``,boxhu:``,boxminus:``,boxplus:``,boxtimes:``,boxUL:``,boxUl:``,boxuL:``,boxul:``,boxUR:``,boxUr:``,boxuR:``,boxur:``,boxV:``,boxv:``,boxVH:``,boxVh:``,boxvH:``,boxvh:``,boxVL:``,boxVl:``,boxvL:``,boxvl:``,boxVR:``,boxVr:``,boxvR:``,boxvr:``,bprime:``,Breve:``,breve:``,brvbar:``,Bscr:``,bscr:``,bsemi:``,bsim:``,bsime:``,bsol:`\\`,bsolb:``,bsolhsub:``,bull:``,bullet:``,bump:``,bumpE:``,bumpe:``,Bumpeq:``,bumpeq:``,Cacute:``,cacute:``,Cap:``,cap:``,capand:``,capbrcup:``,capcap:``,capcup:``,capdot:``,CapitalDifferentialD:``,caps:``,caret:``,caron:``,Cayleys:``,ccaps:``,Ccaron:``,ccaron:``,Ccedil:``,ccedil:``,Ccirc:``,ccirc:``,Cconint:``,ccups:``,ccupssm:``,Cdot:``,cdot:``,cedil:``,Cedilla:``,cemptyv:``,cent:``,CenterDot:``,centerdot:``,Cfr:``,cfr:``,CHcy:``,chcy:``,check:``,checkmark:``,Chi:``,chi:``,cir:``,circ:``,circeq:``,circlearrowleft:``,circlearrowright:``,circledast:``,circledcirc:``,circleddash:``,CircleDot:``,circledR:``,circledS:``,CircleMinus:``,CirclePlus:``,CircleTimes:``,cirE:``,cire:``,cirfnint:``,cirmid:``,cirscir:``,ClockwiseContourIntegral:``,CloseCurlyDoubleQuote:``,CloseCurlyQuote:``,clubs:``,clubsuit:``,Colon:``,colon:`:`,Colone:``,colone:``,coloneq:``,comma:`,`,commat:`@`,comp:``,compfn:``,complement:``,complexes:``,cong:``,congdot:``,Congruent:``,Conint:``,conint:``,ContourIntegral:``,Copf:``,copf:``,coprod:``,Coproduct:``,COPY:``,copy:``,copysr:``,CounterClockwiseContourIntegral:``,crarr:``,Cross:``,cross:``,Cscr:``,cscr:``,csub:``,csube:``,csup:``,csupe:``,ctdot:``,cudarrl:``,cudarrr:``,cuepr:``,cuesc:``,cularr:``,cularrp:``,Cup:``,cup:``,cupbrcap:``,CupCap:``,cupcap:``,cupcup:``,cupdot:``,cupor:``,cups:``,curarr:``,curarrm:``,curlyeqprec:``,curlyeqsucc:``,curlyvee:``,curlywedge:``,curren:``,curvearrowleft:``,curvearrowright:``,cuvee:``,cuwed:``,cwconint:``,cwint:``,cylcty:``,Dagger:``,dagger:``,daleth:``,Darr:``,dArr:``,darr:``,dash:``,Dashv:``,dashv:``,dbkarow:``,dblac:``,Dcaron:``,dcaron:``,Dcy:``,dcy:``,DD:``,dd:``,ddagger:``,ddarr:``,DDotrahd:``,ddotseq:``,deg:``,Del:``,Delta:``,delta:``,demptyv:``,dfisht:``,Dfr:``,dfr:``,dHar:``,dharl:``,dharr:``,DiacriticalAcute:``,DiacriticalDot:``,DiacriticalDoubleAcute:``,DiacriticalGrave:"`",DiacriticalTilde:``,diam:``,Diamond:``,diamond:``,diamondsuit:``,diams:``,die:``,DifferentialD:``,digamma:``,disin:``,div:``,divide:``,divideontimes:``,divonx:``,DJcy:``,djcy:``,dlcorn:``,dlcrop:``,dollar:`$`,Dopf:``,dopf:``,Dot:``,dot:``,DotDot:``,doteq:``,doteqdot:``,DotEqual:``,dotminus:``,dotplus:``,dotsquare:``,doublebarwedge:``,DoubleContourIntegral:``,DoubleDot:``,DoubleDownArrow:``,DoubleLeftArrow:``,DoubleLeftRightArrow:``,DoubleLeftTee:``,DoubleLongLeftArrow:``,DoubleLongLeftRightArrow:``,DoubleLongRightArrow:``,DoubleRightArrow:``,DoubleRightTee:``,DoubleUpArrow:``,DoubleUpDownArrow:``,DoubleVerticalBar:``,DownArrow:``,Downarrow:``,downarrow:``,DownArrowBar:``,DownArrowUpArrow:``,DownBreve:``,downdownarrows:``,downharpoonleft:``,downharpoonright:``,DownLeftRightVector:``,DownLeftTeeVector:``,DownLeftVector:``,DownLeftVectorBar:``,DownRightTeeVector:``,DownRightVector:``,DownRightVectorBar:``,DownTee:``,DownTeeArrow:``,drbkarow:``,drcorn:``,drcrop:``,Dscr:``,dscr:``,DScy:``,dscy:``,dsol:``,Dstrok:``,dstrok:``,dtdot:``,dtri:``,dtrif:``,duarr:``,duhar:``,dwangle:``,DZcy:``,dzcy:``,dzigrarr:``,Eacute:``,eacute:``,easter:``,Ecaron:``,ecaron:``,ecir:``,Ecirc:``,ecirc:``,ecolon:``,Ecy:``,ecy:``,eDDot:``,Edot:``,eDot:``,edot:``,ee:``,efDot:``,Efr:``,efr:``,eg:``,Egrave:``,egrave:``,egs:``,egsdot:``,el:``,Element:``,elinters:``,ell:``,els:``,elsdot:``,Emacr:``,emacr:``,empty:``,emptyset:``,EmptySmallSquare:``,emptyv:``,EmptyVerySmallSquare:``,emsp:``,emsp13:``,emsp14:``,ENG:``,eng:``,ensp:``,Eogon:``,eogon:``,Eopf:``,eopf:``,epar:``,eparsl:``,eplus:``,epsi:``,Epsilon:``,epsilon:``,epsiv:``,eqcirc:``,eqcolon:``,eqsim:``,eqslantgtr:``,eqslantless:``,Equal:``,equals:`=`,EqualTilde:``,equest:``,Equilibrium:``,equiv:``,equivDD:``,eqvparsl:``,erarr:``,erDot:``,Escr:``,escr:``,esdot:``,Esim:``,esim:``,Eta:``,eta:``,ETH:``,eth:``,Euml:``,euml:``,euro:``,excl:`!`,exist:``,Exists:``,expectation:``,ExponentialE:``,exponentiale:``,fallingdotseq:``,Fcy:``,fcy:``,female:``,ffilig:``,fflig:``,ffllig:``,Ffr:``,ffr:``,filig:``,FilledSmallSquare:``,FilledVerySmallSquare:``,fjlig:`fj`,flat:``,fllig:``,fltns:``,fnof:``,Fopf:``,fopf:``,ForAll:``,forall:``,fork:``,forkv:``,Fouriertrf:``,fpartint:``,frac12:``,frac13:``,frac14:``,frac15:``,frac16:``,frac18:``,frac23:``,frac25:``,frac34:``,frac35:``,frac38:``,frac45:``,frac56:``,frac58:``,frac78:``,frasl:``,frown:``,Fscr:``,fscr:``,gacute:``,Gamma:``,gamma:``,Gammad:``,gammad:``,gap:``,Gbreve:``,gbreve:``,Gcedil:``,Gcirc:``,gcirc:``,Gcy:``,gcy:``,Gdot:``,gdot:``,gE:``,ge:``,gEl:``,gel:``,geq:``,geqq:``,geqslant:``,ges:``,gescc:``,gesdot:``,gesdoto:``,gesdotol:``,gesl:``,gesles:``,Gfr:``,gfr:``,Gg:``,gg:``,ggg:``,gimel:``,GJcy:``,gjcy:``,gl:``,gla:``,glE:``,glj:``,gnap:``,gnapprox:``,gnE:``,gne:``,gneq:``,gneqq:``,gnsim:``,Gopf:``,gopf:``,grave:"`",GreaterEqual:``,GreaterEqualLess:``,GreaterFullEqual:``,GreaterGreater:``,GreaterLess:``,GreaterSlantEqual:``,GreaterTilde:``,Gscr:``,gscr:``,gsim:``,gsime:``,gsiml:``,Gt:``,GT:`>`,gt:`>`,gtcc:``,gtcir:``,gtdot:``,gtlPar:``,gtquest:``,gtrapprox:``,gtrarr:``,gtrdot:``,gtreqless:``,gtreqqless:``,gtrless:``,gtrsim:``,gvertneqq:``,gvnE:``,Hacek:``,hairsp:``,half:``,hamilt:``,HARDcy:``,hardcy:``,hArr:``,harr:``,harrcir:``,harrw:``,Hat:`^`,hbar:``,Hcirc:``,hcirc:``,hearts:``,heartsuit:``,hellip:``,hercon:``,Hfr:``,hfr:``,HilbertSpace:``,hksearow:``,hkswarow:``,hoarr:``,homtht:``,hookleftarrow:``,hookrightarrow:``,Hopf:``,hopf:``,horbar:``,HorizontalLine:``,Hscr:``,hscr:``,hslash:``,Hstrok:``,hstrok:``,HumpDownHump:``,HumpEqual:``,hybull:``,hyphen:``,Iacute:``,iacute:``,ic:``,Icirc:``,icirc:``,Icy:``,icy:``,Idot:``,IEcy:``,iecy:``,iexcl:``,iff:``,Ifr:``,ifr:``,Igrave:``,igrave:``,ii:``,iiiint:``,iiint:``,iinfin:``,iiota:``,IJlig:``,ijlig:``,Im:``,Imacr:``,imacr:``,image:``,ImaginaryI:``,imagline:``,imagpart:``,imath:``,imof:``,imped:``,Implies:``,in:``,incare:``,infin:``,infintie:``,inodot:``,Int:``,int:``,intcal:``,integers:``,Integral:``,intercal:``,Intersection:``,intlarhk:``,intprod:``,InvisibleComma:``,InvisibleTimes:``,IOcy:``,iocy:``,Iogon:``,iogon:``,Iopf:``,iopf:``,Iota:``,iota:``,iprod:``,iquest:``,Iscr:``,iscr:``,isin:``,isindot:``,isinE:``,isins:``,isinsv:``,isinv:``,it:``,Itilde:``,itilde:``,Iukcy:``,iukcy:``,Iuml:``,iuml:``,Jcirc:``,jcirc:``,Jcy:``,jcy:``,Jfr:``,jfr:``,jmath:``,Jopf:``,jopf:``,Jscr:``,jscr:``,Jsercy:``,jsercy:``,Jukcy:``,jukcy:``,Kappa:``,kappa:``,kappav:``,Kcedil:``,kcedil:``,Kcy:``,kcy:``,Kfr:``,kfr:``,kgreen:``,KHcy:``,khcy:``,KJcy:``,kjcy:``,Kopf:``,kopf:``,Kscr:``,kscr:``,lAarr:``,Lacute:``,lacute:``,laemptyv:``,lagran:``,Lambda:``,lambda:``,Lang:``,lang:``,langd:``,langle:``,lap:``,Laplacetrf:``,laquo:``,Larr:``,lArr:``,larr:``,larrb:``,larrbfs:``,larrfs:``,larrhk:``,larrlp:``,larrpl:``,larrsim:``,larrtl:``,lat:``,lAtail:``,latail:``,late:``,lates:``,lBarr:``,lbarr:``,lbbrk:``,lbrace:`{`,lbrack:`[`,lbrke:``,lbrksld:``,lbrkslu:``,Lcaron:``,lcaron:``,Lcedil:``,lcedil:``,lceil:``,lcub:`{`,Lcy:``,lcy:``,ldca:``,ldquo:``,ldquor:``,ldrdhar:``,ldrushar:``,ldsh:``,lE:``,le:``,LeftAngleBracket:``,LeftArrow:``,Leftarrow:``,leftarrow:``,LeftArrowBar:``,LeftArrowRightArrow:``,leftarrowtail:``,LeftCeiling:``,LeftDoubleBracket:``,LeftDownTeeVector:``,LeftDownVector:``,LeftDownVectorBar:``,LeftFloor:``,leftharpoondown:``,leftharpoonup:``,leftleftarrows:``,LeftRightArrow:``,Leftrightarrow:``,leftrightarrow:``,leftrightarrows:``,leftrightharpoons:``,leftrightsquigarrow:``,LeftRightVector:``,LeftTee:``,LeftTeeArrow:``,LeftTeeVector:``,leftthreetimes:``,LeftTriangle:``,LeftTriangleBar:``,LeftTriangleEqual:``,LeftUpDownVector:``,LeftUpTeeVector:``,LeftUpVector:``,LeftUpVectorBar:``,LeftVector:``,LeftVectorBar:``,lEg:``,leg:``,leq:``,leqq:``,leqslant:``,les:``,lescc:``,lesdot:``,lesdoto:``,lesdotor:``,lesg:``,lesges:``,lessapprox:``,lessdot:``,lesseqgtr:``,lesseqqgtr:``,LessEqualGreater:``,LessFullEqual:``,LessGreater:``,lessgtr:``,LessLess:``,lesssim:``,LessSlantEqual:``,LessTilde:``,lfisht:``,lfloor:``,Lfr:``,lfr:``,lg:``,lgE:``,lHar:``,lhard:``,lharu:``,lharul:``,lhblk:``,LJcy:``,ljcy:``,Ll:``,ll:``,llarr:``,llcorner:``,Lleftarrow:``,llhard:``,lltri:``,Lmidot:``,lmidot:``,lmoust:``,lmoustache:``,lnap:``,lnapprox:``,lnE:``,lne:``,lneq:``,lneqq:``,lnsim:``,loang:``,loarr:``,lobrk:``,LongLeftArrow:``,Longleftarrow:``,longleftarrow:``,LongLeftRightArrow:``,Longleftrightarrow:``,longleftrightarrow:``,longmapsto:``,LongRightArrow:``,Longrightarrow:``,longrightarrow:``,looparrowleft:``,looparrowright:``,lopar:``,Lopf:``,lopf:``,loplus:``,lotimes:``,lowast:``,lowbar:`_`,LowerLeftArrow:``,LowerRightArrow:``,loz:``,lozenge:``,lozf:``,lpar:`(`,lparlt:``,lrarr:``,lrcorner:``,lrhar:``,lrhard:``,lrm:``,lrtri:``,lsaquo:``,Lscr:``,lscr:``,Lsh:``,lsh:``,lsim:``,lsime:``,lsimg:``,lsqb:`[`,lsquo:``,lsquor:``,Lstrok:``,lstrok:``,Lt:``,LT:`<`,lt:`<`,ltcc:``,ltcir:``,ltdot:``,lthree:``,ltimes:``,ltlarr:``,ltquest:``,ltri:``,ltrie:``,ltrif:``,ltrPar:``,lurdshar:``,luruhar:``,lvertneqq:``,lvnE:``,macr:``,male:``,malt:``,maltese:``,Map:``,map:``,mapsto:``,mapstodown:``,mapstoleft:``,mapstoup:``,marker:``,mcomma:``,Mcy:``,mcy:``,mdash:``,mDDot:``,measuredangle:``,MediumSpace:``,Mellintrf:``,Mfr:``,mfr:``,mho:``,micro:``,mid:``,midast:`*`,midcir:``,middot:``,minus:``,minusb:``,minusd:``,minusdu:``,MinusPlus:``,mlcp:``,mldr:``,mnplus:``,models:``,Mopf:``,mopf:``,mp:``,Mscr:``,mscr:``,mstpos:``,Mu:``,mu:``,multimap:``,mumap:``,nabla:``,Nacute:``,nacute:``,nang:``,nap:``,napE:``,napid:``,napos:``,napprox:``,natur:``,natural:``,naturals:``,nbsp:`\xA0`,nbump:``,nbumpe:``,ncap:``,Ncaron:``,ncaron:``,Ncedil:``,ncedil:``,ncong:``,ncongdot:``,ncup:``,Ncy:``,ncy:``,ndash:``,ne:``,nearhk:``,neArr:``,nearr:``,nearrow:``,nedot:``,NegativeMediumSpace:``,NegativeThickSpace:``,NegativeThinSpace:``,NegativeVeryThinSpace:``,nequiv:``,nesear:``,nesim:``,NestedGreaterGreater:``,NestedLessLess:``,NewLine:`
`,nexist:``,nexists:``,Nfr:``,nfr:``,ngE:``,nge:``,ngeq:``,ngeqq:``,ngeqslant:``,nges:``,nGg:``,ngsim:``,nGt:``,ngt:``,ngtr:``,nGtv:``,nhArr:``,nharr:``,nhpar:``,ni:``,nis:``,nisd:``,niv:``,NJcy:``,njcy:``,nlArr:``,nlarr:``,nldr:``,nlE:``,nle:``,nLeftarrow:``,nleftarrow:``,nLeftrightarrow:``,nleftrightarrow:``,nleq:``,nleqq:``,nleqslant:``,nles:``,nless:``,nLl:``,nlsim:``,nLt:``,nlt:``,nltri:``,nltrie:``,nLtv:``,nmid:``,NoBreak:``,NonBreakingSpace:`\xA0`,Nopf:``,nopf:``,Not:``,not:``,NotCongruent:``,NotCupCap:``,NotDoubleVerticalBar:``,NotElement:``,NotEqual:``,NotEqualTilde:``,NotExists:``,NotGreater:``,NotGreaterEqual:``,NotGreaterFullEqual:``,NotGreaterGreater:``,NotGreaterLess:``,NotGreaterSlantEqual:``,NotGreaterTilde:``,NotHumpDownHump:``,NotHumpEqual:``,notin:``,notindot:``,notinE:``,notinva:``,notinvb:``,notinvc:``,NotLeftTriangle:``,NotLeftTriangleBar:``,NotLeftTriangleEqual:``,NotLess:``,NotLessEqual:``,NotLessGreater:``,NotLessLess:``,NotLessSlantEqual:``,NotLessTilde:``,NotNestedGreaterGreater:``,NotNestedLessLess:``,notni:``,notniva:``,notnivb:``,notnivc:``,NotPrecedes:``,NotPrecedesEqual:``,NotPrecedesSlantEqual:``,NotReverseElement:``,NotRightTriangle:``,NotRightTriangleBar:``,NotRightTriangleEqual:``,NotSquareSubset:``,NotSquareSubsetEqual:``,NotSquareSuperset:``,NotSquareSupersetEqual:``,NotSubset:``,NotSubsetEqual:``,NotSucceeds:``,NotSucceedsEqual:``,NotSucceedsSlantEqual:``,NotSucceedsTilde:``,NotSuperset:``,NotSupersetEqual:``,NotTilde:``,NotTildeEqual:``,NotTildeFullEqual:``,NotTildeTilde:``,NotVerticalBar:``,npar:``,nparallel:``,nparsl:``,npart:``,npolint:``,npr:``,nprcue:``,npre:``,nprec:``,npreceq:``,nrArr:``,nrarr:``,nrarrc:``,nrarrw:``,nRightarrow:``,nrightarrow:``,nrtri:``,nrtrie:``,nsc:``,nsccue:``,nsce:``,Nscr:``,nscr:``,nshortmid:``,nshortparallel:``,nsim:``,nsime:``,nsimeq:``,nsmid:``,nspar:``,nsqsube:``,nsqsupe:``,nsub:``,nsubE:``,nsube:``,nsubset:``,nsubseteq:``,nsubseteqq:``,nsucc:``,nsucceq:``,nsup:``,nsupE:``,nsupe:``,nsupset:``,nsupseteq:``,nsupseteqq:``,ntgl:``,Ntilde:``,ntilde:``,ntlg:``,ntriangleleft:``,ntrianglelefteq:``,ntriangleright:``,ntrianglerighteq:``,Nu:``,nu:``,num:`#`,numero:``,numsp:``,nvap:``,nVDash:``,nVdash:``,nvDash:``,nvdash:``,nvge:``,nvgt:`>`,nvHarr:``,nvinfin:``,nvlArr:``,nvle:``,nvlt:`<`,nvltrie:``,nvrArr:``,nvrtrie:``,nvsim:``,nwarhk:``,nwArr:``,nwarr:``,nwarrow:``,nwnear:``,Oacute:``,oacute:``,oast:``,ocir:``,Ocirc:``,ocirc:``,Ocy:``,ocy:``,odash:``,Odblac:``,odblac:``,odiv:``,odot:``,odsold:``,OElig:``,oelig:``,ofcir:``,Ofr:``,ofr:``,ogon:``,Ograve:``,ograve:``,ogt:``,ohbar:``,ohm:``,oint:``,olarr:``,olcir:``,olcross:``,oline:``,olt:``,Omacr:``,omacr:``,Omega:``,omega:``,Omicron:``,omicron:``,omid:``,ominus:``,Oopf:``,oopf:``,opar:``,OpenCurlyDoubleQuote:``,OpenCurlyQuote:``,operp:``,oplus:``,Or:``,or:``,orarr:``,ord:``,order:``,orderof:``,ordf:``,ordm:``,origof:``,oror:``,orslope:``,orv:``,oS:``,Oscr:``,oscr:``,Oslash:``,oslash:``,osol:``,Otilde:``,otilde:``,Otimes:``,otimes:``,otimesas:``,Ouml:``,ouml:``,ovbar:``,OverBar:``,OverBrace:``,OverBracket:``,OverParenthesis:``,par:``,para:``,parallel:``,parsim:``,parsl:``,part:``,PartialD:``,Pcy:``,pcy:``,percnt:`%`,period:`.`,permil:``,perp:``,pertenk:``,Pfr:``,pfr:``,Phi:``,phi:``,phiv:``,phmmat:``,phone:``,Pi:``,pi:``,pitchfork:``,piv:``,planck:``,planckh:``,plankv:``,plus:`+`,plusacir:``,plusb:``,pluscir:``,plusdo:``,plusdu:``,pluse:``,PlusMinus:``,plusmn:``,plussim:``,plustwo:``,pm:``,Poincareplane:``,pointint:``,Popf:``,popf:``,pound:``,Pr:``,pr:``,prap:``,prcue:``,prE:``,pre:``,prec:``,precapprox:``,preccurlyeq:``,Precedes:``,PrecedesEqual:``,PrecedesSlantEqual:``,PrecedesTilde:``,preceq:``,precnapprox:``,precneqq:``,precnsim:``,precsim:``,Prime:``,prime:``,primes:``,prnap:``,prnE:``,prnsim:``,prod:``,Product:``,profalar:``,profline:``,profsurf:``,prop:``,Proportion:``,Proportional:``,propto:``,prsim:``,prurel:``,Pscr:``,pscr:``,Psi:``,psi:``,puncsp:``,Qfr:``,qfr:``,qint:``,Qopf:``,qopf:``,qprime:``,Qscr:``,qscr:``,quaternions:``,quatint:``,quest:`?`,questeq:``,QUOT:`"`,quot:`"`,rAarr:``,race:``,Racute:``,racute:``,radic:``,raemptyv:``,Rang:``,rang:``,rangd:``,range:``,rangle:``,raquo:``,Rarr:``,rArr:``,rarr:``,rarrap:``,rarrb:``,rarrbfs:``,rarrc:``,rarrfs:``,rarrhk:``,rarrlp:``,rarrpl:``,rarrsim:``,Rarrtl:``,rarrtl:``,rarrw:``,rAtail:``,ratail:``,ratio:``,rationals:``,RBarr:``,rBarr:``,rbarr:``,rbbrk:``,rbrace:`}`,rbrack:`]`,rbrke:``,rbrksld:``,rbrkslu:``,Rcaron:``,rcaron:``,Rcedil:``,rcedil:``,rceil:``,rcub:`}`,Rcy:``,rcy:``,rdca:``,rdldhar:``,rdquo:``,rdquor:``,rdsh:``,Re:``,real:``,realine:``,realpart:``,reals:``,rect:``,REG:``,reg:``,ReverseElement:``,ReverseEquilibrium:``,ReverseUpEquilibrium:``,rfisht:``,rfloor:``,Rfr:``,rfr:``,rHar:``,rhard:``,rharu:``,rharul:``,Rho:``,rho:``,rhov:``,RightAngleBracket:``,RightArrow:``,Rightarrow:``,rightarrow:``,RightArrowBar:``,RightArrowLeftArrow:``,rightarrowtail:``,RightCeiling:``,RightDoubleBracket:``,RightDownTeeVector:``,RightDownVector:``,RightDownVectorBar:``,RightFloor:``,rightharpoondown:``,rightharpoonup:``,rightleftarrows:``,rightleftharpoons:``,rightrightarrows:``,rightsquigarrow:``,RightTee:``,RightTeeArrow:``,RightTeeVector:``,rightthreetimes:``,RightTriangle:``,RightTriangleBar:``,RightTriangleEqual:``,RightUpDownVector:``,RightUpTeeVector:``,RightUpVector:``,RightUpVectorBar:``,RightVector:``,RightVectorBar:``,ring:``,risingdotseq:``,rlarr:``,rlhar:``,rlm:``,rmoust:``,rmoustache:``,rnmid:``,roang:``,roarr:``,robrk:``,ropar:``,Ropf:``,ropf:``,roplus:``,rotimes:``,RoundImplies:``,rpar:`)`,rpargt:``,rppolint:``,rrarr:``,Rrightarrow:``,rsaquo:``,Rscr:``,rscr:``,Rsh:``,rsh:``,rsqb:`]`,rsquo:``,rsquor:``,rthree:``,rtimes:``,rtri:``,rtrie:``,rtrif:``,rtriltri:``,RuleDelayed:``,ruluhar:``,rx:``,Sacute:``,sacute:``,sbquo:``,Sc:``,sc:``,scap:``,Scaron:``,scaron:``,sccue:``,scE:``,sce:``,Scedil:``,scedil:``,Scirc:``,scirc:``,scnap:``,scnE:``,scnsim:``,scpolint:``,scsim:``,Scy:``,scy:``,sdot:``,sdotb:``,sdote:``,searhk:``,seArr:``,searr:``,searrow:``,sect:``,semi:`;`,seswar:``,setminus:``,setmn:``,sext:``,Sfr:``,sfr:``,sfrown:``,sharp:``,SHCHcy:``,shchcy:``,SHcy:``,shcy:``,ShortDownArrow:``,ShortLeftArrow:``,shortmid:``,shortparallel:``,ShortRightArrow:``,ShortUpArrow:``,shy:``,Sigma:``,sigma:``,sigmaf:``,sigmav:``,sim:``,simdot:``,sime:``,simeq:``,simg:``,simgE:``,siml:``,simlE:``,simne:``,simplus:``,simrarr:``,slarr:``,SmallCircle:``,smallsetminus:``,smashp:``,smeparsl:``,smid:``,smile:``,smt:``,smte:``,smtes:``,SOFTcy:``,softcy:``,sol:`/`,solb:``,solbar:``,Sopf:``,sopf:``,spades:``,spadesuit:``,spar:``,sqcap:``,sqcaps:``,sqcup:``,sqcups:``,Sqrt:``,sqsub:``,sqsube:``,sqsubset:``,sqsubseteq:``,sqsup:``,sqsupe:``,sqsupset:``,sqsupseteq:``,squ:``,Square:``,square:``,SquareIntersection:``,SquareSubset:``,SquareSubsetEqual:``,SquareSuperset:``,SquareSupersetEqual:``,SquareUnion:``,squarf:``,squf:``,srarr:``,Sscr:``,sscr:``,ssetmn:``,ssmile:``,sstarf:``,Star:``,star:``,starf:``,straightepsilon:``,straightphi:``,strns:``,Sub:``,sub:``,subdot:``,subE:``,sube:``,subedot:``,submult:``,subnE:``,subne:``,subplus:``,subrarr:``,Subset:``,subset:``,subseteq:``,subseteqq:``,SubsetEqual:``,subsetneq:``,subsetneqq:``,subsim:``,subsub:``,subsup:``,succ:``,succapprox:``,succcurlyeq:``,Succeeds:``,SucceedsEqual:``,SucceedsSlantEqual:``,SucceedsTilde:``,succeq:``,succnapprox:``,succneqq:``,succnsim:``,succsim:``,SuchThat:``,Sum:``,sum:``,sung:``,Sup:``,sup:``,sup1:``,sup2:``,sup3:``,supdot:``,supdsub:``,supE:``,supe:``,supedot:``,Superset:``,SupersetEqual:``,suphsol:``,suphsub:``,suplarr:``,supmult:``,supnE:``,supne:``,supplus:``,Supset:``,supset:``,supseteq:``,supseteqq:``,supsetneq:``,supsetneqq:``,supsim:``,supsub:``,supsup:``,swarhk:``,swArr:``,swarr:``,swarrow:``,swnwar:``,szlig:``,Tab:`	`,target:``,Tau:``,tau:``,tbrk:``,Tcaron:``,tcaron:``,Tcedil:``,tcedil:``,Tcy:``,tcy:``,tdot:``,telrec:``,Tfr:``,tfr:``,there4:``,Therefore:``,therefore:``,Theta:``,theta:``,thetasym:``,thetav:``,thickapprox:``,thicksim:``,ThickSpace:``,thinsp:``,ThinSpace:``,thkap:``,thksim:``,THORN:``,thorn:``,Tilde:``,tilde:``,TildeEqual:``,TildeFullEqual:``,TildeTilde:``,times:``,timesb:``,timesbar:``,timesd:``,tint:``,toea:``,top:``,topbot:``,topcir:``,Topf:``,topf:``,topfork:``,tosa:``,tprime:``,TRADE:``,trade:``,triangle:``,triangledown:``,triangleleft:``,trianglelefteq:``,triangleq:``,triangleright:``,trianglerighteq:``,tridot:``,trie:``,triminus:``,TripleDot:``,triplus:``,trisb:``,tritime:``,trpezium:``,Tscr:``,tscr:``,TScy:``,tscy:``,TSHcy:``,tshcy:``,Tstrok:``,tstrok:``,twixt:``,twoheadleftarrow:``,twoheadrightarrow:``,Uacute:``,uacute:``,Uarr:``,uArr:``,uarr:``,Uarrocir:``,Ubrcy:``,ubrcy:``,Ubreve:``,ubreve:``,Ucirc:``,ucirc:``,Ucy:``,ucy:``,udarr:``,Udblac:``,udblac:``,udhar:``,ufisht:``,Ufr:``,ufr:``,Ugrave:``,ugrave:``,uHar:``,uharl:``,uharr:``,uhblk:``,ulcorn:``,ulcorner:``,ulcrop:``,ultri:``,Umacr:``,umacr:``,uml:``,UnderBar:`_`,UnderBrace:``,UnderBracket:``,UnderParenthesis:``,Union:``,UnionPlus:``,Uogon:``,uogon:``,Uopf:``,uopf:``,UpArrow:``,Uparrow:``,uparrow:``,UpArrowBar:``,UpArrowDownArrow:``,UpDownArrow:``,Updownarrow:``,updownarrow:``,UpEquilibrium:``,upharpoonleft:``,upharpoonright:``,uplus:``,UpperLeftArrow:``,UpperRightArrow:``,Upsi:``,upsi:``,upsih:``,Upsilon:``,upsilon:``,UpTee:``,UpTeeArrow:``,upuparrows:``,urcorn:``,urcorner:``,urcrop:``,Uring:``,uring:``,urtri:``,Uscr:``,uscr:``,utdot:``,Utilde:``,utilde:``,utri:``,utrif:``,uuarr:``,Uuml:``,uuml:``,uwangle:``,vangrt:``,varepsilon:``,varkappa:``,varnothing:``,varphi:``,varpi:``,varpropto:``,vArr:``,varr:``,varrho:``,varsigma:``,varsubsetneq:``,varsubsetneqq:``,varsupsetneq:``,varsupsetneqq:``,vartheta:``,vartriangleleft:``,vartriangleright:``,Vbar:``,vBar:``,vBarv:``,Vcy:``,vcy:``,VDash:``,Vdash:``,vDash:``,vdash:``,Vdashl:``,Vee:``,vee:``,veebar:``,veeeq:``,vellip:``,Verbar:``,verbar:`|`,Vert:``,vert:`|`,VerticalBar:``,VerticalLine:`|`,VerticalSeparator:``,VerticalTilde:``,VeryThinSpace:``,Vfr:``,vfr:``,vltri:``,vnsub:``,vnsup:``,Vopf:``,vopf:``,vprop:``,vrtri:``,Vscr:``,vscr:``,vsubnE:``,vsubne:``,vsupnE:``,vsupne:``,Vvdash:``,vzigzag:``,Wcirc:``,wcirc:``,wedbar:``,Wedge:``,wedge:``,wedgeq:``,weierp:``,Wfr:``,wfr:``,Wopf:``,wopf:``,wp:``,wr:``,wreath:``,Wscr:``,wscr:``,xcap:``,xcirc:``,xcup:``,xdtri:``,Xfr:``,xfr:``,xhArr:``,xharr:``,Xi:``,xi:``,xlArr:``,xlarr:``,xmap:``,xnis:``,xodot:``,Xopf:``,xopf:``,xoplus:``,xotime:``,xrArr:``,xrarr:``,Xscr:``,xscr:``,xsqcup:``,xuplus:``,xutri:``,xvee:``,xwedge:``,Yacute:``,yacute:``,YAcy:``,yacy:``,Ycirc:``,ycirc:``,Ycy:``,ycy:``,yen:``,Yfr:``,yfr:``,YIcy:``,yicy:``,Yopf:``,yopf:``,Yscr:``,yscr:``,YUcy:``,yucy:``,Yuml:``,yuml:``,Zacute:``,zacute:``,Zcaron:``,zcaron:``,Zcy:``,zcy:``,Zdot:``,zdot:``,zeetrf:``,ZeroWidthSpace:``,Zeta:``,zeta:``,Zfr:``,zfr:``,ZHcy:``,zhcy:``,zigrarr:``,Zopf:``,zopf:``,Zscr:``,zscr:``,zwj:``,zwnj:``}),e.entityMap=e.HTML_ENTITIES},268:(t,e,s)=>{var i,r;s.d(e,{Al:()=>c,Gb:()=>a,Oe:()=>d});var n=s(546),o=s(999);let a=i||=s.t(n,2),c=new a.DOMImplementation().createDocument(``,``),l=((r||=s.t(o,2))===null||(r||=s.t(o,2))===void 0?void 0:o.install)||window.wgxpath.install,h=function(){let t$1={document:{},XPathResult:{}};return l(t$1),t$1.document.XPathResult=t$1.XPathResult,t$1.document}(),d={currentDocument:c,evaluate:h.evaluate,result:h.XPathResult,createNSResolver:h.createNSResolver}},546:(t,e,s)=>{var i=s(870);e.assign=i.assign,e.hasDefaultHTMLNamespace=i.hasDefaultHTMLNamespace,e.isHTMLMimeType=i.isHTMLMimeType,e.isValidMimeType=i.isValidMimeType,e.MIME_TYPE=i.MIME_TYPE,e.NAMESPACE=i.NAMESPACE;var r=s(767);e.DOMException=r.DOMException,e.DOMExceptionName=r.DOMExceptionName,e.ExceptionCode=r.ExceptionCode,e.ParseError=r.ParseError;var n=s(786);e.Attr=n.Attr,e.CDATASection=n.CDATASection,e.CharacterData=n.CharacterData,e.Comment=n.Comment,e.Document=n.Document,e.DocumentFragment=n.DocumentFragment,e.DocumentType=n.DocumentType,e.DOMImplementation=n.DOMImplementation,e.Element=n.Element,e.Entity=n.Entity,e.EntityReference=n.EntityReference,e.LiveNodeList=n.LiveNodeList,e.NamedNodeMap=n.NamedNodeMap,e.Node=n.Node,e.NodeList=n.NodeList,e.Notation=n.Notation,e.ProcessingInstruction=n.ProcessingInstruction,e.Text=n.Text,e.XMLSerializer=n.XMLSerializer;var o=s(576);e.DOMParser=o.DOMParser,e.normalizeLineEndings=o.normalizeLineEndings,e.onErrorStopParsing=o.onErrorStopParsing,e.onWarningStopParsing=o.onWarningStopParsing},576:(t,e,s)=>{var i=s(870),r=s(786),n=s(767),o=s(159),a=s(802),c=r.DOMImplementation,l=i.hasDefaultHTMLNamespace,h=i.isHTMLMimeType,d=i.isValidMimeType,u=i.MIME_TYPE,p=i.NAMESPACE,m=n.ParseError,f=a.XMLReader;function g(t$1){return t$1.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028\u2029]/g,`
`)}function b(t$1){if((t$1||={}).locator===void 0&&(t$1.locator=!0),this.assign=t$1.assign||i.assign,this.domHandler=t$1.domHandler||E,this.onError=t$1.onError||t$1.errorHandler,t$1.errorHandler&&typeof t$1.errorHandler!=`function`)throw TypeError(`errorHandler object is no longer supported, switch to onError!`);t$1.errorHandler&&t$1.errorHandler(`warning`,"The `errorHandler` option has been deprecated, use `onError` instead!",this),this.normalizeLineEndings=t$1.normalizeLineEndings||g,this.locator=!!t$1.locator,this.xmlns=this.assign(Object.create(null),t$1.xmlns)}function E(t$1){var e$1=t$1||{};this.mimeType=e$1.mimeType||u.XML_APPLICATION,this.defaultNamespace=e$1.defaultNamespace||null,this.cdata=!1,this.currentElement=void 0,this.doc=void 0,this.locator=void 0,this.onError=e$1.onError}function N(t$1,e$1){e$1.lineNumber=t$1.lineNumber,e$1.columnNumber=t$1.columnNumber}function y(t$1,e$1,s$1){return typeof t$1==`string`?t$1.substr(e$1,s$1):t$1.length>=e$1+s$1||e$1?new java.lang.String(t$1,e$1,s$1)+``:t$1}function x(t$1,e$1){t$1.currentElement?t$1.currentElement.appendChild(e$1):t$1.doc.appendChild(e$1)}b.prototype.parseFromString=function(t$1,e$1){if(!d(e$1))throw TypeError(`DOMParser.parseFromString: the provided mimeType "`+e$1+`" is not valid.`);var s$1=this.assign(Object.create(null),this.xmlns),r$1=o.XML_ENTITIES,n$1=s$1[``]||null;l(e$1)?(r$1=o.HTML_ENTITIES,n$1=p.HTML):e$1===u.XML_SVG_IMAGE&&(n$1=p.SVG),s$1[``]=n$1,s$1.xml=s$1.xml||p.XML;var a$1=new this.domHandler({mimeType:e$1,defaultNamespace:n$1,onError:this.onError}),c$1=this.locator?{}:void 0;this.locator&&a$1.setDocumentLocator(c$1);var h$1=new f;return h$1.errorHandler=a$1,h$1.domBuilder=a$1,!i.isHTMLMimeType(e$1)&&typeof t$1!=`string`&&h$1.errorHandler.fatalError(`source is not a string`),h$1.parse(this.normalizeLineEndings(String(t$1)),s$1,r$1),a$1.doc.documentElement||h$1.errorHandler.fatalError(`missing root element`),a$1.doc},E.prototype={startDocument:function(){var t$1=new c;this.doc=h(this.mimeType)?t$1.createHTMLDocument(!1):t$1.createDocument(this.defaultNamespace,``)},startElement:function(t$1,e$1,s$1,i$1){var r$1=this.doc,n$1=r$1.createElementNS(t$1,s$1||e$1),o$1=i$1.length;x(this,n$1),this.currentElement=n$1,this.locator&&N(this.locator,n$1);for(var a$1=0;a$1<o$1;a$1++){t$1=i$1.getURI(a$1);var c$1=i$1.getValue(a$1),l$1=(s$1=i$1.getQName(a$1),r$1.createAttributeNS(t$1,s$1));this.locator&&N(i$1.getLocator(a$1),l$1),l$1.value=l$1.nodeValue=c$1,n$1.setAttributeNode(l$1)}},endElement:function(t$1,e$1,s$1){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(t$1,e$1){},endPrefixMapping:function(t$1){},processingInstruction:function(t$1,e$1){var s$1=this.doc.createProcessingInstruction(t$1,e$1);this.locator&&N(this.locator,s$1),x(this,s$1)},ignorableWhitespace:function(t$1,e$1,s$1){},characters:function(t$1,e$1,s$1){if(t$1=y.apply(this,arguments)){if(this.cdata)var i$1=this.doc.createCDATASection(t$1);else i$1=this.doc.createTextNode(t$1);this.currentElement?this.currentElement.appendChild(i$1):/^\s*$/.test(t$1)&&this.doc.appendChild(i$1),this.locator&&N(this.locator,i$1)}},skippedEntity:function(t$1){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t$1){t$1&&(t$1.lineNumber=0),this.locator=t$1},comment:function(t$1,e$1,s$1){t$1=y.apply(this,arguments);var i$1=this.doc.createComment(t$1);this.locator&&N(this.locator,i$1),x(this,i$1)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t$1,e$1,s$1,i$1){var r$1=this.doc.implementation;if(r$1&&r$1.createDocumentType){var n$1=r$1.createDocumentType(t$1,e$1,s$1,i$1);this.locator&&N(this.locator,n$1),x(this,n$1),this.doc.doctype=n$1}},reportError:function(t$1,e$1){if(typeof this.onError==`function`)try{this.onError(t$1,e$1,this)}catch(s$1){throw new m(`Reporting `+t$1+` "`+e$1+`" caused `+s$1,this.locator)}else console.error(`[xmldom `+t$1+`]	`+e$1,function(t$2){if(t$2)return`
@#[line:`+t$2.lineNumber+`,col:`+t$2.columnNumber+`]`}(this.locator))},warning:function(t$1){this.reportError(`warning`,t$1)},error:function(t$1){this.reportError(`error`,t$1)},fatalError:function(t$1){throw this.reportError(`fatalError`,t$1),new m(t$1,this.locator)}},`endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl`.replace(/\w+/g,(function(t$1){E.prototype[t$1]=function(){return null}})),e.__DOMHandler=E,e.DOMParser=b,e.normalizeLineEndings=g,e.onErrorStopParsing=function(t$1){if(t$1===`error`)throw`onErrorStopParsing`},e.onWarningStopParsing=function(){throw`onWarningStopParsing`}},714:(t,e,s)=>{s.d(e,{u:()=>i});class i{static ensureLocale(t$1,e$1){return i.LOCALES.get(t$1)?t$1:(console.error(`Locale ${t$1} does not exist! Using ${i.LOCALES.get(e$1)} instead.`),e$1)}}i.VERSION=`5.0.0-beta.1`,i.LOCALES=new Map([[`af`,`Africaans`],[`ca`,`Catalan`],[`da`,`Danish`],[`de`,`German`],[`en`,`English`],[`es`,`Spanish`],[`euro`,`Euro`],[`fr`,`French`],[`hi`,`Hindi`],[`it`,`Italian`],[`ko`,`Korean`],[`nb`,`Bokml`],[`nn`,`Nynorsk`],[`sv`,`Swedish`],[`nemeth`,`Nemeth`]]),i.mathjaxVersion=`4.0.0`,i.url=`https://cdn.jsdelivr.net/npm/speech-rule-engine@`+i.VERSION+`/lib/mathmaps`},731:(t,e)=>{function s(t$1){try{typeof t$1!=`function`&&(t$1=RegExp);var e$1=new t$1(``,`u`).exec(``);return!!e$1&&e$1[0].length===2}catch{}return!1}var i=s();function r(t$1){if(t$1.source[0]!==`[`)throw Error(t$1+` can not be used with chars`);return t$1.source.slice(1,t$1.source.lastIndexOf(`]`))}function n(t$1,e$1){if(t$1.source[0]!==`[`)throw Error(`/`+t$1.source+`/ can not be used with chars_without`);if(!e$1||typeof e$1!=`string`)throw Error(JSON.stringify(e$1)+` is not a valid search`);if(t$1.source.indexOf(e$1)===-1)throw Error(`"`+e$1+`" is not is /`+t$1.source+`/`);if(e$1===`-`&&t$1.source.indexOf(e$1)!==1)throw Error(`"`+e$1+`" is not at the first postion of /`+t$1.source+`/`);return new RegExp(t$1.source.replace(e$1,``),i?`u`:``)}function o(t$1){var e$1=this;return new RegExp(Array.prototype.slice.call(arguments).map((function(t$2){var s$1=typeof t$2==`string`;if(s$1&&e$1===void 0&&t$2===`|`)throw Error("use regg instead of reg to wrap expressions with `|`!");return s$1?t$2:t$2.source})).join(``),i?`mu`:`m`)}function a(t$1){if(arguments.length===0)throw Error(`no parameters provided`);return o.apply(a,[`(?:`].concat(Array.prototype.slice.call(arguments),[`)`]))}var c=/[-\x09\x0A\x0D\x20-\x2C\x2E-\uD7FF\uE000-\uFFFD]/;i&&(c=o(`[`,r(c),`\\u{10000}-\\u{10FFFF}`,`]`));var l=/[\x20\x09\x0D\x0A]/,h=r(l),d=o(l,`+`),u=o(l,`*`),p=/[:_a-zA-Z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;i&&(p=o(`[`,r(p),`\\u{10000}-\\u{10FFFF}`,`]`));var m=o(`[`,r(p),r(/[-.0-9\xB7]/),r(/[\u0300-\u036F\u203F-\u2040]/),`]`),f=o(p,m,`*`),g=o(m,`+`),N=a(o(`&`,f,`;`),`|`,a(/&#[0-9]+;|&#x[0-9a-fA-F]+;/)),y=o(`%`,f,`;`),x=a(o(`"`,a(/[^%&"]/,`|`,y,`|`,N),`*`,`"`),`|`,o(`'`,a(/[^%&']/,`|`,y,`|`,N),`*`,`'`)),v=a(`"`,a(/[^<&"]/,`|`,N),`*`,`"`,`|`,`'`,a(/[^<&']/,`|`,N),`*`,`'`),C=o(n(p,`:`),n(m,`:`),`*`),T=o(C,a(`:`,C),`?`),w=o(`^`,T,`$`),_=o(`(`,T,`)`),k=a(/"[^"]*"|'[^']*'/),A=o(/^<\?/,`(`,f,`)`,a(d,`(`,c,`*?)`),`?`,/\?>/),L=/[\x20\x0D\x0Aa-zA-Z0-9-'()+,./:=?;!*#@$_%]/,M=a(`"`,L,`*"`,`|`,`'`,n(L,`'`),`*'`),I=`<!--`,S=o(I,a(n(c,`-`),`|`,o(`-`,n(c,`-`))),`*`,`-->`),R=`#PCDATA`,D=a(`EMPTY`,`|`,`ANY`,`|`,a(o(/\(/,u,R,a(u,/\|/,u,T),`*`,u,/\)\*/),`|`,o(/\(/,u,R,u,/\)/)),`|`,o(/\([^>]+\)/,/[?*+]?/)),P=o(`<!ELEMENT`,d,a(T,`|`,y),d,a(D,`|`,y),u,`>`),H=o(`<!ATTLIST`,d,f,a(d,f,d,a(/CDATA|ID|IDREF|IDREFS|ENTITY|ENTITIES|NMTOKEN|NMTOKENS/,`|`,a(o(`NOTATION`,d,/\(/,u,f,a(u,/\|/,u,f),`*`,u,/\)/),`|`,o(/\(/,u,g,a(u,/\|/,u,g),`*`,u,/\)/))),d,a(/#REQUIRED|#IMPLIED/,`|`,a(a(`#FIXED`,d),`?`,v))),`*`,u,`>`),W=`about:legacy-compat`,z=a(`"`+W+`"`,`|`,`'`+W+`'`),X=`SYSTEM`,V=`PUBLIC`,G=a(a(X,d,k),`|`,a(V,d,M,d,k)),J=o(`^`,a(a(X,d,`(?<SystemLiteralOnly>`,k,`)`),`|`,a(V,d,`(?<PubidLiteral>`,M,`)`,d,`(?<SystemLiteral>`,k,`)`))),K=a(d,`NDATA`,d,f),$=`<!ENTITY`,Z=a(o($,d,f,d,a(x,`|`,a(G,K,`?`)),u,`>`),`|`,o($,d,`%`,d,f,d,a(x,`|`,G),u,`>`)),et=o(`<!NOTATION`,d,f,d,a(G,`|`,o(V,d,M)),u,`>`),st=o(u,`=`,u),it=/1[.]\d+/,rt=o(d,`version`,st,a(`'`,it,`'`,`|`,`"`,it,`"`)),nt=/[A-Za-z][-A-Za-z0-9._]*/,ot=o(/^<\?xml/,rt,a(d,`encoding`,st,a(`"`,nt,`"`,`|`,`'`,nt,`'`)),`?`,a(d,`standalone`,st,a(`'`,a(`yes`,`|`,`no`),`'`,`|`,`"`,a(`yes`,`|`,`no`),`"`)),`?`,u,/\?>/),ct=o(/<!\[CDATA\[/,o(c,`*?`,/\]\]>/));e.chars=r,e.chars_without=n,e.detectUnicodeSupport=s,e.reg=o,e.regg=a,e.ABOUT_LEGACY_COMPAT=W,e.ABOUT_LEGACY_COMPAT_SystemLiteral=z,e.AttlistDecl=H,e.CDATA_START=`<![CDATA[`,e.CDATA_END=`]]>`,e.CDSect=ct,e.Char=c,e.Comment=S,e.COMMENT_START=I,e.COMMENT_END=`-->`,e.DOCTYPE_DECL_START=`<!DOCTYPE`,e.elementdecl=P,e.EntityDecl=Z,e.EntityValue=x,e.ExternalID=G,e.ExternalID_match=J,e.Name=f,e.NotationDecl=et,e.Reference=N,e.PEReference=y,e.PI=A,e.PUBLIC=V,e.PubidLiteral=M,e.QName=T,e.QName_exact=w,e.QName_group=_,e.S=d,e.SChar_s=h,e.S_OPT=u,e.SYSTEM=X,e.SystemLiteral=k,e.UNICODE_REPLACEMENT_CHARACTER=``,e.UNICODE_SUPPORT=i,e.XMLDecl=ot},767:(t,e,s)=>{function i(t$1,e$1){t$1.prototype=Object.create(Error.prototype,{constructor:{value:t$1},name:{value:t$1.name,enumerable:!0,writable:e$1}})}var r=s(870).freeze({Error:`Error`,IndexSizeError:`IndexSizeError`,DomstringSizeError:`DomstringSizeError`,HierarchyRequestError:`HierarchyRequestError`,WrongDocumentError:`WrongDocumentError`,InvalidCharacterError:`InvalidCharacterError`,NoDataAllowedError:`NoDataAllowedError`,NoModificationAllowedError:`NoModificationAllowedError`,NotFoundError:`NotFoundError`,NotSupportedError:`NotSupportedError`,InUseAttributeError:`InUseAttributeError`,InvalidStateError:`InvalidStateError`,SyntaxError:`SyntaxError`,InvalidModificationError:`InvalidModificationError`,NamespaceError:`NamespaceError`,InvalidAccessError:`InvalidAccessError`,ValidationError:`ValidationError`,TypeMismatchError:`TypeMismatchError`,SecurityError:`SecurityError`,NetworkError:`NetworkError`,AbortError:`AbortError`,URLMismatchError:`URLMismatchError`,QuotaExceededError:`QuotaExceededError`,TimeoutError:`TimeoutError`,InvalidNodeTypeError:`InvalidNodeTypeError`,DataCloneError:`DataCloneError`,EncodingError:`EncodingError`,NotReadableError:`NotReadableError`,UnknownError:`UnknownError`,ConstraintError:`ConstraintError`,DataError:`DataError`,TransactionInactiveError:`TransactionInactiveError`,ReadOnlyError:`ReadOnlyError`,VersionError:`VersionError`,OperationError:`OperationError`,NotAllowedError:`NotAllowedError`,OptOutError:`OptOutError`}),n=Object.keys(r);function o(t$1){return typeof t$1==`number`&&t$1>=1&&t$1<=25}function a(t$1,e$1){var s$1;o(t$1)?(this.name=n[t$1],this.message=e$1||``):(this.message=t$1,this.name=typeof(s$1=e$1)==`string`&&s$1.substring(s$1.length-r.Error.length)===r.Error?e$1:r.Error),Error.captureStackTrace&&Error.captureStackTrace(this,a)}i(a,!0),Object.defineProperties(a.prototype,{code:{enumerable:!0,get:function(){var t$1=n.indexOf(this.name);return o(t$1)?t$1:0}}});for(var c={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25},l=Object.entries(c),h=0;h<l.length;h++)a[l[h][0]]=l[h][1];function d(t$1,e$1){this.message=t$1,this.locator=e$1,Error.captureStackTrace&&Error.captureStackTrace(this,d)}i(d),e.DOMException=a,e.DOMExceptionName=r,e.ExceptionCode=c,e.ParseError=d},786:(t,e,s)=>{var i=s(870),r=i.find,n=i.hasDefaultHTMLNamespace,o=i.hasOwn,a=i.isHTMLMimeType,c=i.isHTMLRawTextElement,l=i.isHTMLVoidElement,h=i.MIME_TYPE,d=i.NAMESPACE,u=Symbol(),p=s(767),m=p.DOMException,f=p.DOMExceptionName,g=s(731);function b(t$1){if(t$1!==u)throw TypeError(`Illegal constructor`)}function E(t$1){return t$1!==``}function N(t$1,e$1){return o(t$1,e$1)||(t$1[e$1]=!0),t$1}function y(t$1){if(!t$1)return[];var e$1=function(t$2){return t$2?t$2.split(/[\t\n\f\r ]+/).filter(E):[]}(t$1);return Object.keys(e$1.reduce(N,{}))}function x(t$1){if(!g.QName_exact.test(t$1))throw new m(m.INVALID_CHARACTER_ERR,`invalid character in qualified name "`+t$1+`"`)}function v(t$1,e$1){x(e$1),t$1||=null;var s$1=null,r$1=e$1;if(e$1.indexOf(`:`)>=0){var n$1=e$1.split(`:`);s$1=n$1[0],r$1=n$1[1]}if(s$1!==null&&t$1===null)throw new m(m.NAMESPACE_ERR,`prefix is non-null and namespace is null`);if(s$1===`xml`&&t$1!==i.NAMESPACE.XML)throw new m(m.NAMESPACE_ERR,`prefix is "xml" and namespace is not the XML namespace`);if((s$1===`xmlns`||e$1===`xmlns`)&&t$1!==i.NAMESPACE.XMLNS)throw new m(m.NAMESPACE_ERR,`either qualifiedName or prefix is "xmlns" and namespace is not the XMLNS namespace`);if(t$1===i.NAMESPACE.XMLNS&&s$1!==`xmlns`&&e$1!==`xmlns`)throw new m(m.NAMESPACE_ERR,`namespace is the XMLNS namespace and neither qualifiedName nor prefix is "xmlns"`);return[t$1,s$1,r$1]}function C(t$1,e$1){for(var s$1 in t$1)o(t$1,s$1)&&(e$1[s$1]=t$1[s$1])}function T(t$1,e$1){var s$1=t$1.prototype;if(!(s$1 instanceof e$1)){function i$1(){}i$1.prototype=e$1.prototype,C(s$1,i$1=new i$1),t$1.prototype=s$1=i$1}s$1.constructor!=t$1&&(typeof t$1!=`function`&&console.error(`unknown Class:`+t$1),s$1.constructor=t$1)}var w={},_=w.ELEMENT_NODE=1,k=w.ATTRIBUTE_NODE=2,A=w.TEXT_NODE=3,L=w.CDATA_SECTION_NODE=4,M=w.ENTITY_REFERENCE_NODE=5,I=w.ENTITY_NODE=6,S=w.PROCESSING_INSTRUCTION_NODE=7,R=w.COMMENT_NODE=8,O=w.DOCUMENT_NODE=9,D=w.DOCUMENT_TYPE_NODE=10,P=w.DOCUMENT_FRAGMENT_NODE=11,B=w.NOTATION_NODE=12,F=i.freeze({DOCUMENT_POSITION_DISCONNECTED:1,DOCUMENT_POSITION_PRECEDING:2,DOCUMENT_POSITION_FOLLOWING:4,DOCUMENT_POSITION_CONTAINS:8,DOCUMENT_POSITION_CONTAINED_BY:16,DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC:32});function j(t$1,e$1){if(e$1.length<t$1.length)return j(e$1,t$1);var s$1=null;for(var i$1 in t$1){if(t$1[i$1]!==e$1[i$1])return s$1;s$1=t$1[i$1]}return s$1}function U(t$1){return t$1.guid||=Math.random(),t$1.guid}function q(){}function H(t$1,e$1){this._node=t$1,this._refresh=e$1,W(this)}function W(t$1){var e$1=t$1._node._inc||t$1._node.ownerDocument._inc;if(t$1._inc!==e$1){var s$1=t$1._refresh(t$1._node);if(Mt(t$1,`length`,s$1.length),!t$1.$$length||s$1.length<t$1.$$length)for(var i$1=s$1.length;i$1 in t$1;i$1++)o(t$1,i$1)&&delete t$1[i$1];C(s$1,t$1),t$1._inc=e$1}}function z(){}function X(t$1,e$1){for(var s$1=0;s$1<t$1.length;){if(t$1[s$1]===e$1)return s$1;s$1++}}function V(t$1,e$1,s$1,i$1){if(i$1?e$1[X(e$1,i$1)]=s$1:(e$1[e$1.length]=s$1,e$1.length++),t$1){s$1.ownerElement=t$1;var r$1=t$1.ownerDocument;r$1&&(i$1&&Z(r$1,t$1,i$1),function(t$2,e$2,s$2){t$2&&t$2._inc++,s$2.namespaceURI===d.XMLNS&&(e$2._nsMap[s$2.prefix?s$2.localName:``]=s$2.value)}(r$1,t$1,s$1))}}function G(t$1,e$1,s$1){var i$1=X(e$1,s$1);if(i$1>=0){for(var r$1=e$1.length-1;i$1<=r$1;)e$1[i$1]=e$1[++i$1];if(e$1.length=r$1,t$1){var n$1=t$1.ownerDocument;n$1&&Z(n$1,t$1,s$1),s$1.ownerElement=null}}}function J(){}function K(t$1){b(t$1)}function $(t$1){return(t$1==`<`?`&lt;`:t$1==`>`&&`&gt;`)||t$1==`&`&&`&amp;`||t$1==`"`&&`&quot;`||`&#`+t$1.charCodeAt()+`;`}function Y(t$1,e$1){if(e$1(t$1))return!0;if(t$1=t$1.firstChild)do if(Y(t$1,e$1))return!0;while(t$1=t$1.nextSibling)}function Q(t$1,e$1){b(t$1);var s$1=e$1||{};this.ownerDocument=this,this.contentType=s$1.contentType||h.XML_APPLICATION,this.type=a(this.contentType)?`html`:`xml`}function Z(t$1,e$1,s$1,i$1){t$1&&t$1._inc++,s$1.namespaceURI===d.XMLNS&&delete e$1._nsMap[s$1.prefix?s$1.localName:``]}function tt(t$1,e$1,s$1){if(t$1&&t$1._inc){t$1._inc++;var i$1=e$1.childNodes;if(s$1&&!s$1.nextSibling)i$1[i$1.length++]=s$1;else{for(var r$1=e$1.firstChild,n$1=0;r$1;)i$1[n$1++]=r$1,r$1=r$1.nextSibling;i$1.length=n$1,delete i$1[i$1.length]}}}function et(t$1,e$1){if(t$1!==e$1.parentNode)throw new m(m.NOT_FOUND_ERR,`child's parent is not parent`);var s$1=e$1.previousSibling,i$1=e$1.nextSibling;return s$1?s$1.nextSibling=i$1:t$1.firstChild=i$1,i$1?i$1.previousSibling=s$1:t$1.lastChild=s$1,tt(t$1.ownerDocument,t$1),e$1.parentNode=null,e$1.previousSibling=null,e$1.nextSibling=null,e$1}function st(t$1){return t$1&&t$1.nodeType===K.DOCUMENT_TYPE_NODE}function it(t$1){return t$1&&t$1.nodeType===K.ELEMENT_NODE}function rt(t$1){return t$1&&t$1.nodeType===K.TEXT_NODE}function nt(t$1,e$1){var s$1=t$1.childNodes||[];if(r(s$1,it)||st(e$1))return!1;var i$1=r(s$1,st);return!(e$1&&i$1&&s$1.indexOf(i$1)>s$1.indexOf(e$1))}function ot(t$1,e$1){var s$1=t$1.childNodes||[];if(r(s$1,(function(t$2){return it(t$2)&&t$2!==e$1})))return!1;var i$1=r(s$1,st);return!(e$1&&i$1&&s$1.indexOf(i$1)>s$1.indexOf(e$1))}function at(t$1,e$1,s$1){if(!function(t$2){return t$2&&(t$2.nodeType===K.DOCUMENT_NODE||t$2.nodeType===K.DOCUMENT_FRAGMENT_NODE||t$2.nodeType===K.ELEMENT_NODE)}(t$1))throw new m(m.HIERARCHY_REQUEST_ERR,`Unexpected parent node type `+t$1.nodeType);if(s$1&&s$1.parentNode!==t$1)throw new m(m.NOT_FOUND_ERR,`child not in parent`);if(!function(t$2){return t$2&&(t$2.nodeType===K.CDATA_SECTION_NODE||t$2.nodeType===K.COMMENT_NODE||t$2.nodeType===K.DOCUMENT_FRAGMENT_NODE||t$2.nodeType===K.DOCUMENT_TYPE_NODE||t$2.nodeType===K.ELEMENT_NODE||t$2.nodeType===K.PROCESSING_INSTRUCTION_NODE||t$2.nodeType===K.TEXT_NODE)}(e$1)||st(e$1)&&t$1.nodeType!==K.DOCUMENT_NODE)throw new m(m.HIERARCHY_REQUEST_ERR,`Unexpected node type `+e$1.nodeType+` for parent node type `+t$1.nodeType)}function ct(t$1,e$1,s$1){var i$1=t$1.childNodes||[],n$1=e$1.childNodes||[];if(e$1.nodeType===K.DOCUMENT_FRAGMENT_NODE){var o$1=n$1.filter(it);if(o$1.length>1||r(n$1,rt))throw new m(m.HIERARCHY_REQUEST_ERR,`More than one element or text in fragment`);if(o$1.length===1&&!nt(t$1,s$1))throw new m(m.HIERARCHY_REQUEST_ERR,`Element in fragment can not be inserted before doctype`)}if(it(e$1)&&!nt(t$1,s$1))throw new m(m.HIERARCHY_REQUEST_ERR,`Only one element can be added and only after doctype`);if(st(e$1)){if(r(i$1,st))throw new m(m.HIERARCHY_REQUEST_ERR,`Only one doctype is allowed`);var a$1=r(i$1,it);if(s$1&&i$1.indexOf(a$1)<i$1.indexOf(s$1))throw new m(m.HIERARCHY_REQUEST_ERR,`Doctype can only be inserted before an element`);if(!s$1&&a$1)throw new m(m.HIERARCHY_REQUEST_ERR,`Doctype can not be appended since element is present`)}}function lt(t$1,e$1,s$1){var i$1=t$1.childNodes||[],n$1=e$1.childNodes||[];if(e$1.nodeType===K.DOCUMENT_FRAGMENT_NODE){var o$1=n$1.filter(it);if(o$1.length>1||r(n$1,rt))throw new m(m.HIERARCHY_REQUEST_ERR,`More than one element or text in fragment`);if(o$1.length===1&&!ot(t$1,s$1))throw new m(m.HIERARCHY_REQUEST_ERR,`Element in fragment can not be inserted before doctype`)}if(it(e$1)&&!ot(t$1,s$1))throw new m(m.HIERARCHY_REQUEST_ERR,`Only one element can be added and only after doctype`);if(st(e$1)){function c$1(t$2){return st(t$2)&&t$2!==s$1}if(r(i$1,c$1))throw new m(m.HIERARCHY_REQUEST_ERR,`Only one doctype is allowed`);var a$1=r(i$1,it);if(s$1&&i$1.indexOf(a$1)<i$1.indexOf(s$1))throw new m(m.HIERARCHY_REQUEST_ERR,`Doctype can only be inserted before an element`)}}function ht(t$1,e$1,s$1,i$1){at(t$1,e$1,s$1),t$1.nodeType===K.DOCUMENT_NODE&&(i$1||ct)(t$1,e$1,s$1);var r$1=e$1.parentNode;if(r$1&&r$1.removeChild(e$1),e$1.nodeType===P){var n$1=e$1.firstChild;if(n$1==null)return e$1;var o$1=e$1.lastChild}else n$1=o$1=e$1;var a$1=s$1?s$1.previousSibling:t$1.lastChild;n$1.previousSibling=a$1,o$1.nextSibling=s$1,a$1?a$1.nextSibling=n$1:t$1.firstChild=n$1,s$1==null?t$1.lastChild=o$1:s$1.previousSibling=o$1;do n$1.parentNode=t$1;while(n$1!==o$1&&(n$1=n$1.nextSibling));return tt(t$1.ownerDocument||t$1,t$1,e$1),e$1.nodeType==P&&(e$1.firstChild=e$1.lastChild=null),e$1}function dt(t$1){b(t$1),this._nsMap=Object.create(null)}function ut(t$1){b(t$1),this.namespaceURI=null,this.prefix=null,this.ownerElement=null}function pt(t$1){b(t$1)}function mt(t$1){b(t$1)}function ft(t$1){b(t$1)}function gt(t$1){b(t$1)}function bt(t$1){b(t$1)}function Et(t$1){b(t$1)}function Nt(t$1){b(t$1)}function yt(t$1){b(t$1)}function xt(t$1){b(t$1)}function vt(t$1){b(t$1)}function Ct(){}function Tt(t$1){var e$1=[],s$1=this.nodeType===O&&this.documentElement||this,i$1=s$1.prefix,r$1=s$1.namespaceURI;if(r$1&&i$1==null&&(i$1=s$1.lookupPrefix(r$1))==null)var n$1=[{namespace:r$1,prefix:null}];return kt(this,e$1,t$1,n$1),e$1.join(``)}function wt(t$1,e$1,s$1){var i$1=t$1.prefix||``,r$1=t$1.namespaceURI;if(!r$1||i$1===`xml`&&r$1===d.XML||r$1===d.XMLNS)return!1;for(var n$1=s$1.length;n$1--;){var o$1=s$1[n$1];if(o$1.prefix===i$1)return o$1.namespace!==r$1}return!0}function _t(t$1,e$1,s$1){t$1.push(` `,e$1,`="`,s$1.replace(/[<>&"\t\n\r]/g,$),`"`)}function kt(t$1,e$1,s$1,i$1){i$1||=[];var r$1=(t$1.nodeType===O?t$1:t$1.ownerDocument).type===`html`;if(s$1){if(!(t$1=s$1(t$1)))return;if(typeof t$1==`string`)return void e$1.push(t$1)}switch(t$1.nodeType){case _:var n$1=t$1.attributes,o$1=n$1.length,a$1=t$1.firstChild,h$1=t$1.tagName,u$1=h$1;if(!r$1&&!t$1.prefix&&t$1.namespaceURI){for(var p$1,m$1=0;m$1<n$1.length;m$1++)if(n$1.item(m$1).name===`xmlns`){p$1=n$1.item(m$1).value;break}if(!p$1){for(var f$1=i$1.length-1;f$1>=0;f$1--)if((b$1=i$1[f$1]).prefix===``&&b$1.namespace===t$1.namespaceURI){p$1=b$1.namespace;break}}if(p$1!==t$1.namespaceURI)for(f$1=i$1.length-1;f$1>=0;f$1--){var b$1;if((b$1=i$1[f$1]).namespace===t$1.namespaceURI){b$1.prefix&&(u$1=b$1.prefix+`:`+h$1);break}}}e$1.push(`<`,u$1);for(var E$1=0;E$1<o$1;E$1++)(N$1=n$1.item(E$1)).prefix==`xmlns`?i$1.push({prefix:N$1.localName,namespace:N$1.value}):N$1.nodeName==`xmlns`&&i$1.push({prefix:``,namespace:N$1.value});for(E$1=0;E$1<o$1;E$1++){var N$1,y$1,x$1;wt(N$1=n$1.item(E$1),0,i$1)&&(_t(e$1,(y$1=N$1.prefix||``)?`xmlns:`+y$1:`xmlns`,x$1=N$1.namespaceURI),i$1.push({prefix:y$1,namespace:x$1})),kt(N$1,e$1,s$1,i$1)}h$1===u$1&&wt(t$1,0,i$1)&&(_t(e$1,(y$1=t$1.prefix||``)?`xmlns:`+y$1:`xmlns`,x$1=t$1.namespaceURI),i$1.push({prefix:y$1,namespace:x$1}));var v$1=!a$1;if(v$1&&(r$1||t$1.namespaceURI===d.HTML)&&(v$1=l(h$1)),v$1)e$1.push(`/>`);else{if(e$1.push(`>`),r$1&&c(h$1))for(;a$1;)a$1.data?e$1.push(a$1.data):kt(a$1,e$1,s$1,i$1.slice()),a$1=a$1.nextSibling;else for(;a$1;)kt(a$1,e$1,s$1,i$1.slice()),a$1=a$1.nextSibling;e$1.push(`</`,u$1,`>`)}return;case O:case P:for(a$1=t$1.firstChild;a$1;)kt(a$1,e$1,s$1,i$1.slice()),a$1=a$1.nextSibling;return;case k:return _t(e$1,t$1.name,t$1.value);case A:return e$1.push(t$1.data.replace(/[<&>]/g,$));case L:return e$1.push(g.CDATA_START,t$1.data,g.CDATA_END);case R:return e$1.push(g.COMMENT_START,t$1.data,g.COMMENT_END);case D:var C$1=t$1.publicId,T$1=t$1.systemId;e$1.push(g.DOCTYPE_DECL_START,` `,t$1.name),C$1?(e$1.push(` `,g.PUBLIC,` `,C$1),T$1&&T$1!==`.`&&e$1.push(` `,T$1)):T$1&&T$1!==`.`&&e$1.push(` `,g.SYSTEM,` `,T$1),t$1.internalSubset&&e$1.push(` [`,t$1.internalSubset,`]`),e$1.push(`>`);return;case S:return e$1.push(`<?`,t$1.target,` `,t$1.data,`?>`);case M:return e$1.push(`&`,t$1.nodeName,`;`);default:e$1.push(`??`,t$1.nodeName)}}function At(t$1,e$1,s$1){var i$1;switch(e$1.nodeType){case _:(i$1=e$1.cloneNode(!1)).ownerDocument=t$1;case P:break;case k:s$1=!0}if(i$1||=e$1.cloneNode(!1),i$1.ownerDocument=t$1,i$1.parentNode=null,s$1)for(var r$1=e$1.firstChild;r$1;)i$1.appendChild(At(t$1,r$1,s$1)),r$1=r$1.nextSibling;return i$1}function Lt(t$1,e$1,s$1){var i$1=new e$1.constructor(u);for(var r$1 in e$1)if(o(e$1,r$1)){var n$1=e$1[r$1];typeof n$1!=`object`&&n$1!=i$1[r$1]&&(i$1[r$1]=n$1)}switch(e$1.childNodes&&(i$1.childNodes=new q),i$1.ownerDocument=t$1,i$1.nodeType){case _:var a$1=e$1.attributes,c$1=i$1.attributes=new z,l$1=a$1.length;c$1._ownerElement=i$1;for(var h$1=0;h$1<l$1;h$1++)i$1.setAttributeNode(Lt(t$1,a$1.item(h$1),!0));break;case k:s$1=!0}if(s$1)for(var d$1=e$1.firstChild;d$1;)i$1.appendChild(Lt(t$1,d$1,s$1)),d$1=d$1.nextSibling;return i$1}function Mt(t$1,e$1,s$1){t$1[e$1]=s$1}q.prototype={length:0,item:function(t$1){return t$1>=0&&t$1<this.length?this[t$1]:null},toString:function(t$1){for(var e$1=[],s$1=0;s$1<this.length;s$1++)kt(this[s$1],e$1,t$1);return e$1.join(``)},filter:function(t$1){return Array.prototype.filter.call(this,t$1)},indexOf:function(t$1){return Array.prototype.indexOf.call(this,t$1)}},q.prototype[Symbol.iterator]=function(){var t$1=this,e$1=0;return{next:function(){return e$1<t$1.length?{value:t$1[e$1++],done:!1}:{done:!0}},return:function(){return{done:!0}}}},H.prototype.item=function(t$1){return W(this),this[t$1]||null},T(H,q),z.prototype={length:0,item:q.prototype.item,getNamedItem:function(t$1){this._ownerElement&&this._ownerElement._isInHTMLDocumentAndNamespace()&&(t$1=t$1.toLowerCase());for(var e$1=0;e$1<this.length;){var s$1=this[e$1];if(s$1.nodeName===t$1)return s$1;e$1++}return null},setNamedItem:function(t$1){var e$1=t$1.ownerElement;if(e$1&&e$1!==this._ownerElement)throw new m(m.INUSE_ATTRIBUTE_ERR);var s$1=this.getNamedItemNS(t$1.namespaceURI,t$1.localName);return s$1===t$1?t$1:(V(this._ownerElement,this,t$1,s$1),s$1)},setNamedItemNS:function(t$1){return this.setNamedItem(t$1)},removeNamedItem:function(t$1){var e$1=this.getNamedItem(t$1);if(!e$1)throw new m(m.NOT_FOUND_ERR,t$1);return G(this._ownerElement,this,e$1),e$1},removeNamedItemNS:function(t$1,e$1){var s$1=this.getNamedItemNS(t$1,e$1);if(!s$1)throw new m(m.NOT_FOUND_ERR,t$1?t$1+` : `+e$1:e$1);return G(this._ownerElement,this,s$1),s$1},getNamedItemNS:function(t$1,e$1){t$1||=null;for(var s$1=0;s$1<this.length;){var i$1=this[s$1];if(i$1.localName===e$1&&i$1.namespaceURI===t$1)return i$1;s$1++}return null}},z.prototype[Symbol.iterator]=function(){var t$1=this,e$1=0;return{next:function(){return e$1<t$1.length?{value:t$1[e$1++],done:!1}:{done:!0}},return:function(){return{done:!0}}}},J.prototype={hasFeature:function(t$1,e$1){return!0},createDocument:function(t$1,e$1,s$1){var i$1=h.XML_APPLICATION;t$1===d.HTML?i$1=h.XML_XHTML_APPLICATION:t$1===d.SVG&&(i$1=h.XML_SVG_IMAGE);var r$1=new Q(u,{contentType:i$1});if(r$1.implementation=this,r$1.childNodes=new q,r$1.doctype=s$1||null,s$1&&r$1.appendChild(s$1),e$1){var n$1=r$1.createElementNS(t$1,e$1);r$1.appendChild(n$1)}return r$1},createDocumentType:function(t$1,e$1,s$1,i$1){x(t$1);var r$1=new bt(u);return r$1.name=t$1,r$1.nodeName=t$1,r$1.publicId=e$1||``,r$1.systemId=s$1||``,r$1.internalSubset=i$1||``,r$1.childNodes=new q,r$1},createHTMLDocument:function(t$1){var e$1=new Q(u,{contentType:h.HTML});if(e$1.implementation=this,e$1.childNodes=new q,!1!==t$1){e$1.doctype=this.createDocumentType(`html`),e$1.doctype.ownerDocument=e$1,e$1.appendChild(e$1.doctype);var s$1=e$1.createElement(`html`);e$1.appendChild(s$1);var i$1=e$1.createElement(`head`);if(s$1.appendChild(i$1),typeof t$1==`string`){var r$1=e$1.createElement(`title`);r$1.appendChild(e$1.createTextNode(t$1)),i$1.appendChild(r$1)}s$1.appendChild(e$1.createElement(`body`))}return e$1}},K.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,parentNode:null,get parentElement(){return this.parentNode&&this.parentNode.nodeType===this.ELEMENT_NODE?this.parentNode:null},childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,baseURI:`about:blank`,get isConnected(){var t$1=this.getRootNode();return t$1&&t$1.nodeType===t$1.DOCUMENT_NODE},contains:function(t$1){if(!t$1)return!1;var e$1=t$1;do{if(this===e$1)return!0;e$1=t$1.parentNode}while(e$1);return!1},getRootNode:function(t$1){var e$1=this;do{if(!e$1.parentNode)return e$1;e$1=e$1.parentNode}while(e$1)},isEqualNode:function(t$1){if(!t$1||this.nodeType!==t$1.nodeType)return!1;switch(this.nodeType){case this.DOCUMENT_TYPE_NODE:if(this.name!==t$1.name||this.publicId!==t$1.publicId||this.systemId!==t$1.systemId)return!1;break;case this.ELEMENT_NODE:if(this.namespaceURI!==t$1.namespaceURI||this.prefix!==t$1.prefix||this.localName!==t$1.localName||this.attributes.length!==t$1.attributes.length)return!1;for(var e$1=0;e$1<this.attributes.length;e$1++){var s$1=this.attributes.item(e$1);if(!s$1.isEqualNode(t$1.getAttributeNodeNS(s$1.namespaceURI,s$1.localName)))return!1}break;case this.ATTRIBUTE_NODE:if(this.namespaceURI!==t$1.namespaceURI||this.localName!==t$1.localName||this.value!==t$1.value)return!1;break;case this.PROCESSING_INSTRUCTION_NODE:if(this.target!==t$1.target||this.data!==t$1.data)return!1;break;case this.TEXT_NODE:case this.COMMENT_NODE:if(this.data!==t$1.data)return!1}if(this.childNodes.length!==t$1.childNodes.length)return!1;for(e$1=0;e$1<this.childNodes.length;e$1++)if(!this.childNodes[e$1].isEqualNode(t$1.childNodes[e$1]))return!1;return!0},isSameNode:function(t$1){return this===t$1},insertBefore:function(t$1,e$1){return ht(this,t$1,e$1)},replaceChild:function(t$1,e$1){ht(this,t$1,e$1,lt),e$1&&this.removeChild(e$1)},removeChild:function(t$1){return et(this,t$1)},appendChild:function(t$1){return this.insertBefore(t$1,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t$1){return Lt(this.ownerDocument||this,this,t$1)},normalize:function(){for(var t$1=this.firstChild;t$1;){var e$1=t$1.nextSibling;e$1&&e$1.nodeType==A&&t$1.nodeType==A?(this.removeChild(e$1),t$1.appendData(e$1.data)):(t$1.normalize(),t$1=e$1)}},isSupported:function(t$1,e$1){return this.ownerDocument.implementation.hasFeature(t$1,e$1)},lookupPrefix:function(t$1){for(var e$1=this;e$1;){var s$1=e$1._nsMap;if(s$1){for(var i$1 in s$1)if(o(s$1,i$1)&&s$1[i$1]===t$1)return i$1}e$1=e$1.nodeType==k?e$1.ownerDocument:e$1.parentNode}return null},lookupNamespaceURI:function(t$1){for(var e$1=this;e$1;){var s$1=e$1._nsMap;if(s$1&&o(s$1,t$1))return s$1[t$1];e$1=e$1.nodeType==k?e$1.ownerDocument:e$1.parentNode}return null},isDefaultNamespace:function(t$1){return this.lookupPrefix(t$1)==null},compareDocumentPosition:function(t$1){if(this===t$1)return 0;var e$1=t$1,s$1=this,i$1=null,r$1=null;if(e$1 instanceof ut&&(e$1=(i$1=e$1).ownerElement),s$1 instanceof ut&&(s$1=(r$1=s$1).ownerElement,i$1&&e$1&&s$1===e$1))for(var n$1,o$1=0;n$1=s$1.attributes[o$1];o$1++){if(n$1===i$1)return F.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+F.DOCUMENT_POSITION_PRECEDING;if(n$1===r$1)return F.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+F.DOCUMENT_POSITION_FOLLOWING}if(!e$1||!s$1||s$1.ownerDocument!==e$1.ownerDocument)return F.DOCUMENT_POSITION_DISCONNECTED+F.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+(U(s$1.ownerDocument)>U(e$1.ownerDocument)?F.DOCUMENT_POSITION_FOLLOWING:F.DOCUMENT_POSITION_PRECEDING);if(r$1&&e$1===s$1)return F.DOCUMENT_POSITION_CONTAINS+F.DOCUMENT_POSITION_PRECEDING;if(i$1&&e$1===s$1)return F.DOCUMENT_POSITION_CONTAINED_BY+F.DOCUMENT_POSITION_FOLLOWING;for(var a$1=[],c$1=e$1.parentNode;c$1;){if(!r$1&&c$1===s$1)return F.DOCUMENT_POSITION_CONTAINED_BY+F.DOCUMENT_POSITION_FOLLOWING;a$1.push(c$1),c$1=c$1.parentNode}a$1.reverse();for(var l$1=[],h$1=s$1.parentNode;h$1;){if(!i$1&&h$1===e$1)return F.DOCUMENT_POSITION_CONTAINS+F.DOCUMENT_POSITION_PRECEDING;l$1.push(h$1),h$1=h$1.parentNode}l$1.reverse();var d$1=j(a$1,l$1);for(var u$1 in d$1.childNodes){var p$1=d$1.childNodes[u$1];if(p$1===s$1)return F.DOCUMENT_POSITION_FOLLOWING;if(p$1===e$1)return F.DOCUMENT_POSITION_PRECEDING;if(l$1.indexOf(p$1)>=0)return F.DOCUMENT_POSITION_FOLLOWING;if(a$1.indexOf(p$1)>=0)return F.DOCUMENT_POSITION_PRECEDING}return 0}},C(w,K),C(w,K.prototype),C(F,K),C(F,K.prototype),Q.prototype={implementation:null,nodeName:`#document`,nodeType:O,doctype:null,documentElement:null,_inc:1,insertBefore:function(t$1,e$1){if(t$1.nodeType===P){for(var s$1=t$1.firstChild;s$1;){var i$1=s$1.nextSibling;this.insertBefore(s$1,e$1),s$1=i$1}return t$1}return ht(this,t$1,e$1),t$1.ownerDocument=this,this.documentElement===null&&t$1.nodeType===_&&(this.documentElement=t$1),t$1},removeChild:function(t$1){var e$1=et(this,t$1);return e$1===this.documentElement&&(this.documentElement=null),e$1},replaceChild:function(t$1,e$1){ht(this,t$1,e$1,lt),t$1.ownerDocument=this,e$1&&this.removeChild(e$1),it(t$1)&&(this.documentElement=t$1)},importNode:function(t$1,e$1){return At(this,t$1,e$1)},getElementById:function(t$1){var e$1=null;return Y(this.documentElement,(function(s$1){if(s$1.nodeType==_&&s$1.getAttribute(`id`)==t$1)return e$1=s$1,!0})),e$1},createElement:function(t$1){var e$1=new dt(u);return e$1.ownerDocument=this,this.type===`html`&&(t$1=t$1.toLowerCase()),n(this.contentType)&&(e$1.namespaceURI=d.HTML),e$1.nodeName=t$1,e$1.tagName=t$1,e$1.localName=t$1,e$1.childNodes=new q,(e$1.attributes=new z)._ownerElement=e$1,e$1},createDocumentFragment:function(){var t$1=new xt(u);return t$1.ownerDocument=this,t$1.childNodes=new q,t$1},createTextNode:function(t$1){var e$1=new mt(u);return e$1.ownerDocument=this,e$1.childNodes=new q,e$1.appendData(t$1),e$1},createComment:function(t$1){var e$1=new ft(u);return e$1.ownerDocument=this,e$1.childNodes=new q,e$1.appendData(t$1),e$1},createCDATASection:function(t$1){var e$1=new gt(u);return e$1.ownerDocument=this,e$1.childNodes=new q,e$1.appendData(t$1),e$1},createProcessingInstruction:function(t$1,e$1){var s$1=new vt(u);return s$1.ownerDocument=this,s$1.childNodes=new q,s$1.nodeName=s$1.target=t$1,s$1.nodeValue=s$1.data=e$1,s$1},createAttribute:function(t$1){if(!g.QName_exact.test(t$1))throw new m(m.INVALID_CHARACTER_ERR,`invalid character in name "`+t$1+`"`);return this.type===`html`&&(t$1=t$1.toLowerCase()),this._createAttribute(t$1)},_createAttribute:function(t$1){var e$1=new ut(u);return e$1.ownerDocument=this,e$1.childNodes=new q,e$1.name=t$1,e$1.nodeName=t$1,e$1.localName=t$1,e$1.specified=!0,e$1},createEntityReference:function(t$1){if(!g.Name.test(t$1))throw new m(m.INVALID_CHARACTER_ERR,`not a valid xml name "`+t$1+`"`);if(this.type===`html`)throw new m(`document is an html document`,f.NotSupportedError);var e$1=new yt(u);return e$1.ownerDocument=this,e$1.childNodes=new q,e$1.nodeName=t$1,e$1},createElementNS:function(t$1,e$1){var s$1=v(t$1,e$1),i$1=new dt(u),r$1=i$1.attributes=new z;return i$1.childNodes=new q,i$1.ownerDocument=this,i$1.nodeName=e$1,i$1.tagName=e$1,i$1.namespaceURI=s$1[0],i$1.prefix=s$1[1],i$1.localName=s$1[2],r$1._ownerElement=i$1,i$1},createAttributeNS:function(t$1,e$1){var s$1=v(t$1,e$1),i$1=new ut(u);return i$1.ownerDocument=this,i$1.childNodes=new q,i$1.nodeName=e$1,i$1.name=e$1,i$1.specified=!0,i$1.namespaceURI=s$1[0],i$1.prefix=s$1[1],i$1.localName=s$1[2],i$1}},T(Q,K),dt.prototype={nodeType:_,attributes:null,getQualifiedName:function(){return this.prefix?this.prefix+`:`+this.localName:this.localName},_isInHTMLDocumentAndNamespace:function(){return this.ownerDocument.type===`html`&&this.namespaceURI===d.HTML},hasAttributes:function(){return!(!this.attributes||!this.attributes.length)},hasAttribute:function(t$1){return!!this.getAttributeNode(t$1)},getAttribute:function(t$1){var e$1=this.getAttributeNode(t$1);return e$1?e$1.value:null},getAttributeNode:function(t$1){return this._isInHTMLDocumentAndNamespace()&&(t$1=t$1.toLowerCase()),this.attributes.getNamedItem(t$1)},setAttribute:function(t$1,e$1){this._isInHTMLDocumentAndNamespace()&&(t$1=t$1.toLowerCase());var s$1=this.getAttributeNode(t$1);s$1?s$1.value=s$1.nodeValue=``+e$1:((s$1=this.ownerDocument._createAttribute(t$1)).value=s$1.nodeValue=``+e$1,this.setAttributeNode(s$1))},removeAttribute:function(t$1){var e$1=this.getAttributeNode(t$1);e$1&&this.removeAttributeNode(e$1)},setAttributeNode:function(t$1){return this.attributes.setNamedItem(t$1)},setAttributeNodeNS:function(t$1){return this.attributes.setNamedItemNS(t$1)},removeAttributeNode:function(t$1){return this.attributes.removeNamedItem(t$1.nodeName)},removeAttributeNS:function(t$1,e$1){var s$1=this.getAttributeNodeNS(t$1,e$1);s$1&&this.removeAttributeNode(s$1)},hasAttributeNS:function(t$1,e$1){return this.getAttributeNodeNS(t$1,e$1)!=null},getAttributeNS:function(t$1,e$1){var s$1=this.getAttributeNodeNS(t$1,e$1);return s$1?s$1.value:null},setAttributeNS:function(t$1,e$1,s$1){var i$1=v(t$1,e$1)[2],r$1=this.getAttributeNodeNS(t$1,i$1);r$1?r$1.value=r$1.nodeValue=``+s$1:((r$1=this.ownerDocument.createAttributeNS(t$1,e$1)).value=r$1.nodeValue=``+s$1,this.setAttributeNode(r$1))},getAttributeNodeNS:function(t$1,e$1){return this.attributes.getNamedItemNS(t$1,e$1)},getElementsByClassName:function(t$1){var e$1=y(t$1);return new H(this,(function(s$1){var i$1=[];return e$1.length>0&&Y(s$1,(function(r$1){if(r$1!==s$1&&r$1.nodeType===_){var n$1=r$1.getAttribute(`class`);if(n$1){var o$1=t$1===n$1;if(!o$1){var a$1=y(n$1);o$1=e$1.every((c$1=a$1,function(t$2){return c$1&&c$1.indexOf(t$2)!==-1}))}o$1&&i$1.push(r$1)}}var c$1})),i$1}))},getElementsByTagName:function(t$1){var e$1=(this.nodeType===O?this:this.ownerDocument).type===`html`,s$1=t$1.toLowerCase();return new H(this,(function(i$1){var r$1=[];return Y(i$1,(function(n$1){n$1!==i$1&&n$1.nodeType===_&&(t$1===`*`||n$1.getQualifiedName()===(e$1&&n$1.namespaceURI===d.HTML?s$1:t$1))&&r$1.push(n$1)})),r$1}))},getElementsByTagNameNS:function(t$1,e$1){return new H(this,(function(s$1){var i$1=[];return Y(s$1,(function(r$1){r$1===s$1||r$1.nodeType!==_||t$1!==`*`&&r$1.namespaceURI!==t$1||e$1!==`*`&&r$1.localName!=e$1||i$1.push(r$1)})),i$1}))}},Q.prototype.getElementsByClassName=dt.prototype.getElementsByClassName,Q.prototype.getElementsByTagName=dt.prototype.getElementsByTagName,Q.prototype.getElementsByTagNameNS=dt.prototype.getElementsByTagNameNS,T(dt,K),ut.prototype.nodeType=k,T(ut,K),pt.prototype={data:``,substringData:function(t$1,e$1){return this.data.substring(t$1,t$1+e$1)},appendData:function(t$1){t$1=this.data+t$1,this.nodeValue=this.data=t$1,this.length=t$1.length},insertData:function(t$1,e$1){this.replaceData(t$1,0,e$1)},deleteData:function(t$1,e$1){this.replaceData(t$1,e$1,``)},replaceData:function(t$1,e$1,s$1){s$1=this.data.substring(0,t$1)+s$1+this.data.substring(t$1+e$1),this.nodeValue=this.data=s$1,this.length=s$1.length}},T(pt,K),mt.prototype={nodeName:`#text`,nodeType:A,splitText:function(t$1){var e$1=this.data,s$1=e$1.substring(t$1);e$1=e$1.substring(0,t$1),this.data=this.nodeValue=e$1,this.length=e$1.length;var i$1=this.ownerDocument.createTextNode(s$1);return this.parentNode&&this.parentNode.insertBefore(i$1,this.nextSibling),i$1}},T(mt,pt),ft.prototype={nodeName:`#comment`,nodeType:R},T(ft,pt),gt.prototype={nodeName:`#cdata-section`,nodeType:L},T(gt,mt),bt.prototype.nodeType=D,T(bt,K),Et.prototype.nodeType=B,T(Et,K),Nt.prototype.nodeType=I,T(Nt,K),yt.prototype.nodeType=M,T(yt,K),xt.prototype.nodeName=`#document-fragment`,xt.prototype.nodeType=P,T(xt,K),vt.prototype.nodeType=S,T(vt,pt),Ct.prototype.serializeToString=function(t$1,e$1){return Tt.call(t$1,e$1)},K.prototype.toString=Tt;try{if(Object.defineProperty){function It(t$1){switch(t$1.nodeType){case _:case P:var e$1=[];for(t$1=t$1.firstChild;t$1;)t$1.nodeType!==7&&t$1.nodeType!==8&&e$1.push(It(t$1)),t$1=t$1.nextSibling;return e$1.join(``);default:return t$1.nodeValue}}Object.defineProperty(H.prototype,`length`,{get:function(){return W(this),this.$$length}}),Object.defineProperty(K.prototype,`textContent`,{get:function(){return It(this)},set:function(t$1){switch(this.nodeType){case _:case P:for(;this.firstChild;)this.removeChild(this.firstChild);(t$1||String(t$1))&&this.appendChild(this.ownerDocument.createTextNode(t$1));break;default:this.data=t$1,this.value=t$1,this.nodeValue=t$1}}}),Mt=function(t$1,e$1,s$1){t$1[`$$`+e$1]=s$1}}}catch{}e._updateLiveList=W,e.Attr=ut,e.CDATASection=gt,e.CharacterData=pt,e.Comment=ft,e.Document=Q,e.DocumentFragment=xt,e.DocumentType=bt,e.DOMImplementation=J,e.Element=dt,e.Entity=Nt,e.EntityReference=yt,e.LiveNodeList=H,e.NamedNodeMap=z,e.Node=K,e.NodeList=q,e.Notation=Et,e.Text=mt,e.ProcessingInstruction=vt,e.XMLSerializer=Ct},802:(t,e,s)=>{var i=s(870),r=s(731),n=s(767),o=i.isHTMLEscapableRawTextElement,a=i.isHTMLMimeType,c=i.isHTMLRawTextElement,l=i.hasOwn,h=i.NAMESPACE,d=n.ParseError,u=n.DOMException;function p(){}p.prototype={parse:function(t$1,e$1,s$1){var n$1=this.domBuilder;n$1.startDocument(),N(e$1,e$1=Object.create(null)),function(t$2,e$2,s$2,n$2,o$1){var c$1=a(n$2.mimeType);t$2.indexOf(r.UNICODE_REPLACEMENT_CHARACTER)>=0&&o$1.warning(`Unicode replacement character detected, source encoding issues?`);function h$1(t$3){if(t$3>65535){var e$3=55296+((t$3-=65536)>>10),s$3=56320+(1023&t$3);return String.fromCharCode(e$3,s$3)}return String.fromCharCode(t$3)}function p$1(t$3){var e$3=t$3[t$3.length-1]===`;`?t$3:t$3+`;`;if(!c$1&&e$3!==t$3)return o$1.error(`EntityRef: expecting ;`),t$3;var i$1=r.Reference.exec(e$3);if(!i$1||i$1[0].length!==e$3.length)return o$1.error(`entity not matching Reference production: `+t$3),t$3;var n$3=e$3.slice(1,-1);return l(s$2,n$3)?s$2[n$3]:n$3.charAt(0)===`#`?h$1(parseInt(n$3.substring(1).replace(`x`,`0x`))):(o$1.error(`entity not found:`+t$3),t$3)}function N$1(e$3){if(e$3>M){var s$3=t$2.substring(M,e$3).replace(m,p$1);_&&k(M),n$2.characters(s$3,0,e$3-M),M=e$3}}var y$1=0,T=0,w=/\r\n?|\n|$/g,_=n$2.locator;function k(e$3,s$3){for(;e$3>=T&&(s$3=w.exec(t$2));)y$1=T,T=s$3.index+s$3[0].length,_.lineNumber++;_.columnNumber=e$3-y$1+1}for(var A=[{currentNSMap:e$2}],L=[],M=0;;){try{var I=t$2.indexOf(`<`,M);if(I<0){if(!c$1&&L.length>0)return o$1.fatalError(`unclosed xml tag(s): `+L.join(`, `));if(!t$2.substring(M).match(/^\s*$/)){var S=n$2.doc,R=S.createTextNode(t$2.substring(M));if(S.documentElement)return o$1.error(`Extra content at the end of the document`);S.appendChild(R),n$2.currentElement=R}return}if(I>M){var O=t$2.substring(M,I);c$1||L.length!==0||(O=O.replace(new RegExp(r.S_OPT.source,`g`),``))&&o$1.error(`Unexpected content outside root element: '`+O+`'`),N$1(I)}switch(t$2.charAt(I+1)){case`/`:var D=t$2.indexOf(`>`,I+2),P=t$2.substring(I+2,D>0?D:void 0);if(!P)return o$1.fatalError(`end tag name missing`);var B=D>0&&r.reg(`^`,r.QName_group,r.S_OPT,`$`).exec(P);if(!B)return o$1.fatalError(`end tag name contains invalid characters: "`+P+`"`);if(!n$2.currentElement&&!n$2.doc.documentElement)return;var F=L[L.length-1]||n$2.currentElement.tagName||n$2.doc.documentElement.tagName||``;if(F!==B[1]){var j=B[1].toLowerCase();if(!c$1||F.toLowerCase()!==j)return o$1.fatalError(`Opening and ending tag mismatch: "`+F+`" != "`+P+`"`)}var U=A.pop();L.pop();var q=U.localNSMap;if(n$2.endElement(U.uri,U.localName,F),q)for(var H in q)l(q,H)&&n$2.endPrefixMapping(H);D++;break;case`?`:_&&k(I),D=v(t$2,I,n$2,o$1);break;case`!`:_&&k(I),D=x(t$2,I,n$2,o$1,c$1);break;default:_&&k(I);var W=new C,z=A[A.length-1].currentNSMap,X=(D=g(t$2,I,W,z,p$1,o$1,c$1),W.length);if(W.closed||(c$1&&i.isHTMLVoidElement(W.tagName)?W.closed=!0:L.push(W.tagName)),_&&X){for(var V=f(_,{}),G=0;G<X;G++){var J=W[G];k(J.offset),J.locator=f(_,{})}n$2.locator=V,b(W,n$2,z)&&A.push(W),n$2.locator=_}else b(W,n$2,z)&&A.push(W);c$1&&!W.closed?D=E(t$2,D,W.tagName,p$1,n$2):D++}}catch(t$3){if(t$3 instanceof d)throw t$3;if(t$3 instanceof u)throw new d(t$3.name+`: `+t$3.message,n$2.locator,t$3);o$1.error(`element parse error: `+t$3),D=-1}D>M?M=D:N$1(Math.max(I,M)+1)}}(t$1,e$1,s$1,n$1,this.errorHandler),n$1.endDocument()}};var m=/&#?\w+;?/g;function f(t$1,e$1){return e$1.lineNumber=t$1.lineNumber,e$1.columnNumber=t$1.columnNumber,e$1}function g(t$1,e$1,s$1,i$1,r$1,n$1,o$1){function a$1(t$2,e$2,i$2){return l(s$1.attributeNames,t$2)?n$1.fatalError(`Attribute `+t$2+` redefined`):!o$1&&e$2.indexOf(`<`)>=0?n$1.fatalError(`Unescaped '<' not allowed in attributes values`):void s$1.addValue(t$2,e$2.replace(/[\t\n\r]/g,` `).replace(m,r$1),i$2)}for(var c$1,h$1=++e$1,d$1=0;;){var u$1=t$1.charAt(h$1);switch(u$1){case`=`:if(d$1===1)c$1=t$1.slice(e$1,h$1),d$1=3;else{if(d$1!==2)throw Error(`attribute equal must after attrName`);d$1=3}break;case`'`:case`"`:if(d$1===3||d$1===1){if(d$1===1&&(n$1.warning(`attribute value must after "="`),c$1=t$1.slice(e$1,h$1)),e$1=h$1+1,!((h$1=t$1.indexOf(u$1,e$1))>0))throw Error(`attribute value no end '`+u$1+`' match`);a$1(c$1,p$1=t$1.slice(e$1,h$1),e$1-1),d$1=5}else{if(d$1!=4)throw Error(`attribute value must after "="`);a$1(c$1,p$1=t$1.slice(e$1,h$1),e$1),n$1.warning(`attribute "`+c$1+`" missed start quot(`+u$1+`)!!`),e$1=h$1+1,d$1=5}break;case`/`:switch(d$1){case 0:s$1.setTagName(t$1.slice(e$1,h$1));case 5:case 6:case 7:d$1=7,s$1.closed=!0;case 4:case 1:break;case 2:s$1.closed=!0;break;default:throw Error(`attribute invalid close char('/')`)}break;case``:return n$1.error(`unexpected end of input`),d$1==0&&s$1.setTagName(t$1.slice(e$1,h$1)),h$1;case`>`:switch(d$1){case 0:s$1.setTagName(t$1.slice(e$1,h$1));case 5:case 6:case 7:break;case 4:case 1:(p$1=t$1.slice(e$1,h$1)).slice(-1)===`/`&&(s$1.closed=!0,p$1=p$1.slice(0,-1));case 2:d$1===2&&(p$1=c$1),d$1==4?(n$1.warning(`attribute "`+p$1+`" missed quot(")!`),a$1(c$1,p$1,e$1)):(o$1||n$1.warning(`attribute "`+p$1+`" missed value!! "`+p$1+`" instead!!`),a$1(p$1,p$1,e$1));break;case 3:if(!o$1)return n$1.fatalError(`AttValue: ' or " expected`)}return h$1;case``:u$1=` `;default:if(u$1<=` `)switch(d$1){case 0:s$1.setTagName(t$1.slice(e$1,h$1)),d$1=6;break;case 1:c$1=t$1.slice(e$1,h$1),d$1=2;break;case 4:var p$1=t$1.slice(e$1,h$1);n$1.warning(`attribute "`+p$1+`" missed quot(")!!`),a$1(c$1,p$1,e$1);case 5:d$1=6}else switch(d$1){case 2:o$1||n$1.warning(`attribute "`+c$1+`" missed value!! "`+c$1+`" instead2!!`),a$1(c$1,c$1,e$1),e$1=h$1,d$1=1;break;case 5:n$1.warning(`attribute space is required"`+c$1+`"!!`);case 6:d$1=1,e$1=h$1;break;case 3:d$1=4,e$1=h$1;break;case 7:throw Error(`elements closed character '/' and '>' must be connected to`)}}h$1++}}function b(t$1,e$1,s$1){for(var i$1=t$1.tagName,r$1=null,n$1=t$1.length;n$1--;){var o$1=t$1[n$1],a$1=o$1.qName,c$1=o$1.value;if((m$1=a$1.indexOf(`:`))>0)var d$1=o$1.prefix=a$1.slice(0,m$1),u$1=a$1.slice(m$1+1),p$1=d$1===`xmlns`&&u$1;else u$1=a$1,d$1=null,p$1=a$1===`xmlns`&&``;o$1.localName=u$1,!1!==p$1&&(r$1??(r$1=Object.create(null),N(s$1,s$1=Object.create(null))),s$1[p$1]=r$1[p$1]=c$1,o$1.uri=h.XMLNS,e$1.startPrefixMapping(p$1,c$1))}for(n$1=t$1.length;n$1--;)(o$1=t$1[n$1]).prefix&&(o$1.prefix===`xml`&&(o$1.uri=h.XML),o$1.prefix!==`xmlns`&&(o$1.uri=s$1[o$1.prefix]));var m$1;(m$1=i$1.indexOf(`:`))>0?(d$1=t$1.prefix=i$1.slice(0,m$1),u$1=t$1.localName=i$1.slice(m$1+1)):(d$1=null,u$1=t$1.localName=i$1);var f$1=t$1.uri=s$1[d$1||``];if(e$1.startElement(f$1,u$1,i$1,t$1),!t$1.closed)return t$1.currentNSMap=s$1,t$1.localNSMap=r$1,!0;if(e$1.endElement(f$1,u$1,i$1),r$1)for(d$1 in r$1)l(r$1,d$1)&&e$1.endPrefixMapping(d$1)}function E(t$1,e$1,s$1,i$1,r$1){var n$1=o(s$1);if(n$1||c(s$1)){var a$1=t$1.indexOf(`</`+s$1+`>`,e$1),l$1=t$1.substring(e$1+1,a$1);return n$1&&(l$1=l$1.replace(m,i$1)),r$1.characters(l$1,0,l$1.length),a$1}return e$1+1}function N(t$1,e$1){for(var s$1 in t$1)l(t$1,s$1)&&(e$1[s$1]=t$1[s$1])}function y(t$1,e$1){var s$1=e$1;function i$1(e$2){return e$2||=0,t$1.charAt(s$1+e$2)}function n$1(t$2){s$1+=t$2||=1}function o$1(){return t$1.substring(s$1)}return{char:i$1,getIndex:function(){return s$1},getMatch:function(t$2){var e$2=r.reg(`^`,t$2).exec(o$1());return e$2?(n$1(e$2[0].length),e$2[0]):null},getSource:function(){return t$1},skip:n$1,skipBlanks:function(){for(var e$2=0;s$1<t$1.length;){var r$1=i$1();if(r$1!==` `&&r$1!==`
`&&r$1!==`	`&&r$1!==`\r`)return e$2;e$2++,n$1()}return-1},substringFromIndex:o$1,substringStartsWith:function(e$2){return t$1.substring(s$1,s$1+e$2.length)===e$2},substringStartsWithCaseInsensitive:function(e$2){return t$1.substring(s$1,s$1+e$2.length).toUpperCase()===e$2.toUpperCase()}}}function x(t$1,e$1,s$1,i$1,n$1){var o$1=y(t$1,e$1);switch(n$1?o$1.char(2).toUpperCase():o$1.char(2)){case`-`:var a$1=o$1.getMatch(r.Comment);return a$1?(s$1.comment(a$1,r.COMMENT_START.length,a$1.length-r.COMMENT_START.length-r.COMMENT_END.length),o$1.getIndex()):i$1.fatalError(`comment is not well-formed at position `+o$1.getIndex());case`[`:var c$1=o$1.getMatch(r.CDSect);return c$1?n$1||s$1.currentElement?(s$1.startCDATA(),s$1.characters(c$1,r.CDATA_START.length,c$1.length-r.CDATA_START.length-r.CDATA_END.length),s$1.endCDATA(),o$1.getIndex()):i$1.fatalError(`CDATA outside of element`):i$1.fatalError(`Invalid CDATA starting at position `+e$1);case`D`:if(s$1.doc&&s$1.doc.documentElement)return i$1.fatalError(`Doctype not allowed inside or after documentElement at position `+o$1.getIndex());if(n$1?!o$1.substringStartsWithCaseInsensitive(r.DOCTYPE_DECL_START):!o$1.substringStartsWith(r.DOCTYPE_DECL_START))return i$1.fatalError(`Expected `+r.DOCTYPE_DECL_START+` at position `+o$1.getIndex());if(o$1.skip(r.DOCTYPE_DECL_START.length),o$1.skipBlanks()<1)return i$1.fatalError(`Expected whitespace after `+r.DOCTYPE_DECL_START+` at position `+o$1.getIndex());var l$1={name:void 0,publicId:void 0,systemId:void 0,internalSubset:void 0};if(l$1.name=o$1.getMatch(r.Name),!l$1.name)return i$1.fatalError(`doctype name missing or contains unexpected characters at position `+o$1.getIndex());if(n$1&&l$1.name.toLowerCase()!==`html`&&i$1.warning(`Unexpected DOCTYPE in HTML document at position `+o$1.getIndex()),o$1.skipBlanks(),o$1.substringStartsWith(r.PUBLIC)||o$1.substringStartsWith(r.SYSTEM)){var h$1=r.ExternalID_match.exec(o$1.substringFromIndex());if(!h$1)return i$1.fatalError(`doctype external id is not well-formed at position `+o$1.getIndex());h$1.groups.SystemLiteralOnly===void 0?(l$1.systemId=h$1.groups.SystemLiteral,l$1.publicId=h$1.groups.PubidLiteral):l$1.systemId=h$1.groups.SystemLiteralOnly,o$1.skip(h$1[0].length)}else if(n$1&&o$1.substringStartsWithCaseInsensitive(r.SYSTEM)){if(o$1.skip(r.SYSTEM.length),o$1.skipBlanks()<1)return i$1.fatalError(`Expected whitespace after `+r.SYSTEM+` at position `+o$1.getIndex());if(l$1.systemId=o$1.getMatch(r.ABOUT_LEGACY_COMPAT_SystemLiteral),!l$1.systemId)return i$1.fatalError(`Expected `+r.ABOUT_LEGACY_COMPAT+` in single or double quotes after `+r.SYSTEM+` at position `+o$1.getIndex())}return n$1&&l$1.systemId&&!r.ABOUT_LEGACY_COMPAT_SystemLiteral.test(l$1.systemId)&&i$1.warning(`Unexpected doctype.systemId in HTML document at position `+o$1.getIndex()),n$1||(o$1.skipBlanks(),l$1.internalSubset=function(t$2,e$2){function s$2(t$3,e$3){var s$3=r.PI.exec(t$3.substringFromIndex());return s$3?s$3[1].toLowerCase()===`xml`?e$3.fatalError(`xml declaration is only allowed at the start of the document, but found at position `+t$3.getIndex()):(t$3.skip(s$3[0].length),s$3[0]):e$3.fatalError(`processing instruction is not well-formed at position `+t$3.getIndex())}var i$2=t$2.getSource();if(t$2.char()===`[`){t$2.skip(1);for(var n$2=t$2.getIndex();t$2.getIndex()<i$2.length;){if(t$2.skipBlanks(),t$2.char()===`]`){var o$2=i$2.substring(n$2,t$2.getIndex());return t$2.skip(1),o$2}var a$2=null;if(t$2.char()===`<`&&t$2.char(1)===`!`)switch(t$2.char(2)){case`E`:t$2.char(3)===`L`?a$2=t$2.getMatch(r.elementdecl):t$2.char(3)===`N`&&(a$2=t$2.getMatch(r.EntityDecl));break;case`A`:a$2=t$2.getMatch(r.AttlistDecl);break;case`N`:a$2=t$2.getMatch(r.NotationDecl);break;case`-`:a$2=t$2.getMatch(r.Comment)}else if(t$2.char()===`<`&&t$2.char(1)===`?`)a$2=s$2(t$2,e$2);else{if(t$2.char()!==`%`)return e$2.fatalError(`Error detected in Markup declaration`);a$2=t$2.getMatch(r.PEReference)}if(!a$2)return e$2.fatalError(`Error in internal subset at position `+t$2.getIndex())}return e$2.fatalError(`doctype internal subset is not well-formed, missing ]`)}}(o$1,i$1)),o$1.skipBlanks(),o$1.char()===`>`?(o$1.skip(1),s$1.startDTD(l$1.name,l$1.publicId,l$1.systemId,l$1.internalSubset),s$1.endDTD(),o$1.getIndex()):i$1.fatalError(`doctype not terminated with > at position `+o$1.getIndex());default:return i$1.fatalError(`Not well-formed XML starting with "<!" at position `+e$1)}}function v(t$1,e$1,s$1,i$1){var n$1=t$1.substring(e$1).match(r.PI);if(!n$1)return i$1.fatalError(`Invalid processing instruction starting at position `+e$1);if(n$1[1].toLowerCase()===`xml`){if(e$1>0)return i$1.fatalError(`processing instruction at position `+e$1+` is an xml declaration which is only at the start of the document`);if(!r.XMLDecl.test(t$1.substring(e$1)))return i$1.fatalError(`xml declaration is not well-formed`)}return s$1.processingInstruction(n$1[1],n$1[2]),e$1+n$1[0].length}function C(){this.attributeNames=Object.create(null)}C.prototype={setTagName:function(t$1){if(!r.QName_exact.test(t$1))throw Error(`invalid tagName:`+t$1);this.tagName=t$1},addValue:function(t$1,e$1,s$1){if(!r.QName_exact.test(t$1))throw Error(`invalid attribute:`+t$1);this.attributeNames[t$1]=this.length,this[this.length++]={qName:t$1,value:e$1,offset:s$1}},length:0,getLocalName:function(t$1){return this[t$1].localName},getLocator:function(t$1){return this[t$1].locator},getQName:function(t$1){return this[t$1].qName},getURI:function(t$1){return this[t$1].uri},getValue:function(t$1){return this[t$1].value}},e.XMLReader=p,e.parseUtils=y,e.parseDoctypeCommentOrCData=x},870:(t,e)=>{function s(t$1,e$1){return e$1===void 0&&(e$1=Object),e$1&&typeof e$1.getOwnPropertyDescriptors==`function`&&(t$1=e$1.create(null,e$1.getOwnPropertyDescriptors(t$1))),e$1&&typeof e$1.freeze==`function`?e$1.freeze(t$1):t$1}function i(t$1,e$1){return Object.prototype.hasOwnProperty.call(t$1,e$1)}var r=s({allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,formnovalidate:!0,hidden:!0,ismap:!0,itemscope:!0,loop:!0,multiple:!0,muted:!0,nomodule:!0,novalidate:!0,open:!0,playsinline:!0,readonly:!0,required:!0,reversed:!0,selected:!0}),n=s({area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),o=s({script:!1,style:!1,textarea:!0,title:!0});function a(t$1){return t$1===c.HTML}var c=s({HTML:`text/html`,XML_APPLICATION:`application/xml`,XML_TEXT:`text/xml`,XML_XHTML_APPLICATION:`application/xhtml+xml`,XML_SVG_IMAGE:`image/svg+xml`}),l=Object.keys(c).map((function(t$1){return c[t$1]})),h=s({HTML:`http://www.w3.org/1999/xhtml`,SVG:`http://www.w3.org/2000/svg`,XML:`http://www.w3.org/XML/1998/namespace`,XMLNS:`http://www.w3.org/2000/xmlns/`});e.assign=function(t$1,e$1){if(typeof t$1!=`object`||!t$1)throw TypeError(`target is not an object`);for(var s$1 in e$1)i(e$1,s$1)&&(t$1[s$1]=e$1[s$1]);return t$1},e.find=function(t$1,e$1,s$1){if(s$1===void 0&&(s$1=Array.prototype),t$1&&typeof s$1.find==`function`)return s$1.find.call(t$1,e$1);for(var r$1=0;r$1<t$1.length;r$1++)if(i(t$1,r$1)){var n$1=t$1[r$1];if(e$1.call(void 0,n$1,r$1,t$1))return n$1}},e.freeze=s,e.HTML_BOOLEAN_ATTRIBUTES=r,e.HTML_RAW_TEXT_ELEMENTS=o,e.HTML_VOID_ELEMENTS=n,e.hasDefaultHTMLNamespace=function(t$1){return a(t$1)||t$1===c.XML_XHTML_APPLICATION},e.hasOwn=i,e.isHTMLBooleanAttribute=function(t$1){return i(r,t$1.toLowerCase())},e.isHTMLRawTextElement=function(t$1){var e$1=t$1.toLowerCase();return i(o,e$1)&&!o[e$1]},e.isHTMLEscapableRawTextElement=function(t$1){var e$1=t$1.toLowerCase();return i(o,e$1)&&o[e$1]},e.isHTMLMimeType=a,e.isHTMLVoidElement=function(t$1){return i(n,t$1.toLowerCase())},e.isValidMimeType=function(t$1){return l.indexOf(t$1)>-1},e.MIME_TYPE=c,e.NAMESPACE=h},999:(t,e,s)=>{(function(){var e$1=this;function s$1(t$1){return typeof t$1==`string`}function i(t$1,e$2,s$2){return t$1.call.apply(t$1.bind,arguments)}function r(t$1,e$2,s$2){if(!t$1)throw Error();if(2<arguments.length){var i$1=Array.prototype.slice.call(arguments,2);return function(){var s$3=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s$3,i$1),t$1.apply(e$2,s$3)}}return function(){return t$1.apply(e$2,arguments)}}function n(t$1,e$2,s$2){return(n=Function.prototype.bind&&Function.prototype.bind.toString().indexOf(`native code`)!=-1?i:r).apply(null,arguments)}function o(t$1){var e$2=ot;function s$2(){}s$2.prototype=e$2.prototype,t$1.G=e$2.prototype,t$1.prototype=new s$2,t$1.prototype.constructor=t$1,t$1.F=function(t$2,s$3,i$1){for(var r$1=Array(arguments.length-2),n$1=2;n$1<arguments.length;n$1++)r$1[n$1-2]=arguments[n$1];return e$2.prototype[s$3].apply(t$2,r$1)}}var a=String.prototype.trim?function(t$1){return t$1.trim()}:function(t$1){return t$1.replace(/^[\s\xa0]+|[\s\xa0]+$/g,``)};function c(t$1,e$2){return t$1.indexOf(e$2)!=-1}function l(t$1,e$2){return t$1<e$2?-1:t$1>e$2?1:0}var h,d=Array.prototype.indexOf?function(t$1,e$2,s$2){return Array.prototype.indexOf.call(t$1,e$2,s$2)}:function(t$1,e$2,i$1){if(i$1=i$1==null?0:0>i$1?Math.max(0,t$1.length+i$1):i$1,s$1(t$1))return s$1(e$2)&&e$2.length==1?t$1.indexOf(e$2,i$1):-1;for(;i$1<t$1.length;i$1++)if(i$1 in t$1&&t$1[i$1]===e$2)return i$1;return-1},u=Array.prototype.forEach?function(t$1,e$2,s$2){Array.prototype.forEach.call(t$1,e$2,s$2)}:function(t$1,e$2,i$1){for(var r$1=t$1.length,n$1=s$1(t$1)?t$1.split(``):t$1,o$1=0;o$1<r$1;o$1++)o$1 in n$1&&e$2.call(i$1,n$1[o$1],o$1,t$1)},p=Array.prototype.filter?function(t$1,e$2,s$2){return Array.prototype.filter.call(t$1,e$2,s$2)}:function(t$1,e$2,i$1){for(var r$1=t$1.length,n$1=[],o$1=0,a$1=s$1(t$1)?t$1.split(``):t$1,c$1=0;c$1<r$1;c$1++)if(c$1 in a$1){var l$1=a$1[c$1];e$2.call(i$1,l$1,c$1,t$1)&&(n$1[o$1++]=l$1)}return n$1},m=Array.prototype.reduce?function(t$1,e$2,s$2,i$1){return i$1&&(e$2=n(e$2,i$1)),Array.prototype.reduce.call(t$1,e$2,s$2)}:function(t$1,e$2,s$2,i$1){var r$1=s$2;return u(t$1,(function(s$3,n$1){r$1=e$2.call(i$1,r$1,s$3,n$1,t$1)})),r$1},f=Array.prototype.some?function(t$1,e$2,s$2){return Array.prototype.some.call(t$1,e$2,s$2)}:function(t$1,e$2,i$1){for(var r$1=t$1.length,n$1=s$1(t$1)?t$1.split(``):t$1,o$1=0;o$1<r$1;o$1++)if(o$1 in n$1&&e$2.call(i$1,n$1[o$1],o$1,t$1))return!0;return!1};t:{var g=e$1.navigator;if(g){var b=g.userAgent;if(b){h=b;break t}}h=``}var E,N,y=c(h,`Opera`)||c(h,`OPR`),x=c(h,`Trident`)||c(h,`MSIE`),v=c(h,`Edge`),C=c(h,`Gecko`)&&!(c(h.toLowerCase(),`webkit`)&&!c(h,`Edge`))&&!(c(h,`Trident`)||c(h,`MSIE`))&&!c(h,`Edge`),T=c(h.toLowerCase(),`webkit`)&&!c(h,`Edge`);function w(){var t$1=e$1.document;return t$1?t$1.documentMode:void 0}t:{var _=``,k=(N=h,C?/rv\:([^\);]+)(\)|;)/.exec(N):v?/Edge\/([\d\.]+)/.exec(N):x?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(N):T?/WebKit\/(\S+)/.exec(N):y?/(?:Version)[ \/]?(\S+)/.exec(N):void 0);if(k&&(_=k?k[1]:``),x){var A=w();if(A!=null&&A>parseFloat(_)){E=String(A);break t}}E=_}var L={};function M(t$1){if(!L[t$1]){for(var e$2=0,s$2=a(String(E)).split(`.`),i$1=a(String(t$1)).split(`.`),r$1=Math.max(s$2.length,i$1.length),n$1=0;e$2==0&&n$1<r$1;n$1++){var o$1=s$2[n$1]||``,c$1=i$1[n$1]||``,h$1=/(\d*)(\D*)/g,d$1=/(\d*)(\D*)/g;do{var u$1=h$1.exec(o$1)||[``,``,``],p$1=d$1.exec(c$1)||[``,``,``];if(u$1[0].length==0&&p$1[0].length==0)break;e$2=l(u$1[1].length==0?0:parseInt(u$1[1],10),p$1[1].length==0?0:parseInt(p$1[1],10))||l(u$1[2].length==0,p$1[2].length==0)||l(u$1[2],p$1[2])}while(e$2==0)}L[t$1]=0<=e$2}}var I=e$1.document,S=I&&x?w()||(I.compatMode==`CSS1Compat`?parseInt(E,10):5):void 0,R=x&&!(9<=Number(S)),O=x&&!(8<=Number(S));function D(t$1,e$2,s$2,i$1){this.a=t$1,this.nodeName=s$2,this.nodeValue=i$1,this.nodeType=2,this.parentNode=this.ownerElement=e$2}function P(t$1,e$2){var s$2=O&&e$2.nodeName==`href`?t$1.getAttribute(e$2.nodeName,2):e$2.nodeValue;return new D(e$2,t$1,e$2.nodeName,s$2)}function B(t$1){var e$2=null;if((s$2=t$1.nodeType)==1&&(e$2=(e$2=(e$2=t$1.textContent)==null||e$2==null?t$1.innerText:e$2)==null||e$2==null?``:e$2),typeof e$2!=`string`)if(R&&t$1.nodeName.toLowerCase()==`title`&&s$2==1)e$2=t$1.text;else if(s$2==9||s$2==1){t$1=s$2==9?t$1.documentElement:t$1.firstChild;var s$2=0,i$1=[];for(e$2=``;t$1;){do t$1.nodeType!=1&&(e$2+=t$1.nodeValue),R&&t$1.nodeName.toLowerCase()==`title`&&(e$2+=t$1.text),i$1[s$2++]=t$1;while(t$1=t$1.firstChild);for(;s$2&&!(t$1=i$1[--s$2].nextSibling););}}else e$2=t$1.nodeValue;return``+e$2}function F(t$1,e$2,s$2){if(e$2===null)return!0;try{if(!t$1.getAttribute)return!1}catch{return!1}return O&&e$2==`class`&&(e$2=`className`),s$2==null?!!t$1.getAttribute(e$2):t$1.getAttribute(e$2,2)==s$2}function j(t$1,e$2,i$1,r$1,n$1){return(R?U:q).call(null,t$1,e$2,s$1(i$1)?i$1:null,s$1(r$1)?r$1:null,n$1||new $)}function U(t$1,e$2,s$2,i$1,r$1){if(t$1 instanceof Ot||t$1.b==8||s$2&&t$1.b===null){var n$1=e$2.all;if(!n$1||(t$1=X(t$1))!=`*`&&!(n$1=e$2.getElementsByTagName(t$1)))return r$1;if(s$2){for(var o$1=[],a$1=0;e$2=n$1[a$1++];)F(e$2,s$2,i$1)&&o$1.push(e$2);n$1=o$1}for(a$1=0;e$2=n$1[a$1++];)t$1==`*`&&e$2.tagName==`!`||tt(r$1,e$2);return r$1}return z(t$1,e$2,s$2,i$1,r$1),r$1}function q(t$1,e$2,s$2,i$1,r$1){return e$2.getElementsByName&&i$1&&s$2==`name`&&!x?(e$2=e$2.getElementsByName(i$1),u(e$2,(function(e$3){t$1.a(e$3)&&tt(r$1,e$3)}))):e$2.getElementsByClassName&&i$1&&s$2==`class`?(e$2=e$2.getElementsByClassName(i$1),u(e$2,(function(e$3){e$3.className==i$1&&t$1.a(e$3)&&tt(r$1,e$3)}))):t$1 instanceof wt?z(t$1,e$2,s$2,i$1,r$1):e$2.getElementsByTagName&&(e$2=e$2.getElementsByTagName(t$1.f()),u(e$2,(function(t$2){F(t$2,s$2,i$1)&&tt(r$1,t$2)}))),r$1}function H(t$1,e$2,s$2,i$1,r$1){var n$1;if((t$1 instanceof Ot||t$1.b==8||s$2&&t$1.b===null)&&(n$1=e$2.childNodes)){var o$1=X(t$1);return o$1==`*`||(n$1=p(n$1,(function(t$2){return t$2.tagName&&t$2.tagName.toLowerCase()==o$1})),n$1)?(s$2&&(n$1=p(n$1,(function(t$2){return F(t$2,s$2,i$1)}))),u(n$1,(function(t$2){o$1==`*`&&(t$2.tagName==`!`||o$1==`*`&&t$2.nodeType!=1)||tt(r$1,t$2)})),r$1):r$1}return W(t$1,e$2,s$2,i$1,r$1)}function W(t$1,e$2,s$2,i$1,r$1){for(e$2=e$2.firstChild;e$2;e$2=e$2.nextSibling)F(e$2,s$2,i$1)&&t$1.a(e$2)&&tt(r$1,e$2);return r$1}function z(t$1,e$2,s$2,i$1,r$1){for(e$2=e$2.firstChild;e$2;e$2=e$2.nextSibling)F(e$2,s$2,i$1)&&t$1.a(e$2)&&tt(r$1,e$2),z(t$1,e$2,s$2,i$1,r$1)}function X(t$1){if(t$1 instanceof wt){if(t$1.b==8)return`!`;if(t$1.b===null)return`*`}return t$1.f()}function V(t$1,e$2){if(!t$1||!e$2)return!1;if(t$1.contains&&e$2.nodeType==1)return t$1==e$2||t$1.contains(e$2);if(t$1.compareDocumentPosition!==void 0)return t$1==e$2||!!(16&t$1.compareDocumentPosition(e$2));for(;e$2&&t$1!=e$2;)e$2=e$2.parentNode;return e$2==t$1}function G(t$1,s$2){if(t$1==s$2)return 0;if(t$1.compareDocumentPosition)return 2&t$1.compareDocumentPosition(s$2)?1:-1;if(x&&!(9<=Number(S))){if(t$1.nodeType==9)return-1;if(s$2.nodeType==9)return 1}if(`sourceIndex`in t$1||t$1.parentNode&&`sourceIndex`in t$1.parentNode){var i$1=t$1.nodeType==1,r$1=s$2.nodeType==1;if(i$1&&r$1)return t$1.sourceIndex-s$2.sourceIndex;var n$1=t$1.parentNode,o$1=s$2.parentNode;return n$1==o$1?K(t$1,s$2):!i$1&&V(n$1,s$2)?-1*J(t$1,s$2):!r$1&&V(o$1,t$1)?J(s$2,t$1):(i$1?t$1.sourceIndex:n$1.sourceIndex)-(r$1?s$2.sourceIndex:o$1.sourceIndex)}return(i$1=(r$1=t$1.nodeType==9?t$1:t$1.ownerDocument||t$1.document).createRange()).selectNode(t$1),i$1.collapse(!0),(r$1=r$1.createRange()).selectNode(s$2),r$1.collapse(!0),i$1.compareBoundaryPoints(e$1.Range.START_TO_END,r$1)}function J(t$1,e$2){var s$2=t$1.parentNode;if(s$2==e$2)return-1;for(var i$1=e$2;i$1.parentNode!=s$2;)i$1=i$1.parentNode;return K(i$1,t$1)}function K(t$1,e$2){for(var s$2=e$2;s$2=s$2.previousSibling;)if(s$2==t$1)return-1;return 1}function $(){this.b=this.a=null,this.l=0}function Y(t$1){this.node=t$1,this.a=this.b=null}function Q(t$1,e$2){if(!t$1.a)return e$2;if(!e$2.a)return t$1;for(var s$2=t$1.a,i$1=e$2.a,r$1=null,n$1=null,o$1=0;s$2&&i$1;){n$1=s$2.node;var a$1=i$1.node;n$1==a$1||n$1 instanceof D&&a$1 instanceof D&&n$1.a==a$1.a?(n$1=s$2,s$2=s$2.a,i$1=i$1.a):0<G(s$2.node,i$1.node)?(n$1=i$1,i$1=i$1.a):(n$1=s$2,s$2=s$2.a),(n$1.b=r$1)?r$1.a=n$1:t$1.a=n$1,r$1=n$1,o$1++}for(n$1=s$2||i$1;n$1;)n$1.b=r$1,r$1=r$1.a=n$1,o$1++,n$1=n$1.a;return t$1.b=r$1,t$1.l=o$1,t$1}function Z(t$1,e$2){var s$2=new Y(e$2);s$2.a=t$1.a,t$1.b?t$1.a.b=s$2:t$1.a=t$1.b=s$2,t$1.a=s$2,t$1.l++}function tt(t$1,e$2){var s$2=new Y(e$2);s$2.b=t$1.b,t$1.a?t$1.b.a=s$2:t$1.a=t$1.b=s$2,t$1.b=s$2,t$1.l++}function et(t$1){return(t$1=t$1.a)?t$1.node:null}function st(t$1){return(t$1=et(t$1))?B(t$1):``}function it(t$1,e$2){return new rt(t$1,!!e$2)}function rt(t$1,e$2){this.f=t$1,this.b=(this.c=e$2)?t$1.b:t$1.a,this.a=null}function nt(t$1){var e$2=t$1.b;if(e$2==null)return null;var s$2=t$1.a=e$2;return t$1.b=t$1.c?e$2.b:e$2.a,s$2.node}function ot(t$1){this.i=t$1,this.b=this.g=!1,this.f=null}function at(t$1){return`
  `+t$1.toString().split(`
`).join(`
  `)}function ct(t$1,e$2){t$1.g=e$2}function lt(t$1,e$2){t$1.b=e$2}function ht(t$1,e$2){var s$2=t$1.a(e$2);return s$2 instanceof $?+st(s$2):+s$2}function dt(t$1,e$2){var s$2=t$1.a(e$2);return s$2 instanceof $?st(s$2):``+s$2}function ut(t$1,e$2){var s$2=t$1.a(e$2);return s$2 instanceof $?!!s$2.l:!!s$2}function pt(t$1,e$2,s$2){ot.call(this,t$1.i),this.c=t$1,this.h=e$2,this.o=s$2,this.g=e$2.g||s$2.g,this.b=e$2.b||s$2.b,this.c==Et&&(s$2.b||s$2.g||s$2.i==4||s$2.i==0||!e$2.f?e$2.b||e$2.g||e$2.i==4||e$2.i==0||!s$2.f||(this.f={name:s$2.f.name,s:e$2}):this.f={name:e$2.f.name,s:s$2})}function mt(t$1,e$2,s$2,i$1,r$1){var n$1;if(e$2=e$2.a(i$1),s$2=s$2.a(i$1),e$2 instanceof $&&s$2 instanceof $){for(i$1=nt(e$2=it(e$2));i$1;i$1=nt(e$2))for(n$1=nt(r$1=it(s$2));n$1;n$1=nt(r$1))if(t$1(B(i$1),B(n$1)))return!0;return!1}if(e$2 instanceof $||s$2 instanceof $){e$2 instanceof $?(r$1=e$2,i$1=s$2):(r$1=s$2,i$1=e$2);for(var o$1=typeof i$1,a$1=nt(n$1=it(r$1));a$1;a$1=nt(n$1)){switch(o$1){case`number`:a$1=+B(a$1);break;case`boolean`:a$1=!!B(a$1);break;case`string`:a$1=B(a$1);break;default:throw Error(`Illegal primitive type for comparison.`)}if(r$1==e$2&&t$1(a$1,i$1)||r$1==s$2&&t$1(i$1,a$1))return!0}return!1}return r$1?typeof e$2==`boolean`||typeof s$2==`boolean`?t$1(!!e$2,!!s$2):typeof e$2==`number`||typeof s$2==`number`?t$1(+e$2,+s$2):t$1(e$2,s$2):t$1(+e$2,+s$2)}function ft(t$1,e$2,s$2,i$1){this.a=t$1,this.w=e$2,this.i=s$2,this.m=i$1}!C&&!x||x&&9<=Number(S)||C&&M(`1.9.1`),x&&M(`9`),o(pt),pt.prototype.a=function(t$1){return this.c.m(this.h,this.o,t$1)},pt.prototype.toString=function(){return`Binary Expression: `+this.c+at(this.h)+at(this.o)},ft.prototype.toString=function(){return this.a};var gt={};function bt(t$1,e$2,s$2,i$1){if(gt.hasOwnProperty(t$1))throw Error(`Binary operator already created: `+t$1);return t$1=new ft(t$1,e$2,s$2,i$1),gt[t$1.toString()]=t$1}bt(`div`,6,1,(function(t$1,e$2,s$2){return ht(t$1,s$2)/ht(e$2,s$2)})),bt(`mod`,6,1,(function(t$1,e$2,s$2){return ht(t$1,s$2)%ht(e$2,s$2)})),bt(`*`,6,1,(function(t$1,e$2,s$2){return ht(t$1,s$2)*ht(e$2,s$2)})),bt(`+`,5,1,(function(t$1,e$2,s$2){return ht(t$1,s$2)+ht(e$2,s$2)})),bt(`-`,5,1,(function(t$1,e$2,s$2){return ht(t$1,s$2)-ht(e$2,s$2)})),bt(`<`,4,2,(function(t$1,e$2,s$2){return mt((function(t$2,e$3){return t$2<e$3}),t$1,e$2,s$2)})),bt(`>`,4,2,(function(t$1,e$2,s$2){return mt((function(t$2,e$3){return t$2>e$3}),t$1,e$2,s$2)})),bt(`<=`,4,2,(function(t$1,e$2,s$2){return mt((function(t$2,e$3){return t$2<=e$3}),t$1,e$2,s$2)})),bt(`>=`,4,2,(function(t$1,e$2,s$2){return mt((function(t$2,e$3){return t$2>=e$3}),t$1,e$2,s$2)}));var Et=bt(`=`,3,2,(function(t$1,e$2,s$2){return mt((function(t$2,e$3){return t$2==e$3}),t$1,e$2,s$2,!0)}));function Nt(t$1,e$2,s$2){this.a=t$1,this.b=e$2||1,this.f=s$2||1}function yt(t$1,e$2){if(e$2.a.length&&t$1.i!=4)throw Error(`Primary expression must evaluate to nodeset if filter has predicate(s).`);ot.call(this,t$1.i),this.c=t$1,this.h=e$2,this.g=t$1.g,this.b=t$1.b}function xt(t$1,e$2){if(e$2.length<t$1.A)throw Error(`Function `+t$1.j+` expects at least`+t$1.A+` arguments, `+e$2.length+` given`);if(t$1.v!==null&&e$2.length>t$1.v)throw Error(`Function `+t$1.j+` expects at most `+t$1.v+` arguments, `+e$2.length+` given`);t$1.B&&u(e$2,(function(e$3,s$2){if(e$3.i!=4)throw Error(`Argument `+s$2+` to function `+t$1.j+` is not of type Nodeset: `+e$3)})),ot.call(this,t$1.i),this.h=t$1,this.c=e$2,ct(this,t$1.g||f(e$2,(function(t$2){return t$2.g}))),lt(this,t$1.D&&!e$2.length||t$1.C&&!!e$2.length||f(e$2,(function(t$2){return t$2.b})))}function vt(t$1,e$2,s$2,i$1,r$1,n$1,o$1,a$1,c$1){this.j=t$1,this.i=e$2,this.g=s$2,this.D=i$1,this.C=r$1,this.m=n$1,this.A=o$1,this.v=a$1===void 0?o$1:a$1,this.B=!!c$1}bt(`!=`,3,2,(function(t$1,e$2,s$2){return mt((function(t$2,e$3){return t$2!=e$3}),t$1,e$2,s$2,!0)})),bt(`and`,2,2,(function(t$1,e$2,s$2){return ut(t$1,s$2)&&ut(e$2,s$2)})),bt(`or`,1,2,(function(t$1,e$2,s$2){return ut(t$1,s$2)||ut(e$2,s$2)})),o(yt),yt.prototype.a=function(t$1){return t$1=this.c.a(t$1),qt(this.h,t$1)},yt.prototype.toString=function(){return`Filter:`+at(this.c)+at(this.h)},o(xt),xt.prototype.a=function(t$1){return this.h.m.apply(null,function(t$2){return Array.prototype.concat.apply(Array.prototype,arguments)}(t$1,this.c))},xt.prototype.toString=function(){var t$1=`Function: `+this.h;if(this.c.length){var e$2=m(this.c,(function(t$2,e$3){return t$2+at(e$3)}),`Arguments:`);t$1+=at(e$2)}return t$1},vt.prototype.toString=function(){return this.j};var Ct={};function Tt(t$1,e$2,s$2,i$1,r$1,n$1,o$1,a$1){if(Ct.hasOwnProperty(t$1))throw Error(`Function already created: `+t$1+`.`);Ct[t$1]=new vt(t$1,e$2,s$2,i$1,!1,r$1,n$1,o$1,a$1)}function wt(t$1,e$2){switch(this.h=t$1,this.c=e$2===void 0?null:e$2,this.b=null,t$1){case`comment`:this.b=8;break;case`text`:this.b=3;break;case`processing-instruction`:this.b=7;break;case`node`:break;default:throw Error(`Unexpected argument`)}}function _t(t$1){return t$1==`comment`||t$1==`text`||t$1==`processing-instruction`||t$1==`node`}function kt(t$1){this.b=t$1,this.a=0}Tt(`boolean`,2,!1,!1,(function(t$1,e$2){return ut(e$2,t$1)}),1),Tt(`ceiling`,1,!1,!1,(function(t$1,e$2){return Math.ceil(ht(e$2,t$1))}),1),Tt(`concat`,3,!1,!1,(function(t$1,e$2){return m(function(t$2,e$3,s$2){return 2>=arguments.length?Array.prototype.slice.call(t$2,e$3):Array.prototype.slice.call(t$2,e$3,s$2)}(arguments,1),(function(e$3,s$2){return e$3+dt(s$2,t$1)}),``)}),2,null),Tt(`contains`,2,!1,!1,(function(t$1,e$2,s$2){return c(dt(e$2,t$1),dt(s$2,t$1))}),2),Tt(`count`,1,!1,!1,(function(t$1,e$2){return e$2.a(t$1).l}),1,1,!0),Tt(`false`,2,!1,!1,(function(){return!1}),0),Tt(`floor`,1,!1,!1,(function(t$1,e$2){return Math.floor(ht(e$2,t$1))}),1),Tt(`id`,4,!1,!1,(function(t$1,e$2){function i$1(t$2){if(R){var e$3=r$1.all[t$2];if(e$3){if(e$3.nodeType&&t$2==e$3.id)return e$3;if(e$3.length)return function(t$3,e$4){var i$2;t:{i$2=t$3.length;for(var r$2=s$1(t$3)?t$3.split(``):t$3,n$2=0;n$2<i$2;n$2++)if(n$2 in r$2&&e$4.call(void 0,r$2[n$2],n$2,t$3)){i$2=n$2;break t}i$2=-1}return 0>i$2?null:s$1(t$3)?t$3.charAt(i$2):t$3[i$2]}(e$3,(function(e$4){return t$2==e$4.id}))}return null}return r$1.getElementById(t$2)}var r$1=(n$1=t$1.a).nodeType==9?n$1:n$1.ownerDocument,n$1=dt(e$2,t$1).split(/\s+/),o$1=[];u(n$1,(function(t$2){!(t$2=i$1(t$2))||0<=d(o$1,t$2)||o$1.push(t$2)})),o$1.sort(G);var a$1=new $;return u(o$1,(function(t$2){tt(a$1,t$2)})),a$1}),1),Tt(`lang`,2,!1,!1,(function(){return!1}),1),Tt(`last`,1,!0,!1,(function(t$1){if(arguments.length!=1)throw Error(`Function last expects ()`);return t$1.f}),0),Tt(`local-name`,3,!1,!0,(function(t$1,e$2){var s$2=e$2?et(e$2.a(t$1)):t$1.a;return s$2?s$2.localName||s$2.nodeName.toLowerCase():``}),0,1,!0),Tt(`name`,3,!1,!0,(function(t$1,e$2){var s$2=e$2?et(e$2.a(t$1)):t$1.a;return s$2?s$2.nodeName.toLowerCase():``}),0,1,!0),Tt(`namespace-uri`,3,!0,!1,(function(){return``}),0,1,!0),Tt(`normalize-space`,3,!1,!0,(function(t$1,e$2){return(e$2?dt(e$2,t$1):B(t$1.a)).replace(/[\s\xa0]+/g,` `).replace(/^\s+|\s+$/g,``)}),0,1),Tt(`not`,2,!1,!1,(function(t$1,e$2){return!ut(e$2,t$1)}),1),Tt(`number`,1,!1,!0,(function(t$1,e$2){return e$2?ht(e$2,t$1):+B(t$1.a)}),0,1),Tt(`position`,1,!0,!1,(function(t$1){return t$1.b}),0),Tt(`round`,1,!1,!1,(function(t$1,e$2){return Math.round(ht(e$2,t$1))}),1),Tt(`starts-with`,2,!1,!1,(function(t$1,e$2,s$2){return e$2=dt(e$2,t$1),t$1=dt(s$2,t$1),e$2.lastIndexOf(t$1,0)==0}),2),Tt(`string`,3,!1,!0,(function(t$1,e$2){return e$2?dt(e$2,t$1):B(t$1.a)}),0,1),Tt(`string-length`,1,!1,!0,(function(t$1,e$2){return(e$2?dt(e$2,t$1):B(t$1.a)).length}),0,1),Tt(`substring`,3,!1,!1,(function(t$1,e$2,s$2,i$1){if(s$2=ht(s$2,t$1),isNaN(s$2)||s$2==1/0||s$2==-1/0||(i$1=i$1?ht(i$1,t$1):1/0,isNaN(i$1)||i$1===-1/0))return``;s$2=Math.round(s$2)-1;var r$1=Math.max(s$2,0);return t$1=dt(e$2,t$1),i$1==1/0?t$1.substring(r$1):t$1.substring(r$1,s$2+Math.round(i$1))}),2,3),Tt(`substring-after`,3,!1,!1,(function(t$1,e$2,s$2){return e$2=dt(e$2,t$1),t$1=dt(s$2,t$1),(s$2=e$2.indexOf(t$1))==-1?``:e$2.substring(s$2+t$1.length)}),2),Tt(`substring-before`,3,!1,!1,(function(t$1,e$2,s$2){return e$2=dt(e$2,t$1),t$1=dt(s$2,t$1),(t$1=e$2.indexOf(t$1))==-1?``:e$2.substring(0,t$1)}),2),Tt(`sum`,1,!1,!1,(function(t$1,e$2){for(var s$2=it(e$2.a(t$1)),i$1=0,r$1=nt(s$2);r$1;r$1=nt(s$2))i$1+=+B(r$1);return i$1}),1,1,!0),Tt(`translate`,3,!1,!1,(function(t$1,e$2,s$2,i$1){e$2=dt(e$2,t$1),s$2=dt(s$2,t$1);var r$1=dt(i$1,t$1);for(t$1={},i$1=0;i$1<s$2.length;i$1++){var n$1=s$2.charAt(i$1);n$1 in t$1||(t$1[n$1]=r$1.charAt(i$1))}for(s$2=``,i$1=0;i$1<e$2.length;i$1++)s$2+=(n$1=e$2.charAt(i$1))in t$1?t$1[n$1]:n$1;return s$2}),3),Tt(`true`,2,!1,!1,(function(){return!0}),0),wt.prototype.a=function(t$1){return this.b===null||this.b==t$1.nodeType},wt.prototype.f=function(){return this.h},wt.prototype.toString=function(){var t$1=`Kind Test: `+this.h;return this.c===null||(t$1+=at(this.c)),t$1};var At=/\$?(?:(?![0-9-\.])(?:\*|[\w-\.]+):)?(?![0-9-\.])(?:\*|[\w-\.]+)|\/\/|\.\.|::|\d+(?:\.\d*)?|\.\d+|"[^"]*"|'[^']*'|[!<>]=|\s+|./g,Lt=/^\s/;function Mt(t$1,e$2){return t$1.b[t$1.a+(e$2||0)]}function It(t$1){return t$1.b[t$1.a++]}function St(t$1){return t$1.b.length<=t$1.a}function Rt(t$1){ot.call(this,3),this.c=t$1.substring(1,t$1.length-1)}function Ot(t$1,e$2){var s$2;this.j=t$1.toLowerCase(),s$2=this.j==`*`?`*`:`http://www.w3.org/1999/xhtml`,this.c=e$2?e$2.toLowerCase():s$2}function Dt(t$1,e$2){if(ot.call(this,t$1.i),this.h=t$1,this.c=e$2,this.g=t$1.g,this.b=t$1.b,this.c.length==1){var s$2=this.c[0];s$2.u||s$2.c!=Vt||(s$2=s$2.o).f()!=`*`&&(this.f={name:s$2.f(),s:null})}}function Pt(){ot.call(this,4)}function Bt(){ot.call(this,4)}function Ft(t$1){return t$1==`/`||t$1==`//`}function jt(t$1){ot.call(this,4),this.c=t$1,ct(this,f(this.c,(function(t$2){return t$2.g}))),lt(this,f(this.c,(function(t$2){return t$2.b})))}function Ut(t$1,e$2){this.a=t$1,this.b=!!e$2}function qt(t$1,e$2,s$2){for(s$2||=0;s$2<t$1.a.length;s$2++)for(var i$1,r$1=t$1.a[s$2],n$1=it(e$2),o$1=e$2.l,a$1=0;i$1=nt(n$1);a$1++){var c$1=t$1.b?o$1-a$1:a$1+1;if(typeof(i$1=r$1.a(new Nt(i$1,c$1,o$1)))==`number`)c$1=c$1==i$1;else if(typeof i$1==`string`||typeof i$1==`boolean`)c$1=!!i$1;else{if(!(i$1 instanceof $))throw Error(`Predicate.evaluate returned an unexpected type.`);c$1=0<i$1.l}if(!c$1){if(i$1=(c$1=n$1).f,!(h$1=c$1.a))throw Error(`Next must be called at least once before remove.`);var l$1=h$1.b,h$1=h$1.a;l$1?l$1.a=h$1:i$1.a=h$1,h$1?h$1.b=l$1:i$1.b=l$1,i$1.l--,c$1.a=null}}return e$2}function Ht(t$1,e$2,s$2,i$1){ot.call(this,4),this.c=t$1,this.o=e$2,this.h=s$2||new Ut([]),this.u=!!i$1,e$2=0<(e$2=this.h).a.length?e$2.a[0].f:null,t$1.b&&e$2&&(t$1=e$2.name,t$1=R?t$1.toLowerCase():t$1,this.f={name:t$1,s:e$2.s});t:{for(t$1=this.h,e$2=0;e$2<t$1.a.length;e$2++)if((s$2=t$1.a[e$2]).g||s$2.i==1||s$2.i==0){t$1=!0;break t}t$1=!1}this.g=t$1}function Wt(t$1,e$2,s$2,i$1){this.j=t$1,this.f=e$2,this.a=s$2,this.b=i$1}o(Rt),Rt.prototype.a=function(){return this.c},Rt.prototype.toString=function(){return`Literal: `+this.c},Ot.prototype.a=function(t$1){var e$2=t$1.nodeType;return(e$2==1||e$2==2)&&(e$2=t$1.localName===void 0?t$1.nodeName:t$1.localName,(this.j==`*`||this.j==e$2.toLowerCase())&&(this.c==`*`||this.c==(t$1.namespaceURI?t$1.namespaceURI.toLowerCase():`http://www.w3.org/1999/xhtml`)))},Ot.prototype.f=function(){return this.j},Ot.prototype.toString=function(){return`Name Test: `+(this.c==`http://www.w3.org/1999/xhtml`?``:this.c+`:`)+this.j},o(Dt),o(Pt),Pt.prototype.a=function(t$1){var e$2=new $;return(t$1=t$1.a).nodeType==9?tt(e$2,t$1):tt(e$2,t$1.ownerDocument),e$2},Pt.prototype.toString=function(){return`Root Helper Expression`},o(Bt),Bt.prototype.a=function(t$1){var e$2=new $;return tt(e$2,t$1.a),e$2},Bt.prototype.toString=function(){return`Context Helper Expression`},Dt.prototype.a=function(t$1){var e$2=this.h.a(t$1);if(!(e$2 instanceof $))throw Error(`Filter expression must evaluate to nodeset.`);for(var s$2=0,i$1=(t$1=this.c).length;s$2<i$1&&e$2.l;s$2++){var r$1,n$1=t$1[s$2],o$1=it(e$2,n$1.c.a);if(n$1.g||n$1.c!=Kt)if(n$1.g||n$1.c!=Yt)for(r$1=nt(o$1),e$2=n$1.a(new Nt(r$1));(r$1=nt(o$1))!=null;)e$2=Q(e$2,r$1=n$1.a(new Nt(r$1)));else r$1=nt(o$1),e$2=n$1.a(new Nt(r$1));else{for(r$1=nt(o$1);(e$2=nt(o$1))&&(!r$1.contains||r$1.contains(e$2))&&8&e$2.compareDocumentPosition(r$1);r$1=e$2);e$2=n$1.a(new Nt(r$1))}}return e$2},Dt.prototype.toString=function(){var t$1;if(t$1=`Path Expression:`+at(this.h),this.c.length){var e$2=m(this.c,(function(t$2,e$3){return t$2+at(e$3)}),`Steps:`);t$1+=at(e$2)}return t$1},o(jt),jt.prototype.a=function(t$1){var e$2=new $;return u(this.c,(function(s$2){if(!((s$2=s$2.a(t$1))instanceof $))throw Error(`Path expression must evaluate to NodeSet.`);e$2=Q(e$2,s$2)})),e$2},jt.prototype.toString=function(){return m(this.c,(function(t$1,e$2){return t$1+at(e$2)}),`Union Expression:`)},Ut.prototype.toString=function(){return m(this.a,(function(t$1,e$2){return t$1+at(e$2)}),`Predicates:`)},o(Ht),Ht.prototype.a=function(t$1){var e$2=t$1.a,s$2=null,i$1=null,r$1=null,n$1=0;if((s$2=this.f)&&(i$1=s$2.name,r$1=s$2.s?dt(s$2.s,t$1):null,n$1=1),this.u)if(this.g||this.c!=Gt)if(e$2=nt(t$1=it(new Ht(Jt,new wt(`node`)).a(t$1))))for(s$2=this.m(e$2,i$1,r$1,n$1);(e$2=nt(t$1))!=null;)s$2=Q(s$2,this.m(e$2,i$1,r$1,n$1));else s$2=new $;else s$2=j(this.o,e$2,i$1,r$1),s$2=qt(this.h,s$2,n$1);else s$2=this.m(t$1.a,i$1,r$1,n$1);return s$2},Ht.prototype.m=function(t$1,e$2,s$2,i$1){return t$1=this.c.f(this.o,t$1,e$2,s$2),qt(this.h,t$1,i$1)},Ht.prototype.toString=function(){var t$1;if(t$1=`Step:`+at(`Operator: `+(this.u?`//`:`/`)),this.c.j&&(t$1+=at(`Axis: `+this.c)),t$1+=at(this.o),this.h.a.length){var e$2=m(this.h.a,(function(t$2,e$3){return t$2+at(e$3)}),`Predicates:`);t$1+=at(e$2)}return t$1},Wt.prototype.toString=function(){return this.j};var zt={};function Xt(t$1,e$2,s$2,i$1){if(zt.hasOwnProperty(t$1))throw Error(`Axis already created: `+t$1);return e$2=new Wt(t$1,e$2,s$2,!!i$1),zt[t$1]=e$2}Xt(`ancestor`,(function(t$1,e$2){for(var s$2=new $,i$1=e$2;i$1=i$1.parentNode;)t$1.a(i$1)&&Z(s$2,i$1);return s$2}),!0),Xt(`ancestor-or-self`,(function(t$1,e$2){var s$2=new $,i$1=e$2;do t$1.a(i$1)&&Z(s$2,i$1);while(i$1=i$1.parentNode);return s$2}),!0);var Vt=Xt(`attribute`,(function(t$1,e$2){var s$2=new $;if((n$1=t$1.f())==`style`&&R&&e$2.style)return tt(s$2,new D(e$2.style,e$2,`style`,e$2.style.cssText)),s$2;var i$1=e$2.attributes;if(i$1)if(t$1 instanceof wt&&t$1.b===null||n$1==`*`)for(var r$1,n$1=0;r$1=i$1[n$1];n$1++)R?r$1.nodeValue&&tt(s$2,P(e$2,r$1)):tt(s$2,r$1);else (r$1=i$1.getNamedItem(n$1))&&(R?r$1.nodeValue&&tt(s$2,P(e$2,r$1)):tt(s$2,r$1));return s$2}),!1),Gt=Xt(`child`,(function(t$1,e$2,i$1,r$1,n$1){return(R?H:W).call(null,t$1,e$2,s$1(i$1)?i$1:null,s$1(r$1)?r$1:null,n$1||new $)}),!1,!0);Xt(`descendant`,j,!1,!0);var Jt=Xt(`descendant-or-self`,(function(t$1,e$2,s$2,i$1){var r$1=new $;return F(e$2,s$2,i$1)&&t$1.a(e$2)&&tt(r$1,e$2),j(t$1,e$2,s$2,i$1,r$1)}),!1,!0),Kt=Xt(`following`,(function(t$1,e$2,s$2,i$1){var r$1=new $;do for(var n$1=e$2;n$1=n$1.nextSibling;)F(n$1,s$2,i$1)&&t$1.a(n$1)&&tt(r$1,n$1),r$1=j(t$1,n$1,s$2,i$1,r$1);while(e$2=e$2.parentNode);return r$1}),!1,!0);Xt(`following-sibling`,(function(t$1,e$2){for(var s$2=new $,i$1=e$2;i$1=i$1.nextSibling;)t$1.a(i$1)&&tt(s$2,i$1);return s$2}),!1),Xt(`namespace`,(function(){return new $}),!1);var $t=Xt(`parent`,(function(t$1,e$2){var s$2=new $;if(e$2.nodeType==9)return s$2;if(e$2.nodeType==2)return tt(s$2,e$2.ownerElement),s$2;var i$1=e$2.parentNode;return t$1.a(i$1)&&tt(s$2,i$1),s$2}),!1),Yt=Xt(`preceding`,(function(t$1,e$2,s$2,i$1){var r$1=new $,n$1=[];do n$1.unshift(e$2);while(e$2=e$2.parentNode);for(var o$1=1,a$1=n$1.length;o$1<a$1;o$1++){var c$1=[];for(e$2=n$1[o$1];e$2=e$2.previousSibling;)c$1.unshift(e$2);for(var l$1=0,h$1=c$1.length;l$1<h$1;l$1++)F(e$2=c$1[l$1],s$2,i$1)&&t$1.a(e$2)&&tt(r$1,e$2),r$1=j(t$1,e$2,s$2,i$1,r$1)}return r$1}),!0,!0);Xt(`preceding-sibling`,(function(t$1,e$2){for(var s$2=new $,i$1=e$2;i$1=i$1.previousSibling;)t$1.a(i$1)&&Z(s$2,i$1);return s$2}),!0);var Qt=Xt(`self`,(function(t$1,e$2){var s$2=new $;return t$1.a(e$2)&&tt(s$2,e$2),s$2}),!1);function Zt(t$1){ot.call(this,1),this.c=t$1,this.g=t$1.g,this.b=t$1.b}function te(t$1){ot.call(this,1),this.c=t$1}function ee(t$1,e$2){this.a=t$1,this.b=e$2}function se(t$1){for(var e$2,s$2=[];;){ie(t$1,`Missing right hand side of binary expression.`),e$2=he(t$1);var i$1=It(t$1.a);if(!i$1)break;var r$1=(i$1=gt[i$1]||null)&&i$1.w;if(!r$1){t$1.a.a--;break}for(;s$2.length&&r$1<=s$2[s$2.length-1].w;)e$2=new pt(s$2.pop(),s$2.pop(),e$2);s$2.push(e$2,i$1)}for(;s$2.length;)e$2=new pt(s$2.pop(),s$2.pop(),e$2);return e$2}function ie(t$1,e$2){if(St(t$1.a))throw Error(e$2)}function re(t$1,e$2){var s$2=It(t$1.a);if(s$2!=e$2)throw Error(`Bad token, expected: `+e$2+` got: `+s$2)}function ne(t$1){if((t$1=It(t$1.a))!=`)`)throw Error(`Bad token: `+t$1)}function oe(t$1){if(2>(t$1=It(t$1.a)).length)throw Error(`Unclosed literal string`);return new Rt(t$1)}function ae(t$1){var e$2,s$2,i$1=[];if(Ft(Mt(t$1.a))){if(e$2=It(t$1.a),s$2=Mt(t$1.a),e$2==`/`&&(St(t$1.a)||s$2!=`.`&&s$2!=`..`&&s$2!=`@`&&s$2!=`*`&&!/(?![0-9])[\w]/.test(s$2)))return new Pt;s$2=new Pt,ie(t$1,`Missing next location step.`),e$2=ce(t$1,e$2),i$1.push(e$2)}else{t:{switch(s$2=(e$2=Mt(t$1.a)).charAt(0)){case`$`:throw Error(`Variable reference not allowed in HTML XPath`);case`(`:It(t$1.a),e$2=se(t$1),ie(t$1,`unclosed "("`),re(t$1,`)`);break;case`"`:case`'`:e$2=oe(t$1);break;default:if(isNaN(+e$2)){if(_t(e$2)||!/(?![0-9])[\w]/.test(s$2)||Mt(t$1.a,1)!=`(`){e$2=null;break t}for(e$2=It(t$1.a),e$2=Ct[e$2]||null,It(t$1.a),s$2=[];Mt(t$1.a)!=`)`&&(ie(t$1,`Missing function argument list.`),s$2.push(se(t$1)),Mt(t$1.a)==`,`);)It(t$1.a);ie(t$1,`Unclosed function argument list.`),ne(t$1),e$2=new xt(e$2,s$2)}else e$2=new te(+It(t$1.a))}Mt(t$1.a)==`[`&&(e$2=new yt(e$2,s$2=new Ut(le(t$1))))}if(e$2){if(!Ft(Mt(t$1.a)))return e$2;s$2=e$2}else e$2=ce(t$1,`/`),s$2=new Bt,i$1.push(e$2)}for(;Ft(Mt(t$1.a));)e$2=It(t$1.a),ie(t$1,`Missing next location step.`),e$2=ce(t$1,e$2),i$1.push(e$2);return new Dt(s$2,i$1)}function ce(t$1,e$2){var s$2,i$1,r$1,n$1;if(e$2!=`/`&&e$2!=`//`)throw Error(`Step op should be "/" or "//"`);if(Mt(t$1.a)==`.`)return i$1=new Ht(Qt,new wt(`node`)),It(t$1.a),i$1;if(Mt(t$1.a)==`..`)return i$1=new Ht($t,new wt(`node`)),It(t$1.a),i$1;if(Mt(t$1.a)==`@`)n$1=Vt,It(t$1.a),ie(t$1,`Missing attribute name`);else if(Mt(t$1.a,1)==`::`){if(!/(?![0-9])[\w]/.test(Mt(t$1.a).charAt(0)))throw Error(`Bad token: `+It(t$1.a));if(s$2=It(t$1.a),!(n$1=zt[s$2]||null))throw Error(`No axis with name: `+s$2);It(t$1.a),ie(t$1,`Missing node name`)}else n$1=Gt;if(s$2=Mt(t$1.a),!/(?![0-9])[\w\*]/.test(s$2.charAt(0)))throw Error(`Bad token: `+It(t$1.a));if(Mt(t$1.a,1)==`(`){if(!_t(s$2))throw Error(`Invalid node type: `+s$2);if(!_t(s$2=It(t$1.a)))throw Error(`Invalid type name: `+s$2);re(t$1,`(`),ie(t$1,`Bad nodetype`);var o$1=null;(r$1=Mt(t$1.a).charAt(0))!=`"`&&r$1!=`'`||(o$1=oe(t$1)),ie(t$1,`Bad nodetype`),ne(t$1),s$2=new wt(s$2,o$1)}else if((r$1=(s$2=It(t$1.a)).indexOf(`:`))==-1)s$2=new Ot(s$2);else{var a$1;if((o$1=s$2.substring(0,r$1))==`*`)a$1=`*`;else if(!(a$1=t$1.b(o$1)))throw Error(`Namespace prefix not declared: `+o$1);s$2=new Ot(s$2=s$2.substr(r$1+1),a$1)}return r$1=new Ut(le(t$1),n$1.a),i$1||new Ht(n$1,s$2,r$1,e$2==`//`)}function le(t$1){for(var e$2=[];Mt(t$1.a)==`[`;){It(t$1.a),ie(t$1,`Missing predicate expression.`);var s$2=se(t$1);e$2.push(s$2),ie(t$1,`Unclosed predicate expression.`),re(t$1,`]`)}return e$2}function he(t$1){if(Mt(t$1.a)==`-`)return It(t$1.a),new Zt(he(t$1));var e$2=ae(t$1);if(Mt(t$1.a)!=`|`)t$1=e$2;else{for(e$2=[e$2];It(t$1.a)==`|`;)ie(t$1,`Missing next union location path.`),e$2.push(ae(t$1));t$1.a.a--,t$1=new jt(e$2)}return t$1}function de(t$1){switch(t$1.nodeType){case 1:return function(t$2,e$2){var s$2=Array.prototype.slice.call(arguments,1);return function(){var e$3=s$2.slice();return e$3.push.apply(e$3,arguments),t$2.apply(this,e$3)}}(pe,t$1);case 9:return de(t$1.documentElement);case 11:case 10:case 6:case 12:return ue;default:return t$1.parentNode?de(t$1.parentNode):ue}}function ue(){return null}function pe(t$1,e$2){if(t$1.prefix==e$2)return t$1.namespaceURI||`http://www.w3.org/1999/xhtml`;var s$2=t$1.getAttributeNode(`xmlns:`+e$2);return s$2&&s$2.specified?s$2.value||null:t$1.parentNode&&t$1.parentNode.nodeType!=9?pe(t$1.parentNode,e$2):null}function me(t$1,e$2){if(!t$1.length)throw Error(`Empty XPath expression.`);var s$2=function(t$2){t$2=t$2.match(At);for(var e$3=0;e$3<t$2.length;e$3++)Lt.test(t$2[e$3])&&t$2.splice(e$3,1);return new kt(t$2)}(t$1);if(St(s$2))throw Error(`Invalid XPath expression.`);e$2?function(t$2){var e$3=typeof t$2;if(e$3==`object`){if(!t$2)return`null`;if(t$2 instanceof Array)return`array`;if(t$2 instanceof Object)return e$3;var s$3=Object.prototype.toString.call(t$2);if(s$3==`[object Window]`)return`object`;if(s$3==`[object Array]`||typeof t$2.length==`number`&&t$2.splice!==void 0&&t$2.propertyIsEnumerable!==void 0&&!t$2.propertyIsEnumerable(`splice`))return`array`;if(s$3==`[object Function]`||t$2.call!==void 0&&t$2.propertyIsEnumerable!==void 0&&!t$2.propertyIsEnumerable(`call`))return`function`}else if(e$3==`function`&&t$2.call===void 0)return`object`;return e$3}(e$2)==`function`||(e$2=n(e$2.lookupNamespaceURI,e$2)):e$2=function(){return null};var i$1=se(new ee(s$2,e$2));if(!St(s$2))throw Error(`Bad token: `+It(s$2));this.evaluate=function(t$2,e$3){return new fe(i$1.a(new Nt(t$2)),e$3)}}function fe(t$1,e$2){if(e$2==0)if(t$1 instanceof $)e$2=4;else if(typeof t$1==`string`)e$2=2;else if(typeof t$1==`number`)e$2=1;else{if(typeof t$1!=`boolean`)throw Error(`Unexpected evaluation result.`);e$2=3}if(e$2!=2&&e$2!=1&&e$2!=3&&!(t$1 instanceof $))throw Error(`value could not be converted to the specified type`);var s$2;switch(this.resultType=e$2,e$2){case 2:this.stringValue=t$1 instanceof $?st(t$1):``+t$1;break;case 1:this.numberValue=t$1 instanceof $?+st(t$1):+t$1;break;case 3:this.booleanValue=t$1 instanceof $?0<t$1.l:!!t$1;break;case 4:case 5:case 6:case 7:var i$1=it(t$1);s$2=[];for(var r$1=nt(i$1);r$1;r$1=nt(i$1))s$2.push(r$1 instanceof D?r$1.a:r$1);this.snapshotLength=t$1.l,this.invalidIteratorState=!1;break;case 8:case 9:i$1=et(t$1),this.singleNodeValue=i$1 instanceof D?i$1.a:i$1;break;default:throw Error(`Unknown XPathResult type.`)}var n$1=0;this.iterateNext=function(){if(e$2!=4&&e$2!=5)throw Error(`iterateNext called with wrong result type`);return n$1>=s$2.length?null:s$2[n$1++]},this.snapshotItem=function(t$2){if(e$2!=6&&e$2!=7)throw Error(`snapshotItem called with wrong result type`);return t$2>=s$2.length||0>t$2?null:s$2[t$2]}}function ge(t$1){this.lookupNamespaceURI=de(t$1)}function be(t$1,s$2){var i$1=t$1||e$1,r$1=i$1.Document&&i$1.Document.prototype||i$1.document;r$1.evaluate&&!s$2||(i$1.XPathResult=fe,r$1.evaluate=function(t$2,e$2,s$3,i$2){return new me(t$2,s$3).evaluate(e$2,i$2)},r$1.createExpression=function(t$2,e$2){return new me(t$2,e$2)},r$1.createNSResolver=function(t$2){return new ge(t$2)})}o(Zt),Zt.prototype.a=function(t$1){return-ht(this.c,t$1)},Zt.prototype.toString=function(){return`Unary Expression: -`+at(this.c)},o(te),te.prototype.a=function(){return this.c},te.prototype.toString=function(){return`Number: `+this.c},fe.ANY_TYPE=0,fe.NUMBER_TYPE=1,fe.STRING_TYPE=2,fe.BOOLEAN_TYPE=3,fe.UNORDERED_NODE_ITERATOR_TYPE=4,fe.ORDERED_NODE_ITERATOR_TYPE=5,fe.UNORDERED_NODE_SNAPSHOT_TYPE=6,fe.ORDERED_NODE_SNAPSHOT_TYPE=7,fe.ANY_UNORDERED_NODE_TYPE=8,fe.FIRST_ORDERED_NODE_TYPE=9;var Ee,Ne=[`wgxpath`,`install`],ye=e$1;for((Ne[0]in ye)||!ye.execScript||ye.execScript(`var `+Ne[0]);Ne.length&&(Ee=Ne.shift());)Ne.length||be===void 0?ye=ye[Ee]?ye[Ee]:ye[Ee]={}:ye[Ee]=be;t.exports.install=be,t.exports.XPathResultType={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9}}).call(s.g)}},__webpack_module_cache__={},leafPrototypes,getProto;function __webpack_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var s=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](s,s.exports,__webpack_require__),s.exports}getProto=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,__webpack_require__.t=function(t,e){if(1&e&&(t=this(t)),8&e||typeof t==`object`&&t&&(4&e&&t.__esModule||16&e&&typeof t.then==`function`))return t;var s=Object.create(null);__webpack_require__.r(s);var i={};leafPrototypes||=[null,getProto({}),getProto([]),getProto(getProto)];for(var r=2&e&&t;typeof r==`object`&&!~leafPrototypes.indexOf(r);r=getProto(r))Object.getOwnPropertyNames(r).forEach((e$1=>i[e$1]=()=>t[e$1]));return i.default=()=>t,__webpack_require__.d(s,i),s},__webpack_require__.d=(t,e)=>{for(var s in e)__webpack_require__.o(e,s)&&!__webpack_require__.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},__webpack_require__.g=function(){if(typeof globalThis==`object`)return globalThis;try{return this||Function(`return this`)()}catch{if(typeof window==`object`)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{typeof Symbol<`u`&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:`Module`}),Object.defineProperty(t,`__esModule`,{value:!0})};var __webpack_exports__={};(()=>{var t={};__webpack_require__.r(t),__webpack_require__.d(t,{GLOBAL:()=>ii,MathJax:()=>ci,combineConfig:()=>ni,combineDefaults:()=>oi,combineWithMathJax:()=>ai,isObject:()=>ri});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{context:()=>hi,hasWindow:()=>li});var s={};__webpack_require__.r(s),__webpack_require__.d(s,{Package:()=>ui,PackageError:()=>di});var i={};__webpack_require__.r(i),__webpack_require__.d(i,{PrioritizedList:()=>pi});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{FunctionList:()=>mi});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{CONFIG:()=>xi,Loader:()=>Ni,MathJax:()=>yi,PathFilters:()=>bi});var o={};__webpack_require__.r(o),__webpack_require__.d(o,{APPEND:()=>Ti,Expandable:()=>ki,OPTIONS:()=>_i,REMOVE:()=>wi,copy:()=>Ii,defaultOptions:()=>Ri,expandable:()=>Ai,insert:()=>Si,isObject:()=>Ci,keys:()=>Mi,lookup:()=>Fi,makeArray:()=>Li,selectOptions:()=>Di,selectOptionsFromKeys:()=>Pi,separateOptions:()=>Bi,userOptions:()=>Oi});var a={};__webpack_require__.r(a),__webpack_require__.d(a,{CONFIG:()=>Hi,MathJax:()=>qi,Startup:()=>Ui});var c={};__webpack_require__.r(c),__webpack_require__.d(c,{AbstractDOMAdaptor:()=>zi});var l={};__webpack_require__.r(l),__webpack_require__.d(l,{HTMLAdaptor:()=>Vi});var h={};__webpack_require__.r(h),__webpack_require__.d(h,{browserAdaptor:()=>Ji});var d={};__webpack_require__.r(d),__webpack_require__.d(d,{AbstractFindMath:()=>Ki});var u={};__webpack_require__.r(u),__webpack_require__.d(u,{AbstractInputJax:()=>$i});var p={};__webpack_require__.r(p),__webpack_require__.d(p,{AbstractOutputJax:()=>Yi});var m={};__webpack_require__.r(m),__webpack_require__.d(m,{END:()=>Qi,LinkedList:()=>tr,ListItem:()=>Zi});var f={};__webpack_require__.r(f),__webpack_require__.d(f,{AbstractMathList:()=>er});var g={};__webpack_require__.r(g),__webpack_require__.d(g,{AbstractMathItem:()=>ir,STATE:()=>rr,newState:()=>nr,protoItem:()=>sr});var b={};__webpack_require__.r(b),__webpack_require__.d(b,{AbstractFactory:()=>or});var E={};__webpack_require__.r(E),__webpack_require__.d(E,{AbstractNodeFactory:()=>ar});var N={};__webpack_require__.r(N),__webpack_require__.d(N,{Attributes:()=>lr,INHERIT:()=>cr});var y={};__webpack_require__.r(y),__webpack_require__.d(y,{AbstractEmptyNode:()=>dr,AbstractNode:()=>hr});var x={};__webpack_require__.r(x),__webpack_require__.d(x,{AbstractMmlBaseNode:()=>xr,AbstractMmlEmptyNode:()=>vr,AbstractMmlLayoutNode:()=>yr,AbstractMmlNode:()=>Er,AbstractMmlTokenNode:()=>Nr,MATHVARIANTS:()=>gr,TEXCLASS:()=>ur,TEXCLASSNAMES:()=>pr,TextNode:()=>Cr,XMLNode:()=>Tr,indentAttributes:()=>br});var v={};__webpack_require__.r(v),__webpack_require__.d(v,{MmlMath:()=>wr});var C={};__webpack_require__.r(C),__webpack_require__.d(C,{MmlMi:()=>_r});var T={};__webpack_require__.r(T),__webpack_require__.d(T,{MmlMn:()=>kr});var w={};__webpack_require__.r(w),__webpack_require__.d(w,{MMLSPACING:()=>Sr,MO:()=>Lr,OPDEF:()=>Ar,OPTABLE:()=>Rr,RANGES:()=>Mr,getRange:()=>Ir});var _={};__webpack_require__.r(_),__webpack_require__.d(_,{isPercent:()=>Fr,quotePattern:()=>Dr,replaceUnicode:()=>Ur,sortLength:()=>Or,split:()=>jr,toEntity:()=>qr,unicodeChars:()=>Pr,unicodeString:()=>Br});var k={};__webpack_require__.r(k),__webpack_require__.d(k,{MmlMo:()=>Hr});var A={};__webpack_require__.r(A),__webpack_require__.d(A,{MmlMtext:()=>Wr});var L={};__webpack_require__.r(L),__webpack_require__.d(L,{MmlMspace:()=>zr});var M={};__webpack_require__.r(M),__webpack_require__.d(M,{MmlMs:()=>Xr});var I={};__webpack_require__.r(I),__webpack_require__.d(I,{MmlInferredMrow:()=>Gr,MmlMrow:()=>Vr});var S={};__webpack_require__.r(S),__webpack_require__.d(S,{MmlMfrac:()=>Jr});var R={};__webpack_require__.r(R),__webpack_require__.d(R,{MmlMsqrt:()=>Kr});var O={};__webpack_require__.r(O),__webpack_require__.d(O,{MmlMroot:()=>$r});var D={};__webpack_require__.r(D),__webpack_require__.d(D,{MmlMstyle:()=>Yr});var P={};__webpack_require__.r(P),__webpack_require__.d(P,{MmlMerror:()=>Qr});var B={};__webpack_require__.r(B),__webpack_require__.d(B,{MmlMpadded:()=>Zr});var F={};__webpack_require__.r(F),__webpack_require__.d(F,{MmlMphantom:()=>tn});var j={};__webpack_require__.r(j),__webpack_require__.d(j,{MmlMfenced:()=>en});var U={};__webpack_require__.r(U),__webpack_require__.d(U,{MmlMenclose:()=>sn});var q={};__webpack_require__.r(q),__webpack_require__.d(q,{MmlMaction:()=>rn});var H={};__webpack_require__.r(H),__webpack_require__.d(H,{MmlMsub:()=>on,MmlMsubsup:()=>nn,MmlMsup:()=>an});var W={};__webpack_require__.r(W),__webpack_require__.d(W,{MmlMover:()=>hn,MmlMunder:()=>ln,MmlMunderover:()=>cn});var z={};__webpack_require__.r(z),__webpack_require__.d(z,{MmlMmultiscripts:()=>dn,MmlMprescripts:()=>un,MmlNone:()=>pn});var X={};__webpack_require__.r(X),__webpack_require__.d(X,{MmlMtable:()=>mn});var V={};__webpack_require__.r(V),__webpack_require__.d(V,{MmlMlabeledtr:()=>gn,MmlMtr:()=>fn});var G={};__webpack_require__.r(G),__webpack_require__.d(G,{MmlMtd:()=>bn});var J={};__webpack_require__.r(J),__webpack_require__.d(J,{MmlMaligngroup:()=>En});var K={};__webpack_require__.r(K),__webpack_require__.d(K,{MmlMalignmark:()=>Nn});var $={};__webpack_require__.r($),__webpack_require__.d($,{MmlMglyph:()=>yn});var Y={};__webpack_require__.r(Y),__webpack_require__.d(Y,{MmlAnnotation:()=>Cn,MmlAnnotationXML:()=>vn,MmlSemantics:()=>xn});var Q={};__webpack_require__.r(Q),__webpack_require__.d(Q,{TeXAtom:()=>Tn});var Z={};__webpack_require__.r(Z),__webpack_require__.d(Z,{MathChoice:()=>wn});var tt={};__webpack_require__.r(tt),__webpack_require__.d(tt,{HtmlNode:()=>_n});var et={};__webpack_require__.r(et),__webpack_require__.d(et,{MML:()=>kn});var st={};__webpack_require__.r(st),__webpack_require__.d(st,{MmlFactory:()=>An});var it={};__webpack_require__.r(it),__webpack_require__.d(it,{BitField:()=>Ln,BitFieldClass:()=>Mn});var rt={};__webpack_require__.r(rt),__webpack_require__.d(rt,{handleRetriesFor:()=>In,retryAfter:()=>Sn});var nt={};__webpack_require__.r(nt),__webpack_require__.d(nt,{AbstractMathDocument:()=>Un,RenderList:()=>On,resetAllOptions:()=>Pn,resetOptions:()=>Dn});var ot={};__webpack_require__.r(ot),__webpack_require__.d(ot,{AbstractHandler:()=>Hn});var at={};__webpack_require__.r(at),__webpack_require__.d(at,{HandlerList:()=>Wn});var ct={};__webpack_require__.r(ct),__webpack_require__.d(ct,{AbstractVisitor:()=>zn});var lt={};__webpack_require__.r(lt),__webpack_require__.d(lt,{DATAMJX:()=>Xn,MmlVisitor:()=>Vn});var ht={};__webpack_require__.r(ht),__webpack_require__.d(ht,{MathMLVisitor:()=>Gn});var dt={};__webpack_require__.r(dt),__webpack_require__.d(dt,{SerializedMmlVisitor:()=>Jn});var ut={};__webpack_require__.r(ut),__webpack_require__.d(ut,{AbstractWrapper:()=>Kn});var pt={};__webpack_require__.r(pt),__webpack_require__.d(pt,{AbstractWrapperFactory:()=>$n});var mt={};__webpack_require__.r(mt),__webpack_require__.d(mt,{mathjax:()=>Yn});var ft={};__webpack_require__.r(ft),__webpack_require__.d(ft,{HTMLMathItem:()=>Qn});var gt={};__webpack_require__.r(gt),__webpack_require__.d(gt,{HTMLMathList:()=>Zn});var bt={};__webpack_require__.r(bt),__webpack_require__.d(bt,{HTMLDomStrings:()=>to});var Et={};__webpack_require__.r(Et),__webpack_require__.d(Et,{HTMLDocument:()=>eo});var Nt={};__webpack_require__.r(Nt),__webpack_require__.d(Nt,{HTMLHandler:()=>so});var yt={};__webpack_require__.r(yt),__webpack_require__.d(yt,{RegisterHTMLHandler:()=>io});var xt={};__webpack_require__.r(xt),__webpack_require__.d(xt,{asyncLoad:()=>ro});var vt={};__webpack_require__.r(vt),__webpack_require__.d(vt,{BIGDIMEN:()=>no,MATHSPACE:()=>co,RELUNITS:()=>ao,UNITS:()=>oo,em:()=>uo,length2em:()=>lo,percent:()=>ho,px:()=>po});var Ct={};__webpack_require__.r(Ct),__webpack_require__.d(Ct,{BBox:()=>mo});var Tt={};__webpack_require__.r(Tt),__webpack_require__.d(Tt,{add:()=>Eo,entities:()=>go,numeric:()=>vo,options:()=>fo,remove:()=>No,translate:()=>yo});var wt={};__webpack_require__.r(wt),__webpack_require__.d(wt,{StyleJsonSheet:()=>Co});var _t={};__webpack_require__.r(_t),__webpack_require__.d(_t,{Styles:()=>Oo,TRBL:()=>To,WSC:()=>wo});var kt={};__webpack_require__.r(kt),__webpack_require__.d(kt,{max:()=>Po,sum:()=>Do});var At={};__webpack_require__.r(At),__webpack_require__.d(At,{FindTeX:()=>Bo});var Lt={};__webpack_require__.r(Lt),__webpack_require__.d(Lt,{default:()=>jo});var Mt={};__webpack_require__.r(Mt),__webpack_require__.d(Mt,{default:()=>Xo});var It={};__webpack_require__.r(It),__webpack_require__.d(It,{ConfigurationType:()=>Vo,HandlerType:()=>Go});var St={};__webpack_require__.r(St),__webpack_require__.d(St,{UnitUtil:()=>Ko});var Rt={};__webpack_require__.r(Rt),__webpack_require__.d(Rt,{default:()=>$o});var Ot={};__webpack_require__.r(Ot),__webpack_require__.d(Ot,{default:()=>Qo});var Dt={};__webpack_require__.r(Dt),__webpack_require__.d(Dt,{BaseItem:()=>ta,MmlStack:()=>Zo});var Pt={};__webpack_require__.r(Pt),__webpack_require__.d(Pt,{TexConstant:()=>ea});var Bt={};__webpack_require__.r(Bt),__webpack_require__.d(Bt,{default:()=>sa});var Ft={};__webpack_require__.r(Ft),__webpack_require__.d(Ft,{default:()=>na});var jt={};__webpack_require__.r(jt),__webpack_require__.d(jt,{NodeFactory:()=>oa});var Ut={};__webpack_require__.r(Ut),__webpack_require__.d(Ut,{KeyValueDef:()=>aa,KeyValueTypes:()=>ca,ParseUtil:()=>da});var qt={};__webpack_require__.r(qt),__webpack_require__.d(qt,{ColumnParser:()=>ua});var Ht={};__webpack_require__.r(Ht),__webpack_require__.d(Ht,{default:()=>fa});var Wt={};__webpack_require__.r(Wt),__webpack_require__.d(Wt,{AbstractTags:()=>Ea,AllTags:()=>ya,Label:()=>ga,NoTags:()=>Na,TagInfo:()=>ba,TagsFactory:()=>Ca});var zt={};__webpack_require__.r(zt),__webpack_require__.d(zt,{Macro:()=>wa,Token:()=>Ta});var Xt={};__webpack_require__.r(Xt),__webpack_require__.d(Xt,{AbstractParseMap:()=>La,AbstractTokenMap:()=>ka,CharacterMap:()=>Ma,CommandMap:()=>Ra,DelimiterMap:()=>Ia,EnvironmentMap:()=>Oa,MacroMap:()=>Sa,RegExpMap:()=>Aa,parseResult:()=>_a});var Vt={};__webpack_require__.r(Vt),__webpack_require__.d(Vt,{MapHandler:()=>Pa,SubHandler:()=>Ba,SubHandlers:()=>Fa});var Gt={};__webpack_require__.r(Gt),__webpack_require__.d(Gt,{Configuration:()=>ja,ConfigurationHandler:()=>qa,ParserConfiguration:()=>Ha});var Jt={};__webpack_require__.r(Jt),__webpack_require__.d(Jt,{ArrayItem:()=>dc,BeginItem:()=>ec,BreakItem:()=>tc,CellItem:()=>nc,CloseItem:()=>Va,DotsItem:()=>hc,EndItem:()=>sc,EqnArrayItem:()=>uc,EquationItem:()=>mc,FnItem:()=>ac,LeftItem:()=>Ya,Middle:()=>Qa,MmlItem:()=>oc,MstyleItem:()=>pc,NonscriptItem:()=>lc,NotItem:()=>cc,NullItem:()=>Ga,OpenItem:()=>Xa,OverItem:()=>$a,PositionItem:()=>rc,PrimeItem:()=>Ja,RightItem:()=>Za,StartItem:()=>Wa,StopItem:()=>za,StyleItem:()=>ic,SubsupItem:()=>Ka});var Kt={};__webpack_require__.r(Kt),__webpack_require__.d(Kt,{default:()=>xc,splitAlignArray:()=>Ec});var $t={};__webpack_require__.r($t),__webpack_require__.d($t,{default:()=>Tc});var Yt={};__webpack_require__.r(Yt),__webpack_require__.d(Yt,{BaseConfiguration:()=>Mc,BaseTags:()=>Lc,Other:()=>Ac});var Qt={};__webpack_require__.r(Qt),__webpack_require__.d(Qt,{TeX:()=>Ic});var Zt={};__webpack_require__.r(Zt),__webpack_require__.d(Zt,{FlalignItem:()=>Rc,MultlineItem:()=>Sc});var te={};__webpack_require__.r(te),__webpack_require__.d(te,{NewcommandPriority:()=>Dc,NewcommandTables:()=>Oc,NewcommandUtil:()=>Pc});var ee={};__webpack_require__.r(ee),__webpack_require__.d(ee,{AmsMethods:()=>jc});var se={};__webpack_require__.r(se),__webpack_require__.d(se,{BeginEnvItem:()=>Uc});var ie={};__webpack_require__.r(ie),__webpack_require__.d(ie,{default:()=>Hc});var re={};__webpack_require__.r(re),__webpack_require__.d(re,{NewcommandConfig:()=>Wc,NewcommandConfiguration:()=>zc});var ne={};__webpack_require__.r(ne),__webpack_require__.d(ne,{AmsConfiguration:()=>Vc,AmsTags:()=>Xc});var oe={};__webpack_require__.r(oe),__webpack_require__.d(oe,{RequireConfiguration:()=>Zc,RequireLoad:()=>$c,RequireMethods:()=>Yc,options:()=>Qc});var ae={};__webpack_require__.r(ae),__webpack_require__.d(ae,{AutoloadConfiguration:()=>il});var ce={};__webpack_require__.r(ce),__webpack_require__.d(ce,{ConfigMacrosConfiguration:()=>cl});var le={};__webpack_require__.r(le),__webpack_require__.d(le,{NoUndefinedConfiguration:()=>ll});var he={};__webpack_require__.r(he),__webpack_require__.d(he,{TextParser:()=>hl});var de={};__webpack_require__.r(de),__webpack_require__.d(de,{TextMacrosMethods:()=>dl});var ue={};__webpack_require__.r(ue),__webpack_require__.d(ue,{TextBaseConfiguration:()=>pl,TextMacrosConfiguration:()=>fl});var pe={};__webpack_require__.r(pe),__webpack_require__.d(pe,{FindMathML:()=>bl});var me={};__webpack_require__.r(me),__webpack_require__.d(me,{MathMLCompile:()=>El});var fe={};__webpack_require__.r(fe),__webpack_require__.d(fe,{MathML:()=>Nl});var ge={};__webpack_require__.r(ge),__webpack_require__.d(ge,{DIRECTION:()=>yl,H:()=>vl,V:()=>xl});var be={};__webpack_require__.r(be),__webpack_require__.d(be,{DIRECTION:()=>yl,FontData:()=>_l,NOSTRETCH:()=>Tl,mergeOptions:()=>wl});var Ee={};__webpack_require__.r(Ee),__webpack_require__.d(Ee,{LineBBox:()=>kl});var Ne={};__webpack_require__.r(Ne),__webpack_require__.d(Ne,{LinebreakVisitor:()=>Ml,Linebreaks:()=>Ll,NOBREAK:()=>Al});var ye={};__webpack_require__.r(ye),__webpack_require__.d(ye,{CommonOutputJax:()=>Sl,FONTPATH:()=>Il});var xe={};__webpack_require__.r(xe),__webpack_require__.d(xe,{CommonWrapperFactory:()=>Rl});var ve={};__webpack_require__.r(ve),__webpack_require__.d(ve,{CommonWrapper:()=>Fl,SPACE:()=>Bl});var Ce={};__webpack_require__.r(Ce),__webpack_require__.d(Ce,{ChtmlWrapper:()=>Ul,FONTSIZE:()=>jl});var Te={};__webpack_require__.r(Te),__webpack_require__.d(Te,{CommonMathMixin:()=>ql});var we={};__webpack_require__.r(we),__webpack_require__.d(we,{ChtmlMath:()=>Hl});var _e={};__webpack_require__.r(_e),__webpack_require__.d(_e,{CommonMiMixin:()=>Wl});var ke={};__webpack_require__.r(ke),__webpack_require__.d(ke,{ChtmlMi:()=>zl});var Ae={};__webpack_require__.r(Ae),__webpack_require__.d(Ae,{CommonMoMixin:()=>Xl});var Le={};__webpack_require__.r(Le),__webpack_require__.d(Le,{Usage:()=>Vl});var Me={};__webpack_require__.r(Me),__webpack_require__.d(Me,{AddCSS:()=>Jl,ChtmlFontData:()=>Gl,DIRECTION:()=>yl,FontData:()=>_l,NOSTRETCH:()=>Tl,mergeOptions:()=>wl});var Ie={};__webpack_require__.r(Ie),__webpack_require__.d(Ie,{ChtmlMo:()=>Kl});var Se={};__webpack_require__.r(Se),__webpack_require__.d(Se,{CommonMnMixin:()=>$l});var Re={};__webpack_require__.r(Re),__webpack_require__.d(Re,{ChtmlMn:()=>Yl});var Oe={};__webpack_require__.r(Oe),__webpack_require__.d(Oe,{CommonMsMixin:()=>Ql});var De={};__webpack_require__.r(De),__webpack_require__.d(De,{ChtmlMs:()=>Zl});var Pe={};__webpack_require__.r(Pe),__webpack_require__.d(Pe,{CommonMtextMixin:()=>th});var Be={};__webpack_require__.r(Be),__webpack_require__.d(Be,{ChtmlMtext:()=>eh});var Fe={};__webpack_require__.r(Fe),__webpack_require__.d(Fe,{CommonMspaceMixin:()=>sh});var je={};__webpack_require__.r(je),__webpack_require__.d(je,{ChtmlMspace:()=>ih});var Ue={};__webpack_require__.r(Ue),__webpack_require__.d(Ue,{CommonMpaddedMixin:()=>rh});var qe={};__webpack_require__.r(qe),__webpack_require__.d(qe,{ChtmlMpadded:()=>nh});var He={};__webpack_require__.r(He),__webpack_require__.d(He,{ARROWDX:()=>ah,ARROWX:()=>oh,ARROWY:()=>ch,CommonArrow:()=>kh,CommonBorder:()=>Ch,CommonBorder2:()=>Th,CommonDiagonalArrow:()=>_h,CommonDiagonalStrike:()=>wh,PADDING:()=>hh,SOLID:()=>dh,THICKNESS:()=>lh,arrowBBox:()=>vh,arrowBBoxHD:()=>Eh,arrowBBoxW:()=>Nh,arrowDef:()=>yh,arrowHead:()=>bh,diagonalArrowDef:()=>xh,fullBBox:()=>mh,fullBorder:()=>gh,fullPadding:()=>fh,sideIndex:()=>uh,sideNames:()=>ph});var We={};__webpack_require__.r(We),__webpack_require__.d(We,{CommonMencloseMixin:()=>Ah});var ze={};__webpack_require__.r(ze),__webpack_require__.d(ze,{ARROWDX:()=>ah,ARROWX:()=>oh,ARROWY:()=>ch,Arrow:()=>Oh,Border:()=>Mh,Border2:()=>Ih,CommonArrow:()=>kh,CommonBorder:()=>Ch,CommonBorder2:()=>Th,CommonDiagonalArrow:()=>_h,CommonDiagonalStrike:()=>wh,DiagonalArrow:()=>Rh,DiagonalStrike:()=>Sh,PADDING:()=>hh,RenderElement:()=>Lh,SOLID:()=>dh,THICKNESS:()=>lh,arrowBBox:()=>vh,arrowBBoxHD:()=>Eh,arrowBBoxW:()=>Nh,arrowDef:()=>yh,arrowHead:()=>bh,diagonalArrowDef:()=>xh,fullBBox:()=>mh,fullBorder:()=>gh,fullPadding:()=>fh,sideIndex:()=>uh,sideNames:()=>ph});var Xe={};__webpack_require__.r(Xe),__webpack_require__.d(Xe,{ChtmlMenclose:()=>Bh});var Ve={};__webpack_require__.r(Ve),__webpack_require__.d(Ve,{CommonInferredMrowMixin:()=>jh,CommonMrowMixin:()=>Fh});var Ge={};__webpack_require__.r(Ge),__webpack_require__.d(Ge,{ChtmlInferredMrow:()=>qh,ChtmlMrow:()=>Uh});var Je={};__webpack_require__.r(Je),__webpack_require__.d(Je,{CommonMfencedMixin:()=>Hh});var Ke={};__webpack_require__.r(Ke),__webpack_require__.d(Ke,{ChtmlMfenced:()=>Wh});var $e={};__webpack_require__.r($e),__webpack_require__.d($e,{CommonMfracMixin:()=>zh});var Ye={};__webpack_require__.r(Ye),__webpack_require__.d(Ye,{ChtmlMfrac:()=>Xh});var Qe={};__webpack_require__.r(Qe),__webpack_require__.d(Qe,{CommonMsqrtMixin:()=>Vh});var Ze={};__webpack_require__.r(Ze),__webpack_require__.d(Ze,{ChtmlMsqrt:()=>Gh});var ts={};__webpack_require__.r(ts),__webpack_require__.d(ts,{CommonMrootMixin:()=>Jh});var es={};__webpack_require__.r(es),__webpack_require__.d(es,{ChtmlMroot:()=>Kh});var ss={};__webpack_require__.r(ss),__webpack_require__.d(ss,{CommonMsubMixin:()=>$h,CommonMsubsupMixin:()=>Qh,CommonMsupMixin:()=>Yh});var is={};__webpack_require__.r(is),__webpack_require__.d(is,{CommonScriptbaseMixin:()=>Zh});var rs={};__webpack_require__.r(rs),__webpack_require__.d(rs,{ChtmlScriptbase:()=>td});var ns={};__webpack_require__.r(ns),__webpack_require__.d(ns,{ChtmlMsub:()=>ed,ChtmlMsubsup:()=>id,ChtmlMsup:()=>sd});var os={};__webpack_require__.r(os),__webpack_require__.d(os,{CommonMoverMixin:()=>nd,CommonMunderMixin:()=>rd,CommonMunderoverMixin:()=>od});var as={};__webpack_require__.r(as),__webpack_require__.d(as,{ChtmlMover:()=>cd,ChtmlMunder:()=>ad,ChtmlMunderover:()=>ld});var cs={};__webpack_require__.r(cs),__webpack_require__.d(cs,{CommonMmultiscriptsMixin:()=>ud,NextScript:()=>hd,ScriptNames:()=>dd});var ls={};__webpack_require__.r(ls),__webpack_require__.d(ls,{ChtmlMmultiscripts:()=>pd});var hs={};__webpack_require__.r(hs),__webpack_require__.d(hs,{BREAK_BELOW:()=>md,CommonMtableMixin:()=>fd});var ds={};__webpack_require__.r(ds),__webpack_require__.d(ds,{ChtmlMtable:()=>gd});var us={};__webpack_require__.r(us),__webpack_require__.d(us,{CommonMlabeledtrMixin:()=>Ed,CommonMtrMixin:()=>bd});var ps={};__webpack_require__.r(ps),__webpack_require__.d(ps,{ChtmlMlabeledtr:()=>yd,ChtmlMtr:()=>Nd});var ms={};__webpack_require__.r(ms),__webpack_require__.d(ms,{CommonMtdMixin:()=>xd});var fs={};__webpack_require__.r(fs),__webpack_require__.d(fs,{ChtmlMtd:()=>vd});var gs={};__webpack_require__.r(gs),__webpack_require__.d(gs,{CommonMactionMixin:()=>Td,TooltipData:()=>Cd});var bs={};__webpack_require__.r(bs),__webpack_require__.d(bs,{ChtmlMaction:()=>wd});var Es={};__webpack_require__.r(Es),__webpack_require__.d(Es,{CommonMglyphMixin:()=>_d});var Ns={};__webpack_require__.r(Ns),__webpack_require__.d(Ns,{ChtmlMglyph:()=>kd});var ys={};__webpack_require__.r(ys),__webpack_require__.d(ys,{CommonSemanticsMixin:()=>Ad});var xs={};__webpack_require__.r(xs),__webpack_require__.d(xs,{CommonXmlNodeMixin:()=>Ld});var vs={};__webpack_require__.r(vs),__webpack_require__.d(vs,{ChtmlAnnotation:()=>Id,ChtmlAnnotationXML:()=>Rd,ChtmlSemantics:()=>Md,ChtmlXmlNode:()=>Od});var Cs={};__webpack_require__.r(Cs),__webpack_require__.d(Cs,{CommonTeXAtomMixin:()=>Dd});var Ts={};__webpack_require__.r(Ts),__webpack_require__.d(Ts,{ChtmlTeXAtom:()=>Pd});var ws={};__webpack_require__.r(ws),__webpack_require__.d(ws,{CommonTextNodeMixin:()=>Bd});var _s={};__webpack_require__.r(_s),__webpack_require__.d(_s,{ChtmlTextNode:()=>Fd});var ks={};__webpack_require__.r(ks),__webpack_require__.d(ks,{ChtmlHtmlNode:()=>jd});var As={};__webpack_require__.r(As),__webpack_require__.d(As,{ChtmlWrappers:()=>Ud});var Ls={};__webpack_require__.r(Ls),__webpack_require__.d(Ls,{ChtmlWrapperFactory:()=>qd});var Ms={};__webpack_require__.r(Ms),__webpack_require__.d(Ms,{DefaultFont:()=>Gd,fontName:()=>Vd});var Is={};__webpack_require__.r(Is),__webpack_require__.d(Is,{CHTML:()=>Jd});var Ss={};__webpack_require__.r(Ss),__webpack_require__.d(Ss,{AddFontIds:()=>Kd});var Rs={};__webpack_require__.r(Rs),__webpack_require__.d(Rs,{MJContextMenu:()=>Qu});var Os={};__webpack_require__.r(Os),__webpack_require__.d(Os,{addPreference:()=>ob,engineSetup:()=>ib,fromPreference:()=>ab,locales:()=>eb,parseDOM:()=>nb,setupEngine:()=>sb,toEnriched:()=>rb,toPreference:()=>cb});var Ds={};__webpack_require__.r(Ds),__webpack_require__.d(Ds,{clearspeakMenu:()=>bb,localeMenu:()=>Nb});var Ps={};__webpack_require__.r(Ps),__webpack_require__.d(Ps,{copyToClipboard:()=>xb,isMac:()=>yb});var Bs={};__webpack_require__.r(Bs),__webpack_require__.d(Bs,{annotation:()=>wb,copyAnnotations:()=>Cb,showAnnotations:()=>vb});var Fs={};__webpack_require__.r(Fs),__webpack_require__.d(Fs,{RadioCompare:()=>kb});var js={};__webpack_require__.r(js),__webpack_require__.d(js,{MmlVisitor:()=>Ab});var Us={};__webpack_require__.r(Us),__webpack_require__.d(Us,{SelectableInfo:()=>Lb});var qs={};__webpack_require__.r(qs),__webpack_require__.d(qs,{Menu:()=>Sb});var Hs={};__webpack_require__.r(Hs),__webpack_require__.d(Hs,{MenuHandler:()=>Db,MenuMathDocumentMixin:()=>Ob,MenuMathItemMixin:()=>Rb});var Ws={};__webpack_require__.r(Ws),__webpack_require__.d(Ws,{EnrichHandler:()=>jb,EnrichedMathDocumentMixin:()=>Fb,EnrichedMathItemMixin:()=>Bb,enrichVisitor:()=>Pb});var zs={};__webpack_require__.r(zs),__webpack_require__.d(zs,{InPlace:()=>$b,SemAttr:()=>Yb,buildLabel:()=>Gb,buildSpeech:()=>Jb,honk:()=>Kb,ssmlParsing:()=>qb});var Xs={};__webpack_require__.r(Xs),__webpack_require__.d(Xs,{GeneratorPool:()=>Qb});var Vs={};__webpack_require__.r(Vs),__webpack_require__.d(Vs,{WorkerHandler:()=>eE});var Gs={};__webpack_require__.r(Gs),__webpack_require__.d(Gs,{SpeechHandler:()=>aE,SpeechMathDocumentMixin:()=>oE,SpeechMathItemMixin:()=>nE});var Js={};__webpack_require__.r(Js),__webpack_require__.d(Js,{getHighlighter:()=>fE});var Ks={};__webpack_require__.r(Ks),__webpack_require__.d(Ks,{AbstractRegion:()=>bE,DummyRegion:()=>EE,HoverRegion:()=>CE,LiveRegion:()=>xE,SpeechRegion:()=>vE,StringRegion:()=>NE,ToolTip:()=>yE});var $s={};__webpack_require__.r($s),__webpack_require__.d($s,{AbstractExplorer:()=>TE});var Ys={};__webpack_require__.r(Ys),__webpack_require__.d(Ys,{SpeechExplorer:()=>ME,hasModifiers:()=>AE,isContainer:()=>kE});var Qs={};__webpack_require__.r(Qs),__webpack_require__.d(Qs,{AbstractMouseExplorer:()=>IE,ContentHoverer:()=>OE,FlameHoverer:()=>DE,Hoverer:()=>SE,ValueHoverer:()=>RE});var Zs={};__webpack_require__.r(Zs),__webpack_require__.d(Zs,{AbstractTreeExplorer:()=>PE,ContrastPicker:()=>jE,FlameColorer:()=>BE,TreeColorer:()=>FE});var ti={};__webpack_require__.r(ti),__webpack_require__.d(ti,{ExplorerPool:()=>HE,RegionPool:()=>UE});var ei={};__webpack_require__.r(ei),__webpack_require__.d(ei,{ExplorerHandler:()=>VE,ExplorerMathDocumentMixin:()=>XE,ExplorerMathItemMixin:()=>zE,setA11yOption:()=>JE,setA11yOptions:()=>GE});let si=`4.0.0`,ii=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:{};function ri(t$1){return typeof t$1==`object`&&!!t$1}function ni(t$1,e$1,s$1=!1){var i$1;for(let r$1 of Object.keys(e$1))r$1!==`__esModule`&&t$1[r$1]!==e$1[r$1]&&e$1[r$1]!==null&&e$1[r$1]!==void 0&&(ri(t$1[r$1])&&ri(e$1[r$1])?ni(t$1[r$1],e$1[r$1],s$1||r$1===`_`):s$1&&(i$1=Object.getOwnPropertyDescriptor(t$1,r$1))!=null&&i$1.get||(t$1[r$1]=e$1[r$1]));return t$1}function oi(t$1,e$1,s$1){t$1[e$1]||(t$1[e$1]={}),t$1=t$1[e$1];for(let e$2 of Object.keys(s$1))ri(t$1[e$2])&&ri(s$1[e$2])?oi(t$1,e$2,s$1[e$2]):t$1[e$2]==null&&s$1[e$2]!=null&&(t$1[e$2]=s$1[e$2]);return t$1}function ai(t$1){return ni(ci,t$1)}ii.MathJax!==void 0&&ii.MathJax.constructor==={}.constructor||(ii.MathJax={}),ii.MathJax.version||(ii.MathJax={version:si,_:{},config:ii.MathJax});let ci=ii.MathJax,li=typeof window<`u`,hi={window:li?window:null,document:li?window.document:null,os:(()=>{if(li&&window.navigator){let t$1=window.navigator.appVersion;for(let[s$1,i$1]of[[`Win`,`Windows`],[`Mac`,`MacOS`],[`X11`,`Unix`],[`Linux`,`Unix`]])if(t$1.includes(s$1))return i$1;if(window.navigator.userAgent.includes(`Android`))return`Unix`}return`unknown`})()};class di extends Error{constructor(t$1,e$1){super(t$1),this.package=e$1}}class ui{get canLoad(){return this.dependencyCount===0&&!this.noLoad&&!this.isLoading&&!this.hasFailed}static loadPromise(t$1){let e$1=xi[t$1]||{},s$1=e$1.extraLoads?Ni.load(...e$1.extraLoads):Promise.resolve(),i$1=e$1.checkReady||(()=>Promise.resolve());return s$1.then((()=>i$1()))}static resolvePath(t$1,e$1=!0){let s$1={name:t$1,original:t$1,addExtension:e$1};return Ni.pathFilters.execute(s$1),s$1.name}static loadAll(){for(let t$1 of this.packages.values())t$1.canLoad&&t$1.load()}constructor(t$1,e$1=!1){this.isLoaded=!1,this.result={},this.isLoading=!1,this.hasFailed=!1,this.dependents=[],this.dependencies=[],this.dependencyCount=0,this.provided=[],this.name=t$1,this.noLoad=e$1,ui.packages.set(t$1,this),this.promise=this.makePromise(this.makeDependencies())}makeDependencies(){let t$1=[],e$1=ui.packages,s$1=this.noLoad,i$1=this.name,r$1=[];Object.hasOwn(xi.dependencies,i$1)?r$1.push(...xi.dependencies[i$1]):i$1!==`core`&&r$1.push(`core`);for(let i$2 of r$1){let r$2=e$1.get(i$2)||new ui(i$2,s$1);this.dependencies.includes(r$2)||(r$2.addDependent(this,s$1),this.dependencies.push(r$2),r$2.isLoaded||(this.dependencyCount++,t$1.push(r$2.promise)))}return t$1}makePromise(t$1){let e$1=new Promise(((t$2,e$2)=>{this.resolve=t$2,this.reject=e$2})),s$1=xi[this.name]||{};return s$1.ready&&(e$1=e$1.then((t$2=>s$1.ready(this.name)))),t$1.length&&(t$1.push(e$1),e$1=Promise.all(t$1).then((t$2=>t$2.join(`, `)))),s$1.failed&&e$1.catch((t$2=>s$1.failed(new di(t$2,this.name)))),e$1}load(){if(!this.isLoaded&&!this.isLoading&&!this.noLoad){this.isLoading=!0;let t$1=ui.resolvePath(this.name);xi.require?this.loadCustom(t$1):this.loadScript(t$1)}}loadCustom(t$1){try{let e$1=xi.require(t$1);e$1 instanceof Promise?e$1.then((t$2=>this.result=t$2)).then((()=>this.checkLoad())).catch((e$2=>this.failed(`Can't load "`+t$1+`"
`+e$2.message.trim()))):(this.result=e$1,this.checkLoad())}catch(t$2){this.failed(t$2.message)}}loadScript(t$1){let e$1=hi.document.createElement(`script`);e$1.src=t$1,e$1.charset=`UTF-8`,e$1.onload=t$2=>this.checkLoad(),e$1.onerror=e$2=>this.failed(`Can't load "`+t$1+`"`),hi.document.head.appendChild(e$1)}loaded(){this.isLoaded=!0,this.isLoading=!1;for(let t$1 of this.dependents)t$1.requirementSatisfied();for(let t$1 of this.provided)t$1.loaded();this.resolve(this.name)}failed(t$1){this.hasFailed=!0,this.isLoading=!1,this.reject(new di(t$1,this.name))}checkLoad(){ui.loadPromise(this.name).then((()=>this.loaded())).catch((t$1=>this.failed(t$1)))}requirementSatisfied(){this.dependencyCount&&(this.dependencyCount--,this.canLoad&&this.load())}provides(t$1=[]){for(let e$1 of t$1){let t$2=ui.packages.get(e$1);t$2||(xi.dependencies[e$1]||(xi.dependencies[e$1]=[]),xi.dependencies[e$1].push(e$1),t$2=new ui(e$1,!0),t$2.isLoading=!0),this.provided.push(t$2)}}addDependent(t$1,e$1){this.dependents.push(t$1),e$1||this.checkNoLoad()}checkNoLoad(){if(this.noLoad){this.noLoad=!1;for(let t$1 of this.dependencies)t$1.checkNoLoad()}}}ui.packages=new Map;class pi{constructor(){this.items=[],this.items=[]}[Symbol.iterator](){let t$1=0,e$1=this.items;return{next:()=>({value:e$1[t$1++],done:t$1>e$1.length})}}add(t$1,e$1=pi.DEFAULTPRIORITY){let s$1=this.items.length;do s$1--;while(s$1>=0&&e$1<this.items[s$1].priority);return this.items.splice(s$1+1,0,{item:t$1,priority:e$1}),t$1}remove(t$1){let e$1=this.items.length;do e$1--;while(e$1>=0&&this.items[e$1].item!==t$1);return e$1>=0&&this.items.splice(e$1,1),this}}pi.DEFAULTPRIORITY=5;class mi extends pi{constructor(t$1=null){super(),t$1&&this.addList(t$1)}addList(t$1){for(let e$1 of t$1)Array.isArray(e$1)?this.add(e$1[0],e$1[1]):this.add(e$1)}execute(...t$1){for(let e$1 of this)if(!1===e$1.item(...t$1))return!1;return!0}asyncExecute(...t$1){let e$1=-1,s$1=this.items;return new Promise(((i$1,r$1)=>{(function n$1(){for(;++e$1<s$1.length;){let o$1=s$1[e$1].item(...t$1);if(o$1 instanceof Promise)return void o$1.then(n$1).catch((t$2=>r$1(t$2)));if(!1===o$1)return void i$1(!1)}i$1(!0)})()}))}}let fi=ci.config||{};var gi=function(t$1,e$1,s$1,i$1){return new(s$1||=Promise)((function(r$1,n$1){function o$1(t$2){try{c$1(i$1.next(t$2))}catch(t$3){n$1(t$3)}}function a$1(t$2){try{c$1(i$1.throw(t$2))}catch(t$3){n$1(t$3)}}function c$1(t$2){var e$2;t$2.done?r$1(t$2.value):(e$2=t$2.value,e$2 instanceof s$1?e$2:new s$1((function(t$3){t$3(e$2)}))).then(o$1,a$1)}c$1((i$1=i$1.apply(t$1,e$1||[])).next())}))};let bi={source:t$1=>(Object.hasOwn(xi.source,t$1.name)&&(t$1.name=xi.source[t$1.name]),!0),normalize:t$1=>{let e$1=t$1.name;return e$1.match(/^(?:[a-z]+:\/)?\/|[a-z]:\\|\[/i)||(t$1.name=`[mathjax]/`+e$1.replace(/^\.\//,``)),!0},prefix:t$1=>{let e$1;for(;(e$1=t$1.name.match(/^\[([^\]]*)\]/))&&Object.hasOwn(xi.paths,e$1[1]);)t$1.name=xi.paths[e$1[1]]+t$1.name.substring(e$1[0].length);return!0},addExtension:t$1=>(t$1.addExtension&&!t$1.name.match(/\.[^/]+$/)&&(t$1.name+=`.js`),!0)},Ei=ci.version,Ni={versions:new Map,nestedLoads:[],ready(...t$1){t$1.length===0&&(t$1=Array.from(ui.packages.keys()));let e$1=[];for(let s$1 of t$1){let t$2=ui.packages.get(s$1)||new ui(s$1,!0);e$1.push(t$2.promise)}return Promise.all(e$1)},load(...t$1){if(t$1.length===0)return Promise.resolve([]);let e$1=[];this.nestedLoads.unshift(e$1);let s$1=Promise.resolve().then((()=>gi(this,void 0,void 0,(function*(){let s$2=[];for(let e$2 of t$1){let t$2=ui.packages.get(e$2);t$2||(t$2=new ui(e$2),t$2.provides(xi.provides[e$2])),t$2.checkNoLoad(),s$2.push(t$2.promise.then((()=>(xi.versionWarnings&&t$2.isLoaded&&!Ni.versions.has(ui.resolvePath(e$2))&&console.warn(`No version information available for component ${e$2}`),t$2.result))))}ui.loadAll();let i$1=yield Promise.all(s$2);for(;e$1.length;){let t$2=Promise.all(e$1);e$1=this.nestedLoads[this.nestedLoads.indexOf(e$1)]=[],yield t$2}return this.nestedLoads.splice(this.nestedLoads.indexOf(e$1),1),i$1}))));return this.nestedLoads.slice(1).forEach((t$2=>t$2.push(s$1))),s$1},preLoaded(...t$1){for(let e$1 of t$1){let t$2=ui.packages.get(e$1);t$2||(t$2=new ui(e$1,!0),t$2.provides(xi.provides[e$1])),t$2.loaded()}},addPackageData(t$1,e$1){let s$1=xi[t$1];s$1||=xi[t$1]={};for(let[t$2,i$1]of Object.entries(e$1))Array.isArray(i$1)?(s$1[t$2]||(s$1[t$2]=[]),s$1[t$2]=[...new Set([...s$1[t$2],...i$1])]):s$1[t$2]=i$1},defaultReady(){yi.startup!==void 0&&yi.config.startup.ready()},getRoot(){if(hi.document){let t$1=hi.document.currentScript||hi.document.getElementById(`MathJax-script`);if(t$1&&t$1 instanceof HTMLScriptElement)return t$1.src.replace(/\/[^/]*$/,``)}return fi?.loader?.paths?.mathjax||fi?.__dirname||`/`},checkVersion(t$1,e$1,s$1){return this.saveVersion(t$1),!(!xi.versionWarnings||e$1===Ei)&&(console.warn(`Component ${t$1} uses ${e$1} of MathJax; version in use is ${Ei}`),!0)},saveVersion(t$1){Ni.versions.set(ui.resolvePath(t$1),Ei)},pathFilters:new mi};Ni.pathFilters.add(bi.source,0),Ni.pathFilters.add(bi.normalize,10),Ni.pathFilters.add(bi.prefix,20),Ni.pathFilters.add(bi.addExtension,30);let yi=ci;if(yi.loader===void 0){oi(yi.config,`loader`,{paths:{mathjax:Ni.getRoot()},source:{},dependencies:{},provides:{},load:[],ready:Ni.defaultReady.bind(Ni),failed:t$1=>console.log(`MathJax(${t$1.package||`?`}): ${t$1.message}`),require:null,pathFilters:[],versionWarnings:!0}),ai({loader:Ni});for(let t$1 of yi.config.loader.pathFilters)Array.isArray(t$1)?Ni.pathFilters.add(t$1[0],t$1[1]):Ni.pathFilters.add(t$1)}let xi=yi.config.loader,vi={}.constructor;function Ci(t$1){return typeof t$1==`object`&&!!t$1&&(t$1.constructor===vi||t$1.constructor===ki)}let Ti=`[+]`,wi=`[-]`,_i={invalidOption:`warn`,optionError:(t$1,e$1)=>{if(_i.invalidOption===`fatal`)throw Error(t$1);console.warn(`MathJax: `+t$1)}};class ki{}function Ai(t$1){return Object.assign(Object.create(ki.prototype),t$1)}function Li(t$1){return Array.isArray(t$1)?t$1:[t$1]}function Mi(t$1){return t$1?Object.keys(t$1).concat(Object.getOwnPropertySymbols(t$1)):[]}function Ii(t$1){let e$1={};for(let s$1 of Mi(t$1)){let i$1=Object.getOwnPropertyDescriptor(t$1,s$1),r$1=i$1.value;Array.isArray(r$1)?i$1.value=Si([],r$1,!1):Ci(r$1)&&(i$1.value=Ii(r$1)),i$1.enumerable&&(e$1[s$1]=i$1)}return Object.defineProperties(t$1.constructor===ki?Ai({}):{},e$1)}function Si(t$1,e$1,s$1=!0){for(let i$1 of Mi(e$1)){if(s$1&&t$1[i$1]===void 0&&t$1.constructor!==ki){typeof i$1==`symbol`&&(i$1=i$1.toString()),_i.optionError(`Invalid option "${i$1}" (no default value).`,i$1);continue}let r$1=e$1[i$1],n$1=t$1[i$1];if(!Ci(r$1)||n$1===null||typeof n$1!=`object`&&typeof n$1!=`function`)Array.isArray(r$1)?(t$1[i$1]=[],Si(t$1[i$1],r$1,!1)):Ci(r$1)?t$1[i$1]=Ii(r$1):t$1[i$1]=r$1;else{let e$2=Mi(r$1);Array.isArray(n$1)&&(e$2.length===1&&(e$2[0]===`[+]`||e$2[0]===`[-]`)&&Array.isArray(r$1[e$2[0]])||e$2.length===2&&e$2.sort().join(`,`)===`[+],[-]`&&Array.isArray(r$1[`[+]`])&&Array.isArray(r$1[`[-]`]))?(r$1[`[-]`]&&(n$1=t$1[i$1]=n$1.filter((t$2=>r$1[`[-]`].indexOf(t$2)<0))),r$1[`[+]`]&&(t$1[i$1]=[...n$1,...r$1[`[+]`]])):Si(n$1,r$1,s$1)}}return t$1}function Ri(t$1,...e$1){return e$1.forEach((e$2=>Si(t$1,e$2,!1))),t$1}function Oi(t$1,...e$1){return e$1.forEach((e$2=>Si(t$1,e$2,!0))),t$1}function Di(t$1,...e$1){let s$1={};for(let i$1 of e$1)Object.hasOwn(t$1,i$1)&&(s$1[i$1]=t$1[i$1]);return s$1}function Pi(t$1,e$1){return Di(t$1,...Object.keys(e$1))}function Bi(t$1,...e$1){let s$1=[];for(let i$1 of e$1){let e$2={},r$1={};for(let s$2 of Object.keys(t$1||{}))(i$1[s$2]===void 0?r$1:e$2)[s$2]=t$1[s$2];s$1.push(e$2),t$1=r$1}return s$1.unshift(t$1),s$1}function Fi(t$1,e$1,s$1=null){return Object.hasOwn(e$1,t$1)?e$1[t$1]:s$1}var ji=function(t$1,e$1,s$1,i$1){return new(s$1||=Promise)((function(r$1,n$1){function o$1(t$2){try{c$1(i$1.next(t$2))}catch(t$3){n$1(t$3)}}function a$1(t$2){try{c$1(i$1.throw(t$2))}catch(t$3){n$1(t$3)}}function c$1(t$2){var e$2;t$2.done?r$1(t$2.value):(e$2=t$2.value,e$2 instanceof s$1?e$2:new s$1((function(t$3){t$3(e$2)}))).then(o$1,a$1)}c$1((i$1=i$1.apply(t$1,e$1||[])).next())}))};class Ui{static toMML(t$1){return Ui.visitor.visitTree(t$1,this.document)}static registerConstructor(t$1,e$1){Ui.constructors[t$1]=e$1}static useHandler(t$1,e$1=!1){Hi.handler&&!e$1||(Hi.handler=t$1)}static useAdaptor(t$1,e$1=!1){Hi.adaptor&&!e$1||(Hi.adaptor=t$1)}static useInput(t$1,e$1=!1){Wi&&!e$1||Hi.input.push(t$1)}static useOutput(t$1,e$1=!1){Hi.output&&!e$1||(Hi.output=t$1)}static extendHandler(t$1,e$1=10){Ui.extensions.add(t$1,e$1)}static defaultReady(){Ui.getComponents(),Ui.makeMethods(),Ui.pagePromise.then((()=>Hi.pageReady())).then((()=>Ui.promiseResolve())).catch((t$1=>Ui.promiseReject(t$1)))}static defaultPageReady(){return(Hi.loadAllFontFiles&&Ui.output.font?Ui.output.font.loadDynamicFiles():Promise.resolve()).then((()=>{var t$1;return Ui.document.menu?.loadingPromise})).then(Hi.typeset&&qi.typesetPromise?()=>Ui.typesetPromise(Hi.elements):Promise.resolve()).then((()=>Ui.promiseResolve()))}static typesetPromise(t$1){return this.hasTypeset=!0,Ui.document.whenReady((()=>ji(this,void 0,void 0,(function*(){Ui.document.options.elements=t$1,Ui.document.reset(),yield Ui.document.renderPromise()}))))}static getComponents(){Ui.visitor=new qi._.core.MmlTree.SerializedMmlVisitor.SerializedMmlVisitor,Ui.mathjax=qi._.mathjax.mathjax,Ui.input=Ui.getInputJax(),Ui.output=Ui.getOutputJax(),Ui.adaptor=Ui.getAdaptor(),Ui.handler&&Ui.mathjax.handlers.unregister(Ui.handler),Ui.handler=Ui.getHandler(),Ui.handler&&(Ui.mathjax.handlers.register(Ui.handler),Ui.document=Ui.getDocument())}static makeMethods(){Ui.input&&Ui.output&&Ui.makeTypesetMethods();let t$1=Ui.output?Ui.output.name.toLowerCase():``;for(let e$1 of Ui.input){let s$1=e$1.name.toLowerCase();Ui.makeMmlMethods(s$1,e$1),Ui.makeResetMethod(s$1,e$1),Ui.output&&Ui.makeOutputMethods(s$1,t$1,e$1)}qi.done=()=>Ui.document.done(),qi.whenReady=t$2=>Ui.document.whenReady(t$2)}static makeTypesetMethods(){qi.typeset=(t$1=null)=>{this.hasTypeset=!0,Ui.document.options.elements=t$1,Ui.document.reset(),Ui.document.render()},qi.typesetPromise=(t$1=null)=>Ui.typesetPromise(t$1),qi.typesetClear=(t$1=null)=>{t$1?Ui.document.clearMathItemsWithin(t$1):Ui.document.clear()}}static makeOutputMethods(t$1,e$1,s$1){let i$1=t$1+`2`+e$1;qi[i$1]=(t$2,e$2={})=>(e$2=Object.assign(Object.assign({},e$2),{format:s$1.name}),Ui.document.convert(t$2,e$2)),qi[i$1+`Promise`]=(t$2,e$2={})=>(e$2=Object.assign(Object.assign({},e$2),{format:s$1.name}),Ui.document.convertPromise(t$2,e$2)),qi[e$1+`Stylesheet`]=()=>Ui.output.styleSheet(Ui.document),`getMetricsFor`in Ui.output&&(qi.getMetricsFor=(t$2,e$2)=>Ui.output.getMetricsFor(t$2,e$2))}static makeMmlMethods(t$1,e$1){let s$1=qi._.core.MathItem.STATE;qi[t$1+`2mml`]=(t$2,i$1={})=>(i$1=Object.assign(Object.assign({},i$1),{end:s$1.CONVERT,format:e$1.name}),Ui.toMML(Ui.document.convert(t$2,i$1))),qi[t$1+`2mmlPromise`]=(t$2,...i$1)=>ji(this,[t$2,...i$1],void 0,(function*(t$3,i$2={}){i$2=Object.assign(Object.assign({},i$2),{end:s$1.CONVERT,format:e$1.name});let r$1=yield Ui.document.convertPromise(t$3,i$2);return Ui.toMML(r$1)}))}static makeResetMethod(t$1,e$1){qi[t$1+`Reset`]=(...t$2)=>e$1.reset(...t$2)}static getInputJax(){let t$1=[];for(let e$1 of Hi.input){let s$1=Ui.constructors[e$1];if(!s$1)throw Error(`Input Jax "`+e$1+`" is not defined (has it been loaded?)`);t$1[e$1]=new s$1(qi.config[e$1]),t$1.push(t$1[e$1])}return t$1}static getOutputJax(){let t$1=Hi.output;if(!t$1)return null;let e$1=Ui.constructors[t$1];if(!e$1)throw Error(`Output Jax "`+t$1+`" is not defined (has it been loaded?)`);return new e$1(qi.config[t$1])}static getAdaptor(){let t$1=Hi.adaptor;if(!t$1||t$1===`none`)return null;let e$1=Ui.constructors[t$1];if(!e$1)throw Error(`DOMAdaptor "`+t$1+`" is not defined (has it been loaded?)`);return e$1(qi.config[t$1])}static getHandler(){let t$1=Hi.handler;if(!t$1||t$1===`none`||!Ui.adaptor)return null;let e$1=Ui.constructors[t$1];if(!e$1)throw Error(`Handler "`+t$1+`" is not defined (has it been loaded?)`);let s$1=new e$1(Ui.adaptor,5);for(let t$2 of Ui.extensions)s$1=t$2.item(s$1);return s$1}static getDocument(t$1=null){return Ui.mathjax.document(t$1||Hi.document,Object.assign(Object.assign({},qi.config.options),{InputJax:Ui.input,OutputJax:Ui.output}))}}Ui.extensions=new pi,Ui.constructors={},Ui.input=[],Ui.output=null,Ui.handler=null,Ui.adaptor=null,Ui.elements=null,Ui.document=null,Ui.promise=new Promise(((t$1,e$1)=>{Ui.promiseResolve=t$1,Ui.promiseReject=e$1})),Ui.pagePromise=new Promise(((t$1,e$1)=>{let s$1=ii.document;if(s$1&&s$1.readyState&&s$1.readyState!==`complete`&&s$1.readyState!==`interactive`){let e$2=()=>t$1();s$1.defaultView.addEventListener(`load`,e$2,!0),s$1.defaultView.addEventListener(`DOMContentLoaded`,e$2,!0)}else t$1()})),Ui.hasTypeset=!1,Ui.defaultOptionError=_i.optionError;let qi=ci;qi._.startup===void 0&&(oi(qi.config,`startup`,{input:[],output:``,handler:null,adaptor:null,document:hi.document||``,elements:null,typeset:!0,ready:Ui.defaultReady.bind(Ui),pageReady:Ui.defaultPageReady.bind(Ui)}),ai({startup:Ui,options:{}}),qi.config.startup.invalidOption&&(_i.invalidOption=qi.config.startup.invalidOption),qi.config.startup.optionError&&(_i.optionError=qi.config.startup.optionError));let Hi=qi.config.startup,Wi=Hi.input.length!==0;MathJax.loader&&MathJax.loader.checkVersion(`startup`,si,`startup`),ai({_:{components:{loader:n,package:s,startup:a}}}),Ni.preLoaded(`loader`,`startup`),oi(MathJax.config.loader,`dependencies`,{"a11y/semantic-enrich":[`input/mml`,`a11y/sre`],"a11y/speech":[`a11y/semantic-enrich`],"a11y/complexity":[`a11y/semantic-enrich`],"a11y/explorer":[`a11y/speech`],"[mml]/mml3":[`input/mml`],"[tex]/action":[`input/tex-base`],"[tex]/ams":[`input/tex-base`,`[tex]/newcommand`],"[tex]/amscd":[`input/tex-base`],"[tex]/autoload":[`input/tex-base`,`[tex]/require`],"[tex]/bbm":[`input/tex-base`],"[tex]/bboldx":[`input/tex-base`,`[tex]/textmacros`],"[tex]/bbox":[`input/tex-base`],"[tex]/begingroup":[`input/tex-base`,`[tex]/newcommand`],"[tex]/boldsymbol":[`input/tex-base`],"[tex]/braket":[`input/tex-base`],"[tex]/bussproofs":[`input/tex-base`],"[tex]/cancel":[`input/tex-base`,`[tex]/enclose`],"[tex]/cases":[`[tex]/empheq`],"[tex]/centernot":[`input/tex-base`],"[tex]/color":[`input/tex-base`],"[tex]/colortbl":[`input/tex-base`,`[tex]/color`],"[tex]/colorv2":[`input/tex-base`],"[tex]/configmacros":[`input/tex-base`,`[tex]/newcommand`],"[tex]/dsfont":[`input/tex-base`],"[tex]/empheq":[`input/tex-base`,`[tex]/ams`],"[tex]/enclose":[`input/tex-base`],"[tex]/extpfeil":[`input/tex-base`,`[tex]/newcommand`,`[tex]/ams`],"[tex]/gensymb":[`input/tex-base`],"[tex]/html":[`input/tex-base`],"[tex]/mathtools":[`input/tex-base`,`[tex]/newcommand`,`[tex]/ams`,`[tex]/boldsymbol`],"[tex]/mhchem":[`input/tex-base`,`[tex]/ams`],"[tex]/newcommand":[`input/tex-base`],"[tex]/noerrors":[`input/tex-base`],"[tex]/noundefined":[`input/tex-base`],"[tex]/physics":[`input/tex-base`],"[tex]/require":[`input/tex-base`],"[tex]/setoptions":[`input/tex-base`],"[tex]/tagformat":[`input/tex-base`],"[tex]/texhtml":[`input/tex-base`],"[tex]/textcomp":[`input/tex-base`,`[tex]/textmacros`],"[tex]/textmacros":[`input/tex-base`],"[tex]/unicode":[`input/tex-base`],"[tex]/units":[`input/tex-base`],"[tex]/upgreek":[`input/tex-base`],"[tex]/verb":[`input/tex-base`],"ui/menu":[`a11y/sre`]}),oi(MathJax.config.loader,`paths`,{tex:`[mathjax]/input/tex/extensions`,mml:`[mathjax]/input/mml/extensions`,sre:`[mathjax]/sre`,mathmaps:`[sre]/mathmaps`}),oi(MathJax.config.loader,`provides`,{startup:[`loader`],"input/tex":[`input/tex-base`,`[tex]/ams`,`[tex]/newcommand`,`[tex]/textmacros`,`[tex]/noundefined`,`[tex]/require`,`[tex]/autoload`,`[tex]/configmacros`]}),oi(MathJax.config.loader,`source`,{"[tex]/amsCd":`[tex]/amscd`,"[tex]/colorV2":`[tex]/colorv2`,"[tex]/configMacros":`[tex]/configmacros`,"[tex]/tagFormat":`[tex]/tagformat`});class zi{constructor(t$1=null){this.canMeasureNodes=!0,this.document=t$1}node(t$1,e$1={},s$1=[],i$1){let r$1=this.create(t$1,i$1);this.setAttributes(r$1,e$1);for(let t$2 of s$1)this.append(r$1,t$2);return r$1}setProperty(t$1,e$1,s$1){t$1[e$1]=s$1}getProperty(t$1,e$1){return t$1[e$1]}setAttributes(t$1,e$1){if(e$1.style&&typeof e$1.style!=`string`)for(let s$1 of Object.keys(e$1.style))this.setStyle(t$1,s$1.replace(/-([a-z])/g,((t$2,e$2)=>e$2.toUpperCase())),e$1.style[s$1]);if(e$1.properties)for(let s$1 of Object.keys(e$1.properties))t$1[s$1]=e$1.properties[s$1];for(let s$1 of Object.keys(e$1))s$1===`style`&&typeof e$1.style!=`string`||s$1===`properties`||this.setAttribute(t$1,s$1,e$1[s$1])}replace(t$1,e$1){return this.insert(t$1,e$1),this.remove(e$1),e$1}childNode(t$1,e$1){return this.childNodes(t$1)[e$1]}allClasses(t$1){let e$1=this.getAttribute(t$1,`class`);return e$1?e$1.replace(/  +/g,` `).replace(/^ /,``).replace(/ $/,``).split(/ /):[]}cssText(t$1){return this.kind(t$1)===`style`?this.textContent(t$1):``}}var Xi=function(t$1,e$1,s$1,i$1){return new(s$1||=Promise)((function(r$1,n$1){function o$1(t$2){try{c$1(i$1.next(t$2))}catch(t$3){n$1(t$3)}}function a$1(t$2){try{c$1(i$1.throw(t$2))}catch(t$3){n$1(t$3)}}function c$1(t$2){var e$2;t$2.done?r$1(t$2.value):(e$2=t$2.value,e$2 instanceof s$1?e$2:new s$1((function(t$3){t$3(e$2)}))).then(o$1,a$1)}c$1((i$1=i$1.apply(t$1,e$1||[])).next())}))};class Vi extends zi{constructor(t$1){super(t$1.document),this.canMeasureNodes=!0,this.window=t$1,this.parser=new t$1.DOMParser}parse(t$1,e$1=`text/html`){return this.parser.parseFromString(t$1,e$1)}create(t$1,e$1){return e$1?this.document.createElementNS(e$1,t$1):this.document.createElement(t$1)}text(t$1){return this.document.createTextNode(t$1)}head(t$1=this.document){return t$1.head||t$1}body(t$1=this.document){return t$1.body||t$1}root(t$1=this.document){return t$1.documentElement||t$1}doctype(t$1=this.document){return t$1.doctype?`<!DOCTYPE ${t$1.doctype.name}>`:``}tags(t$1,e$1,s$1=null){let i$1=s$1?t$1.getElementsByTagNameNS(s$1,e$1):t$1.getElementsByTagName(e$1);return Array.from(i$1)}getElements(t$1,e$1){let s$1=[];for(let e$2 of t$1)typeof e$2==`string`?s$1=s$1.concat(Array.from(this.document.querySelectorAll(e$2))):Array.isArray(e$2)||e$2 instanceof this.window.NodeList||e$2 instanceof this.window.HTMLCollection?s$1=s$1.concat(Array.from(e$2)):s$1.push(e$2);return s$1}getElement(t$1,e$1=this.document){return e$1.querySelector(t$1)}contains(t$1,e$1){return t$1.contains(e$1)}parent(t$1){return t$1.parentNode}append(t$1,e$1){return t$1.appendChild(e$1)}insert(t$1,e$1){return this.parent(e$1).insertBefore(t$1,e$1)}remove(t$1){return this.parent(t$1).removeChild(t$1)}replace(t$1,e$1){return this.parent(e$1).replaceChild(t$1,e$1)}clone(t$1,e$1=!0){return t$1.cloneNode(e$1)}split(t$1,e$1){return t$1.splitText(e$1)}next(t$1){return t$1.nextSibling}previous(t$1){return t$1.previousSibling}firstChild(t$1){return t$1.firstChild}lastChild(t$1){return t$1.lastChild}childNodes(t$1){return Array.from(t$1.childNodes)}childNode(t$1,e$1){return t$1.childNodes[e$1]}kind(t$1){let e$1=t$1.nodeType;return e$1===1||e$1===3||e$1===8?t$1.nodeName.toLowerCase():``}value(t$1){return t$1.nodeValue||``}textContent(t$1){return t$1.textContent}innerHTML(t$1){return t$1.innerHTML}outerHTML(t$1){return t$1.outerHTML}serializeXML(t$1){return new this.window.XMLSerializer().serializeToString(t$1)}setAttribute(t$1,e$1,s$1,i$1=null){return i$1?(e$1=i$1.replace(/.*\//,``)+`:`+e$1.replace(/^.*:/,``),t$1.setAttributeNS(i$1,e$1,s$1)):t$1.setAttribute(e$1,s$1)}getAttribute(t$1,e$1){return t$1.getAttribute(e$1)}removeAttribute(t$1,e$1){return t$1.removeAttribute(e$1)}hasAttribute(t$1,e$1){return t$1.hasAttribute(e$1)}allAttributes(t$1){return Array.from(t$1.attributes).map((t$2=>({name:t$2.name,value:t$2.value})))}addClass(t$1,e$1){t$1.classList?t$1.classList.add(e$1):t$1.className=(t$1.className+` `+e$1).trim()}removeClass(t$1,e$1){t$1.classList?t$1.classList.remove(e$1):t$1.className=t$1.className.split(/ /).filter((t$2=>t$2!==e$1)).join(` `)}hasClass(t$1,e$1){return t$1.classList?t$1.classList.contains(e$1):t$1.className.split(/ /).includes(e$1)}setStyle(t$1,e$1,s$1){t$1.style[e$1]=s$1}getStyle(t$1,e$1){return t$1.style[e$1]}allStyles(t$1){return t$1.style.cssText}insertRules(t$1,e$1){for(let s$1 of e$1)try{t$1.sheet.insertRule(s$1,t$1.sheet.cssRules.length)}catch(t$2){console.warn(`MathJax: can't insert css rule '${s$1}': ${t$2.message}`)}}cssText(t$1){return this.kind(t$1)===`style`?Array.from(t$1.sheet.cssRules).map((t$2=>t$2.cssText)).join(`
`):``}fontSize(t$1){let e$1=this.window.getComputedStyle(t$1);return parseFloat(e$1.fontSize)}fontFamily(t$1){return this.window.getComputedStyle(t$1).fontFamily||``}nodeSize(t$1,e$1=1,s$1=!1){if(s$1&&t$1.getBBox){let{width:s$2,height:i$1}=t$1.getBBox();return[s$2/e$1,i$1/e$1]}return[t$1.offsetWidth/e$1,t$1.offsetHeight/e$1]}nodeBBox(t$1){let{left:e$1,right:s$1,top:i$1,bottom:r$1}=t$1.getBoundingClientRect();return{left:e$1,right:s$1,top:i$1,bottom:r$1}}createWorker(t$1,e$1){return Xi(this,void 0,void 0,(function*(){let{path:s$1,maps:i$1,worker:r$1}=e$1,n$1=`${s$1}/${r$1}`,o$1=`\n      self.maps = '${Gi(i$1)}';\n      importScripts('${Gi(n$1)}');\n    `,a$1=URL.createObjectURL(new Blob([o$1],{type:`text/javascript`})),c$1=new Worker(a$1);return c$1.onmessage=t$1,URL.revokeObjectURL(a$1),c$1}))}}function Gi(t$1){return[...t$1].map((t$2=>(t$2===`\\`||t$2===`'`?t$2=`\\`+t$2:(t$2<` `||t$2>`~`)&&(t$2=`\\u{${t$2.codePointAt(0).toString(16)}}`),t$2))).join(``)}function Ji(){return new Vi(window)}class Ki{constructor(t$1){let e$1=this.constructor;this.options=Oi(Ri({},e$1.OPTIONS),t$1)}}Ki.OPTIONS={};class $i{constructor(t$1={}){this.adaptor=null,this.mmlFactory=null;let e$1=this.constructor;this.options=Oi(Ri({},e$1.OPTIONS),t$1),this.preFilters=new mi(this.options.preFilters),this.postFilters=new mi(this.options.postFilters)}get name(){return this.constructor.NAME}setAdaptor(t$1){this.adaptor=t$1}setMmlFactory(t$1){this.mmlFactory=t$1}initialize(){}reset(...t$1){}get processStrings(){return!0}findMath(t$1,e$1){return[]}executeFilters(t$1,e$1,s$1,i$1){let r$1={math:e$1,document:s$1,data:i$1};return t$1.execute(r$1),r$1.data}}$i.NAME=`generic`,$i.OPTIONS={preFilters:[],postFilters:[]};class Yi{constructor(t$1={}){this.adaptor=null;let e$1=this.constructor;this.options=Oi(Ri({},e$1.OPTIONS),t$1),this.preFilters=new mi(this.options.preFilters),this.postFilters=new mi(this.options.postFilters)}get name(){return this.constructor.NAME}setAdaptor(t$1){this.adaptor=t$1}initialize(){}reset(...t$1){}getMetrics(t$1){}styleSheet(t$1){return null}pageElements(t$1){return null}executeFilters(t$1,e$1,s$1,i$1){let r$1={math:e$1,document:s$1,data:i$1};return t$1.execute(r$1),r$1.data}}Yi.NAME=`generic`,Yi.OPTIONS={preFilters:[],postFilters:[]};let Qi=Symbol();class Zi{constructor(t$1=null){this.next=null,this.prev=null,this.data=t$1}}class tr{constructor(...t$1){this.list=new Zi(Qi),this.list.next=this.list.prev=this.list,this.push(...t$1)}isBefore(t$1,e$1){return t$1<e$1}push(...t$1){for(let e$1 of t$1){let t$2=new Zi(e$1);t$2.next=this.list,t$2.prev=this.list.prev,this.list.prev=t$2,t$2.prev.next=t$2}return this}pop(){let t$1=this.list.prev;return t$1.data===Qi?null:(this.list.prev=t$1.prev,t$1.prev.next=this.list,t$1.next=t$1.prev=null,t$1.data)}unshift(...t$1){for(let e$1 of t$1.slice(0).reverse()){let t$2=new Zi(e$1);t$2.next=this.list.next,t$2.prev=this.list,this.list.next=t$2,t$2.next.prev=t$2}return this}shift(){let t$1=this.list.next;return t$1.data===Qi?null:(this.list.next=t$1.next,t$1.next.prev=this.list,t$1.next=t$1.prev=null,t$1.data)}remove(...t$1){let e$1=new Map;for(let s$2 of t$1)e$1.set(s$2,!0);let s$1=this.list.next;for(;s$1.data!==Qi;){let t$2=s$1.next;e$1.has(s$1.data)&&(s$1.prev.next=s$1.next,s$1.next.prev=s$1.prev,s$1.next=s$1.prev=null),s$1=t$2}return this}clear(){return this.list.next.prev=this.list.prev.next=null,this.list.next=this.list.prev=this.list,this}*[Symbol.iterator](){let t$1=this.list.next;for(;t$1.data!==Qi;)yield t$1.data,t$1=t$1.next}*reversed(){let t$1=this.list.prev;for(;t$1.data!==Qi;)yield t$1.data,t$1=t$1.prev}insert(t$1,e$1=null){e$1===null&&(e$1=this.isBefore.bind(this));let s$1=new Zi(t$1),i$1=this.list.next;for(;i$1.data!==Qi&&e$1(i$1.data,s$1.data);)i$1=i$1.next;return s$1.prev=i$1.prev,s$1.next=i$1,i$1.prev.next=i$1.prev=s$1,this}sort(t$1=null){t$1===null&&(t$1=this.isBefore.bind(this));let e$1=[];for(let t$2 of this)e$1.push(new tr(t$2));for(this.list.next=this.list.prev=this.list;e$1.length>1;){let s$1=e$1.shift(),i$1=e$1.shift();s$1.merge(i$1,t$1),e$1.push(s$1)}return e$1.length&&(this.list=e$1[0].list),this}merge(t$1,e$1=null){e$1===null&&(e$1=this.isBefore.bind(this));let s$1=this.list.next,i$1=t$1.list.next;for(;s$1.data!==Qi&&i$1.data!==Qi;)e$1(i$1.data,s$1.data)?([i$1.prev.next,s$1.prev.next]=[s$1,i$1],[i$1.prev,s$1.prev]=[s$1.prev,i$1.prev],[this.list.prev.next,t$1.list.prev.next]=[t$1.list,this.list],[this.list.prev,t$1.list.prev]=[t$1.list.prev,this.list.prev],[s$1,i$1]=[i$1.next,s$1]):s$1=s$1.next;return i$1.data!==Qi&&(this.list.prev.next=t$1.list.next,t$1.list.next.prev=this.list.prev,t$1.list.prev.next=this.list,this.list.prev=t$1.list.prev,t$1.list.next=t$1.list.prev=t$1.list),this}}class er extends tr{isBefore(t$1,e$1){return t$1.start.i<e$1.start.i||t$1.start.i===e$1.start.i&&t$1.start.n<e$1.start.n}}function sr(t$1,e$1,s$1,i$1,r$1,n$1,o$1=null){return{open:t$1,math:e$1,close:s$1,n:i$1,start:{n:r$1},end:{n:n$1},display:o$1}}class ir{get isEscaped(){return this.display===null}constructor(t$1,e$1,s$1=!0,i$1={i:0,n:0,delim:``},r$1={i:0,n:0,delim:``}){this.root=null,this.typesetRoot=null,this.metrics={},this.inputData={},this.outputData={},this._state=rr.UNPROCESSED,this.math=t$1,this.inputJax=e$1,this.display=s$1,this.start=i$1,this.end=r$1,this.root=null,this.typesetRoot=null,this.metrics={},this.inputData={},this.outputData={}}render(t$1){t$1.renderActions.renderMath(this,t$1)}rerender(t$1,e$1=rr.RERENDER){this.state()>=e$1&&this.state(e$1-1),t$1.renderActions.renderMath(this,t$1,e$1)}convert(t$1,e$1=rr.LAST){t$1.renderActions.renderConvert(this,t$1,e$1)}compile(t$1){this.state()<rr.COMPILED&&(this.root=this.inputJax.compile(this,t$1),this.state(rr.COMPILED))}typeset(t$1){this.state()<rr.TYPESET&&(this.typesetRoot=t$1.outputJax[this.isEscaped?`escaped`:`typeset`](this,t$1),this.state(rr.TYPESET))}updateDocument(t$1){}removeFromDocument(t$1=!1){this.clear()}setMetrics(t$1,e$1,s$1,i$1){this.metrics={em:t$1,ex:e$1,containerWidth:s$1,scale:i$1}}state(t$1=null,e$1=!1){return t$1!=null&&(t$1<rr.INSERTED&&this._state>=rr.INSERTED&&this.removeFromDocument(e$1),t$1<rr.TYPESET&&this._state>=rr.TYPESET&&(this.outputData={}),t$1<rr.COMPILED&&this._state>=rr.COMPILED&&(this.inputData={}),this._state=t$1),this._state}reset(t$1=!1){this.state(rr.UNPROCESSED,t$1)}clear(){}}let rr={UNPROCESSED:0,FINDMATH:10,COMPILED:20,CONVERT:100,METRICS:110,RERENDER:125,TYPESET:150,INSERTED:200,LAST:1e4};function nr(t$1,e$1){if(t$1 in rr)throw Error(`State `+t$1+` already exists`);rr[t$1]=e$1}class or{constructor(t$1=null){this.defaultKind=`unknown`,this.nodeMap=new Map,this.node={},t$1===null&&(t$1=this.constructor.defaultNodes);for(let e$1 of Object.keys(t$1))this.setNodeClass(e$1,t$1[e$1])}create(t$1,...e$1){return(this.node[t$1]||this.node[this.defaultKind])(...e$1)}setNodeClass(t$1,e$1){this.nodeMap.set(t$1,e$1);let s$1=this.nodeMap.get(t$1);this.node[t$1]=(...t$2)=>new s$1(this,...t$2)}getNodeClass(t$1){return this.nodeMap.get(t$1)}deleteNodeClass(t$1){this.nodeMap.delete(t$1),delete this.node[t$1]}nodeIsKind(t$1,e$1){return t$1 instanceof this.getNodeClass(e$1)}getKinds(){return Array.from(this.nodeMap.keys())}}or.defaultNodes={};class ar extends or{create(t$1,e$1={},s$1=[]){return this.node[t$1](e$1,s$1)}}let cr=`_inherit_`;class lr{constructor(t$1,e$1){this.global=e$1,this.defaults=Object.create(e$1),this.inherited=Object.create(this.defaults),this.attributes=Object.create(this.inherited),Object.assign(this.defaults,t$1)}set(t$1,e$1){this.attributes[t$1]=e$1}setList(t$1){Object.assign(this.attributes,t$1)}unset(t$1){delete this.attributes[t$1]}get(t$1){let e$1=this.attributes[t$1];return e$1===cr&&(e$1=this.global[t$1]),e$1}getExplicit(t$1){return this.hasExplicit(t$1)?this.attributes[t$1]:void 0}hasExplicit(t$1){return Object.hasOwn(this.attributes,t$1)}hasOneOf(t$1){for(let e$1 of t$1)if(this.hasExplicit(e$1))return!0;return!1}getList(...t$1){let e$1={};for(let s$1 of t$1)e$1[s$1]=this.get(s$1);return e$1}setInherited(t$1,e$1){this.inherited[t$1]=e$1}getInherited(t$1){return this.inherited[t$1]}getDefault(t$1){return this.defaults[t$1]}isSet(t$1){return Object.hasOwn(this.attributes,t$1)||Object.hasOwn(this.inherited,t$1)}hasDefault(t$1){return t$1 in this.defaults}getExplicitNames(){return Object.keys(this.attributes)}getInheritedNames(){return Object.keys(this.inherited)}getDefaultNames(){return Object.keys(this.defaults)}getGlobalNames(){return Object.keys(this.global)}getAllAttributes(){return this.attributes}getAllInherited(){return this.inherited}getAllDefaults(){return this.defaults}getAllGlobals(){return this.global}}class hr{constructor(t$1,e$1={},s$1=[]){this.factory=t$1,this.parent=null,this.properties={},this.childNodes=[];for(let t$2 of Object.keys(e$1))this.setProperty(t$2,e$1[t$2]);s$1.length&&this.setChildren(s$1)}get kind(){return`unknown`}setProperty(t$1,e$1){this.properties[t$1]=e$1}getProperty(t$1){return this.properties[t$1]}getPropertyNames(){return Object.keys(this.properties)}getAllProperties(){return this.properties}removeProperty(...t$1){for(let e$1 of t$1)delete this.properties[e$1]}isKind(t$1){return this.factory.nodeIsKind(this,t$1)}setChildren(t$1){this.childNodes=[];for(let e$1 of t$1)this.appendChild(e$1)}appendChild(t$1){return this.childNodes.push(t$1),t$1.parent=this,t$1}replaceChild(t$1,e$1){let s$1=this.childIndex(e$1);return s$1!==null&&(this.childNodes[s$1]=t$1,t$1.parent=this,e$1.parent===this&&(e$1.parent=null)),t$1}removeChild(t$1){let e$1=this.childIndex(t$1);return e$1!==null&&(this.childNodes.splice(e$1,1),t$1.parent=null),t$1}childIndex(t$1){let e$1=this.childNodes.indexOf(t$1);return e$1===-1?null:e$1}copy(){let t$1=this.factory.create(this.kind);t$1.properties=Object.assign({},this.properties);for(let e$1 of this.childNodes||[])e$1&&t$1.appendChild(e$1.copy());return t$1}findNodes(t$1){let e$1=[];return this.walkTree((s$1=>{s$1.isKind(t$1)&&e$1.push(s$1)})),e$1}walkTree(t$1,e$1){t$1(this,e$1);for(let s$1 of this.childNodes)s$1&&s$1.walkTree(t$1,e$1);return e$1}toString(){return this.kind+`(`+this.childNodes.join(`,`)+`)`}}class dr extends hr{setChildren(t$1){}appendChild(t$1){return t$1}replaceChild(t$1,e$1){return e$1}childIndex(t$1){return null}walkTree(t$1,e$1){return t$1(this,e$1),e$1}toString(){return this.kind}}let ur={ORD:0,OP:1,BIN:2,REL:3,OPEN:4,CLOSE:5,PUNCT:6,INNER:7,NONE:-1},pr=[`ORD`,`OP`,`BIN`,`REL`,`OPEN`,`CLOSE`,`PUNCT`,`INNER`],mr=[``,`thinmathspace`,`mediummathspace`,`thickmathspace`],fr=[[0,-1,2,3,0,0,0,1],[-1,-1,0,3,0,0,0,1],[2,2,0,0,2,0,0,2],[3,3,0,0,3,0,0,3],[0,0,0,0,0,0,0,0],[0,-1,2,3,0,0,0,1],[1,1,0,1,1,1,1,1],[1,-1,2,3,1,0,1,1]],gr=new Set([`normal`,`bold`,`italic`,`bold-italic`,`double-struck`,`fraktur`,`bold-fraktur`,`script`,`bold-script`,`sans-serif`,`bold-sans-serif`,`sans-serif-italic`,`sans-serif-bold-italic`,`monospace`,`inital`,`tailed`,`looped`,`stretched`]),br=[`indentalign`,`indentalignfirst`,`indentshift`,`indentshiftfirst`];class Er extends hr{constructor(t$1,e$1={},s$1=[]){super(t$1),this.prevClass=null,this.prevLevel=null,this.texclass=null,this.arity<0&&(this.childNodes=[t$1.create(`inferredMrow`)],this.childNodes[0].parent=this),this.setChildren(s$1),this.attributes=new lr(t$1.getNodeClass(this.kind).defaults,t$1.getNodeClass(`math`).defaults),this.attributes.setList(e$1)}copy(t$1=!1){let e$1=this.factory.create(this.kind);if(e$1.properties=Object.assign({},this.properties),this.attributes){let s$1=this.attributes.getAllAttributes();for(let i$1 of Object.keys(s$1))(i$1!==`id`||t$1)&&e$1.attributes.set(i$1,s$1[i$1])}if(this.childNodes&&this.childNodes.length){let t$2=this.childNodes;t$2.length===1&&t$2[0].isInferred&&(t$2=t$2[0].childNodes);for(let s$1 of t$2)s$1?e$1.appendChild(s$1.copy()):e$1.childNodes.push(null)}return e$1}get texClass(){return this.texclass}set texClass(t$1){this.texclass=t$1}get isToken(){return!1}get isEmbellished(){return!1}get isSpacelike(){return!1}get linebreakContainer(){return!1}get linebreakAlign(){return`data-align`}get arity(){return 1/0}get isInferred(){return!1}get Parent(){let t$1=this.parent;for(;t$1&&t$1.notParent;)t$1=t$1.Parent;return t$1}get notParent(){return!1}setChildren(t$1){return this.arity<0?this.childNodes[0].setChildren(t$1):super.setChildren(t$1)}appendChild(t$1){if(this.arity<0)return this.childNodes[0].appendChild(t$1),t$1;if(t$1.isInferred){if(this.arity===1/0)return t$1.childNodes.forEach((t$2=>super.appendChild(t$2))),t$1;let e$1=t$1;(t$1=this.factory.create(`mrow`)).setChildren(e$1.childNodes),t$1.attributes=e$1.attributes;for(let s$1 of e$1.getPropertyNames())t$1.setProperty(s$1,e$1.getProperty(s$1))}return super.appendChild(t$1)}replaceChild(t$1,e$1){return this.arity<0?(this.childNodes[0].replaceChild(t$1,e$1),t$1):super.replaceChild(t$1,e$1)}core(){return this}coreMO(){return this}coreIndex(){return 0}childPosition(){let t$1=null,e$1=this.parent;for(;e$1&&e$1.notParent;)t$1=e$1,e$1=e$1.parent;if(t$1||=this,e$1){let s$1=0;for(let i$1 of e$1.childNodes){if(i$1===t$1)return s$1;s$1++}}return null}setTeXclass(t$1){return this.getPrevClass(t$1),this.texClass==null?t$1:this}updateTeXclass(t$1){t$1&&(this.prevClass=t$1.prevClass,this.prevLevel=t$1.prevLevel,t$1.prevClass=t$1.prevLevel=null,this.texClass=t$1.texClass)}getPrevClass(t$1){t$1&&(this.prevClass=t$1.texClass,this.prevLevel=t$1.attributes.get(`scriptlevel`))}texSpacing(){let t$1=this.prevClass==null?ur.NONE:this.prevClass,e$1=this.texClass||ur.ORD;if(t$1===ur.NONE||e$1===ur.NONE)return``;let s$1=fr[t$1][e$1];return(this.prevLevel>0||this.attributes.get(`scriptlevel`)>0)&&s$1>=0?``:mr[Math.abs(s$1)]}hasSpacingAttributes(){return this.isEmbellished&&this.coreMO().hasSpacingAttributes()}setInheritedAttributes(t$1={},e$1=!1,s$1=0,i$1=!1){var r$1,n$1,o$1;let a$1=this.attributes.getAllDefaults();for(let e$2 of Object.keys(t$1)){if(Object.hasOwn(a$1,e$2)||Object.hasOwn(Er.alwaysInherit,e$2)){let[s$2,i$2]=t$1[e$2];(n$1=Er.noInherit[s$2]?.[this.kind])!=null&&n$1[e$2]||this.attributes.setInherited(e$2,i$2)}(o$1=Er.stopInherit[this.kind])!=null&&o$1[e$2]&&delete(t$1=Object.assign({},t$1))[e$2]}this.attributes.getExplicit(`displaystyle`)===void 0&&this.attributes.setInherited(`displaystyle`,e$1),this.attributes.getExplicit(`scriptlevel`)===void 0&&this.attributes.setInherited(`scriptlevel`,s$1),i$1&&this.setProperty(`texprimestyle`,i$1);let c$1=this.arity;if(c$1>=0&&c$1!==1/0&&(c$1===1&&this.childNodes.length===0||c$1!==1&&this.childNodes.length!==c$1))if(c$1<this.childNodes.length)this.childNodes=this.childNodes.slice(0,c$1);else for(;this.childNodes.length<c$1;)this.appendChild(this.factory.create(`mrow`));if(this.linebreakContainer&&!this.isEmbellished){let e$2=this.linebreakAlign;if(e$2){let s$2=this.attributes.get(e$2)||`left`;t$1=this.addInheritedAttributes(t$1,{indentalign:s$2,indentshift:`0`,indentalignfirst:s$2,indentshiftfirst:`0`,indentalignlast:`indentalign`,indentshiftlast:`indentshift`})}}this.setChildInheritedAttributes(t$1,e$1,s$1,i$1)}setChildInheritedAttributes(t$1,e$1,s$1,i$1){for(let r$1 of this.childNodes)r$1.setInheritedAttributes(t$1,e$1,s$1,i$1)}addInheritedAttributes(t$1,e$1){let s$1=Object.assign({},t$1);for(let t$2 of Object.keys(e$1))t$2!==`displaystyle`&&t$2!==`scriptlevel`&&t$2!==`style`&&(s$1[t$2]=[this.kind,e$1[t$2]]);return s$1}inheritAttributesFrom(t$1){let e$1=t$1.attributes,s$1=e$1.get(`displaystyle`),i$1=e$1.get(`scriptlevel`),r$1=e$1.isSet(`mathsize`)?{mathsize:[`math`,e$1.get(`mathsize`)]}:{},n$1=t$1.getProperty(`texprimestyle`)||!1;this.setInheritedAttributes(r$1,s$1,i$1,n$1)}verifyTree(t$1=null){if(t$1===null)return;this.verifyAttributes(t$1);let e$1=this.arity;t$1.checkArity&&e$1>=0&&e$1!==1/0&&(e$1===1&&this.childNodes.length===0||e$1!==1&&this.childNodes.length!==e$1)&&this.mError(`Wrong number of children for "`+this.kind+`" node`,t$1,!0),this.verifyChildren(t$1)}verifyAttributes(t$1){if(t$1.checkAttributes){let e$1=this.attributes,s$1=[];for(let t$2 of e$1.getExplicitNames())t$2.substring(0,5)===`data-`||e$1.getDefault(t$2)!==void 0||t$2.match(/^(?:class|style|id|(?:xlink:)?href)$/)||s$1.push(t$2);s$1.length&&this.mError(`Unknown attributes for `+this.kind+` node: `+s$1.join(`, `),t$1)}if(t$1.checkMathvariants){let e$1=this.attributes.getExplicit(`mathvariant`);!e$1||gr.has(e$1)||this.getProperty(`ignore-variant`)||this.mError(`Invalid mathvariant: ${e$1}`,t$1,!0)}}verifyChildren(t$1){for(let e$1 of this.childNodes)e$1.verifyTree(t$1)}mError(t$1,e$1,s$1=!1){if(this.parent&&this.parent.isKind(`merror`))return null;let i$1=this.factory.create(`merror`);if(i$1.attributes.set(`data-mjx-message`,t$1),e$1.fullErrors||s$1){let s$2=this.factory.create(`mtext`),r$1=this.factory.create(`text`);r$1.setText(e$1.fullErrors?t$1:this.kind),s$2.appendChild(r$1),i$1.appendChild(s$2),this.parent.replaceChild(i$1,this),e$1.fullErrors||i$1.attributes.set(`title`,t$1)}else this.parent.replaceChild(i$1,this),i$1.appendChild(this);return i$1}}Er.defaults={mathbackground:cr,mathcolor:cr,mathsize:cr,dir:cr},Er.noInherit={mstyle:{mpadded:{width:!0,height:!0,depth:!0,lspace:!0,voffset:!0},mtable:{width:!0,height:!0,depth:!0,align:!0}},maligngroup:{mrow:{groupalign:!0},mtable:{groupalign:!0}},mtr:{msqrt:{"data-vertical-align":!0},mroot:{"data-vertical-align":!0}},mlabeledtr:{msqrt:{"data-vertical-align":!0},mroot:{"data-vertical-align":!0}}},Er.stopInherit={mtd:{columnalign:!0,rowalign:!0,groupalign:!0}},Er.alwaysInherit={scriptminsize:!0,scriptsizemultiplier:!0,infixlinebreakstyle:!0},Er.verifyDefaults={checkArity:!0,checkAttributes:!1,checkMathvariants:!0,fullErrors:!1,fixMmultiscripts:!0,fixMtables:!0};class Nr extends Er{get isToken(){return!0}getText(){let t$1=``;for(let e$1 of this.childNodes)e$1 instanceof Cr?t$1+=e$1.getText():`textContent`in e$1&&(t$1+=e$1.textContent());return t$1}setChildInheritedAttributes(t$1,e$1,s$1,i$1){for(let r$1 of this.childNodes)r$1 instanceof Er&&r$1.setInheritedAttributes(t$1,e$1,s$1,i$1)}walkTree(t$1,e$1){t$1(this,e$1);for(let s$1 of this.childNodes)s$1 instanceof Er&&s$1.walkTree(t$1,e$1);return e$1}}Nr.defaults=Object.assign(Object.assign({},Er.defaults),{mathvariant:`normal`,mathsize:cr});class yr extends Er{get isSpacelike(){return this.childNodes[0].isSpacelike}get isEmbellished(){return this.childNodes[0].isEmbellished}get arity(){return-1}core(){return this.childNodes[0]}coreMO(){return this.childNodes[0].coreMO()}setTeXclass(t$1){return t$1=this.childNodes[0].setTeXclass(t$1),this.updateTeXclass(this.childNodes[0]),t$1}}yr.defaults=Er.defaults;class xr extends Er{get isEmbellished(){return this.childNodes[0].isEmbellished}core(){return this.childNodes[0]}coreMO(){return this.childNodes[0].coreMO()}setTeXclass(t$1){this.getPrevClass(t$1),this.texClass=ur.ORD;let e$1=this.childNodes[0],s$1=null;e$1&&(this.isEmbellished||e$1.isKind(`mi`)?(s$1=e$1.setTeXclass(t$1),this.updateTeXclass(this.core())):e$1.setTeXclass(null));for(let t$2 of this.childNodes.slice(1))t$2&&t$2.setTeXclass(null);return s$1||this}}xr.defaults=Er.defaults;class vr extends dr{get isToken(){return!1}get isEmbellished(){return!1}get isSpacelike(){return!1}get linebreakContainer(){return!1}get linebreakAlign(){return``}get arity(){return 0}get isInferred(){return!1}get notParent(){return!1}get Parent(){return this.parent}get texClass(){return ur.NONE}get prevClass(){return ur.NONE}get prevLevel(){return 0}hasSpacingAttributes(){return!1}get attributes(){return null}core(){return this}coreMO(){return this}coreIndex(){return 0}childPosition(){return 0}setTeXclass(t$1){return t$1}texSpacing(){return``}setInheritedAttributes(t$1,e$1,s$1,i$1){}inheritAttributesFrom(t$1){}verifyTree(t$1){}mError(t$1,e$1,s$1=!1){return null}}class Cr extends vr{constructor(){super(...arguments),this.text=``}get kind(){return`text`}getText(){return this.text}setText(t$1){return this.text=t$1,this}copy(){return this.factory.create(this.kind).setText(this.getText())}toString(){return this.text}}class Tr extends vr{constructor(){super(...arguments),this.xml=null,this.adaptor=null}get kind(){return`XML`}getXML(){return this.xml}setXML(t$1,e$1=null){return this.xml=t$1,this.adaptor=e$1,this}getSerializedXML(){return this.adaptor.serializeXML(this.xml)}copy(){return this.factory.create(this.kind).setXML(this.adaptor.clone(this.xml))}toString(){return`XML data`}}class wr extends yr{get kind(){return`math`}get linebreakContainer(){return!0}get linebreakAlign(){return``}setChildInheritedAttributes(t$1,e$1,s$1,i$1){this.attributes.get(`mode`)===`display`&&this.attributes.setInherited(`display`,`block`),t$1=this.addInheritedAttributes(t$1,this.attributes.getAllAttributes()),e$1=!!this.attributes.get(`displaystyle`)||!this.attributes.get(`displaystyle`)&&this.attributes.get(`display`)===`block`,this.attributes.setInherited(`displaystyle`,e$1),s$1=this.attributes.get(`scriptlevel`)||this.constructor.defaults.scriptlevel,super.setChildInheritedAttributes(t$1,e$1,s$1,i$1)}verifyTree(t$1=null){super.verifyTree(t$1),this.parent&&this.mError(`Improper nesting of math tags`,t$1,!0)}}wr.defaults=Object.assign(Object.assign({},yr.defaults),{mathvariant:`normal`,mathsize:`normal`,mathcolor:``,mathbackground:`transparent`,dir:`ltr`,scriptlevel:0,displaystyle:!1,display:`inline`,maxwidth:``,overflow:`linebreak`,altimg:``,"altimg-width":``,"altimg-height":``,"altimg-valign":``,alttext:``,cdgroup:``,scriptsizemultiplier:1/Math.sqrt(2),scriptminsize:`.4em`,infixlinebreakstyle:`before`,lineleading:`100%`,linebreakmultchar:``,indentshift:`auto`,indentalign:`auto`,indenttarget:``,indentalignfirst:`indentalign`,indentshiftfirst:`indentshift`,indentalignlast:`indentalign`,indentshiftlast:`indentshift`});class _r extends Nr{constructor(){super(...arguments),this.texclass=ur.ORD}get kind(){return`mi`}setInheritedAttributes(t$1={},e$1=!1,s$1=0,i$1=!1){super.setInheritedAttributes(t$1,e$1,s$1,i$1),this.getText().match(_r.singleCharacter)&&!t$1.mathvariant&&this.attributes.setInherited(`mathvariant`,`italic`)}setTeXclass(t$1){this.getPrevClass(t$1);let e$1=this.getText();return e$1.length>1&&e$1.match(_r.operatorName)&&this.attributes.get(`mathvariant`)===`normal`&&this.getProperty(`autoOP`)===void 0&&this.getProperty(`texClass`)===void 0&&(this.texClass=ur.OP,this.setProperty(`autoOP`,!0)),this}}_r.defaults=Object.assign({},Nr.defaults),_r.operatorName=/^[a-z][a-z0-9]*$/i,_r.singleCharacter=/^[\uD800-\uDBFF]?.[\u0300-\u036F\u1AB0-\u1ABE\u1DC0-\u1DFF\u20D0-\u20EF]*$/;class kr extends Nr{constructor(){super(...arguments),this.texclass=ur.ORD}get kind(){return`mn`}}function Ar(t$1,e$1,s$1=ur.BIN,i$1=null){return[t$1,e$1,s$1,i$1]}kr.defaults=Object.assign({},Nr.defaults);let Lr={ORD:Ar(0,0,ur.ORD),ORD11:Ar(1,1,ur.ORD),ORD21:Ar(2,1,ur.ORD),ORD02:Ar(0,2,ur.ORD),ORD55:Ar(5,5,ur.ORD),NONE:Ar(0,0,ur.NONE),OP:Ar(1,2,ur.OP,{largeop:!0,movablelimits:!0,symmetric:!0}),OPFIXED:Ar(1,2,ur.OP,{largeop:!0,movablelimits:!0}),INTEGRAL:Ar(0,1,ur.OP,{largeop:!0,symmetric:!0}),INTEGRAL2:Ar(1,2,ur.OP,{largeop:!0,symmetric:!0}),BIN3:Ar(3,3,ur.BIN),BIN4:Ar(4,4,ur.BIN),BIN01:Ar(0,1,ur.BIN),BIN5:Ar(5,5,ur.BIN),TALLBIN:Ar(4,4,ur.BIN,{stretchy:!0}),BINOP:Ar(4,4,ur.BIN,{largeop:!0,movablelimits:!0}),REL:Ar(5,5,ur.REL),REL1:Ar(1,1,ur.REL,{stretchy:!0}),REL4:Ar(4,4,ur.REL),RELSTRETCH:Ar(5,5,ur.REL,{stretchy:!0}),RELACCENT:Ar(5,5,ur.REL,{accent:!0}),WIDEREL:Ar(5,5,ur.REL,{accent:!0,stretchy:!0}),OPEN:Ar(0,0,ur.OPEN,{fence:!0,stretchy:!0,symmetric:!0}),CLOSE:Ar(0,0,ur.CLOSE,{fence:!0,stretchy:!0,symmetric:!0}),INNER:Ar(0,0,ur.INNER),PUNCT:Ar(0,3,ur.PUNCT),ACCENT:Ar(0,0,ur.ORD,{accent:!0}),WIDEACCENT:Ar(0,0,ur.ORD,{accent:!0,stretchy:!0})},Mr=[[32,127,ur.REL,`mo`],[160,191,ur.ORD,`mo`],[192,591,ur.ORD,`mi`],[688,879,ur.ORD,`mo`],[880,6688,ur.ORD,`mi`],[6832,6911,ur.ORD,`mo`],[6912,7615,ur.ORD,`mi`],[7616,7679,ur.ORD,`mo`],[7680,8191,ur.ORD,`mi`],[8192,8303,ur.ORD,`mo`],[8304,8351,ur.ORD,`mo`],[8448,8527,ur.ORD,`mi`],[8528,8591,ur.ORD,`mn`],[8592,8703,ur.REL,`mo`],[8704,8959,ur.BIN,`mo`],[8960,9215,ur.ORD,`mo`],[9312,9471,ur.ORD,`mn`],[9472,10223,ur.ORD,`mo`],[10224,10239,ur.REL,`mo`],[10240,10495,ur.ORD,`mtext`],[10496,10623,ur.REL,`mo`],[10624,10751,ur.ORD,`mo`],[10752,11007,ur.BIN,`mo`],[11008,11055,ur.ORD,`mo`],[11056,11087,ur.REL,`mo`],[11088,11263,ur.ORD,`mo`],[11264,11744,ur.ORD,`mi`],[11776,11903,ur.ORD,`mo`],[11904,12255,ur.ORD,`mi`,`normal`],[12272,12351,ur.ORD,`mo`],[12352,42143,ur.ORD,`mi`,`normal`],[42192,43055,ur.ORD,`mi`],[43056,43071,ur.ORD,`mn`],[43072,55295,ur.ORD,`mi`],[63744,64255,ur.ORD,`mi`,`normal`],[64256,65023,ur.ORD,`mi`],[65024,65135,ur.ORD,`mo`],[65136,65791,ur.ORD,`mi`],[65792,65935,ur.ORD,`mn`],[65936,74751,ur.ORD,`mi`,`normal`],[74752,74879,ur.ORD,`mn`],[74880,113823,ur.ORD,`mi`,`normal`],[113824,119391,ur.ORD,`mo`],[119648,119679,ur.ORD,`mn`],[119808,120781,ur.ORD,`mi`],[120782,120831,ur.ORD,`mn`],[122624,129023,ur.ORD,`mo`],[129024,129279,ur.REL,`mo`],[129280,129535,ur.ORD,`mo`],[131072,195103,ur.ORD,`mi`,`normal`]];function Ir(t$1){let e$1=Rr.infix[t$1]||Rr.prefix[t$1]||Rr.postfix[t$1];if(e$1)return[0,0,e$1[2],`mo`];let s$1=t$1.codePointAt(0);for(let t$2 of Mr)if(s$1<=t$2[1]){if(s$1>=t$2[0])return t$2;break}return[0,0,ur.REL,`mo`]}let Sr=[[0,0],[1,2],[3,3],[4,4],[0,0],[0,0],[0,3]],Rr={prefix:{"(":Lr.OPEN,"+":Lr.BIN01,"-":Lr.BIN01,"[":Lr.OPEN,"{":Lr.OPEN,"|":Lr.OPEN,"||":[0,0,ur.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[0,0,ur.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"":Lr.ORD21,"":Lr.BIN01,"":[0,0,ur.ORD,{fence:!0,stretchy:!0}],"":[0,0,ur.OPEN,{fence:!0}],"":[0,0,ur.OPEN,{fence:!0}],:Lr.ORD21,:Ar(2,0,ur.ORD),"":Lr.ORD21,"":Lr.ORD21,"":Lr.ORD21,"":Lr.ORD21,"":Lr.ORD21,"":Lr.OP,"":Lr.OP,"":Lr.OP,"":Lr.BIN01,"":Lr.BIN01,"":[1,1,ur.ORD,{stretchy:!0}],"":Lr.ORD11,"":Lr.ORD11,"":Lr.ORD,"":Lr.ORD,"":Lr.ORD,"":Lr.INTEGRAL,"":Lr.INTEGRAL,"":Lr.INTEGRAL,"":Lr.INTEGRAL,"":Lr.INTEGRAL,"":Lr.INTEGRAL,"":Lr.INTEGRAL,"":Lr.INTEGRAL,"":Lr.INTEGRAL,"":Lr.OP,"":Lr.OP,"":Lr.OP,"":Lr.OP,"":Lr.OPEN,"":Lr.OPEN,"":Lr.OPEN,"":Lr.OPEN,"":Lr.OPEN,"":Lr.OPEN,"":Lr.OPEN,"":Lr.OPEN,"":Lr.OPEN,"":[0,0,ur.ORD,{fence:!0,stretchy:!0}],"":Lr.OPEN,"":Lr.OPEN,"":Lr.OPEN,"":Lr.OPEN,"":Lr.OPEN,"":Lr.OPEN,"":Lr.OPEN,"":Lr.OPEN,"":Lr.OPEN,"":Lr.OPEN,"":Lr.OPEN,"":Lr.OPEN,"":Lr.OP,"":Lr.OP,"":Lr.OP,"":Lr.OP,"":Lr.OP,"":Lr.OP,"":Lr.OP,"":Lr.OP,"":Lr.OP,"":Lr.OP,"":Lr.OP,"":Lr.INTEGRAL2,"":Lr.INTEGRAL,"":Lr.INTEGRAL2,"":Lr.INTEGRAL2,"":Lr.INTEGRAL2,"":Lr.OP,"":Lr.OP,"":Lr.OP,"":Lr.OP,"":Lr.OP,"":Lr.INTEGRAL2,"":Lr.INTEGRAL2,"":Lr.INTEGRAL2,"":Lr.INTEGRAL2,"":Lr.INTEGRAL2,"":Lr.INTEGRAL2,"":Lr.INTEGRAL2,"":Lr.INTEGRAL2,"":Lr.OP,"":Lr.OP},postfix:{"!!":Ar(1,0),"!":[1,0,ur.CLOSE,null],'"':Lr.ACCENT,"&":Lr.ORD,")":Lr.CLOSE,"++":Ar(0,0),"--":Ar(0,0),"..":Ar(0,0),"...":Lr.ORD,"'":Lr.ACCENT,"]":Lr.CLOSE,"^":Lr.WIDEACCENT,_:Lr.WIDEACCENT,"`":Lr.ACCENT,"|":Lr.CLOSE,"}":Lr.CLOSE,"~":Lr.WIDEACCENT,"||":[0,0,ur.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[0,0,ur.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"":Lr.ACCENT,:Lr.ACCENT,"":Lr.WIDEACCENT,"":Lr.ORD,"":Lr.ACCENT,"":Lr.ACCENT,"":Lr.ACCENT,"":Lr.ACCENT,"":Lr.ACCENT,:Lr.ACCENT,:Lr.WIDEACCENT,:Lr.WIDEACCENT,:Lr.WIDEACCENT,:Lr.ACCENT,:Lr.ACCENT,:Lr.WIDEACCENT,"":Lr.ACCENT,"":Lr.ACCENT,"":Lr.ACCENT,"":Lr.WIDEACCENT,"":Lr.ACCENT,"":Lr.WIDEACCENT,"":Lr.WIDEACCENT,"":Lr.ACCENT,"":Lr.REL,"":[0,0,ur.ORD,{fence:!0,stretchy:!0}],"":[0,0,ur.CLOSE,{fence:!0}],"":Lr.ACCENT,"":Lr.ACCENT,"":[0,0,ur.CLOSE,{fence:!0}],"":Lr.ACCENT,"":Lr.ACCENT,"":Lr.ORD,"":Lr.ORD,"":Lr.ORD,"":Lr.ORD,"":Lr.ORD,"":Lr.ORD,"":Lr.WIDEACCENT,"":Lr.ORD,"":Lr.ACCENT,"":Lr.ACCENT,"":Lr.CLOSE,"":Lr.CLOSE,"":Lr.CLOSE,"":Lr.WIDEACCENT,"":Lr.WIDEACCENT,"":Lr.WIDEACCENT,"":Lr.WIDEACCENT,"":Lr.WIDEACCENT,"":Lr.WIDEACCENT,"":Lr.WIDEACCENT,"":Lr.WIDEACCENT,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.ORD02,"":Lr.ORD02,"":Lr.ORD02,"":Lr.CLOSE,"":Lr.CLOSE,"":Lr.CLOSE,"":Lr.CLOSE,"":Lr.CLOSE,"":Lr.CLOSE,"":[0,0,ur.ORD,{fence:!0,stretchy:!0}],"":Lr.CLOSE,"":Lr.CLOSE,"":Lr.CLOSE,"":Lr.CLOSE,"":Lr.CLOSE,"":Lr.CLOSE,"":Lr.CLOSE,"":Lr.CLOSE,"":Lr.CLOSE,"":Lr.CLOSE,"":Lr.CLOSE,"":Lr.CLOSE},infix:{"!=":Lr.BIN4,"#":Lr.ORD,$:Lr.ORD,"%":[3,3,ur.ORD,null],"&&":Lr.BIN4,"":Lr.ORD,"*":Lr.BIN3,"**":Ar(1,1),"*=":Lr.BIN4,"+":Lr.BIN4,"+=":Lr.BIN4,",":[0,3,ur.PUNCT,{linebreakstyle:`after`,separator:!0}],"-":Lr.BIN4,"-=":Lr.BIN4,"->":Lr.BIN5,".":[0,3,ur.PUNCT,{linebreakstyle:`after`,separator:!0}],"/":Lr.ORD11,"//":Ar(1,1),"/=":Lr.BIN4,":":[1,2,ur.REL,null],":=":Lr.BIN4,";":[0,3,ur.PUNCT,{linebreakstyle:`after`,separator:!0}],"<":Lr.REL,"<=":Lr.BIN5,"<>":Ar(1,1),"=":Lr.REL,"==":Lr.BIN4,">":Lr.REL,">=":Lr.BIN5,"?":[1,1,ur.CLOSE,null],"@":Lr.ORD11,"\\":Lr.ORD,"^":Lr.ORD11,_:Lr.ORD11,"|":[2,2,ur.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"||":[2,2,ur.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[2,2,ur.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,:Lr.ORD,"":Lr.ACCENT,"":Lr.ACCENT,"":Lr.WIDEACCENT,"":Lr.ACCENT,"":Lr.ACCENT,"":Lr.ACCENT,"":Lr.ACCENT,"":Lr.ACCENT,"":Lr.WIDEACCENT,"":Lr.REL4,"":[0,0,ur.ORD,{stretchy:!0}],"":[0,0,ur.ORD,{stretchy:!0}],"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN4,"":Lr.INNER,"":Lr.BIN4,"":Lr.TALLBIN,"":Lr.NONE,"":Lr.NONE,"":[0,0,ur.NONE,{linebreakstyle:`after`,separator:!0}],"":Lr.NONE,"":Lr.ACCENT,:Lr.ORD,:Lr.ORD,:Lr.ORD,:Lr.ORD,"":Lr.WIDEREL,"":Lr.RELSTRETCH,"":Lr.WIDEREL,"":Lr.RELSTRETCH,"":Lr.WIDEREL,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.RELSTRETCH,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.RELSTRETCH,"":Lr.WIDEREL,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.RELACCENT,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.REL,"":Lr.WIDEREL,"":Lr.REL,"":Lr.REL,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.WIDEREL,"":Lr.RELSTRETCH,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.RELSTRETCH,"":Lr.WIDEREL,"":Lr.RELSTRETCH,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.WIDEREL,"":Lr.RELSTRETCH,"":Lr.WIDEREL,"":Lr.RELSTRETCH,"":Lr.WIDEREL,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.REL,"":Lr.REL,"":Lr.WIDEREL,"":Lr.RELSTRETCH,"":Lr.WIDEREL,"":Lr.RELSTRETCH,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.RELSTRETCH,"":Lr.WIDEREL,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.WIDEREL,"":Lr.REL,"":Lr.REL,"":Lr.RELSTRETCH,"":Lr.RELACCENT,"":Lr.RELSTRETCH,"":Lr.WIDEREL,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Ar(1,2,ur.ORD),"":Lr.ORD,"":Lr.BIN3,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.BIN3,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.TALLBIN,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.REL,"":Lr.ORD,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.BIN4,"":Lr.REL,"":Lr.BIN4,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.BIN3,"":Lr.REL,"":Lr.BIN3,"":Lr.BIN4,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.REL,"":Lr.REL,"":Lr.ORD55,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.REL,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.REL,"":Lr.BIN4,"":Lr.BIN4,"":Lr.REL,"":Lr.REL,"":Lr.BIN4,"":Lr.BIN4,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.ORD55,"":Lr.INNER,"":Lr.REL,"":[5,5,ur.INNER,null],"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.BIN3,"":Lr.BIN3,"":Lr.REL4,"":Lr.REL4,"":Lr.OPEN,"":Lr.CLOSE,"":Lr.ORD,"":[0,0,ur.ORD,{stretchy:!0}],"":Lr.OPEN,"":Lr.CLOSE,"":Lr.ORD,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN3,"":Lr.ORD,"":Lr.ORD,"":Lr.ORD,"":Lr.ORD,"":Lr.REL,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.REL,"":Lr.REL,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.RELACCENT,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.RELACCENT,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.REL,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.REL,"":Lr.REL,"":Lr.WIDEREL,"":Lr.RELSTRETCH,"":Lr.WIDEREL,"":Lr.RELSTRETCH,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.WIDEREL,"":Lr.WIDEREL,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.RELACCENT,"":Lr.REL,"":Lr.RELACCENT,"":Lr.REL,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.RELACCENT,"":Lr.REL,"":Lr.REL,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.REL,"":Lr.REL,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.REL,"":Lr.BIN3,"":Lr.BIN3,"":Lr.REL,"":Lr.BIN4,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.REL,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN3,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.REL,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.BIN4,"":Lr.BIN4,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN4,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.REL,"":Lr.BIN4,"":Lr.BIN4,"":Lr.BIN3,"":Lr.RELSTRETCH,"":Lr.RELSTRETCH,"":Lr.OPEN,"":Lr.CLOSE,"":Lr.WIDEACCENT,"":Lr.WIDEACCENT}};function Or(t$1,e$1){return t$1.length===e$1.length?t$1===e$1?0:t$1<e$1?-1:1:e$1.length-t$1.length}function Dr(t$1){return t$1.replace(/([\^$(){}.+*?\-|[\]:\\])/g,`\\$1`)}function Pr(t$1){return Array.from(t$1).map((t$2=>t$2.codePointAt(0)))}function Br(t$1){return String.fromCodePoint(...t$1)}function Fr(t$1){return!!t$1.match(/%\s*$/)}function jr(t$1){return t$1.trim().split(/\s+/)}function Ur(t$1){return t$1.replace(/\\U(?:([0-9A-Fa-f]{4})|\{\s*([0-9A-Fa-f]{1,6})\s*\})|\\./g,((t$2,e$1,s$1)=>t$2===`\\\\`?`\\`:String.fromCodePoint(parseInt(e$1||s$1,16))))}function qr(t$1){return`&#x${t$1.codePointAt(0).toString(16).toUpperCase()};`}Rr.infix[`^`]=Lr.WIDEREL,Rr.infix._=Lr.WIDEREL,Rr.infix[``]=Lr.REL;class Hr extends Nr{constructor(){super(...arguments),this._texClass=null,this.lspace=5/18,this.rspace=5/18}get texClass(){return this._texClass===null?this.getOperatorDef(this.getText())[2]:this._texClass}set texClass(t$1){this._texClass=t$1}get kind(){return`mo`}get isEmbellished(){return!0}coreParent(){let t$1=null,e$1=this,s$1=this.factory.getNodeClass(`math`);for(;e$1&&e$1.isEmbellished&&e$1.coreMO()===this&&!(e$1 instanceof s$1);)t$1=e$1,e$1=e$1.parent;return t$1||this}coreText(t$1){if(!t$1)return``;if(t$1.isEmbellished)return t$1.coreMO().getText();for(;((t$1.isKind(`mrow`)||t$1.isKind(`TeXAtom`)||t$1.isKind(`mstyle`)||t$1.isKind(`mphantom`))&&t$1.childNodes.length===1||t$1.isKind(`munderover`))&&t$1.childNodes[0];)t$1=t$1.childNodes[0];return t$1.isToken?t$1.getText():``}hasSpacingAttributes(){return this.attributes.isSet(`lspace`)||this.attributes.isSet(`rspace`)}get isAccent(){let t$1=!1,e$1=this.coreParent().parent;if(e$1){let s$1=e$1.isKind(`mover`)?e$1.childNodes[e$1.over].coreMO()?`accent`:``:e$1.isKind(`munder`)?e$1.childNodes[e$1.under].coreMO()?`accentunder`:``:e$1.isKind(`munderover`)?this===e$1.childNodes[e$1.over].coreMO()?`accent`:this===e$1.childNodes[e$1.under].coreMO()?`accentunder`:``:``;s$1&&(t$1=e$1.attributes.getExplicit(s$1)===void 0?this.attributes.get(`accent`):t$1)}return t$1}setTeXclass(t$1){let{form:e$1,fence:s$1}=this.attributes.getList(`form`,`fence`);return this.getProperty(`texClass`)===void 0&&this.hasSpacingAttributes()?null:(s$1&&this.texClass===ur.REL&&(e$1===`prefix`&&(this.texClass=ur.OPEN),e$1===`postfix`&&(this.texClass=ur.CLOSE)),this.adjustTeXclass(t$1))}adjustTeXclass(t$1){let e$1=this.texClass,s$1=this.prevClass;if(e$1===ur.NONE)return t$1;if(t$1?(!t$1.getProperty(`autoOP`)||e$1!==ur.BIN&&e$1!==ur.REL||(s$1=t$1.texClass=ur.ORD),s$1=this.prevClass=t$1.texClass||ur.ORD,this.prevLevel=this.attributes.getInherited(`scriptlevel`)):s$1=this.prevClass=ur.NONE,e$1!==ur.BIN||s$1!==ur.NONE&&s$1!==ur.BIN&&s$1!==ur.OP&&s$1!==ur.REL&&s$1!==ur.OPEN&&s$1!==ur.PUNCT)if(s$1!==ur.BIN||e$1!==ur.REL&&e$1!==ur.CLOSE&&e$1!==ur.PUNCT){if(e$1===ur.BIN){let t$2=null,e$2=this.parent;for(;e$2&&e$2.parent&&e$2.isEmbellished&&(e$2.childNodes.length===1||!e$2.isKind(`mrow`)&&e$2.core()===t$2);)t$2=e$2,e$2=e$2.parent;t$2||=this,e$2.childNodes[e$2.childNodes.length-1]===t$2&&(this.texClass=ur.ORD)}}else t$1.texClass=this.prevClass=ur.ORD;else this.texClass=ur.ORD;return this}setInheritedAttributes(t$1={},e$1=!1,s$1=0,i$1=!1){super.setInheritedAttributes(t$1,e$1,s$1,i$1);let r$1=this.getText();this.checkOperatorTable(r$1),this.checkPseudoScripts(r$1),this.checkPrimes(r$1),this.checkMathAccent(r$1)}getOperatorDef(t$1){let[e$1,s$1,i$1]=this.handleExplicitForm(this.getForms());this.attributes.setInherited(`form`,e$1);let r$1=this.constructor,n$1=r$1.OPTABLE,o$1=n$1[e$1][t$1]||n$1[s$1][t$1]||n$1[i$1][t$1];if(o$1)return o$1;this.setProperty(`noDictDef`,!0);let a$1=this.attributes.get(`movablelimits`);if((t$1.match(r$1.opPattern)||a$1)&&this.getProperty(`texClass`)===void 0)return Ar(1,2,ur.OP);let c$1=Ir(t$1),[l$1,h$1]=r$1.MMLSPACING[c$1[2]];return Ar(l$1,h$1,c$1[2])}checkOperatorTable(t$1){let e$1=this.getOperatorDef(t$1);this.getProperty(`texClass`)===void 0&&(this.texClass=e$1[2]);for(let t$2 of Object.keys(e$1[3]||{}))this.attributes.setInherited(t$2,e$1[3][t$2]);this.lspace=((e$1[0]||-1)+1)/18,this.rspace=((e$1[1]||-1)+1)/18}getForms(){let t$1=null,e$1=this.parent,s$1=this.Parent;for(;s$1&&s$1.isEmbellished;)t$1=e$1,e$1=s$1.parent,s$1=s$1.Parent;if(t$1||=this,e$1&&e$1.isKind(`mrow`)&&e$1.nonSpaceLength()!==1){if(e$1.firstNonSpace()===t$1)return[`prefix`,`infix`,`postfix`];if(e$1.lastNonSpace()===t$1)return[`postfix`,`infix`,`prefix`]}return[`infix`,`prefix`,`postfix`]}handleExplicitForm(t$1){if(this.attributes.isSet(`form`)){let e$1=this.attributes.get(`form`);t$1=[e$1].concat(t$1.filter((t$2=>t$2!==e$1)))}return t$1}checkPseudoScripts(t$1){let e$1=this.constructor.pseudoScripts;if(!t$1.match(e$1))return;let s$1=this.coreParent().Parent,i$1=!s$1||!(s$1.isKind(`msubsup`)&&!s$1.isKind(`msub`));this.setProperty(`pseudoscript`,i$1),i$1&&(this.attributes.setInherited(`lspace`,0),this.attributes.setInherited(`rspace`,0))}checkPrimes(t$1){let e$1=this.constructor.primes;if(!t$1.match(e$1))return;let s$1=this.constructor.remapPrimes,i$1=Br(Pr(t$1).map((t$2=>s$1[t$2])));this.setProperty(`primes`,i$1)}checkMathAccent(t$1){let e$1=this.Parent;if(this.getProperty(`mathaccent`)!==void 0||!e$1||!e$1.isKind(`munderover`))return;let[s$1,i$1,r$1]=e$1.childNodes;if(s$1.isEmbellished&&s$1.coreMO()===this)return;let n$1=!(!i$1||!i$1.isEmbellished||i$1.coreMO()!==this),o$1=!(!r$1||!r$1.isEmbellished||i$1.coreMO()!==this);(n$1||o$1)&&(this.isMathAccent(t$1)?this.setProperty(`mathaccent`,!0):this.isMathAccentWithWidth(t$1)&&this.setProperty(`mathaccent`,!1))}isMathAccent(t$1=this.getText()){let e$1=this.constructor.mathaccents;return!!t$1.match(e$1)}isMathAccentWithWidth(t$1=this.getText()){let e$1=this.constructor.mathaccentsWithWidth;return!!t$1.match(e$1)}}Hr.defaults=Object.assign(Object.assign({},Nr.defaults),{form:`infix`,fence:!1,separator:!1,lspace:`thickmathspace`,rspace:`thickmathspace`,stretchy:!1,symmetric:!1,maxsize:`infinity`,minsize:`0em`,largeop:!1,movablelimits:!1,accent:!1,linebreak:`auto`,lineleading:`100%`,linebreakstyle:`before`,indentalign:`auto`,indentshift:`0`,indenttarget:``,indentalignfirst:`indentalign`,indentshiftfirst:`indentshift`,indentalignlast:`indentalign`,indentshiftlast:`indentshift`}),Hr.MMLSPACING=Sr,Hr.OPTABLE=Rr,Hr.pseudoScripts=new RegExp([`^["'*\``,``,``,`-`,``,``,`-`,`-`,``,`-`,`-`,`]+$`].join(``)),Hr.primes=new RegExp([`^["'`,`-`,`]+$`].join(``)),Hr.opPattern=/^[a-zA-Z]{2,}$/,Hr.remapPrimes={34:8243,39:8242,8216:8245,8217:8242,8218:8242,8219:8245,8220:8246,8221:8243,8222:8243,8223:8246},Hr.mathaccents=new RegExp([`^[`,``,"`",``,`~`,``,``,``,`^`,``,``,``,``,``,``,`]$`].join(``)),Hr.mathaccentsWithWidth=new RegExp([`^[`,``,``,``,`]$`].join(``));class Wr extends Nr{constructor(){super(...arguments),this.texclass=ur.ORD}get kind(){return`mtext`}get isSpacelike(){return!!this.getText().match(/^\s*$/)&&!this.attributes.hasOneOf(Wr.NONSPACELIKE)}}Wr.NONSPACELIKE=[`style`,`mathbackground`,`background`],Wr.defaults=Object.assign({},Nr.defaults);class zr extends Nr{constructor(){super(...arguments),this.texclass=ur.NONE}setTeXclass(t$1){return t$1}get kind(){return`mspace`}get arity(){return 0}get isSpacelike(){return!this.attributes.hasExplicit(`linebreak`)&&this.canBreak}get hasNewline(){let t$1=this.attributes.get(`linebreak`);return this.canBreak&&(t$1===`newline`||t$1===`indentingnewline`)}get canBreak(){return!this.attributes.hasOneOf(zr.NONSPACELIKE)&&String(this.attributes.get(`width`)).trim().charAt(0)!==`-`}}zr.NONSPACELIKE=[`height`,`depth`,`style`,`mathbackground`,`background`],zr.defaults=Object.assign(Object.assign({},Nr.defaults),{width:`0em`,height:`0ex`,depth:`0ex`,linebreak:`auto`,indentshift:`auto`,indentalign:`auto`,indenttarget:``,indentalignfirst:`indentalign`,indentshiftfirst:`indentshift`,indentalignlast:`indentalign`,indentshiftlast:`indentshift`});class Xr extends Nr{constructor(){super(...arguments),this.texclass=ur.ORD}get kind(){return`ms`}}Xr.defaults=Object.assign(Object.assign({},Nr.defaults),{lquote:`"`,rquote:`"`});class Vr extends Er{constructor(){super(...arguments),this._core=null}get kind(){return`mrow`}get isSpacelike(){for(let t$1 of this.childNodes)if(!t$1.isSpacelike)return!1;return!0}get isEmbellished(){let t$1=!1,e$1=0;for(let s$1 of this.childNodes){if(s$1){if(s$1.isEmbellished){if(t$1)return!1;t$1=!0,this._core=e$1}else if(!s$1.isSpacelike)return!1}e$1++}return t$1}core(){return this.isEmbellished&&this._core!=null?this.childNodes[this._core]:this}coreMO(){return this.isEmbellished&&this._core!=null?this.childNodes[this._core].coreMO():this}nonSpaceLength(){let t$1=0;for(let e$1 of this.childNodes)e$1&&!e$1.isSpacelike&&t$1++;return t$1}firstNonSpace(){for(let t$1 of this.childNodes)if(t$1&&!t$1.isSpacelike)return t$1;return null}lastNonSpace(){let t$1=this.childNodes.length;for(;--t$1>=0;){let e$1=this.childNodes[t$1];if(e$1&&!e$1.isSpacelike)return e$1}return null}setTeXclass(t$1){if(this.getProperty(`open`)!=null||this.getProperty(`close`)!=null){this.getPrevClass(t$1),t$1=null;for(let e$1 of this.childNodes)t$1=e$1.setTeXclass(t$1);return this.texClass??=ur.INNER,this}for(let e$1 of this.childNodes)t$1=e$1.setTeXclass(t$1);return this.childNodes[0]&&this.updateTeXclass(this.childNodes[0]),t$1}}Vr.defaults=Object.assign({},Er.defaults);class Gr extends Vr{get kind(){return`inferredMrow`}get isInferred(){return!0}get notParent(){return!0}toString(){return`[`+this.childNodes.join(`,`)+`]`}}Gr.defaults=Vr.defaults;class Jr extends xr{get kind(){return`mfrac`}get arity(){return 2}get linebreakContainer(){return!0}get linebreakAlign(){return``}setTeXclass(t$1){this.getPrevClass(t$1);for(let t$2 of this.childNodes)t$2.setTeXclass(null);return this}setChildInheritedAttributes(t$1,e$1,s$1,i$1){(!e$1||s$1>0)&&s$1++;let r$1=this.attributes.get(`numalign`),n$1=this.attributes.get(`denomalign`),o$1=this.addInheritedAttributes(Object.assign({},t$1),{numalign:r$1,indentshift:`0`,indentalignfirst:r$1,indentshiftfirst:`0`,indentalignlast:`indentalign`,indentshiftlast:`indentshift`}),a$1=this.addInheritedAttributes(Object.assign({},t$1),{denalign:n$1,indentshift:`0`,indentalignfirst:n$1,indentshiftfirst:`0`,indentalignlast:`indentalign`,indentshiftlast:`indentshift`});this.childNodes[0].setInheritedAttributes(o$1,!1,s$1,i$1),this.childNodes[1].setInheritedAttributes(a$1,!1,s$1,!0)}}Jr.defaults=Object.assign(Object.assign({},xr.defaults),{linethickness:`medium`,numalign:`center`,denomalign:`center`,bevelled:!1});class Kr extends Er{constructor(){super(...arguments),this.texclass=ur.ORD}get kind(){return`msqrt`}get arity(){return-1}get linebreakContainer(){return!0}setTeXclass(t$1){return this.getPrevClass(t$1),this.childNodes[0].setTeXclass(null),this}setChildInheritedAttributes(t$1,e$1,s$1,i$1){this.childNodes[0].setInheritedAttributes(t$1,e$1,s$1,!0)}}Kr.defaults=Object.assign(Object.assign({},Er.defaults),{"data-vertical-align":`bottom`});class $r extends Er{constructor(){super(...arguments),this.texclass=ur.ORD}get kind(){return`mroot`}get arity(){return 2}get linebreakContainer(){return!0}setTeXclass(t$1){return this.getPrevClass(t$1),this.childNodes[0].setTeXclass(null),this.childNodes[1].setTeXclass(null),this}setChildInheritedAttributes(t$1,e$1,s$1,i$1){this.childNodes[0].setInheritedAttributes(t$1,e$1,s$1,!0),this.childNodes[1].setInheritedAttributes(t$1,!1,s$1+2,i$1)}}$r.defaults=Object.assign(Object.assign({},Er.defaults),{"data-vertical-align":`bottom`});class Yr extends yr{get kind(){return`mstyle`}get notParent(){return this.childNodes[0]&&this.childNodes[0].childNodes.length===1}setInheritedAttributes(t$1={},e$1=!1,s$1=0,i$1=!1){this.attributes.setInherited(`displaystyle`,e$1),this.attributes.setInherited(`scriptlevel`,s$1),super.setInheritedAttributes(t$1,e$1,s$1,i$1)}setChildInheritedAttributes(t$1,e$1,s$1,i$1){let r$1=this.attributes.getExplicit(`scriptlevel`);r$1!=null&&(r$1=r$1.toString(),r$1.match(/^\s*[-+]/)?s$1+=parseInt(r$1):s$1=parseInt(r$1),i$1=!1);let n$1=this.attributes.getExplicit(`displaystyle`);n$1!=null&&(e$1=!0===n$1,i$1=!1);let o$1=this.attributes.getExplicit(`data-cramped`);o$1!=null&&(i$1=o$1),t$1=this.addInheritedAttributes(t$1,this.attributes.getAllAttributes()),this.childNodes[0].setInheritedAttributes(t$1,e$1,s$1,i$1)}}Yr.defaults=Object.assign(Object.assign({},yr.defaults),{scriptlevel:cr,displaystyle:cr,scriptsizemultiplier:1/Math.sqrt(2),scriptminsize:`.4em`,mathbackground:cr,mathcolor:cr,dir:cr,infixlinebreakstyle:`before`});class Qr extends Er{constructor(){super(...arguments),this.texclass=ur.ORD}get kind(){return`merror`}get arity(){return-1}get linebreakContainer(){return!0}}Qr.defaults=Object.assign({},Er.defaults);class Zr extends yr{get kind(){return`mpadded`}get linebreakContainer(){return!0}setTeXclass(t$1){return this.getProperty(`vbox`)?(this.getPrevClass(t$1),this.texClass=ur.ORD,this.childNodes[0].setTeXclass(null),this):super.setTeXclass(t$1)}}Zr.defaults=Object.assign(Object.assign({},yr.defaults),{width:``,height:``,depth:``,lspace:0,voffset:0});class tn extends yr{constructor(){super(...arguments),this.texclass=ur.ORD}get kind(){return`mphantom`}}tn.defaults=Object.assign({},yr.defaults);class en extends Er{constructor(){super(...arguments),this.texclass=ur.INNER,this.separators=[],this.open=null,this.close=null}get kind(){return`mfenced`}setTeXclass(t$1){this.getPrevClass(t$1),this.open&&(t$1=this.open.setTeXclass(t$1)),this.childNodes[0]&&(t$1=this.childNodes[0].setTeXclass(t$1));for(let e$1=1,s$1=this.childNodes.length;e$1<s$1;e$1++)this.separators[e$1-1]&&(t$1=this.separators[e$1-1].setTeXclass(t$1)),this.childNodes[e$1]&&(t$1=this.childNodes[e$1].setTeXclass(t$1));return this.close&&(t$1=this.close.setTeXclass(t$1)),this.updateTeXclass(this.open),t$1}setChildInheritedAttributes(t$1,e$1,s$1,i$1){this.addFakeNodes();for(let r$1 of[this.open,this.close].concat(this.separators))r$1&&r$1.setInheritedAttributes(t$1,e$1,s$1,i$1);super.setChildInheritedAttributes(t$1,e$1,s$1,i$1)}addFakeNodes(){let{open:t$1,close:e$1,separators:s$1}=this.attributes.getList(`open`,`close`,`separators`);if(t$1=t$1.replace(/[ \t\n\r]/g,``),e$1=e$1.replace(/[ \t\n\r]/g,``),s$1=s$1.replace(/[ \t\n\r]/g,``),t$1&&(this.open=this.fakeNode(t$1,{fence:!0,form:`prefix`},ur.OPEN)),s$1){for(;s$1.length<this.childNodes.length-1;)s$1+=s$1.charAt(s$1.length-1);let t$2=0;for(let e$2 of this.childNodes.slice(1))e$2&&this.separators.push(this.fakeNode(s$1.charAt(t$2++)))}e$1&&(this.close=this.fakeNode(e$1,{fence:!0,form:`postfix`},ur.CLOSE))}fakeNode(t$1,e$1={},s$1=null){let i$1=this.factory.create(`text`).setText(t$1),r$1=this.factory.create(`mo`,e$1,[i$1]);return r$1.texClass=s$1,r$1.parent=this,r$1}}en.defaults=Object.assign(Object.assign({},Er.defaults),{open:`(`,close:`)`,separators:`,`});class sn extends Er{constructor(){super(...arguments),this.texclass=ur.ORD}get kind(){return`menclose`}get arity(){return-1}get linebreakContainer(){return!0}setTeXclass(t$1){return t$1=this.childNodes[0].setTeXclass(t$1),this.updateTeXclass(this.childNodes[0]),t$1}}sn.defaults=Object.assign(Object.assign({},Er.defaults),{notation:`longdiv`});class rn extends Er{get kind(){return`maction`}get arity(){return 1}get selected(){let t$1=this.attributes.get(`selection`),e$1=Math.max(1,Math.min(this.childNodes.length,t$1))-1;return this.childNodes[e$1]||this.factory.create(`mrow`)}get isEmbellished(){return this.selected.isEmbellished}get isSpacelike(){return this.selected.isSpacelike}core(){return this.selected.core()}coreMO(){return this.selected.coreMO()}verifyAttributes(t$1){super.verifyAttributes(t$1),this.attributes.get(`actiontype`)!==`toggle`&&this.attributes.hasExplicit(`selection`)&&this.attributes.unset(`selection`)}setTeXclass(t$1){this.attributes.get(`actiontype`)===`tooltip`&&this.childNodes[1]&&this.childNodes[1].setTeXclass(null);let e$1=this.selected;return t$1=e$1.setTeXclass(t$1),this.updateTeXclass(e$1),t$1}nextToggleSelection(){let t$1=Math.max(1,parseInt(this.attributes.get(`selection`))+1);t$1>this.childNodes.length&&(t$1=1),this.attributes.set(`selection`,t$1)}setChildInheritedAttributes(t$1,e$1,s$1,i$1){var r$1,n$1;this.attributes.get(`actiontype`).toLowerCase()===`tooltip`?((r$1=this.childNodes[0])==null||r$1.setInheritedAttributes(t$1,e$1,s$1,i$1),(n$1=this.childNodes[1])==null||n$1.setInheritedAttributes(t$1,!1,1,!1)):super.setChildInheritedAttributes(t$1,e$1,s$1,i$1)}}rn.defaults=Object.assign(Object.assign({},Er.defaults),{actiontype:`toggle`,selection:1});class nn extends xr{get kind(){return`msubsup`}get arity(){return 3}get base(){return 0}get sub(){return 1}get sup(){return 2}setChildInheritedAttributes(t$1,e$1,s$1,i$1){let r$1=this.childNodes;r$1[0].setInheritedAttributes(t$1,e$1,s$1,i$1),r$1[1].setInheritedAttributes(t$1,!1,s$1+1,i$1||this.sub===1),r$1[2]&&r$1[2].setInheritedAttributes(t$1,!1,s$1+1,i$1||this.sub===2)}}nn.defaults=Object.assign(Object.assign({},xr.defaults),{subscriptshift:``,superscriptshift:``});class on extends nn{get kind(){return`msub`}get arity(){return 2}}on.defaults=Object.assign({},nn.defaults);class an extends nn{get kind(){return`msup`}get arity(){return 2}get sup(){return 1}get sub(){return 2}}an.defaults=Object.assign({},nn.defaults);class cn extends xr{get kind(){return`munderover`}get arity(){return 3}get base(){return 0}get under(){return 1}get over(){return 2}get linebreakContainer(){return!0}setChildInheritedAttributes(t$1,e$1,s$1,i$1){let r$1=this.childNodes;r$1[0].setInheritedAttributes(t$1,e$1,s$1,i$1||!!r$1[this.over]);let n$1=!(e$1||!r$1[0].coreMO().attributes.get(`movablelimits`)),o$1=this.constructor.ACCENTS;r$1[1].setInheritedAttributes(t$1,!1,this.getScriptlevel(o$1[1],n$1,s$1),i$1||this.under===1),this.setInheritedAccent(1,o$1[1],e$1,s$1,i$1,n$1),r$1[2]&&(r$1[2].setInheritedAttributes(t$1,!1,this.getScriptlevel(o$1[2],n$1,s$1),i$1||this.under===2),this.setInheritedAccent(2,o$1[2],e$1,s$1,i$1,n$1))}getScriptlevel(t$1,e$1,s$1){return!e$1&&this.attributes.get(t$1)||s$1++,s$1}setInheritedAccent(t$1,e$1,s$1,i$1,r$1,n$1){let o$1=this.childNodes[t$1];if(!this.attributes.hasExplicit(e$1)&&o$1.isEmbellished){let t$2=o$1.coreMO().attributes.get(`accent`);this.attributes.setInherited(e$1,t$2),t$2!==this.attributes.getDefault(e$1)&&o$1.setInheritedAttributes({},s$1,this.getScriptlevel(e$1,n$1,i$1),r$1)}}}cn.defaults=Object.assign(Object.assign({},xr.defaults),{accent:!1,accentunder:!1,align:`center`}),cn.ACCENTS=[``,`accentunder`,`accent`];class ln extends cn{get kind(){return`munder`}get arity(){return 2}}ln.defaults=Object.assign({},cn.defaults);class hn extends cn{get kind(){return`mover`}get arity(){return 2}get over(){return 1}get under(){return 2}}hn.defaults=Object.assign({},cn.defaults),hn.ACCENTS=[``,`accent`,`accentunder`];class dn extends nn{get kind(){return`mmultiscripts`}get arity(){return 1}setChildInheritedAttributes(t$1,e$1,s$1,i$1){this.childNodes[0].setInheritedAttributes(t$1,e$1,s$1,i$1);let r$1=!1;for(let e$2=1,n$1=0;e$2<this.childNodes.length;e$2++){let o$1=this.childNodes[e$2];if(o$1.isKind(`mprescripts`)){if(!r$1&&(r$1=!0,e$2%2==0)){let t$2=this.factory.create(`none`);this.childNodes.splice(e$2,0,t$2),t$2.parent=this,e$2++}}else{let e$3=i$1||n$1%2==0;o$1.setInheritedAttributes(t$1,!1,s$1+1,e$3),n$1++}}this.childNodes.length%2==(r$1?1:0)&&(this.appendChild(this.factory.create(`none`)),this.childNodes[this.childNodes.length-1].setInheritedAttributes(t$1,!1,s$1+1,i$1))}verifyChildren(t$1){let e$1=!1,s$1=t$1.fixMmultiscripts;for(let i$1=0;i$1<this.childNodes.length;i$1++){let r$1=this.childNodes[i$1];r$1.isKind(`mprescripts`)&&(e$1?r$1.mError(r$1.kind+` can only appear once in `+this.kind,t$1,!0):(e$1=!0,i$1%2!=0||s$1||this.mError(`There must be an equal number of prescripts of each type`,t$1)))}this.childNodes.length%2!=(e$1?1:0)||s$1||this.mError(`There must be an equal number of scripts of each type`,t$1),super.verifyChildren(t$1)}}dn.defaults=Object.assign({},nn.defaults);class un extends Er{get kind(){return`mprescripts`}get arity(){return 0}verifyTree(t$1){super.verifyTree(t$1),this.parent&&!this.parent.isKind(`mmultiscripts`)&&this.mError(this.kind+` must be a child of mmultiscripts`,t$1,!0)}}un.defaults=Object.assign({},Er.defaults);class pn extends Er{get kind(){return`none`}get arity(){return 0}verifyTree(t$1){super.verifyTree(t$1),this.parent&&!this.parent.isKind(`mmultiscripts`)&&this.mError(this.kind+` must be a child of mmultiscripts`,t$1,!0)}}pn.defaults=Object.assign({},Er.defaults);class mn extends Er{constructor(){super(...arguments),this.properties={useHeight:!0},this.texclass=ur.ORD}get kind(){return`mtable`}get linebreakContainer(){return!0}get linebreakAlign(){return``}setInheritedAttributes(t$1,e$1,s$1,i$1){for(let e$2 of br)t$1[e$2]&&this.attributes.setInherited(e$2,t$1[e$2][1]),this.attributes.hasExplicit(e$2)&&this.attributes.unset(e$2);super.setInheritedAttributes(t$1,e$1,s$1,i$1)}setChildInheritedAttributes(t$1,e$1,s$1,i$1){for(let t$2 of this.childNodes)t$2.isKind(`mtr`)||this.replaceChild(this.factory.create(`mtr`),t$2).appendChild(t$2);e$1=!(!this.attributes.getExplicit(`displaystyle`)&&!this.attributes.getDefault(`displaystyle`)),t$1=this.addInheritedAttributes(t$1,{columnalign:this.attributes.get(`columnalign`),rowalign:`center`,"data-break-align":this.attributes.get(`data-break-align`)});let r$1=this.attributes.getExplicit(`data-cramped`),n$1=jr(this.attributes.get(`rowalign`));for(let i$2 of this.childNodes)t$1.rowalign[1]=n$1.shift()||t$1.rowalign[1],i$2.setInheritedAttributes(t$1,e$1,s$1,!!r$1)}verifyChildren(t$1){let e$1=null,s$1=this.factory;for(let i$1=0;i$1<this.childNodes.length;i$1++){let r$1=this.childNodes[i$1];if(r$1.isKind(`mtr`))e$1=null;else{let n$1=r$1.isKind(`mtd`);if(e$1?(this.removeChild(r$1),i$1--):e$1=this.replaceChild(s$1.create(`mtr`),r$1),e$1.appendChild(n$1?r$1:s$1.create(`mtd`,{},[r$1])),!t$1.fixMtables){r$1.parent.removeChild(r$1),r$1.parent=this,n$1&&e$1.appendChild(s$1.create(`mtd`));let i$2=r$1.mError(`Children of `+this.kind+` must be mtr or mlabeledtr`,t$1,n$1);e$1.childNodes[e$1.childNodes.length-1].appendChild(i$2)}}}super.verifyChildren(t$1)}setTeXclass(t$1){this.getPrevClass(t$1);for(let t$2 of this.childNodes)t$2.setTeXclass(null);return this}}mn.defaults=Object.assign(Object.assign({},Er.defaults),{align:`axis`,rowalign:`baseline`,columnalign:`center`,groupalign:`{left}`,alignmentscope:!0,columnwidth:`auto`,width:`auto`,rowspacing:`1ex`,columnspacing:`.8em`,rowlines:`none`,columnlines:`none`,frame:`none`,framespacing:`0.4em 0.5ex`,equalrows:!1,equalcolumns:!1,displaystyle:!1,side:`right`,minlabelspacing:`0.8em`,"data-break-align":`top`});class fn extends Er{get kind(){return`mtr`}get linebreakContainer(){return!0}get linebreakAlign(){return``}setChildInheritedAttributes(t$1,e$1,s$1,i$1){for(let t$2 of this.childNodes)t$2.isKind(`mtd`)||this.replaceChild(this.factory.create(`mtd`),t$2).appendChild(t$2);let r$1=jr(this.attributes.get(`columnalign`)),n$1=jr(this.attributes.get(`data-break-align`));this.arity===1&&(r$1.unshift(this.parent.attributes.get(`side`)),n$1.unshift(`top`)),t$1=this.addInheritedAttributes(t$1,{rowalign:this.attributes.get(`rowalign`),columnalign:`center`,"data-break-align":`top`});for(let o$1 of this.childNodes)t$1.columnalign[1]=r$1.shift()||t$1.columnalign[1],t$1[`data-vertical-align`]=[this.kind,n$1.shift()||t$1[`data-break-align`][1]],o$1.setInheritedAttributes(t$1,e$1,s$1,i$1)}verifyChildren(t$1){if(!this.parent||this.parent.isKind(`mtable`)){for(let e$1 of this.childNodes)e$1.isKind(`mtd`)||(this.replaceChild(this.factory.create(`mtd`),e$1).appendChild(e$1),t$1.fixMtables||e$1.mError(`Children of `+this.kind+` must be mtd`,t$1));super.verifyChildren(t$1)}else this.mError(this.kind+` can only be a child of an mtable`,t$1,!0)}setTeXclass(t$1){this.getPrevClass(t$1);for(let t$2 of this.childNodes)t$2.setTeXclass(null);return this}}fn.defaults=Object.assign(Object.assign({},Er.defaults),{rowalign:cr,columnalign:cr,groupalign:cr,"data-break-align":`top`});class gn extends fn{get kind(){return`mlabeledtr`}get arity(){return 1}}class bn extends xr{get kind(){return`mtd`}get arity(){return-1}get linebreakContainer(){return!0}get linebreakAlign(){return`columnalign`}verifyChildren(t$1){!this.parent||this.parent.isKind(`mtr`)?super.verifyChildren(t$1):this.mError(this.kind+` can only be a child of an mtr or mlabeledtr`,t$1,!0)}setTeXclass(t$1){return this.getPrevClass(t$1),this.childNodes[0].setTeXclass(null),this}}bn.defaults=Object.assign(Object.assign({},xr.defaults),{rowspan:1,columnspan:1,rowalign:cr,columnalign:cr,groupalign:cr,"data-vertical-align":`top`});class En extends yr{get kind(){return`maligngroup`}get isSpacelike(){return!0}setChildInheritedAttributes(t$1,e$1,s$1,i$1){t$1=this.addInheritedAttributes(t$1,this.attributes.getAllAttributes()),super.setChildInheritedAttributes(t$1,e$1,s$1,i$1)}}En.defaults=Object.assign(Object.assign({},yr.defaults),{groupalign:cr});class Nn extends Er{get kind(){return`malignmark`}get arity(){return 0}get isSpacelike(){return!0}}Nn.defaults=Object.assign(Object.assign({},Er.defaults),{edge:`left`});class yn extends Nr{constructor(){super(...arguments),this.texclass=ur.ORD}get kind(){return`mglyph`}verifyAttributes(t$1){let{src:e$1,fontfamily:s$1,index:i$1}=this.attributes.getList(`src`,`fontfamily`,`index`);e$1!==``||s$1!==``&&i$1!==``?super.verifyAttributes(t$1):this.mError(`mglyph must have either src or fontfamily and index attributes`,t$1,!0)}}yn.defaults=Object.assign(Object.assign({},Nr.defaults),{alt:``,src:``,index:``,width:`auto`,height:`auto`,valign:`0em`});class xn extends xr{get kind(){return`semantics`}get arity(){return 1}get notParent(){return!0}}xn.defaults=Object.assign(Object.assign({},xr.defaults),{definitionUrl:null,encoding:null});class vn extends Er{get kind(){return`annotation-xml`}setChildInheritedAttributes(){}}vn.defaults=Object.assign(Object.assign({},Er.defaults),{definitionUrl:null,encoding:null,cd:`mathmlkeys`,name:``,src:null});class Cn extends vn{constructor(){super(...arguments),this.properties={isChars:!0}}get kind(){return`annotation`}}Cn.defaults=Object.assign({},vn.defaults);class Tn extends xr{get kind(){return`TeXAtom`}get arity(){return-1}get notParent(){return!0}constructor(t$1,e$1,s$1){super(t$1,e$1,s$1),this.texclass=ur.ORD,this.setProperty(`texClass`,this.texClass)}setTeXclass(t$1){return this.childNodes[0].setTeXclass(null),this.adjustTeXclass(t$1)}adjustTeXclass(t$1){return t$1}}Tn.defaults=Object.assign({},xr.defaults),Tn.prototype.adjustTeXclass=Hr.prototype.adjustTeXclass;class wn extends xr{get kind(){return`MathChoice`}get arity(){return 4}get notParent(){return!0}setInheritedAttributes(t$1,e$1,s$1,i$1){let r$1=e$1?0:Math.max(0,Math.min(s$1,2))+1,n$1=this.childNodes[r$1]||this.factory.create(`mrow`);this.parent.replaceChild(n$1,this),n$1.setInheritedAttributes(t$1,e$1,s$1,i$1)}}wn.defaults=Object.assign({},xr.defaults);class _n extends Tr{get kind(){return`html`}getHTML(){return this.getXML()}setHTML(t$1,e$1=null){try{e$1.getAttribute(t$1,`data-mjx-hdw`)}catch{t$1=e$1.node(`span`,{},[t$1])}return this.setXML(t$1,e$1)}getSerializedHTML(){return this.adaptor.outerHTML(this.xml)}textContent(){return this.adaptor.textContent(this.xml)}toString(){let t$1=this.adaptor.kind(this.xml);return`HTML=<${t$1}>...</${t$1}>`}verifyTree(t$1){!this.parent||this.parent.isToken||this.mError(`HTML can only be a child of a token element`,t$1,!0)}}let kn={[wr.prototype.kind]:wr,[_r.prototype.kind]:_r,[kr.prototype.kind]:kr,[Hr.prototype.kind]:Hr,[Wr.prototype.kind]:Wr,[zr.prototype.kind]:zr,[Xr.prototype.kind]:Xr,[Vr.prototype.kind]:Vr,[Gr.prototype.kind]:Gr,[Jr.prototype.kind]:Jr,[Kr.prototype.kind]:Kr,[$r.prototype.kind]:$r,[Yr.prototype.kind]:Yr,[Qr.prototype.kind]:Qr,[Zr.prototype.kind]:Zr,[tn.prototype.kind]:tn,[en.prototype.kind]:en,[sn.prototype.kind]:sn,[rn.prototype.kind]:rn,[on.prototype.kind]:on,[an.prototype.kind]:an,[nn.prototype.kind]:nn,[ln.prototype.kind]:ln,[hn.prototype.kind]:hn,[cn.prototype.kind]:cn,[dn.prototype.kind]:dn,[un.prototype.kind]:un,[pn.prototype.kind]:pn,[mn.prototype.kind]:mn,[gn.prototype.kind]:gn,[fn.prototype.kind]:fn,[bn.prototype.kind]:bn,[En.prototype.kind]:En,[Nn.prototype.kind]:Nn,[yn.prototype.kind]:yn,[xn.prototype.kind]:xn,[Cn.prototype.kind]:Cn,[vn.prototype.kind]:vn,[Tn.prototype.kind]:Tn,[wn.prototype.kind]:wn,[Cr.prototype.kind]:Cr,[Tr.prototype.kind]:Tr,[_n.prototype.kind]:_n};class An extends ar{get MML(){return this.node}}An.defaultNodes=kn;class Ln{constructor(){this.bits=0}static allocate(...t$1){for(let e$1 of t$1){if(this.has(e$1))throw Error(`Bit already allocated for `+e$1);if(this.next===Ln.MAXBIT)throw Error(`Maximum number of bits already allocated`);this.names.set(e$1,this.next),this.next<<=1}}static has(t$1){return this.names.has(t$1)}set(t$1){this.bits|=this.getBit(t$1)}clear(t$1){this.bits&=~this.getBit(t$1)}isSet(t$1){return!!(this.bits&this.getBit(t$1))}reset(){this.bits=0}getBit(t$1){let e$1=this.constructor.names.get(t$1);if(!e$1)throw Error(`Unknown bit-field name: `+t$1);return e$1}}function Mn(...t$1){let e$1=class extends Ln{};return e$1.allocate(...t$1),e$1}function In(t$1){return new Promise((function e$1(s$1,i$1){let r$1=t$2=>{var r$2;t$2.retry instanceof Promise?t$2.retry.then((()=>e$1(s$1,i$1))).catch((t$3=>i$1(t$3))):t$2.restart?.isCallback?MathJax.Callback.After((()=>e$1(s$1,i$1)),t$2.restart):i$1(t$2)};try{let e$2=t$1();e$2 instanceof Promise?e$2.then((t$2=>s$1(t$2))).catch((t$2=>r$1(t$2))):s$1(e$2)}catch(t$2){r$1(t$2)}}))}function Sn(t$1){let e$1=Error(`MathJax retry -- an asynchronous action is required; try using one of the promise-based functions and await its resolution.`);throw e$1.retry=t$1,e$1}Ln.MAXBIT=1<<31,Ln.next=1,Ln.names=new Map;var Rn=function(t$1,e$1,s$1,i$1){return new(s$1||=Promise)((function(r$1,n$1){function o$1(t$2){try{c$1(i$1.next(t$2))}catch(t$3){n$1(t$3)}}function a$1(t$2){try{c$1(i$1.throw(t$2))}catch(t$3){n$1(t$3)}}function c$1(t$2){var e$2;t$2.done?r$1(t$2.value):(e$2=t$2.value,e$2 instanceof s$1?e$2:new s$1((function(t$3){t$3(e$2)}))).then(o$1,a$1)}c$1((i$1=i$1.apply(t$1,e$1||[])).next())}))};class On extends pi{static create(t$1){let e$1=new this;for(let s$1 of Object.keys(t$1)){let[i$1,r$1]=this.action(s$1,t$1[s$1]);r$1&&e$1.add(i$1,r$1)}return e$1}static action(t$1,e$1){let s$1,i$1,r$1=!0,n$1=e$1[0];if(e$1.length===1||typeof e$1[1]==`boolean`)e$1.length===2&&(r$1=e$1[1]),[s$1,i$1]=this.methodActions(t$1);else if(typeof e$1[1]==`string`)if(typeof e$1[2]==`string`){e$1.length===4&&(r$1=e$1[3]);let[t$2,n$2]=e$1.slice(1);[s$1,i$1]=this.methodActions(t$2,n$2)}else e$1.length===3&&(r$1=e$1[2]),[s$1,i$1]=this.methodActions(e$1[1]);else e$1.length===4&&(r$1=e$1[3]),[s$1,i$1]=e$1.slice(1);return[{id:t$1,renderDoc:s$1,renderMath:i$1,convert:r$1},n$1]}static methodActions(t$1,e$1=t$1){return[e$2=>(t$1&&e$2[t$1](),!1),(t$2,s$1)=>(e$1&&t$2[e$1](s$1),!1)]}renderDoc(t$1,e$1=rr.UNPROCESSED){for(let s$1 of this.items)if(s$1.priority>=e$1&&s$1.item.renderDoc(t$1))return}renderMath(t$1,e$1,s$1=rr.UNPROCESSED){for(let i$1 of this.items)if(i$1.priority>=s$1&&i$1.item.renderMath(t$1,e$1))return}renderConvert(t$1,e$1,s$1=rr.LAST){for(let i$1 of this.items)if(i$1.priority>s$1||i$1.item.convert&&i$1.item.renderMath(t$1,e$1))return}findID(t$1){for(let e$1 of this.items)if(e$1.item.id===t$1)return e$1.item;return null}}let Dn={all:!1,processed:!1,inputJax:null,outputJax:null},Pn={all:!0,processed:!0,inputJax:[],outputJax:[]};class Bn extends $i{compile(t$1){return null}}class Fn extends Yi{typeset(t$1,e$1=null){return null}escaped(t$1,e$1){return null}}class jn extends er{}class Un{constructor(t$1,e$1,s$1){let i$1=this.constructor;this.document=t$1,this.options=Oi(Ri({},i$1.OPTIONS),s$1),this.math=new(this.options.MathList||jn),this.renderActions=On.create(this.options.renderActions),this._actionPromises=[],this._readyPromise=Promise.resolve(),this.processed=new Un.ProcessBits,this.outputJax=this.options.OutputJax||new Fn;let r$1=this.options.InputJax||[new Bn];Array.isArray(r$1)||(r$1=[r$1]),this.inputJax=r$1,this.adaptor=e$1,this.outputJax.setAdaptor(e$1),this.inputJax.map((t$2=>t$2.setAdaptor(e$1))),this.mmlFactory=this.options.MmlFactory||new An,this.inputJax.map((t$2=>t$2.setMmlFactory(this.mmlFactory))),this.outputJax.initialize(),this.inputJax.map((t$2=>t$2.initialize()))}get kind(){return this.constructor.KIND}addRenderAction(t$1,...e$1){let[s$1,i$1]=On.action(t$1,e$1);this.renderActions.add(s$1,i$1)}removeRenderAction(t$1){let e$1=this.renderActions.findID(t$1);e$1&&this.renderActions.remove(e$1)}render(){return this.clearPromises(),this.renderActions.renderDoc(this),this}renderPromise(){return this.whenReady((()=>In((()=>Rn(this,void 0,void 0,(function*(){return this.render(),yield this.actionPromises(),this.clearPromises(),this}))))))}rerender(t$1=rr.RERENDER){return this.state(t$1-1),this.render(),this}rerenderPromise(t$1=rr.RERENDER){return this.whenReady((()=>In((()=>Rn(this,void 0,void 0,(function*(){return this.rerender(t$1),yield this.actionPromises(),this.clearPromises(),this}))))))}convert(t$1,e$1={}){let{format:s$1,display:i$1,end:r$1,ex:n$1,em:o$1,containerWidth:a$1,scale:c$1,family:l$1}=Oi({format:this.inputJax[0].name,display:!0,end:rr.LAST,em:16,ex:8,containerWidth:null,scale:1,family:``},e$1);a$1===null&&(a$1=80*n$1);let h$1=this.inputJax.reduce(((t$2,e$2)=>e$2.name===s$1?e$2:t$2),null),d$1=new this.options.MathItem(t$1,h$1,i$1);return d$1.start.node=this.adaptor.body(this.document),d$1.setMetrics(o$1,n$1,a$1,c$1),l$1&&this.outputJax.options.mtextInheritFont&&(d$1.outputData.mtextFamily=l$1),l$1&&this.outputJax.options.merrorInheritFont&&(d$1.outputData.merrorFamily=l$1),this.clearPromises(),d$1.convert(this,r$1),d$1.typesetRoot||d$1.root}convertPromise(t$1,e$1={}){return this.whenReady((()=>In((()=>Rn(this,void 0,void 0,(function*(){let s$1=this.convert(t$1,e$1);return yield this.actionPromises(),this.clearPromises(),s$1}))))))}whenReady(t$1){return this._readyPromise=this._readyPromise.catch((t$2=>{})).then((()=>{let e$1=this._readyPromise;this._readyPromise=Promise.resolve();let s$1=t$1(),i$1=this._readyPromise.then((()=>s$1));return this._readyPromise=e$1,i$1}))}actionPromises(){return Promise.all(this._actionPromises)}clearPromises(){this._actionPromises=[]}savePromise(t$1){this._actionPromises.push(t$1)}findMath(t$1=null){return this.processed.set(`findMath`),this}compile(){if(!this.processed.isSet(`compile`)){let t$1=[];for(let e$1 of this.math)this.compileMath(e$1),e$1.inputData.recompile!==void 0&&t$1.push(e$1);for(let e$1 of t$1){let t$2=e$1.inputData.recompile;e$1.state(t$2.state),e$1.inputData.recompile=t$2,this.compileMath(e$1)}this.processed.set(`compile`)}return this}compileMath(t$1){try{t$1.compile(this)}catch(e$1){if(e$1.retry||e$1.restart)throw e$1;this.options.compileError(this,t$1,e$1),t$1.inputData.error=e$1}}compileError(t$1,e$1){t$1.root=this.mmlFactory.create(`math`,null,[this.mmlFactory.create(`merror`,{"data-mjx-error":e$1.message,title:e$1.message},[this.mmlFactory.create(`mtext`,null,[this.mmlFactory.create(`text`).setText(`Math input error`)])])]),t$1.display&&t$1.root.attributes.set(`display`,`block`),t$1.inputData.error=e$1.message}typeset(){if(!this.processed.isSet(`typeset`)){for(let t$1 of this.math)try{t$1.typeset(this)}catch(e$1){if(e$1.retry||e$1.restart)throw e$1;this.options.typesetError(this,t$1,e$1),t$1.outputData.error=e$1}this.processed.set(`typeset`)}return this}typesetError(t$1,e$1){t$1.typesetRoot=this.adaptor.node(`mjx-container`,{class:`MathJax mjx-output-error`,jax:this.outputJax.name},[this.adaptor.node(`span`,{"data-mjx-error":e$1.message,title:e$1.message,style:{color:`red`,"background-color":`yellow`,"line-height":`normal`}},[this.adaptor.text(`Math output error`)])]),t$1.display&&this.adaptor.setAttributes(t$1.typesetRoot,{style:{display:`block`,margin:`1em 0`,"text-align":`center`}}),t$1.outputData.error=e$1.message}getMetrics(){return this.processed.isSet(`getMetrics`)||(this.outputJax.getMetrics(this),this.processed.set(`getMetrics`)),this}updateDocument(){if(!this.processed.isSet(`updateDocument`)){for(let t$1 of this.math.reversed())t$1.updateDocument(this);this.processed.set(`updateDocument`)}return this}removeFromDocument(t$1=!1){return this}state(t$1,e$1=!1){for(let s$1 of this.math)s$1.state(t$1,e$1);return t$1<rr.INSERTED&&this.processed.clear(`updateDocument`),t$1<rr.TYPESET&&(this.processed.clear(`typeset`),this.processed.clear(`getMetrics`)),t$1<rr.COMPILED&&this.processed.clear(`compile`),t$1<rr.FINDMATH&&this.processed.clear(`findMath`),this}reset(t$1={processed:!0}){return(t$1=Oi(Object.assign({},Dn),t$1)).all&&Object.assign(t$1,Pn),t$1.processed&&this.processed.reset(),t$1.inputJax&&this.inputJax.forEach((e$1=>e$1.reset(...t$1.inputJax))),t$1.outputJax&&this.outputJax.reset(...t$1.outputJax),this}clear(){return this.reset(),this.math.clear(),this}done(){return Promise.resolve()}concat(t$1){return this.math.merge(t$1),this}clearMathItemsWithin(t$1){let e$1=this.getMathItemsWithin(t$1);for(let t$2 of e$1.slice(0).reverse())t$2.clear();return this.math.remove(...e$1),e$1}getMathItemsWithin(t$1){Array.isArray(t$1)||(t$1=[t$1]);let e$1=this.adaptor,s$1=[],i$1=e$1.getElements(t$1,this.document);t:for(let t$2 of this.math)for(let r$1 of i$1)if(t$2.start.node&&e$1.contains(r$1,t$2.start.node)){s$1.push(t$2);continue t}return s$1}}Un.KIND=`MathDocument`,Un.OPTIONS={OutputJax:null,InputJax:null,MmlFactory:null,MathList:jn,MathItem:class extends ir{},compileError:(t$1,e$1,s$1)=>{t$1.compileError(e$1,s$1)},typesetError:(t$1,e$1,s$1)=>{t$1.typesetError(e$1,s$1)},renderActions:Ai({find:[rr.FINDMATH,`findMath`,``,!1],compile:[rr.COMPILED],metrics:[rr.METRICS,`getMetrics`,``,!1],typeset:[rr.TYPESET],update:[rr.INSERTED,`updateDocument`,!1]})},Un.ProcessBits=Mn(`findMath`,`compile`,`getMetrics`,`typeset`,`updateDocument`);class qn extends Un{}class Hn{constructor(t$1,e$1=5){this.documentClass=qn,this.adaptor=t$1,this.priority=e$1}get name(){return this.constructor.NAME}handlesDocument(t$1){return!1}create(t$1,e$1){return new this.documentClass(t$1,this.adaptor,e$1)}}Hn.NAME=`generic`;class Wn extends pi{register(t$1){return this.add(t$1,t$1.priority)}unregister(t$1){this.remove(t$1)}handlesDocument(t$1){for(let e$1 of this){let s$1=e$1.item;if(s$1.handlesDocument(t$1))return s$1}throw Error(`Can't find handler for document`)}document(t$1,e$1=null){return this.handlesDocument(t$1).create(t$1,e$1)}}class zn{static methodName(t$1){return`visit`+(t$1.charAt(0).toUpperCase()+t$1.substring(1)).replace(/[^a-z0-9_]/gi,`_`)+`Node`}constructor(t$1){this.nodeHandlers=new Map;for(let e$1 of t$1.getKinds()){let t$2=this[zn.methodName(e$1)];t$2&&this.nodeHandlers.set(e$1,t$2)}}visitTree(t$1,...e$1){return this.visitNode(t$1,...e$1)}visitNode(t$1,...e$1){return(this.nodeHandlers.get(t$1.kind)||this.visitDefault).call(this,t$1,...e$1)}visitDefault(t$1,...e$1){if(`childNodes`in t$1)for(let s$1 of t$1.childNodes)this.visitNode(s$1,...e$1)}setNodeHandler(t$1,e$1){this.nodeHandlers.set(t$1,e$1)}removeNodeHandler(t$1){this.nodeHandlers.delete(t$1)}}let Xn=`data-mjx-`;class Vn extends zn{constructor(t$1=null){t$1||=new An,super(t$1)}visitTextNode(t$1,...e$1){}visitXMLNode(t$1,...e$1){}visitHtmlNode(t$1,...e$1){}getKind(t$1){let e$1=t$1.kind;return Fi(e$1,this.constructor.rename,e$1)}getAttributeList(t$1){let e$1=this.constructor,s$1=Fi(t$1.kind,e$1.defaultAttributes,{}),i$1=Object.assign({},s$1,this.getDataAttributes(t$1),t$1.attributes.getAllAttributes()),r$1=e$1.variants;return Object.hasOwn(i$1,`mathvariant`)&&(Object.hasOwn(r$1,i$1.mathvariant)?i$1.mathvariant=r$1[i$1.mathvariant]:t$1.getProperty(`ignore-variant`)&&delete i$1.mathvariant),i$1}getDataAttributes(t$1){let e$1={},s$1=t$1.attributes.getExplicit(`mathvariant`),i$1=this.constructor.variants;s$1&&(t$1.getProperty(`ignore-variant`)||Object.hasOwn(i$1,s$1))&&this.setDataAttribute(e$1,`variant`,s$1),t$1.getProperty(`variantForm`)&&this.setDataAttribute(e$1,`alternate`,`1`),t$1.getProperty(`pseudoscript`)&&this.setDataAttribute(e$1,`pseudoscript`,`true`),!1===t$1.getProperty(`autoOP`)&&this.setDataAttribute(e$1,`auto-op`,`false`);let r$1=t$1.getProperty(`vbox`);r$1&&this.setDataAttribute(e$1,`vbox`,r$1);let n$1=t$1.getProperty(`scriptalign`);n$1&&this.setDataAttribute(e$1,`script-align`,n$1);let o$1=t$1.getProperty(`mathaccent`);o$1!==void 0&&(o$1&&!t$1.isMathAccent()||!o$1&&!t$1.isMathAccentWithWidth())&&this.setDataAttribute(e$1,`mathaccent`,o$1.toString());let a$1=t$1.getProperty(`texClass`);if(a$1!==void 0){let s$2=!0;if(a$1===ur.OP&&t$1.isKind(`mi`)){let e$2=t$1.getText();s$2=!(e$2.length>1&&e$2.match(_r.operatorName))}s$2&&this.setDataAttribute(e$1,`texclass`,a$1<0?`NONE`:pr[a$1])}return t$1.getProperty(`smallmatrix`)&&this.setDataAttribute(e$1,`smallmatrix`,`true`),e$1}setDataAttribute(t$1,e$1,s$1){t$1[Xn+e$1]=s$1}}Vn.rename={TeXAtom:`mrow`},Vn.variants={"-tex-calligraphic":`script`,"-tex-bold-calligraphic":`bold-script`,"-tex-oldstyle":`normal`,"-tex-bold-oldstyle":`bold`,"-tex-mathit":`italic`},Vn.defaultAttributes={math:{xmlns:`http://www.w3.org/1998/Math/MathML`}};class Gn extends Vn{constructor(){super(...arguments),this.document=null}visitTree(t$1,e$1){this.document=e$1;let s$1=e$1.createElement(`top`);return this.visitNode(t$1,s$1),this.document=null,s$1.firstChild}visitTextNode(t$1,e$1){e$1.appendChild(this.document.createTextNode(t$1.getText()))}visitXMLNode(t$1,e$1){e$1.appendChild(t$1.getXML().cloneNode(!0))}visitHtmlNode(t$1,e$1){e$1.appendChild(t$1.getHTML().cloneNode(!0))}visitInferredMrowNode(t$1,e$1){for(let s$1 of t$1.childNodes)this.visitNode(s$1,e$1)}visitDefault(t$1,e$1){let s$1=this.document.createElement(this.getKind(t$1));this.addAttributes(t$1,s$1);for(let e$2 of t$1.childNodes)this.visitNode(e$2,s$1);e$1.appendChild(s$1)}addAttributes(t$1,e$1){let s$1=this.getAttributeList(t$1);for(let t$2 of Object.keys(s$1))e$1.setAttribute(t$2,s$1[t$2].toString())}}class Jn extends Vn{visitTree(t$1){return this.visitNode(t$1,``)}visitTextNode(t$1,e$1){return this.quoteHTML(t$1.getText())}visitXMLNode(t$1,e$1){return e$1+t$1.getSerializedXML()}visitHtmlNode(t$1,e$1){return t$1.getSerializedHTML()}visitInferredMrowNode(t$1,e$1){let s$1=[];for(let i$1 of t$1.childNodes)s$1.push(this.visitNode(i$1,e$1));return s$1.join(`
`)}visitAnnotationNode(t$1,e$1){let s$1=this.childNodeMml(t$1,``,``);return`${e$1}<annotation${this.getAttributes(t$1)}>${s$1}</annotation>`}visitDefault(t$1,e$1){let s$1=this.getKind(t$1),[i$1,r$1]=t$1.isToken||t$1.childNodes.length===0?[``,``]:[`
`,e$1],n$1=this.childNodeMml(t$1,e$1+`  `,i$1),o$1=n$1.match(/\S/)?i$1+n$1+r$1:``;return`${e$1}<${s$1}${this.getAttributes(t$1)}>${o$1}</${s$1}>`}childNodeMml(t$1,e$1,s$1){let i$1=``;for(let r$1 of t$1.childNodes)i$1+=this.visitNode(r$1,e$1)+s$1;return i$1}getAttributes(t$1){let e$1=[],s$1=this.getAttributeList(t$1);for(let t$2 of Object.keys(s$1)){let i$1=String(s$1[t$2]);i$1!==void 0&&e$1.push(t$2+`="`+this.quoteHTML(i$1)+`"`)}return e$1.length?` `+e$1.join(` `):``}quoteHTML(t$1){return t$1.replace(/&/g,`&amp;`).replace(/</g,`&lt;`).replace(/>/g,`&gt;`).replace(/"/g,`&quot;`).replace(/[\uD800-\uDBFF]./g,this.toEntity).replace(/[\u0080-\uD7FF\uE000-\uFFFF]/g,this.toEntity)}toEntity(t$1){return qr(t$1)}}class Kn{get kind(){return this.node.kind}constructor(t$1,e$1){this.factory=t$1,this.node=e$1}wrap(t$1){return this.factory.wrap(t$1)}walkTree(t$1,e$1){if(t$1(this,e$1),`childNodes`in this)for(let s$1 of this.childNodes)s$1&&s$1.walkTree(t$1,e$1);return e$1}}class $n extends or{wrap(t$1,...e$1){return this.create(t$1.kind,t$1,...e$1)}}let Yn={version:si,context:hi,handlers:new Wn,document:function(t$1,e$1){return Yn.handlers.document(t$1,e$1)},handleRetriesFor:In,retryAfter:Sn,asyncLoad:null,asyncIsSynchronous:!1};class Qn extends ir{get adaptor(){return this.inputJax.adaptor}constructor(t$1,e$1,s$1=!0,i$1={node:null,n:0,delim:``},r$1={node:null,n:0,delim:``}){super(t$1,e$1,s$1,i$1,r$1)}updateDocument(t$1){if(this.state()<rr.INSERTED){if(this.inputJax.processStrings){let t$2=this.start.node;if(t$2===this.end.node)this.end.n&&this.end.n<this.adaptor.value(this.end.node).length&&this.adaptor.split(this.end.node,this.end.n),this.start.n&&(t$2=this.adaptor.split(this.start.node,this.start.n)),this.adaptor.replace(this.typesetRoot,t$2);else{for(this.start.n&&(t$2=this.adaptor.split(t$2,this.start.n));t$2!==this.end.node;){let e$1=this.adaptor.next(t$2);this.adaptor.remove(t$2),t$2=e$1}this.adaptor.insert(this.typesetRoot,t$2),this.end.n<this.adaptor.value(t$2).length&&this.adaptor.split(t$2,this.end.n),this.adaptor.remove(t$2)}}else this.adaptor.replace(this.typesetRoot,this.start.node);this.start.node=this.end.node=this.typesetRoot,this.start.n=this.end.n=0,this.state(rr.INSERTED)}}updateStyleSheet(t$1){t$1.addStyleSheet()}removeFromDocument(t$1=!1){if(super.removeFromDocument(t$1),this.state()>=rr.TYPESET){let e$1=this.adaptor,s$1=this.start.node,i$1=e$1.text(``);if(t$1){let t$2=this.start.delim+this.math+this.end.delim;if(this.inputJax.processStrings)i$1=e$1.text(t$2);else{let s$2=e$1.parse(t$2,`text/html`);i$1=e$1.firstChild(e$1.body(s$2))}}e$1.parent(s$1)&&e$1.replace(i$1,s$1),this.start.node=this.end.node=i$1,this.start.n=this.end.n=0}}}class Zn extends er{}class to{constructor(t$1=null){let e$1=this.constructor;this.options=Oi(Ri({},e$1.OPTIONS),t$1),this.init(),this.getPatterns()}init(){this.strings=[],this.string=``,this.snodes=[],this.nodes=[],this.stack=[]}getPatterns(){let t$1=Li(this.options.skipHtmlTags),e$1=Li(this.options.ignoreHtmlClass),s$1=Li(this.options.processHtmlClass);this.skipHtmlTags=RegExp(`^(?:`+t$1.join(`|`)+`)$`,`i`),this.ignoreHtmlClass=RegExp(`(?:^| )(?:`+e$1.join(`|`)+`)(?: |$)`),this.processHtmlClass=RegExp(`(?:^| )(?:`+s$1+`)(?: |$)`)}pushString(){this.string.match(/\S/)&&(this.strings.push(this.string),this.nodes.push(this.snodes)),this.string=``,this.snodes=[]}extendString(t$1,e$1){this.snodes.push([t$1,e$1.length]),this.string+=e$1}handleText(t$1,e$1){return e$1||this.extendString(t$1,this.adaptor.value(t$1)),this.adaptor.next(t$1)}handleTag(t$1,e$1){if(!e$1){let e$2=this.options.includeHtmlTags[this.adaptor.kind(t$1)];e$2 instanceof Function?this.extendString(t$1,e$2(t$1,this.adaptor)):this.extendString(t$1,e$2)}return this.adaptor.next(t$1)}handleContainer(t$1,e$1){this.pushString();let s$1=this.adaptor.getAttribute(t$1,`class`)||``,i$1=this.adaptor.kind(t$1)||``,r$1=this.processHtmlClass.exec(s$1),n$1=t$1;return!this.adaptor.firstChild(t$1)||this.adaptor.getAttribute(t$1,`data-MJX`)||!r$1&&this.skipHtmlTags.exec(i$1)?n$1=this.adaptor.next(t$1):(this.adaptor.next(t$1)&&this.stack.push([this.adaptor.next(t$1),e$1]),n$1=this.adaptor.firstChild(t$1),e$1=(e$1||this.ignoreHtmlClass.exec(s$1))&&!r$1),[n$1,e$1]}handleOther(t$1,e$1){return this.pushString(),this.adaptor.next(t$1)}find(t$1){this.init();let e$1=this.adaptor.next(t$1),s$1=!1,i$1=this.options.includeHtmlTags;for(;t$1&&t$1!==e$1;){let e$2=this.adaptor.kind(t$1);e$2===`#text`?t$1=this.handleText(t$1,s$1):Object.hasOwn(i$1,e$2)?t$1=this.handleTag(t$1,s$1):e$2?[t$1,s$1]=this.handleContainer(t$1,s$1):t$1=this.handleOther(t$1,s$1),!t$1&&this.stack.length&&(this.pushString(),[t$1,s$1]=this.stack.pop())}this.pushString();let r$1=[this.strings,this.nodes];return this.init(),r$1}}to.OPTIONS={skipHtmlTags:[`script`,`noscript`,`style`,`textarea`,`pre`,`code`,`math`,`select`,`option`,`mjx-container`],includeHtmlTags:Ai({br:`
`,wbr:``,"#comment":``}),ignoreHtmlClass:`mathjax_ignore`,processHtmlClass:`mathjax_process`},nr(`STYLES`,rr.INSERTED+1);class eo extends Un{constructor(t$1,e$1,s$1){let[i$1,r$1]=Bi(s$1,to.OPTIONS);super(t$1,e$1,i$1),this.domStrings=this.options.DomStrings||new to(r$1),this.domStrings.adaptor=e$1,this.styles=[]}findPosition(t$1,e$1,s$1,i$1){let r$1=this.adaptor,n$1=1/(i$1[t$1].length||1),o$1=t$1;for(let[a$1,c$1]of i$1[t$1]){if(e$1<=c$1&&r$1.kind(a$1)===`#text`)return{i:o$1,node:a$1,n:Math.max(e$1,0),delim:s$1};e$1-=c$1,o$1+=n$1}return{node:null,n:0,delim:s$1}}mathItem(t$1,e$1,s$1){let i$1=t$1.math,r$1=this.findPosition(t$1.n,t$1.start.n,t$1.open,s$1),n$1=this.findPosition(t$1.n,t$1.end.n,t$1.close,s$1);return new this.options.MathItem(i$1,e$1,t$1.display,r$1,n$1)}findMath(t$1){if(!this.processed.isSet(`findMath`)){this.adaptor.document=this.document,t$1=Oi({elements:this.options.elements||[this.adaptor.body(this.document)]},t$1);let e$1=this.adaptor.getElements(t$1.elements,this.document);for(let t$2 of this.inputJax){let s$1=t$2.processStrings?this.findMathFromStrings(t$2,e$1):this.findMathFromDOM(t$2,e$1);this.math.merge(s$1)}this.processed.set(`findMath`)}return this}findMathFromStrings(t$1,e$1){let s$1=[],i$1=[];for(let t$2 of e$1){let[e$2,r$2]=this.domStrings.find(t$2);s$1.push(...e$2),i$1.push(...r$2)}let r$1=new this.options.MathList;for(let e$2 of t$1.findMath(s$1))r$1.push(this.mathItem(e$2,t$1,i$1));return r$1}findMathFromDOM(t$1,e$1){let s$1=[];for(let i$1 of e$1)for(let e$2 of t$1.findMath(i$1))s$1.push(new this.options.MathItem(e$2.math,t$1,e$2.display,e$2.start,e$2.end));return new this.options.MathList(...s$1)}updateDocument(){return this.processed.isSet(`updateDocument`)||(this.addPageElements(),this.addStyleSheet(),super.updateDocument(),this.processed.set(`updateDocument`)),this}addPageElements(){let t$1=this.adaptor,e$1=t$1.body(this.document),s$1=this.documentPageElements();if(s$1){let i$1=t$1.firstChild(e$1);i$1?t$1.insert(s$1,i$1):t$1.append(e$1,s$1)}}addStyleSheet(){let t$1=this.documentStyleSheet(),e$1=this.adaptor;if(t$1&&!e$1.parent(t$1)){let s$1=e$1.head(this.document),i$1=this.findSheet(s$1,e$1.getAttribute(t$1,`id`));i$1?e$1.replace(t$1,i$1):e$1.append(s$1,t$1)}}findSheet(t$1,e$1){if(e$1){for(let s$1 of this.adaptor.tags(t$1,`style`))if(this.adaptor.getAttribute(s$1,`id`)===e$1)return s$1}return null}removeFromDocument(t$1=!1){if(this.processed.isSet(`updateDocument`))for(let e$1 of this.math)e$1.state()>=rr.INSERTED&&e$1.state(rr.TYPESET,t$1);return this.processed.clear(`updateDocument`),this}documentStyleSheet(){return this.outputJax.styleSheet(this)}documentPageElements(){return this.outputJax.pageElements(this)}addStyles(t$1){this.styles.push(t$1),`insertStyles`in this.outputJax&&this.outputJax.insertStyles(t$1)}getStyles(){return this.styles}}eo.KIND=`HTML`,eo.OPTIONS=Object.assign(Object.assign({},Un.OPTIONS),{renderActions:Ai(Object.assign(Object.assign({},Un.OPTIONS.renderActions),{styles:[rr.STYLES,``,`updateStyleSheet`,!1]})),MathList:Zn,MathItem:Qn,DomStrings:null});class so extends Hn{constructor(){super(...arguments),this.documentClass=eo}handlesDocument(t$1){let e$1=this.adaptor;if(typeof t$1==`string`)try{t$1=e$1.parse(t$1,`text/html`)}catch{}return t$1 instanceof e$1.window.Document||t$1 instanceof e$1.window.HTMLElement||t$1 instanceof e$1.window.DocumentFragment}create(t$1,e$1){let s$1=this.adaptor;if(typeof t$1==`string`)t$1=s$1.parse(t$1,`text/html`);else if(t$1 instanceof s$1.window.HTMLElement||t$1 instanceof s$1.window.DocumentFragment){let e$2=t$1;t$1=s$1.parse(``,`text/html`),s$1.append(s$1.body(t$1),e$2)}return super.create(t$1,e$1)}}function io(t$1){let e$1=new so(t$1);return Yn.handlers.register(e$1),e$1}function ro(t$1){return Yn.asyncLoad?new Promise(((e$1,s$1)=>{let i$1=Yn.asyncLoad(t$1);i$1 instanceof Promise?i$1.then((t$2=>e$1(t$2))).catch((t$2=>s$1(t$2))):e$1(i$1)})):Promise.reject(`Can't load '${t$1}': No mathjax.asyncLoad method specified`)}let no=1e6,oo={px:1,in:96,cm:96/2.54,mm:96/25.4},ao={em:1,ex:.431,pt:.1,pc:1.2,mu:1/18},co={veryverythinmathspace:1/18,verythinmathspace:2/18,thinmathspace:3/18,mediummathspace:4/18,thickmathspace:5/18,verythickmathspace:6/18,veryverythickmathspace:7/18,negativeveryverythinmathspace:-1/18,negativeverythinmathspace:-2/18,negativethinmathspace:-3/18,negativemediummathspace:-4/18,negativethickmathspace:-5/18,negativeverythickmathspace:-6/18,negativeveryverythickmathspace:-7/18,thin:.04,medium:.06,thick:.1,normal:1,big:2,small:1/Math.sqrt(2),infinity:no};function lo(t$1,e$1=0,s$1=1,i$1=16){if(typeof t$1!=`string`&&(t$1=String(t$1)),t$1===``||t$1==null)return e$1;if(co[t$1])return co[t$1];let r$1=t$1.match(/^\s*([-+]?(?:\.\d+|\d+(?:\.\d*)?))?(pt|em|ex|mu|px|pc|in|mm|cm|%)?/);if(!r$1||r$1[0]===``)return e$1;let n$1=parseFloat(r$1[1]||`1`),o$1=r$1[2];return Object.hasOwn(oo,o$1)?n$1*oo[o$1]/i$1/s$1:Object.hasOwn(ao,o$1)?n$1*ao[o$1]:o$1===`%`?n$1/100*e$1:n$1*e$1}function ho(t$1){return(100*t$1).toFixed(1).replace(/\.?0+$/,``)+`%`}function uo(t$1){return Math.abs(t$1)<.001?`0`:t$1.toFixed(3).replace(/\.?0+$/,``)+`em`}function po(t$1,e$1=-no,s$1=16){return t$1*=s$1,e$1&&t$1<e$1&&(t$1=e$1),Math.abs(t$1)<.1?`0`:t$1.toFixed(1).replace(/\.0$/,``)+`px`}class mo{static zero(){return new mo({h:0,d:0,w:0})}static empty(){return new mo}constructor(t$1={w:0,h:-no,d:-no}){this.w=t$1.w||0,this.h=`h`in t$1?t$1.h:-no,this.d=`d`in t$1?t$1.d:-no,this.L=this.R=this.ic=this.oc=this.sk=this.dx=0,this.scale=this.rscale=1,this.pwidth=``}empty(){return this.w=0,this.h=this.d=-no,this}clean(){this.w===-no&&(this.w=0),this.h===-no&&(this.h=0),this.d===-no&&(this.d=0)}rescale(t$1){this.w*=t$1,this.h*=t$1,this.d*=t$1}combine(t$1,e$1=0,s$1=0){let i$1=t$1.rscale,r$1=e$1+i$1*(t$1.w+t$1.L+t$1.R),n$1=s$1+i$1*t$1.h,o$1=i$1*t$1.d-s$1;r$1>this.w&&(this.w=r$1),n$1>this.h&&(this.h=n$1),o$1>this.d&&(this.d=o$1)}append(t$1){let e$1=t$1.rscale;this.w+=e$1*(t$1.w+t$1.L+t$1.R),e$1*t$1.h>this.h&&(this.h=e$1*t$1.h),e$1*t$1.d>this.d&&(this.d=e$1*t$1.d)}updateFrom(t$1){this.h=t$1.h,this.d=t$1.d,this.w=t$1.w,t$1.pwidth&&(this.pwidth=t$1.pwidth)}copy(){let t$1=new mo;return Object.assign(t$1,this),t$1}}mo.fullWidth=`100%`,mo.boxSides=[[`Top`,0,`h`],[`Right`,1,`w`],[`Bottom`,2,`d`],[`Left`,3,`w`]];let fo={loadMissingEntities:!0},go={ApplyFunction:``,Backslash:``,Because:``,Breve:``,Cap:``,CenterDot:``,CircleDot:``,CircleMinus:``,CirclePlus:``,CircleTimes:``,Congruent:``,ContourIntegral:``,Coproduct:``,Cross:``,Cup:``,CupCap:``,Dagger:``,Del:``,Delta:``,Diamond:``,DifferentialD:``,DotEqual:``,DoubleDot:``,DoubleRightTee:``,DoubleVerticalBar:``,DownArrow:``,DownLeftVector:``,DownRightVector:``,DownTee:``,Downarrow:``,Element:``,EqualTilde:``,Equilibrium:``,Exists:``,ExponentialE:``,FilledVerySmallSquare:``,ForAll:``,Gamma:``,Gg:``,GreaterEqual:``,GreaterEqualLess:``,GreaterFullEqual:``,GreaterLess:``,GreaterSlantEqual:``,GreaterTilde:``,Hacek:``,Hat:`^`,HumpDownHump:``,HumpEqual:``,Im:``,ImaginaryI:``,Integral:``,Intersection:``,InvisibleComma:``,InvisibleTimes:``,Lambda:``,Larr:``,LeftAngleBracket:``,LeftArrow:``,LeftArrowRightArrow:``,LeftCeiling:``,LeftDownVector:``,LeftFloor:``,LeftRightArrow:``,LeftTee:``,LeftTriangle:``,LeftTriangleEqual:``,LeftUpVector:``,LeftVector:``,Leftarrow:``,Leftrightarrow:``,LessEqualGreater:``,LessFullEqual:``,LessGreater:``,LessSlantEqual:``,LessTilde:``,Ll:``,Lleftarrow:``,LongLeftArrow:``,LongLeftRightArrow:``,LongRightArrow:``,Longleftarrow:``,Longleftrightarrow:``,Longrightarrow:``,Lsh:``,MinusPlus:``,NestedGreaterGreater:``,NestedLessLess:``,NotDoubleVerticalBar:``,NotElement:``,NotEqual:``,NotExists:``,NotGreater:``,NotGreaterEqual:``,NotLeftTriangle:``,NotLeftTriangleEqual:``,NotLess:``,NotLessEqual:``,NotPrecedes:``,NotPrecedesSlantEqual:``,NotRightTriangle:``,NotRightTriangleEqual:``,NotSubsetEqual:``,NotSucceeds:``,NotSucceedsSlantEqual:``,NotSupersetEqual:``,NotTilde:``,NotVerticalBar:``,Omega:``,OverBar:``,OverBrace:``,PartialD:``,Phi:``,Pi:``,PlusMinus:``,Precedes:``,PrecedesEqual:``,PrecedesSlantEqual:``,PrecedesTilde:``,Product:``,Proportional:``,Psi:``,Rarr:``,Re:``,ReverseEquilibrium:``,RightAngleBracket:``,RightArrow:``,RightArrowLeftArrow:``,RightCeiling:``,RightDownVector:``,RightFloor:``,RightTee:``,RightTeeArrow:``,RightTriangle:``,RightTriangleEqual:``,RightUpVector:``,RightVector:``,Rightarrow:``,Rrightarrow:``,Rsh:``,Sigma:``,SmallCircle:``,Sqrt:``,Square:``,SquareIntersection:``,SquareSubset:``,SquareSubsetEqual:``,SquareSuperset:``,SquareSupersetEqual:``,SquareUnion:``,Star:``,Subset:``,SubsetEqual:``,Succeeds:``,SucceedsEqual:``,SucceedsSlantEqual:``,SucceedsTilde:``,SuchThat:``,Sum:``,Superset:``,SupersetEqual:``,Supset:``,Therefore:``,Theta:``,Tilde:``,TildeEqual:``,TildeFullEqual:``,TildeTilde:``,UnderBar:`_`,UnderBrace:``,Union:``,UnionPlus:``,UpArrow:``,UpDownArrow:``,UpTee:``,Uparrow:``,Updownarrow:``,Upsilon:``,Vdash:``,Vee:``,VerticalBar:``,VerticalTilde:``,Vvdash:``,Wedge:``,Xi:``,amp:`&`,acute:``,aleph:``,alpha:``,amalg:``,and:``,ang:``,angmsd:``,angsph:``,ape:``,backprime:``,backsim:``,backsimeq:``,beta:``,beth:``,between:``,bigcirc:``,bigodot:``,bigoplus:``,bigotimes:``,bigsqcup:``,bigstar:``,bigtriangledown:``,bigtriangleup:``,biguplus:``,blacklozenge:``,blacktriangle:``,blacktriangledown:``,blacktriangleleft:``,bowtie:``,boxdl:``,boxdr:``,boxminus:``,boxplus:``,boxtimes:``,boxul:``,boxur:``,bsol:`\\`,bull:``,cap:``,check:``,chi:``,circ:``,circeq:``,circlearrowleft:``,circlearrowright:``,circledR:``,circledS:``,circledast:``,circledcirc:``,circleddash:``,clubs:``,colon:`:`,comp:``,ctdot:``,cuepr:``,cuesc:``,cularr:``,cup:``,curarr:``,curlyvee:``,curlywedge:``,dagger:``,daleth:``,ddarr:``,deg:``,delta:``,digamma:``,div:``,divideontimes:``,dot:``,doteqdot:``,dotplus:``,dotsquare:``,dtdot:``,ecir:``,efDot:``,egs:``,ell:``,els:``,empty:``,epsi:``,epsiv:``,erDot:``,eta:``,eth:``,flat:``,fork:``,frown:``,gEl:``,gamma:``,gap:``,gimel:``,gnE:``,gnap:``,gne:``,gnsim:``,gt:`>`,gtdot:``,harrw:``,hbar:``,hellip:``,hookleftarrow:``,hookrightarrow:``,imath:``,infin:``,intcal:``,iota:``,jmath:``,kappa:``,kappav:``,lEg:``,lambda:``,lap:``,larrlp:``,larrtl:``,lbrace:`{`,lbrack:`[`,le:``,leftleftarrows:``,leftthreetimes:``,lessdot:``,lmoust:``,lnE:``,lnap:``,lne:``,lnsim:``,longmapsto:``,looparrowright:``,lowast:``,loz:``,lt:`<`,ltimes:``,ltri:``,macr:``,malt:``,mho:``,mu:``,multimap:``,nLeftarrow:``,nLeftrightarrow:``,nRightarrow:``,nVDash:``,nVdash:``,natur:``,nearr:``,nharr:``,nlarr:``,not:``,nrarr:``,nu:``,nvDash:``,nvdash:``,nwarr:``,omega:``,omicron:``,or:``,osol:``,period:`.`,phi:``,phiv:``,pi:``,piv:``,prap:``,precnapprox:``,precneqq:``,precnsim:``,prime:``,psi:``,quot:`"`,rarrtl:``,rbrace:`}`,rbrack:`]`,rho:``,rhov:``,rightrightarrows:``,rightthreetimes:``,ring:``,rmoust:``,rtimes:``,rtri:``,scap:``,scnE:``,scnap:``,scnsim:``,sdot:``,searr:``,sect:``,sharp:``,sigma:``,sigmav:``,simne:``,smile:``,spades:``,sub:``,subE:``,subnE:``,subne:``,supE:``,supnE:``,supne:``,swarr:``,tau:``,theta:``,thetav:``,tilde:``,times:``,triangle:``,triangleq:``,upsi:``,upuparrows:``,veebar:``,vellip:``,weierp:``,xi:``,yen:``,zeta:``,zigrarr:``,nbsp:`\xA0`,rsquo:``,lsquo:``},bo={};function Eo(t$1,e$1){Object.assign(go,t$1),bo[e$1]=!0}function No(t$1){delete go[t$1]}function yo(t$1){return t$1.replace(/&([a-z][a-z0-9]*|#(?:[0-9]+|x[0-9a-f]+));/gi,xo)}function xo(t$1,e$1){if(e$1.charAt(0)===`#`)return vo(e$1.slice(1));if(go[e$1])return go[e$1];if(fo.loadMissingEntities){let t$2=e$1.match(/^[a-zA-Z](fr|scr|opf)$/)?RegExp.$1:e$1.charAt(0).toLowerCase();bo[t$2]||(bo[t$2]=!0,Sn(ro(`./util/entities/`+t$2+`.js`)))}return t$1}function vo(t$1){let e$1=t$1.charAt(0)===`x`?parseInt(t$1.slice(1),16):parseInt(t$1);return String.fromCodePoint(e$1)}class Co{get cssText(){return this.getStyleString()}constructor(t$1=null){this.styles={},this.addStyles(t$1)}addStyles(t$1){if(t$1)for(let e$1 of Object.keys(t$1))this.styles[e$1]||(this.styles[e$1]={}),Object.assign(this.styles[e$1],t$1[e$1])}removeStyles(...t$1){for(let e$1 of t$1)delete this.styles[e$1]}clear(){this.styles={}}getStyleString(){return this.getStyleRules().join(`

`)}getStyleRules(){let t$1=Object.keys(this.styles),e$1=Array(t$1.length),s$1=0;for(let i$1 of t$1)e$1[s$1++]=i$1+` {
`+this.getStyleDefString(this.styles[i$1])+`
}`;return e$1}getStyleDefString(t$1){let e$1=Object.keys(t$1),s$1=Array(e$1.length),i$1=0;for(let r$1 of e$1)s$1[i$1++]=`  `+r$1+`: `+t$1[r$1]+`;`;return s$1.join(`
`)}}let To=[`top`,`right`,`bottom`,`left`],wo=[`width`,`style`,`color`];function _o(t$1){let e$1=t$1.split(/((?:'[^']*'|"[^"]*"|,[\s\n]|[^\s\n])*)/g),s$1=[];for(;e$1.length>1;)e$1.shift(),s$1.push(e$1.shift());return s$1}function ko(t$1){let e$1=_o(this.styles[t$1]);e$1.length===0&&e$1.push(``),e$1.length===1&&e$1.push(e$1[0]),e$1.length===2&&e$1.push(e$1[0]),e$1.length===3&&e$1.push(e$1[1]);for(let s$1 of Oo.connect[t$1].children)this.setStyle(this.childName(t$1,s$1),e$1.shift())}let Ao=/^(?:[\d.]+(?:[a-z]+)|thin|medium|thick|inherit|initial|unset)$/,Lo=/^(?:none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|inherit|initial|unset)$/;function Mo(t$1){let e$1={width:``,style:``,color:``};for(let s$1 of _o(this.styles[t$1]))s$1.match(Ao)&&e$1.width===``?e$1.width=s$1:s$1.match(Lo)&&e$1.style===``?e$1.style=s$1:e$1.color=s$1;for(let s$1 of Oo.connect[t$1].children)this.setStyle(this.childName(t$1,s$1),e$1[s$1])}function Io(t$1){let e$1=[];for(let s$1 of Oo.connect[t$1].children){let i$1=this.styles[this.childName(t$1,s$1)];i$1&&e$1.push(i$1)}e$1.length?this.styles[t$1]=e$1.join(` `):delete this.styles[t$1]}let So={style:/^(?:normal|italic|oblique|inherit|initial|unset)$/,variant:RegExp(`^(?:`+[`normal|none`,`inherit|initial|unset`,`common-ligatures|no-common-ligatures`,`discretionary-ligatures|no-discretionary-ligatures`,`historical-ligatures|no-historical-ligatures`,`contextual|no-contextual`,`(?:stylistic|character-variant|swash|ornaments|annotation)\\([^)]*\\)`,`small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps`,`lining-nums|oldstyle-nums|proportional-nums|tabular-nums`,`diagonal-fractions|stacked-fractions`,`ordinal|slashed-zero`,`jis78|jis83|jis90|jis04|simplified|traditional`,`full-width|proportional-width`,`ruby`].join(`|`)+`)$`),weight:/^(?:normal|bold|bolder|lighter|[1-9]00|inherit|initial|unset)$/,stretch:RegExp(`^(?:`+[`normal`,`(?:(?:ultra|extra|semi)-)?(?:condensed|expanded)`,`inherit|initial|unset`].join(`|`)+`)$`),size:RegExp(`^(?:`+[`xx-small|x-small|small|medium|large|x-large|xx-large|larger|smaller`,`[\\d.]+%|[\\d.]+[a-z]+`,`inherit|initial|unset`].join(`|`)+`)(?:/(?:normal|[\\d.]+(?:%|[a-z]+)?))?$`)};function Ro(t$1,e$1){for(let s$1 of Oo.connect[t$1].children){let i$1=this.childName(t$1,s$1);if(Array.isArray(e$1[s$1])){let t$2=e$1[s$1];t$2.length&&(this.styles[i$1]=t$2.join(` `))}else e$1[s$1]!==``&&(this.styles[i$1]=e$1[s$1])}}class Oo{constructor(t$1=``){this.parse(t$1)}sanitizeValue(t$1){let e$1=this.constructor.pattern;if(!t$1.match(e$1.sanitize))return t$1;let s$1=(t$1=t$1.replace(e$1.value,`$1`)).replace(/\\./g,``).replace(/(['"]).*?\1/g,``).replace(/[^'"]/g,``);return s$1.length&&(t$1+=s$1.charAt(0)),t$1}get cssText(){var t$1,e$1;let s$1=[];for(let i$1 of Object.keys(this.styles)){let r$1=this.parentName(i$1),n$1=i$1.replace(/.*-/,``);this.styles[r$1]&&(e$1=Oo.connect[r$1]?.children)!=null&&e$1.includes(n$1)||s$1.push(`${i$1}: ${this.styles[i$1]};`)}return s$1.join(` `)}get styleList(){return Object.assign({},this.styles)}set(t$1,e$1){var s$1,i$1;for(t$1=this.normalizeName(t$1),this.setStyle(t$1,String(e$1)),Oo.connect[t$1]&&!Oo.connect[t$1].combine&&(this.combineChildren(t$1),delete this.styles[t$1]);t$1.match(/-/);){let e$2=t$1;if(t$1=this.parentName(t$1),!Oo.connect[e$2]&&!(Oo.connect[t$1]?.children)?.includes(e$2.substring(t$1.length+1)))break;Oo.connect[t$1].combine.call(this,t$1)}}get(t$1){return t$1=this.normalizeName(t$1),Object.hasOwn(this.styles,t$1)?this.styles[t$1]:``}setStyle(t$1,e$1){this.styles[t$1]=this.sanitizeValue(e$1),Oo.connect[t$1]&&Oo.connect[t$1].children&&Oo.connect[t$1].split.call(this,t$1),e$1===``&&delete this.styles[t$1]}combineChildren(t$1){let e$1=this.parentName(t$1);for(let s$1 of Oo.connect[t$1].children){let t$2=this.childName(e$1,s$1);Oo.connect[t$2].combine.call(this,t$2)}}parentName(t$1){let e$1=t$1.replace(/-[^-]*$/,``);return t$1===e$1?``:e$1}childName(t$1,e$1){return e$1.match(/-/)?e$1:(Oo.connect[t$1]&&!Oo.connect[t$1].combine&&(e$1+=t$1.replace(/.*-/,`-`),t$1=this.parentName(t$1)),t$1+`-`+e$1)}normalizeName(t$1){return t$1.replace(/[A-Z]/g,(t$2=>`-`+t$2.toLowerCase()))}parse(t$1=``){let e$1=this.constructor.pattern;this.styles={};let s$1=t$1.replace(/\n/g,` `).replace(e$1.comment,``).split(e$1.style);for(;s$1.length>1;){let[t$2,e$2,i$1]=s$1.splice(0,3);if(t$2.match(/[^\s\n;]/))return;this.set(e$2,i$1)}}}function Do(t$1){return t$1.reduce(((t$2,e$1)=>t$2+e$1),0)}function Po(t$1){return t$1.reduce(((t$2,e$1)=>Math.max(t$2,e$1)),0)}if(Oo.pattern={sanitize:/['";]/,value:/^((:?'(?:\\.|[^'])*(?:'|$)|"(?:\\.|[^"])*(?:"|$)|\n|\\.|[^'";])*?)[\s\n]*(?:;|$).*/,style:/([-a-z]+)[\s\n]*:[\s\n]*((?:'(?:\\.|[^'])*(?:'|$)|"(?:\\.|[^"])*(?:"|$)|\n|\\.|[^'";])*?)[\s\n]*(?:;|$)/g,comment:/\/\*[^]*?\*\//g},Oo.connect={padding:{children:To,split:ko,combine:function(t$1){let e$1=Oo.connect[t$1].children,s$1=[];for(let i$1 of e$1){let e$2=this.styles[t$1+`-`+i$1];if(!e$2)return void delete this.styles[t$1];s$1.push(e$2)}s$1[3]===s$1[1]&&(s$1.pop(),s$1[2]===s$1[0]&&(s$1.pop(),s$1[1]===s$1[0]&&s$1.pop())),this.styles[t$1]=s$1.join(` `)}},border:{children:To,split:function(t$1){for(let e$1 of Oo.connect[t$1].children)this.setStyle(this.childName(t$1,e$1),this.styles[t$1])},combine:function(t$1){let e$1=[...Oo.connect[t$1].children],s$1=this.styles[this.childName(t$1,e$1.shift())];for(let i$1 of e$1)if(this.styles[this.childName(t$1,i$1)]!==s$1)return void delete this.styles[t$1];this.styles[t$1]=s$1}},"border-top":{children:wo,split:Mo,combine:Io},"border-right":{children:wo,split:Mo,combine:Io},"border-bottom":{children:wo,split:Mo,combine:Io},"border-left":{children:wo,split:Mo,combine:Io},"border-width":{children:To,split:ko,combine:null},"border-style":{children:To,split:ko,combine:null},"border-color":{children:To,split:ko,combine:null},font:{children:[`style`,`variant`,`weight`,`stretch`,`line-height`,`size`,`family`],split:function(t$1){let e$1=_o(this.styles[t$1]),s$1={style:``,variant:[],weight:``,stretch:``,size:``,family:``,"line-height":``};for(let t$2 of e$1){s$1.family||=t$2;for(let e$2 of Object.keys(So))if((Array.isArray(s$1[e$2])||s$1[e$2]===``)&&t$2.match(So[e$2]))if(s$1.family===t$2&&(s$1.family=``),e$2===`size`){let[i$1,r$1]=t$2.split(/\//);s$1[e$2]=i$1,r$1&&(s$1[`line-height`]=r$1)}else s$1.size===``&&(Array.isArray(s$1[e$2])?s$1[e$2].push(t$2):s$1[e$2]===``&&(s$1[e$2]=t$2))}Ro.call(this,t$1,s$1),delete this.styles[t$1]},combine:function(t$1){}}},MathJax.loader&&MathJax.loader.checkVersion(`core`,si,`core`),ai({_:{adaptors:{HTMLAdaptor:l,browserAdaptor:h},components:{global:t},core:{DOMAdaptor:c,FindMath:d,Handler:ot,HandlerList:at,InputJax:u,MathDocument:nt,MathItem:g,MathList:f,MmlTree:{Attributes:N,MML:et,MathMLVisitor:ht,MmlFactory:st,MmlNode:x,MmlNodes:{HtmlNode:tt,TeXAtom:Q,maction:q,maligngroup:J,malignmark:K,math:v,mathchoice:Z,menclose:U,merror:P,mfenced:j,mfrac:S,mglyph:$,mi:C,mmultiscripts:z,mn:T,mo:k,mpadded:B,mphantom:F,mroot:O,mrow:I,ms:M,mspace:L,msqrt:R,mstyle:D,msubsup:H,mtable:X,mtd:G,mtext:A,mtr:V,munderover:W,semantics:Y},MmlVisitor:lt,OperatorDictionary:w,SerializedMmlVisitor:dt},OutputJax:p,Tree:{Factory:b,Node:y,NodeFactory:E,Visitor:ct,Wrapper:ut,WrapperFactory:pt}},handlers:{html_ts:yt,html:{HTMLDocument:Et,HTMLDomStrings:bt,HTMLHandler:Nt,HTMLMathItem:ft,HTMLMathList:gt}},mathjax:mt,util:{AsyncLoad:xt,BBox:Ct,BitField:it,Entities:Tt,FunctionList:r,LinkedList:m,Options:o,PrioritizedList:i,Retries:rt,StyleJson:wt,Styles:_t,context:e,lengths:vt,numeric:kt,string:_}}}),MathJax.startup&&(MathJax.startup.registerConstructor(`HTMLHandler`,so),MathJax.startup.registerConstructor(`browserAdaptor`,Ji),MathJax.startup.useHandler(`HTMLHandler`),MathJax.startup.useAdaptor(`browserAdaptor`)),MathJax.loader){let t$1=MathJax.config.loader;MathJax._.mathjax.mathjax.asyncLoad=e$1=>e$1.substring(0,5)===`node:`?t$1.require(e$1):MathJax.loader.load(e$1).then((t$2=>t$2[0]))}class Bo extends Ki{constructor(t$1){super(t$1),this.getPatterns()}getPatterns(){let t$1=this.options,e$1=[],s$1=[],i$1=[];this.end={},this.env=this.sub=0;let r$1=1;t$1.inlineMath.forEach((t$2=>this.addPattern(e$1,t$2,!1))),t$1.displayMath.forEach((t$2=>this.addPattern(e$1,t$2,!0))),e$1.length&&s$1.push(e$1.sort(Or).join(`|`)),t$1.processEnvironments&&(s$1.push(`\\\\begin\\s*\\{([^}]*)\\}`),this.env=r$1,r$1++),t$1.processEscapes&&i$1.push(`\\\\([\\\\$])`),t$1.processRefs&&i$1.push(`(\\\\(?:eq)?ref\\s*\\{[^}]*\\})`),i$1.length&&(s$1.push(`(`+i$1.join(`|`)+`)`),this.sub=r$1),this.start=new RegExp(s$1.join(`|`),`g`),this.hasPatterns=s$1.length>0}addPattern(t$1,e$1,s$1){let[i$1,r$1]=e$1;t$1.push(Dr(i$1)),this.end[i$1]=[r$1,s$1,this.endPattern(r$1)]}endPattern(t$1,e$1){return RegExp((e$1||Dr(t$1))+`|\\\\(?:[a-zA-Z]|.)|[{}]`,`g`)}findEnd(t$1,e$1,s$1,i$1){let[r$1,n$1,o$1]=i$1,a$1=o$1.lastIndex=s$1.index+s$1[0].length,c$1,l$1=0;for(;c$1=o$1.exec(t$1);){if((c$1[1]||c$1[0])===r$1&&l$1===0)return sr(s$1[0],t$1.substring(a$1,c$1.index),c$1[0],e$1,s$1.index,c$1.index+c$1[0].length,n$1);c$1[0]===`{`?l$1++:c$1[0]===`}`&&l$1&&l$1--}return null}findMathInString(t$1,e$1,s$1){let i$1,r$1;for(this.start.lastIndex=0;i$1=this.start.exec(s$1);){if(i$1[this.env]!==void 0&&this.env){let t$2=`\\\\end\\s*(\\{`+Dr(i$1[this.env])+`\\})`;r$1=this.findEnd(s$1,e$1,i$1,[`{`+i$1[this.env]+`}`,!0,this.endPattern(null,t$2)]),r$1&&(r$1.math=r$1.open+r$1.math+r$1.close,r$1.open=r$1.close=``)}else if(i$1[this.sub]!==void 0&&this.sub){let t$2=i$1[this.sub],s$2=i$1.index+i$1[this.sub].length;r$1=t$2.length===2?sr(`\\`,t$2.substring(1),``,e$1,i$1.index,s$2):sr(``,t$2,``,e$1,i$1.index,s$2,!1)}else r$1=this.findEnd(s$1,e$1,i$1,this.end[i$1[0]]);r$1&&(t$1.push(r$1),this.start.lastIndex=r$1.end.n)}}findMath(t$1){let e$1=[];if(this.hasPatterns)for(let s$1=0,i$1=t$1.length;s$1<i$1;s$1++)this.findMathInString(e$1,s$1,t$1[s$1]);return e$1}}Bo.OPTIONS={inlineMath:[[`\\(`,`\\)`]],displayMath:[[`$$`,`$$`],[`\\[`,`\\]`]],processEscapes:!0,processEnvironments:!0,processRefs:!0};let Fo={attrs:new Set([`autoOP`,`fnOP`,`movesupsub`,`subsupOK`,`texprimestyle`,`useHeight`,`variantForm`,`withDelims`,`mathaccent`,`open`,`close`]),createEntity:t$1=>String.fromCodePoint(parseInt(t$1,16)),getChildren:t$1=>t$1.childNodes,getText:t$1=>t$1.getText(),appendChildren(t$1,e$1){for(let s$1 of e$1)t$1.appendChild(s$1)},setAttribute(t$1,e$1,s$1){t$1.attributes.set(e$1,s$1)},setProperty(t$1,e$1,s$1){t$1.setProperty(e$1,s$1)},setProperties(t$1,e$1){for(let s$1 of Object.keys(e$1)){let i$1=e$1[s$1];s$1===`texClass`?(t$1.texClass=i$1,t$1.setProperty(s$1,i$1)):s$1===`movablelimits`?(t$1.setProperty(`movablelimits`,i$1),(t$1.isKind(`mo`)||t$1.isKind(`mstyle`))&&t$1.attributes.set(`movablelimits`,i$1)):s$1===`inferred`||(Fo.attrs.has(s$1)?t$1.setProperty(s$1,i$1):t$1.attributes.set(s$1,i$1))}},getProperty:(t$1,e$1)=>t$1.getProperty(e$1),getAttribute:(t$1,e$1)=>t$1.attributes.get(e$1),removeAttribute(t$1,e$1){t$1.attributes.unset(e$1)},removeProperties(t$1,...e$1){t$1.removeProperty(...e$1)},getChildAt:(t$1,e$1)=>t$1.childNodes[e$1],setChild(t$1,e$1,s$1){t$1.childNodes[e$1]=s$1,s$1&&(s$1.parent=t$1)},copyChildren(t$1,e$1){let s$1=t$1.childNodes;for(let t$2=0;t$2<s$1.length;t$2++)this.setChild(e$1,t$2,s$1[t$2])},copyAttributes(t$1,e$1){e$1.attributes=t$1.attributes,this.setProperties(e$1,t$1.getAllProperties())},isType:(t$1,e$1)=>t$1.isKind(e$1),isEmbellished:t$1=>t$1.isEmbellished,getTexClass:t$1=>t$1.texClass,getCoreMO:t$1=>t$1.coreMO(),isNode:t$1=>t$1 instanceof Er||t$1 instanceof vr,isInferred:t$1=>t$1.isInferred,getForm(t$1){if(!t$1.isKind(`mo`))return null;let e$1=t$1,s$1=e$1.getForms();for(let t$2 of s$1){let s$2=this.getOp(e$1,t$2);if(s$2)return s$2}return null},getOp:(t$1,e$1=`infix`)=>Hr.OPTABLE[e$1][t$1.getText()]||null,getMoAttribute(t$1,e$1){var s$1,i$1;if(!t$1.attributes.isSet(e$1))for(let r$1 of[`infix`,`postfix`,`prefix`]){let n$1=this.getOp(t$1,r$1)?.[3]?.[e$1];if(n$1!==void 0)return n$1}return t$1.attributes.get(e$1)}},jo=Fo;function Uo(t$1,e$1,s$1){let i$1=e$1.attributes,r$1=s$1.attributes;t$1.forEach((t$2=>{let e$2=r$1.getExplicit(t$2);e$2!=null&&i$1.set(t$2,e$2)}))}function qo(t$1,e$1){let s$1=(t$2,e$2)=>t$2.getExplicitNames().filter((s$2=>s$2!==e$2&&(s$2!==`stretchy`||t$2.getExplicit(`stretchy`))&&s$2!==`data-latex`&&s$2!==`data-latex-item`)),i$1=t$1.attributes,r$1=e$1.attributes,n$1=s$1(i$1,`lspace`),o$1=s$1(r$1,`rspace`);if(n$1.length!==o$1.length)return!1;for(let t$2 of n$1)if(i$1.getExplicit(t$2)!==r$1.getExplicit(t$2))return!1;return!0}function Ho(t$1,e$1,s$1){let i$1=[];for(let r$1 of t$1.getList(`m`+e$1+s$1)){let n$1=r$1.childNodes;if(n$1[r$1[e$1]]&&n$1[r$1[s$1]])continue;let o$1=r$1.parent,a$1=n$1[r$1[e$1]]?t$1.nodeFactory.create(`node`,`m`+e$1,[n$1[r$1.base],n$1[r$1[e$1]]]):t$1.nodeFactory.create(`node`,`m`+s$1,[n$1[r$1.base],n$1[r$1[s$1]]]);jo.copyAttributes(r$1,a$1),o$1.replaceChild(a$1,r$1),i$1.push(r$1)}t$1.removeFromList(`m`+e$1+s$1,i$1)}function Wo(t$1,e$1,s$1){let i$1=[];for(let r$1 of t$1.getList(e$1)){if(r$1.attributes.get(`displaystyle`))continue;let e$2=r$1.childNodes[r$1.base],n$1=e$2.coreMO();if(e$2.getProperty(`movablelimits`)&&!n$1.attributes.hasExplicit(`movablelimits`)){let e$3=t$1.nodeFactory.create(`node`,s$1,r$1.childNodes);jo.copyAttributes(r$1,e$3),r$1.parent.replaceChild(e$3,r$1),i$1.push(r$1)}}t$1.removeFromList(e$1,i$1)}let Xo={cleanStretchy(t$1){let e$1=t$1.data;for(let t$2 of e$1.getList(`fixStretchy`))if(jo.getProperty(t$2,`fixStretchy`)){let s$1=jo.getForm(t$2);s$1&&s$1[3]&&s$1[3].stretchy&&jo.setAttribute(t$2,`stretchy`,!1);let i$1=t$2.parent;if(!(jo.getTexClass(t$2)||s$1&&s$1[2])){let s$2=e$1.nodeFactory.create(`node`,`TeXAtom`,[t$2]);i$1.replaceChild(s$2,t$2),s$2.inheritAttributesFrom(t$2)}jo.removeProperties(t$2,`fixStretchy`)}},cleanAttributes(t$1){t$1.data.root.walkTree(((t$2,e$1)=>{let s$1=t$2.attributes,i$1=new Set((s$1.get(`mjx-keep-attrs`)||``).split(/ /));s$1.unset(`mjx-keep-attrs`);for(let e$2 of s$1.getExplicitNames())i$1.has(e$2)||s$1.get(e$2)!==t$2.attributes.getInherited(e$2)||s$1.unset(e$2)}),{})},combineRelations(t$1){let e$1=[];for(let s$1 of t$1.data.getList(`mo`)){if(s$1.getProperty(`relationsCombined`)||!s$1.parent||s$1.parent&&!jo.isType(s$1.parent,`mrow`)||jo.getTexClass(s$1)!==ur.REL)continue;let t$2,i$1=s$1.parent.childNodes,r$1=i$1.indexOf(s$1)+1,n$1=jo.getProperty(s$1,`variantForm`);for(;r$1<i$1.length&&(t$2=i$1[r$1])&&jo.isType(t$2,`mo`)&&jo.getTexClass(t$2)===ur.REL;){if(n$1!==jo.getProperty(t$2,`variantForm`)||!qo(s$1,t$2)){s$1.attributes.hasExplicit(`rspace`)||jo.setAttribute(s$1,`rspace`,`0pt`),t$2.attributes.hasExplicit(`lspace`)||jo.setAttribute(t$2,`lspace`,`0pt`);break}jo.appendChildren(s$1,jo.getChildren(t$2)),Uo([`stretchy`,`rspace`],s$1,t$2);for(let e$2 of t$2.getPropertyNames())s$1.setProperty(e$2,t$2.getProperty(e$2));t$2.attributes.get(`data-latex`)&&s$1.attributes.set(`data-latex`,s$1.attributes.get(`data-latex`)+t$2.attributes.get(`data-latex`)),i$1.splice(r$1,1),e$1.push(t$2),t$2.parent=null,t$2.setProperty(`relationsCombined`,!0),s$1.setProperty(`texClass`,ur.REL)}s$1.attributes.setInherited(`form`,s$1.getForms()[0])}t$1.data.removeFromList(`mo`,e$1)},cleanSubSup(t$1){let e$1=t$1.data;e$1.error||(Ho(e$1,`sub`,`sup`),Ho(e$1,`under`,`over`))},moveLimits(t$1){let e$1=t$1.data;Wo(e$1,`munderover`,`msubsup`),Wo(e$1,`munder`,`msub`),Wo(e$1,`mover`,`msup`)},setInherited(t$1){t$1.data.root.setInheritedAttributes({},t$1.math.display,0,!1)},checkScriptlevel(t$1){let e$1=t$1.data,s$1=[];for(let t$2 of e$1.getList(`mstyle`)){if(t$2.childNodes[0].childNodes.length!==1)continue;let e$2=t$2.attributes;for(let t$3 of[`displaystyle`,`scriptlevel`])e$2.getExplicit(t$3)===e$2.getInherited(t$3)&&e$2.unset(t$3);let i$1=e$2.getExplicitNames();if(i$1.filter((t$3=>t$3.substring(0,10)!==`data-latex`)).length===0){let r$1=t$2.childNodes[0].childNodes[0];i$1.forEach((t$3=>r$1.attributes.set(t$3,e$2.get(t$3)))),t$2.parent.replaceChild(r$1,t$2),s$1.push(t$2)}}e$1.removeFromList(`mstyle`,s$1)}};var Vo,Go;(function(t$1){t$1.HANDLER=`handler`,t$1.FALLBACK=`fallback`,t$1.ITEMS=`items`,t$1.TAGS=`tags`,t$1.OPTIONS=`options`,t$1.NODES=`nodes`,t$1.PREPROCESSORS=`preprocessors`,t$1.POSTPROCESSORS=`postprocessors`,t$1.INIT=`init`,t$1.CONFIG=`config`,t$1.PRIORITY=`priority`,t$1.PARSER=`parser`})(Vo||={}),function(t$1){t$1.DELIMITER=`delimiter`,t$1.MACRO=`macro`,t$1.CHARACTER=`character`,t$1.ENVIRONMENT=`environment`}(Go||={});let Jo=7.2,Ko={UNIT_CASES:new class{constructor(t$1){this.num=`([-+]?([.,]\\d+|\\d+([.,]\\d*)?))`,this.unit=``,this.dimenEnd=/./,this.dimenRest=/./,this.map=new Map(t$1),this.updateDimen()}updateDimen(){this.unit=`(${Array.from(this.map.keys()).join(`|`)})`,this.dimenEnd=RegExp(`^\\s*`+this.num+`\\s*`+this.unit+`\\s*$`),this.dimenRest=RegExp(`^\\s*`+this.num+`\\s*`+this.unit+` ?`)}set(t$1,e$1){return this.map.set(t$1,e$1),this.updateDimen(),this}get(t$1){return this.map.get(t$1)||this.map.get(`pt`)}delete(t$1){return!!this.map.delete(t$1)&&(this.updateDimen(),!0)}}([[`em`,1],[`ex`,.43],[`pt`,.1],[`pc`,1.2],[`px`,.1],[`in`,Jo],[`cm`,Jo/2.54],[`mm`,Jo/25.4],[`mu`,1/18]]),matchDimen(t$1,e$1=!1){let s$1=t$1.match(e$1?Ko.UNIT_CASES.dimenRest:Ko.UNIT_CASES.dimenEnd);return s$1?function([t$2,e$2,s$2]){return e$2===`mu`?[Ko.em(Ko.UNIT_CASES.get(e$2)*parseFloat(t$2)).slice(0,-2),`em`,s$2]:[t$2,e$2,s$2]}([s$1[1].replace(/,/,`.`),s$1[4],s$1[0].length]):[null,null,0]},dimen2em(t$1){let[e$1,s$1]=Ko.matchDimen(t$1),i$1=parseFloat(e$1||`1`);return Ko.UNIT_CASES.get(s$1)*i$1},em:t$1=>Math.abs(t$1)<6e-4?`0em`:t$1.toFixed(3).replace(/\.?0+$/,``)+`em`,trimSpaces(t$1){if(typeof t$1!=`string`)return t$1;let e$1=t$1.trim();return e$1.match(/\\$/)&&t$1.match(/ $/)&&(e$1+=` `),e$1}};class $o{constructor(t$1,e$1,s$1){this._factory=t$1,this._env=e$1,this.global={},this.stack=[],this.global={isInner:s$1},this.stack=[this._factory.create(`start`,this.global)],e$1&&(this.stack[0].env=e$1),this.env=this.stack[0].env}set env(t$1){this._env=t$1}get env(){return this._env}Push(...t$1){for(let e$1 of t$1){if(!e$1)continue;let t$2=jo.isNode(e$1)?this._factory.create(`mml`,e$1):e$1;t$2.global=this.global;let[s$1,i$1]=this.stack.length?this.Top().checkItem(t$2):[null,!0];i$1&&(s$1?(this.Pop(),this.Push(...s$1)):(t$2.isKind(`null`)||this.stack.push(t$2),t$2.env?(t$2.copyEnv&&Object.assign(t$2.env,this.env),this.env=t$2.env):t$2.env=this.env))}}Pop(){let t$1=this.stack.pop();return t$1.isOpen||delete t$1.env,this.env=this.stack.length?this.Top().env:{},t$1}Top(t$1=1){return this.stack.length<t$1?null:this.stack[this.stack.length-t$1]}Prev(t$1){let e$1=this.Top();return t$1?e$1.First:e$1.Pop()}get height(){return this.stack.length}toString(){return`stack[
  `+this.stack.join(`
  `)+`
]`}}class Yo{static processString(t$1,e$1){let s$1=t$1.split(Yo.pattern);for(let t$2=1,i$1=s$1.length;t$2<i$1;t$2+=2){let i$2=s$1[t$2].charAt(0);i$2>=`0`&&i$2<=`9`?(s$1[t$2]=e$1[parseInt(s$1[t$2],10)-1],typeof s$1[t$2]==`number`&&(s$1[t$2]=s$1[t$2].toString())):i$2===`{`&&(i$2=s$1[t$2].substring(1),i$2>=`0`&&i$2<=`9`?(s$1[t$2]=e$1[parseInt(s$1[t$2].substring(1,s$1[t$2].length-1),10)-1],typeof s$1[t$2]==`number`&&(s$1[t$2]=s$1[t$2].toString())):s$1[t$2].match(/^\{([a-z]+):%(\d+)\|(.*)\}$/)&&(s$1[t$2]=`%`+s$1[t$2]))}return s$1.join(``)}constructor(t$1,e$1,...s$1){this.id=t$1,this.message=Yo.processString(e$1,s$1)}}Yo.pattern=/%(\d+|\{\d+\}|\{[a-z]+:%\d+(?:\|(?:%\{\d+\}|%.|[^}])*)+\}|.)/g;let Qo=Yo;class Zo{constructor(t$1){this._nodes=t$1,this.startStr=``,this.startI=0,this.stopI=0}get nodes(){return this._nodes}Push(...t$1){this._nodes.push(...t$1)}Pop(){return this._nodes.pop()}get First(){return this._nodes[this.Size()-1]}set First(t$1){this._nodes[this.Size()-1]=t$1}get Last(){return this._nodes[0]}set Last(t$1){this._nodes[0]=t$1}Peek(t$1){return t$1??=1,this._nodes.slice(this.Size()-t$1)}Size(){return this._nodes.length}Clear(){this._nodes=[]}toMml(t$1=!0,e$1){return this._nodes.length!==1||e$1?this.create(`node`,t$1?`inferredMrow`:`mrow`,this._nodes,{}):this.First}create(t$1,...e$1){return this.factory.configuration.nodeFactory.create(t$1,...e$1)}}class ta extends Zo{constructor(t$1,...e$1){super(e$1),this.factory=t$1,this.global={},this._properties={},this.isOpen&&(this._env={})}get kind(){return`base`}get env(){return this._env}set env(t$1){this._env=t$1}get copyEnv(){return!0}getProperty(t$1){return this._properties[t$1]}setProperty(t$1,e$1){return this._properties[t$1]=e$1,this}get isOpen(){return!1}get isClose(){return!1}get isFinal(){return!1}isKind(t$1){return t$1===this.kind}checkItem(t$1){if(t$1.isKind(`over`)&&this.isOpen&&(t$1.setProperty(`num`,this.toMml(!1)),this.Clear()),t$1.isKind(`cell`)&&this.isOpen){if(t$1.getProperty(`linebreak`))return ta.fail;throw new Qo(`Misplaced`,`Misplaced %1`,t$1.getName())}if(t$1.isClose&&this.getErrors(t$1.kind)){let[e$1,s$1]=this.getErrors(t$1.kind);throw new Qo(e$1,s$1,t$1.getName())}return t$1.isFinal?(this.Push(t$1.First),ta.fail):ta.success}clearEnv(){for(let t$1 of Object.keys(this.env))delete this.env[t$1]}setProperties(t$1){return Object.assign(this._properties,t$1),this}getName(){return this.getProperty(`name`)}toString(){return this.kind+`[`+this.nodes.join(`; `)+`]`}getErrors(t$1){return this.constructor.errors[t$1]||ta.errors[t$1]}}ta.fail=[null,!1],ta.success=[null,!0],ta.errors={end:[`MissingBeginExtraEnd`,`Missing \\begin{%1} or extra \\end{%1}`],close:[`ExtraCloseMissingOpen`,`Extra close brace or missing open brace`],right:[`MissingLeftExtraRight`,`Missing \\left or extra \\right`],middle:[`ExtraMiddle`,`Extra \\middle`]};let ea={Variant:{NORMAL:`normal`,BOLD:`bold`,ITALIC:`italic`,BOLDITALIC:`bold-italic`,DOUBLESTRUCK:`double-struck`,FRAKTUR:`fraktur`,BOLDFRAKTUR:`bold-fraktur`,SCRIPT:`script`,BOLDSCRIPT:`bold-script`,SANSSERIF:`sans-serif`,BOLDSANSSERIF:`bold-sans-serif`,SANSSERIFITALIC:`sans-serif-italic`,SANSSERIFBOLDITALIC:`sans-serif-bold-italic`,MONOSPACE:`monospace`,INITIAL:`inital`,TAILED:`tailed`,LOOPED:`looped`,STRETCHED:`stretched`,CALLIGRAPHIC:`-tex-calligraphic`,BOLDCALLIGRAPHIC:`-tex-bold-calligraphic`,OLDSTYLE:`-tex-oldstyle`,BOLDOLDSTYLE:`-tex-bold-oldstyle`,MATHITALIC:`-tex-mathit`},Form:{PREFIX:`prefix`,INFIX:`infix`,POSTFIX:`postfix`},LineBreak:{AUTO:`auto`,NEWLINE:`newline`,NOBREAK:`nobreak`,GOODBREAK:`goodbreak`,BADBREAK:`badbreak`},LineBreakStyle:{BEFORE:`before`,AFTER:`after`,DUPLICATE:`duplicate`,INFIXLINBREAKSTYLE:`infixlinebreakstyle`},IndentAlign:{LEFT:`left`,CENTER:`center`,RIGHT:`right`,AUTO:`auto`,ID:`id`,INDENTALIGN:`indentalign`},IndentShift:{INDENTSHIFT:`indentshift`},LineThickness:{THIN:`thin`,MEDIUM:`medium`,THICK:`thick`},Notation:{LONGDIV:`longdiv`,ACTUARIAL:`actuarial`,PHASORANGLE:`phasorangle`,RADICAL:`radical`,BOX:`box`,ROUNDEDBOX:`roundedbox`,CIRCLE:`circle`,LEFT:`left`,RIGHT:`right`,TOP:`top`,BOTTOM:`bottom`,UPDIAGONALSTRIKE:`updiagonalstrike`,DOWNDIAGONALSTRIKE:`downdiagonalstrike`,VERTICALSTRIKE:`verticalstrike`,HORIZONTALSTRIKE:`horizontalstrike`,NORTHEASTARROW:`northeastarrow`,MADRUWB:`madruwb`,UPDIAGONALARROW:`updiagonalarrow`},Align:{TOP:`top`,BOTTOM:`bottom`,CENTER:`center`,BASELINE:`baseline`,AXIS:`axis`,LEFT:`left`,RIGHT:`right`},Lines:{NONE:`none`,SOLID:`solid`,DASHED:`dashed`},Side:{LEFT:`left`,RIGHT:`right`,LEFTOVERLAP:`leftoverlap`,RIGHTOVERLAP:`rightoverlap`},Width:{AUTO:`auto`,FIT:`fit`},Actiontype:{TOGGLE:`toggle`,STATUSLINE:`statusline`,TOOLTIP:`tooltip`,INPUT:`input`},Overflow:{LINBREAK:`linebreak`,SCROLL:`scroll`,ELIDE:`elide`,TRUNCATE:`truncate`,SCALE:`scale`},Unit:{EM:`em`,EX:`ex`,PX:`px`,IN:`in`,CM:`cm`,MM:`mm`,PT:`pt`,PC:`pc`},Attr:{LATEX:`data-latex`,LATEXITEM:`data-latex-item`}};class sa{constructor(t$1,e$1,s$1){this._string=t$1,this.configuration=s$1,this.macroCount=0,this.i=0,this.currentCS=``,this.saveI=0;let i$1=Object.hasOwn(e$1,`isInner`),r$1=e$1.isInner,n$1;if(delete e$1.isInner,e$1){n$1={};for(let t$2 of Object.keys(e$1))n$1[t$2]=e$1[t$2]}this.configuration.pushParser(this),this.stack=new $o(this.itemFactory,n$1,!i$1||r$1),this.Parse(),this.Push(this.itemFactory.create(`stop`)),this.updateResult(this.string,this.i),this.stack.env=n$1}get options(){return this.configuration.options}get itemFactory(){return this.configuration.itemFactory}get tags(){return this.configuration.tags}set string(t$1){this._string=t$1}get string(){return this._string}parse(t$1,e$1){let s$1=this.saveI;this.saveI=this.i;let i$1=this.configuration.handlers.get(t$1).parse(e$1);return this.updateResult(e$1[1],s$1),this.saveI=s$1,i$1}lookup(t$1,e$1){return this.configuration.handlers.get(t$1).lookup(e$1)}contains(t$1,e$1){return this.configuration.handlers.get(t$1).contains(e$1)}toString(){let t$1=``;for(let e$1 of Array.from(this.configuration.handlers.keys()))t$1+=e$1+`: `+this.configuration.handlers.get(e$1)+`
`;return t$1}Parse(){let t$1;for(;this.i<this.string.length;)t$1=this.getCodePoint(),this.i+=t$1.length,this.parse(Go.CHARACTER,[this,t$1])}Push(t$1){t$1 instanceof ta&&(t$1.startI=this.saveI,t$1.stopI=this.i,t$1.startStr=this.string),t$1 instanceof Er&&t$1.isInferred?this.PushAll(t$1.childNodes):this.stack.Push(t$1)}PushAll(t$1){for(let e$1 of t$1)this.stack.Push(e$1)}mml(){if(!this.stack.Top().isKind(`mml`))return null;let t$1=this.stack.Top().First;return this.configuration.popParser(),t$1.attributes.set(ea.Attr.LATEX,this.string),t$1}convertDelimiter(t$1){var e$1;return this.lookup(Go.DELIMITER,t$1)?.char??null}getCodePoint(){let t$1=this.string.codePointAt(this.i);return t$1===void 0?``:String.fromCodePoint(t$1)}nextIsSpace(){return!!this.string.charAt(this.i).match(/\s/)}GetNext(){for(;this.nextIsSpace();)this.i++;return this.getCodePoint()}GetCS(){let t$1=this.string.slice(this.i).match(/^(([a-z]+) ?|[\uD800-\uDBFF].|.)/i);return t$1?(this.i+=t$1[0].length,t$1[2]||t$1[1]):(this.i++,` `)}GetArgument(t$1,e$1=!1){switch(this.GetNext()){case``:if(!e$1)throw new Qo(`MissingArgFor`,`Missing argument for %1`,this.currentCS);return null;case`}`:if(!e$1)throw new Qo(`ExtraCloseMissingOpen`,`Extra close brace or missing open brace`);return null;case`\\`:return this.i++,`\\`+this.GetCS();case`{`:{let t$2=++this.i,e$2=1;for(;this.i<this.string.length;)switch(this.string.charAt(this.i++)){case`\\`:this.i++;break;case`{`:e$2++;break;case`}`:if(--e$2===0)return this.string.slice(t$2,this.i-1)}throw new Qo(`MissingCloseBrace`,`Missing close brace`)}}let s$1=this.getCodePoint();return this.i+=s$1.length,s$1}GetBrackets(t$1,e$1,s$1=!1){if(this.GetNext()!==`[`)return e$1;let i$1=++this.i,r$1=0,n$1=0;for(;this.i<this.string.length;)switch(this.string.charAt(this.i++)){case`{`:r$1++;break;case`\\`:this.i++;break;case`}`:if(r$1--<=0)throw new Qo(`ExtraCloseLooking`,`Extra close brace while looking for %1`,`']'`);break;case`[`:r$1===0&&n$1++;break;case`]`:if(r$1===0){if(!s$1||n$1===0)return this.string.slice(i$1,this.i-1);n$1--}}throw new Qo(`MissingCloseBracket`,`Could not find closing ']' for argument to %1`,this.currentCS)}GetDelimiter(t$1,e$1=!1){let s$1=this.GetNext();if(this.i+=s$1.length,this.i<=this.string.length&&(s$1===`\\`?s$1+=this.GetCS():s$1===`{`&&e$1&&(this.i--,s$1=this.GetArgument(t$1).trim()),this.contains(Go.DELIMITER,s$1)))return this.convertDelimiter(s$1);throw new Qo(`MissingOrUnrecognizedDelim`,`Missing or unrecognized delimiter for %1`,this.currentCS)}GetDimen(t$1){if(this.GetNext()===`{`){let e$1=this.GetArgument(t$1),[s$1,i$1]=Ko.matchDimen(e$1);if(s$1)return s$1+i$1}else{let t$2=this.string.slice(this.i),[e$1,s$1,i$1]=Ko.matchDimen(t$2,!0);if(e$1)return this.i+=i$1,e$1+s$1}throw new Qo(`MissingDimOrUnits`,`Missing dimension or its units for %1`,this.currentCS)}GetUpTo(t$1,e$1){for(;this.nextIsSpace();)this.i++;let s$1=this.i,i$1=0;for(;this.i<this.string.length;){let t$2=this.i,r$1=this.GetNext();switch(this.i+=r$1.length,r$1){case`\\`:r$1+=this.GetCS();break;case`{`:i$1++;break;case`}`:if(i$1===0)throw new Qo(`ExtraCloseLooking`,`Extra close brace while looking for %1`,e$1);i$1--}if(i$1===0&&r$1===e$1)return this.string.slice(s$1,t$2)}throw new Qo(`TokenNotFoundForCommand`,`Could not find %1 for %2`,e$1,this.currentCS)}ParseArg(t$1){return new sa(this.GetArgument(t$1),this.stack.env,this.configuration).mml()}ParseUpTo(t$1,e$1){return new sa(this.GetUpTo(t$1,e$1),this.stack.env,this.configuration).mml()}GetDelimiterArg(t$1){let e$1=Ko.trimSpaces(this.GetArgument(t$1));if(e$1===``)return null;if(this.contains(Go.DELIMITER,e$1))return e$1;throw new Qo(`MissingOrUnrecognizedDelim`,`Missing or unrecognized delimiter for %1`,this.currentCS)}GetStar(){let t$1=this.GetNext()===`*`;return t$1&&this.i++,t$1}create(t$1,...e$1){let s$1=this.configuration.nodeFactory.create(t$1,...e$1);return s$1.isToken&&s$1.attributes.hasExplicit(`mathvariant`)&&s$1.attributes.get(`mathvariant`).charAt(0)===`-`&&s$1.setProperty(`ignore-variant`,!0),s$1}updateResult(t$1,e$1){let s$1=this.stack.Prev(!0);if(!s$1)return;let i$1=s$1.attributes.get(ea.Attr.LATEXITEM);if(i$1!==void 0)return void s$1.attributes.set(ea.Attr.LATEX,i$1);let r$1=(e$1=e$1<this.saveI?this.saveI:e$1)===this.i?t$1:this.string.slice(e$1,this.i);if(r$1=r$1.trim(),r$1)if(t$1===`\\`&&(r$1=`\\`+r$1),s$1.attributes.get(ea.Attr.LATEX)!==`^`||r$1===`^`||r$1===`\\^`)if(s$1.attributes.get(ea.Attr.LATEX)!==`_`||r$1===`_`||r$1===`\\_`)r$1===`}`?this.composeBraces(s$1):s$1.attributes.set(ea.Attr.LATEX,r$1);else if(s$1.childNodes[1]&&(r$1===`}`?this.composeBraces(s$1.childNodes[1]):s$1.childNodes[1].attributes.set(ea.Attr.LATEX,r$1)),s$1.childNodes[2]){let t$2=s$1.childNodes[2].attributes.get(ea.Attr.LATEX);this.composeLatex(s$1,`^${t$2}_`,0,1)}else this.composeLatex(s$1,`_`,0,1);else if(s$1.childNodes[2]&&(r$1===`}`?this.composeBraces(s$1.childNodes[2]):s$1.childNodes[2].attributes.set(ea.Attr.LATEX,r$1)),s$1.childNodes[1]){let t$2=s$1.childNodes[1].attributes.get(ea.Attr.LATEX);this.composeLatex(s$1,`_${t$2}^`,0,2)}else this.composeLatex(s$1,`^`,0,2)}composeLatex(t$1,e$1,s$1,i$1){if(!t$1.childNodes[s$1]||!t$1.childNodes[i$1])return;let r$1=(t$1.childNodes[s$1].attributes.get(ea.Attr.LATEX)||``)+e$1+t$1.childNodes[i$1].attributes.get(ea.Attr.LATEX);t$1.attributes.set(ea.Attr.LATEX,r$1)}composeBraces(t$1){let e$1=this.composeBracedContent(t$1);t$1.attributes.set(ea.Attr.LATEX,`{${e$1}}`)}composeBracedContent(t$1){var e$1,s$1;let i$1=t$1.childNodes[0]?.childNodes||[],r$1=``;for(let t$2 of i$1){let e$2=(t$2?.attributes)?.get(ea.Attr.LATEX)||``;e$2&&(r$1+=r$1&&r$1.match(/[a-zA-Z]$/)&&e$2.match(/^[a-zA-Z]/)?` `+e$2:e$2)}return r$1}}class ia extends ta{}class ra extends or{constructor(){super(...arguments),this.defaultKind=`dummy`,this.configuration=null}}ra.DefaultStackItems={[ia.prototype.kind]:ia};let na=ra;class oa{constructor(){this.mmlFactory=null,this.factory={node:oa.createNode,token:oa.createToken,text:oa.createText,error:oa.createError}}static createNode(t$1,e$1,s$1=[],i$1={},r$1){let n$1=t$1.mmlFactory.create(e$1);return n$1.setChildren(s$1),r$1&&n$1.appendChild(r$1),jo.setProperties(n$1,i$1),n$1}static createToken(t$1,e$1,s$1={},i$1=``){let r$1=t$1.create(`text`,i$1);return t$1.create(`node`,e$1,[],s$1,r$1)}static createText(t$1,e$1){return e$1==null?null:t$1.mmlFactory.create(`text`).setText(e$1)}static createError(t$1,e$1){let s$1=t$1.create(`text`,e$1),i$1=t$1.create(`node`,`mtext`,[],{},s$1);return t$1.create(`node`,`merror`,[i$1],{"data-mjx-error":e$1})}setMmlFactory(t$1){this.mmlFactory=t$1}set(t$1,e$1){this.factory[t$1]=e$1}setCreators(t$1){for(let e$1 in t$1)this.set(e$1,t$1[e$1])}create(t$1,...e$1){let s$1=(this.factory[t$1]||this.factory.node)(this,e$1[0],...e$1.slice(1));return t$1===`node`&&this.configuration.addNode(e$1[0],s$1),s$1}get(t$1){return this.factory[t$1]}}class aa{static oneof(...t$1){return new this(`string`,(e$1=>t$1.includes(e$1)),(t$2=>t$2))}constructor(t$1,e$1,s$1){this.name=t$1,this.verify=e$1,this.convert=s$1}}let ca={boolean:new aa(`boolean`,(t$1=>t$1===`true`||t$1===`false`),(t$1=>t$1===`true`)),number:new aa(`number`,(t$1=>!!t$1.match(/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[-+]?\d+)?$/)),(t$1=>parseFloat(t$1))),integer:new aa(`integer`,(t$1=>!!t$1.match(/^[-+]?\d+$/)),(t$1=>parseInt(t$1))),string:new aa(`string`,(t$1=>!0),(t$1=>t$1)),dimen:new aa(`dimen`,(t$1=>Ko.matchDimen(t$1)[0]!==null),(t$1=>t$1))};function la(t$1,e$1){if(e$1===0)return t$1.replace(/^\s+/,``).replace(/([^\\\s]|^)((?:\\\\)*(?:\\\s)?)?\s+$/,`$1$2`);for(;e$1>0;)t$1=t$1.trim().slice(1,-1),e$1--;return t$1}function ha(t$1,e$1,s$1=!1,i$1=!1){let r$1=t$1.length,n$1=0,o$1=``,a$1=0,c$1=0,l$1=!0;for(;a$1<r$1;){let i$2=t$1[a$1++];switch(i$2){case`\\`:o$1+=i$2+(t$1[a$1++]||``),l$1=!1;continue;case` `:break;case`{`:l$1&&c$1++,n$1++;break;case`}`:if(!n$1)throw new Qo(`ExtraCloseMissingOpen`,`Extra close brace or missing open brace`);n$1--,l$1=!1;break;default:if(!n$1&&e$1.includes(i$2))return[la(o$1,s$1?Math.min(1,c$1):c$1),i$2,t$1.slice(a$1)];c$1>n$1&&(c$1=n$1),l$1=!1}o$1+=i$2}if(n$1)throw new Qo(`ExtraOpenMissingClose`,`Extra open brace or missing close brace`);return i$1&&c$1?[``,``,la(o$1,1)]:[la(o$1,s$1?Math.min(1,c$1):c$1),``,t$1.slice(a$1)]}let da={cols:(...t$1)=>t$1.map((t$2=>Ko.em(t$2))).join(` `),fenced(t$1,e$1,s$1,i$1,r$1=``,n$1=``){let o$1=t$1.nodeFactory,a$1=o$1.create(`node`,`mrow`,[],{open:e$1,close:i$1,texClass:ur.INNER}),c$1;if(r$1)c$1=new sa(`\\`+r$1+`l`+e$1,t$1.parser.stack.env,t$1).mml();else{let t$2=o$1.create(`text`,e$1);c$1=o$1.create(`node`,`mo`,[],{fence:!0,stretchy:!0,symmetric:!0,texClass:ur.OPEN},t$2)}if(jo.appendChildren(a$1,[c$1,s$1]),r$1)c$1=new sa(`\\`+r$1+`r`+i$1,t$1.parser.stack.env,t$1).mml();else{let t$2=o$1.create(`text`,i$1);c$1=o$1.create(`node`,`mo`,[],{fence:!0,stretchy:!0,symmetric:!0,texClass:ur.CLOSE},t$2)}return n$1&&c$1.attributes.set(`mathcolor`,n$1),jo.appendChildren(a$1,[c$1]),a$1},fixedFence(t$1,e$1,s$1,i$1){let r$1=t$1.nodeFactory.create(`node`,`mrow`,[],{open:e$1,close:i$1,texClass:ur.ORD});return e$1&&jo.appendChildren(r$1,[da.mathPalette(t$1,e$1,`l`)]),jo.isType(s$1,`mrow`)?jo.appendChildren(r$1,jo.getChildren(s$1)):jo.appendChildren(r$1,[s$1]),i$1&&jo.appendChildren(r$1,[da.mathPalette(t$1,i$1,`r`)]),r$1},mathPalette(t$1,e$1,s$1){e$1!==`{`&&e$1!==`}`||(e$1=`\\`+e$1);let i$1=`{\\big`+s$1+` `+e$1+`}`;return new sa(`\\mathchoice`+(`{\\bigg`+s$1+` `+e$1+`}`)+i$1+i$1+i$1,{},t$1).mml()},fixInitialMO(t$1,e$1){for(let s$1=0,i$1=e$1.length;s$1<i$1;s$1++){let i$2=e$1[s$1];if(i$2&&!jo.isType(i$2,`mspace`)&&(!jo.isType(i$2,`TeXAtom`)||jo.getChildren(i$2)[0]&&jo.getChildren(jo.getChildren(i$2)[0]).length)){if(jo.isEmbellished(i$2)||jo.isType(i$2,`TeXAtom`)&&jo.getTexClass(i$2)===ur.REL){let s$2=t$1.nodeFactory.create(`node`,`mi`);e$1.unshift(s$2)}break}}},internalMath(t$1,e$1,s$1,i$1){if(e$1=e$1.replace(/ +/g,` `),t$1.configuration.options.internalMath)return t$1.configuration.options.internalMath(t$1,e$1,s$1,i$1);let r$1=i$1||t$1.stack.env.font,n$1=r$1?{mathvariant:r$1}:{},o$1,a$1,c$1=[],l$1=0,h$1=0,d$1=``,u$1=0;if(e$1.match(/\\?[${}\\]|\\\(|\\(?:eq)?ref\s*\{|\\U/)){for(;l$1<e$1.length;)if(o$1=e$1.charAt(l$1++),o$1===`$`)d$1===`$`&&u$1===0?(a$1=t$1.create(`node`,`TeXAtom`,[new sa(e$1.slice(h$1,l$1-1),{},t$1.configuration).mml()]),c$1.push(a$1),d$1=``,h$1=l$1):d$1===``&&(h$1<l$1-1&&c$1.push(da.internalText(t$1,e$1.slice(h$1,l$1-1),n$1)),d$1=`$`,h$1=l$1);else if(o$1===`{`&&d$1!==``)u$1++;else if(o$1===`}`)if(d$1===`}`&&u$1===0){let s$2=new sa(e$1.slice(h$1,l$1),{},t$1.configuration).mml();a$1=t$1.create(`node`,`TeXAtom`,[s$2],n$1),c$1.push(a$1),d$1=``,h$1=l$1}else d$1!==``&&u$1&&u$1--;else if(o$1===`\\`){if(d$1===``&&e$1.substring(l$1).match(/^(eq)?ref\s*\{/)){let s$2=RegExp[`$&`].length;h$1<l$1-1&&c$1.push(da.internalText(t$1,e$1.slice(h$1,l$1-1),n$1)),d$1=`}`,h$1=l$1-1,l$1+=s$2}else if(o$1=e$1.charAt(l$1++),o$1===`(`&&d$1===``)h$1<l$1-2&&c$1.push(da.internalText(t$1,e$1.slice(h$1,l$1-2),n$1)),d$1=`)`,h$1=l$1;else if(o$1===`)`&&d$1===`)`&&u$1===0)a$1=t$1.create(`node`,`TeXAtom`,[new sa(e$1.slice(h$1,l$1-2),{},t$1.configuration).mml()]),c$1.push(a$1),d$1=``,h$1=l$1;else if(o$1.match(/[${}\\]/)&&d$1===``)l$1--,e$1=e$1.substring(0,l$1-1)+e$1.substring(l$1);else if(o$1===`U`){let t$2=e$1.substring(l$1).match(/^\s*(?:([0-9A-F])|\{\s*([0-9A-F]+)\s*\})/);if(!t$2)throw new Qo(`BadRawUnicode`,`Argument to %1 must a hexadecimal number with 1 to 6 digits`,`\\U`);let s$2=String.fromCodePoint(parseInt(t$2[1]||t$2[2],16));e$1=e$1.substring(0,l$1-2)+s$2+e$1.substring(l$1+t$2[0].length),l$1=l$1-2+s$2.length}}if(d$1!==``)throw new Qo(`MathNotTerminated`,`Math mode is not properly terminated`)}return h$1<e$1.length&&c$1.push(da.internalText(t$1,e$1.slice(h$1),n$1)),s$1==null?c$1.length>1&&(c$1=[t$1.create(`node`,`mrow`,c$1)]):c$1=[t$1.create(`node`,`mstyle`,c$1,{displaystyle:!1,scriptlevel:s$1})],c$1},internalText(t$1,e$1,s$1){e$1=e$1.replace(/\n+/g,` `).replace(/^ +/,go.nbsp).replace(/ +$/,go.nbsp);let i$1=t$1.create(`text`,e$1);return t$1.create(`node`,`mtext`,[],s$1,i$1)},underOver(t$1,e$1,s$1,i$1,r$1){if(da.checkMovableLimits(e$1),jo.isType(e$1,`munderover`)&&jo.isEmbellished(e$1)){jo.setProperties(jo.getCoreMO(e$1),{lspace:0,rspace:0});let s$2=t$1.create(`node`,`mo`,[],{rspace:0});e$1=t$1.create(`node`,`mrow`,[s$2,e$1])}let n$1=t$1.create(`node`,`munderover`,[e$1]);jo.setChild(n$1,i$1===`over`?n$1.over:n$1.under,s$1);let o$1=n$1;return r$1&&(o$1=t$1.create(`node`,`TeXAtom`,[t$1.create(`node`,`mstyle`,[n$1],{displaystyle:!0,scriptlevel:0})],{texClass:ur.OP,movesupsub:!0})),jo.setProperty(o$1,`subsupOK`,!0),o$1},checkMovableLimits(t$1){let e$1=jo.isType(t$1,`mo`)?jo.getForm(t$1):null;(jo.getProperty(t$1,`movablelimits`)||e$1&&e$1[3]&&e$1[3].movablelimits)&&jo.setProperties(t$1,{movablelimits:!1})},setArrayAlign:(t$1,e$1,s$1)=>(s$1||(e$1=Ko.trimSpaces(e$1||``)),e$1===`t`?t$1.arraydef.align=`baseline 1`:e$1===`b`?t$1.arraydef.align=`baseline -1`:e$1===`c`?t$1.arraydef.align=`axis`:e$1&&(s$1?(s$1.string=`[${e$1}]`+s$1.string.slice(s$1.i),s$1.i=0):t$1.arraydef.align=e$1),t$1),substituteArgs(t$1,e$1,s$1){let i$1=``,r$1=``,n$1=0;for(;n$1<s$1.length;){let o$1=s$1.charAt(n$1++);if(o$1===`\\`)i$1+=o$1+s$1.charAt(n$1++);else if(o$1===`#`)if(o$1=s$1.charAt(n$1++),o$1===`#`)i$1+=o$1;else{if(!o$1.match(/[1-9]/)||parseInt(o$1,10)>e$1.length)throw new Qo(`IllegalMacroParam`,`Illegal macro parameter reference`);r$1=da.addArgs(t$1,da.addArgs(t$1,r$1,i$1),e$1[parseInt(o$1,10)-1]),i$1=``}else i$1+=o$1}return da.addArgs(t$1,r$1,i$1)},addArgs(t$1,e$1,s$1){if(s$1.match(/^[a-z]/i)&&e$1.match(/(^|[^\\])(\\\\)*\\[a-z]+$/i)&&(e$1+=` `),e$1.length+s$1.length>t$1.configuration.options.maxBuffer)throw new Qo(`MaxBufferSize`,`MathJax internal buffer size exceeded; is there a recursive macro call?`);return e$1+s$1},checkMaxMacros(t$1,e$1=!0){if(!(++t$1.macroCount<=t$1.configuration.options.maxMacros))throw e$1?new Qo(`MaxMacroSub1`,`MathJax maximum macro substitution count exceeded; is here a recursive macro call?`):new Qo(`MaxMacroSub2`,`MathJax maximum substitution count exceeded; is there a recursive latex environment?`)},checkEqnEnv(t$1,e$1=!0){let s$1=t$1.stack.Top(),i$1=s$1.First;if(!(s$1.getProperty(`nestable`)&&e$1&&!i$1||s$1.getProperty(`nestStart`))&&(!s$1.isKind(`start`)||i$1))throw new Qo(`ErroneousNestingEq`,`Erroneous nesting of equation structures`)},copyNode(t$1,e$1){let s$1=t$1.copy(),i$1=e$1.configuration;return s$1.walkTree((t$2=>{i$1.addNode(t$2.kind,t$2);let e$2=(t$2.getProperty(`in-lists`)||``).split(/,/);for(let s$2 of e$2)s$2&&i$1.addNode(s$2,t$2)})),s$1},mmlFilterAttribute:(t$1,e$1,s$1)=>s$1,getFontDef(t$1){let e$1=t$1.stack.env.font;return e$1?{mathvariant:e$1}:{}},keyvalOptions(t$1,e$1=null,s$1=!1,i$1=!1){let r$1=function(t$2,e$2=!1){let s$2={},i$2,r$2,n$1,o$1=t$2,a$1=!0;for(;o$1;)[r$2,i$2,o$1]=ha(o$1,[`=`,`,`],e$2,a$1),a$1=!1,i$2===`=`?([n$1,i$2,o$1]=ha(o$1,[`,`],e$2),n$1=n$1===`false`||n$1===`true`?JSON.parse(n$1):n$1,s$2[r$2]=n$1):r$2&&(s$2[r$2]=!0);return s$2}(t$1,i$1);if(e$1)for(let t$2 of Object.keys(r$1))if(Object.hasOwn(e$1,t$2)){if(e$1[t$2]instanceof aa){let s$2=e$1[t$2],i$2=String(r$1[t$2]);if(!s$2.verify(i$2))throw new Qo(`InvalidValue`,`Value for key '%1' is not of the expected type`,t$2);r$1[t$2]=s$2.convert(i$2)}}else{if(s$1)throw new Qo(`InvalidOption`,`Invalid option: %1`,t$2);delete r$1[t$2]}return r$1},isLatinOrGreekChar:t$1=>!!t$1.normalize(`NFD`).match(/[a-zA-Z\u0370-\u03F0]/)};class ua{constructor(){this.columnHandler={l:t$1=>t$1.calign[t$1.j++]=`left`,c:t$1=>t$1.calign[t$1.j++]=`center`,r:t$1=>t$1.calign[t$1.j++]=`right`,p:t$1=>this.getColumn(t$1,`top`),m:t$1=>this.getColumn(t$1,`middle`),b:t$1=>this.getColumn(t$1,`bottom`),w:t$1=>this.getColumn(t$1,`top`,``),W:t$1=>this.getColumn(t$1,`top`,``),"|":t$1=>this.addRule(t$1,`solid`),":":t$1=>this.addRule(t$1,`dashed`),">":t$1=>t$1.cstart[t$1.j]=(t$1.cstart[t$1.j]||``)+this.getBraces(t$1),"<":t$1=>t$1.cend[t$1.j-1]=(t$1.cend[t$1.j-1]||``)+this.getBraces(t$1),"@":t$1=>this.addAt(t$1,this.getBraces(t$1)),"!":t$1=>this.addBang(t$1,this.getBraces(t$1)),"*":t$1=>this.repeat(t$1),P:t$1=>this.macroColumn(t$1,`>{$}p{#1}<{$}`,1),M:t$1=>this.macroColumn(t$1,`>{$}m{#1}<{$}`,1),B:t$1=>this.macroColumn(t$1,`>{$}b{#1}<{$}`,1)," ":t$1=>{}},this.MAXCOLUMNS=1e4}process(t$1,e$1,s$1){let i$1={parser:t$1,template:e$1,i:0,j:0,c:``,cwidth:[],calign:[],cspace:[],clines:[],cstart:s$1.cstart,cend:s$1.cend,ralign:s$1.ralign,cextra:s$1.cextra},r$1=0;for(;i$1.i<i$1.template.length;){if(r$1++>this.MAXCOLUMNS)throw new Qo(`MaxColumns`,`Too many column specifiers (perhaps looping column definitions?)`);let t$2=i$1.template.codePointAt(i$1.i),e$2=i$1.c=String.fromCodePoint(t$2);if(i$1.i+=e$2.length,!Object.hasOwn(this.columnHandler,e$2))throw new Qo(`BadPreamToken`,`Illegal pream-token (%1)`,e$2);this.columnHandler[e$2](i$1)}this.setColumnAlign(i$1,s$1),this.setColumnWidths(i$1,s$1),this.setColumnSpacing(i$1,s$1),this.setColumnLines(i$1,s$1),this.setPadding(i$1,s$1)}setColumnAlign(t$1,e$1){e$1.arraydef.columnalign=t$1.calign.join(` `)}setColumnWidths(t$1,e$1){if(!t$1.cwidth.length)return;let s$1=[...t$1.cwidth];s$1.length<t$1.calign.length&&s$1.push(`auto`),e$1.arraydef.columnwidth=s$1.map((t$2=>t$2||`auto`)).join(` `)}setColumnSpacing(t$1,e$1){if(!t$1.cspace.length)return;let s$1=[...t$1.cspace];s$1.length<t$1.calign.length&&s$1.push(`1em`),e$1.arraydef.columnspacing=s$1.slice(1).map((t$2=>t$2||`1em`)).join(` `)}setColumnLines(t$1,e$1){if(!t$1.clines.length)return;let s$1=[...t$1.clines];s$1[0]&&e$1.frame.push([`left`,s$1[0]]),s$1.length>t$1.calign.length?e$1.frame.push([`right`,s$1.pop()]):s$1.length<t$1.calign.length&&s$1.push(`none`),s$1.length>1&&(e$1.arraydef.columnlines=s$1.slice(1).map((t$2=>t$2||`none`)).join(` `))}setPadding(t$1,e$1){if(!t$1.cextra[0]&&!t$1.cextra[t$1.calign.length-1])return;let s$1=t$1.calign.length-1,i$1=t$1.cspace,r$1=t$1.cextra[s$1]?i$1[s$1]:null;e$1.arraydef[`data-array-padding`]=`${i$1[0]||`.5em`} ${r$1||`.5em`}`}getColumn(t$1,e$1,s$1=`left`){t$1.calign[t$1.j]=s$1||this.getAlign(t$1),t$1.cwidth[t$1.j]=this.getDimen(t$1),t$1.ralign[t$1.j]=[e$1,t$1.cwidth[t$1.j],t$1.calign[t$1.j]],t$1.j++}getDimen(t$1){let e$1=this.getBraces(t$1);if(!Ko.matchDimen(e$1)[0])throw new Qo(`MissingColumnDimOrUnits`,`Missing dimension or its units for %1 column declaration`,t$1.c);return e$1}getAlign(t$1){return Fi(this.getBraces(t$1).toLowerCase(),{l:`left`,c:`center`,r:`right`},``)}getBraces(t$1){for(;t$1.template[t$1.i]===` `;)t$1.i++;if(t$1.i>=t$1.template.length)throw new Qo(`MissingArgForColumn`,`Missing argument for %1 column declaration`,t$1.c);if(t$1.template[t$1.i]!==`{`)return t$1.template[t$1.i++];let e$1=++t$1.i,s$1=1;for(;t$1.i<t$1.template.length;)switch(t$1.template.charAt(t$1.i++)){case`\\`:t$1.i++;break;case`{`:s$1++;break;case`}`:if(--s$1===0)return t$1.template.slice(e$1,t$1.i-1)}throw new Qo(`MissingCloseBrace`,`Missing close brace`)}macroColumn(t$1,e$1,s$1){let i$1=[];for(;s$1>0&&s$1--;)i$1.push(this.getBraces(t$1));t$1.template=da.substituteArgs(t$1.parser,i$1,e$1)+t$1.template.slice(t$1.i),t$1.i=0}addRule(t$1,e$1){t$1.clines[t$1.j]&&this.addAt(t$1,`\\,`),t$1.clines[t$1.j]=e$1,t$1.cspace[t$1.j]===`0`&&(t$1.cstart[t$1.j]=`\\hspace{.5em}`)}addAt(t$1,e$1){let{cstart:s$1,cspace:i$1,j:r$1}=t$1;t$1.cextra[r$1]=!0,t$1.calign[r$1]=`center`,t$1.clines[r$1]&&(i$1[r$1]===`.5em`?s$1[r$1-1]+=`\\hspace{.25em}`:i$1[r$1]||(t$1.cend[r$1-1]=(t$1.cend[r$1-1]||``)+`\\hspace{.5em}`)),s$1[r$1]=e$1,i$1[r$1]=`0`,i$1[++t$1.j]=`0`}addBang(t$1,e$1){let{cstart:s$1,cspace:i$1,j:r$1}=t$1;t$1.cextra[r$1]=!0,t$1.calign[r$1]=`center`,s$1[r$1]=(i$1[r$1]===`0`&&t$1.clines[r$1]?`\\hspace{.25em}`:``)+e$1,i$1[r$1]||(i$1[r$1]=`.5em`),i$1[++t$1.j]=`.5em`}repeat(t$1){let e$1=this.getBraces(t$1),s$1=this.getBraces(t$1),i$1=parseInt(e$1);if(String(i$1)!==e$1)throw new Qo(`ColArgNotNum`,`First argument to %1 column specifier must be a number`,`*`);t$1.template=Array(i$1).fill(s$1).join(``)+t$1.template.substring(t$1.i),t$1.i=0}}let pa=ea.Variant;class ma{constructor(t$1,e$1=[]){this.options={},this.columnParser=new ua,this.packageData=new Map,this.parsers=[],this.root=null,this.nodeLists={},this.error=!1,this.handlers=t$1.handlers,this.nodeFactory=new oa,this.nodeFactory.configuration=this,this.nodeFactory.setCreators(t$1.nodes),this.itemFactory=new na(t$1.items),this.itemFactory.configuration=this,Ri(this.options,...e$1),Ri(this.options,t$1.options),this.mathStyle=ma.getVariant.get(this.options.mathStyle)||ma.getVariant.get(`TeX`)}pushParser(t$1){this.parsers.unshift(t$1)}popParser(){this.parsers.shift()}get parser(){return this.parsers[0]}clear(){this.parsers=[],this.root=null,this.nodeLists={},this.error=!1,this.tags.resetTag()}addNode(t$1,e$1){let s$1=this.nodeLists[t$1];if(s$1||=this.nodeLists[t$1]=[],s$1.push(e$1),e$1.kind!==t$1){let s$2=jo.getProperty(e$1,`in-lists`)||``,i$1=(s$2?s$2.split(/,/):[]).concat(t$1).join(`,`);jo.setProperty(e$1,`in-lists`,i$1)}}getList(t$1){let e$1=this.nodeLists[t$1]||[],s$1=[];for(let t$2 of e$1)this.inTree(t$2)&&s$1.push(t$2);return this.nodeLists[t$1]=s$1,s$1}removeFromList(t$1,e$1){let s$1=this.nodeLists[t$1]||[];for(let t$2 of e$1){let e$2=s$1.indexOf(t$2);e$2>=0&&s$1.splice(e$2,1)}}inTree(t$1){for(;t$1&&t$1!==this.root;)t$1=t$1.parent;return!!t$1}}ma.getVariant=new Map([[`TeX`,(t$1,e$1)=>e$1&&t$1.match(/^[\u0391-\u03A9\u03F4]/)?pa.NORMAL:``],[`ISO`,t$1=>pa.ITALIC],[`French`,t$1=>t$1.normalize(`NFD`).match(/^[a-z]/)?pa.ITALIC:pa.NORMAL],[`upright`,t$1=>pa.NORMAL]]);let fa=ma;class ga{constructor(t$1=`???`,e$1=``){this.tag=t$1,this.id=e$1}}class ba{constructor(t$1=``,e$1=!1,s$1=!1,i$1=null,r$1=``,n$1=``,o$1=!1,a$1=``){this.env=t$1,this.taggable=e$1,this.defaultTags=s$1,this.tag=i$1,this.tagId=r$1,this.tagFormat=n$1,this.noTag=o$1,this.labelId=a$1}}class Ea{constructor(){this.counter=0,this.allCounter=0,this.configuration=null,this.ids={},this.allIds={},this.labels={},this.allLabels={},this.redo=!1,this.refUpdate=!1,this.currentTag=new ba,this.history=[],this.stack=[],this.enTag=function(t$1,e$1){let s$1=this.configuration.nodeFactory,i$1=s$1.create(`node`,`mtd`,[t$1]),r$1=s$1.create(`node`,`mlabeledtr`,[e$1,i$1]);return s$1.create(`node`,`mtable`,[r$1],{side:this.configuration.options.tagSide,minlabelspacing:this.configuration.options.tagIndent,displaystyle:!0})}}start(t$1,e$1,s$1){this.currentTag&&this.stack.push(this.currentTag);let i$1=this.label;this.currentTag=new ba(t$1,e$1,s$1),this.label=i$1}get env(){return this.currentTag.env}end(){this.history.push(this.currentTag);let t$1=this.label;this.currentTag=this.stack.pop(),t$1&&!this.label&&(this.label=t$1)}tag(t$1,e$1){this.currentTag.tag=t$1,this.currentTag.tagFormat=e$1?t$1:this.formatTag(t$1),this.currentTag.noTag=!1}notag(){this.tag(``,!0),this.currentTag.noTag=!0}get noTag(){return this.currentTag.noTag}set label(t$1){this.currentTag.labelId=t$1}get label(){return this.currentTag.labelId}formatUrl(t$1,e$1){return e$1+`#`+encodeURIComponent(t$1)}formatTag(t$1){return`(`+t$1+`)`}formatRef(t$1){return this.formatTag(t$1)}formatId(t$1){return`mjx-eqn:`+t$1.replace(/\s/g,`_`)}formatNumber(t$1){return t$1.toString()}autoTag(){this.currentTag.tag??(this.counter++,this.tag(this.formatNumber(this.counter),!1))}clearTag(){this.tag(null,!0),this.currentTag.tagId=``}getTag(t$1=!1){if(t$1)return this.autoTag(),this.makeTag();let e$1=this.currentTag;return e$1.taggable&&!e$1.noTag&&(e$1.defaultTags&&this.autoTag(),e$1.tag)?this.makeTag():null}resetTag(){this.history=[],this.redo=!1,this.refUpdate=!1,this.clearTag()}reset(t$1=0){this.resetTag(),this.counter=this.allCounter=t$1,this.allLabels={},this.allIds={},this.label=``}startEquation(t$1){this.history=[],this.stack=[],this.clearTag(),this.currentTag=new ba(``,void 0,void 0),this.labels={},this.ids={},this.counter=this.allCounter,this.redo=!1;let e$1=t$1.inputData.recompile;e$1&&(this.refUpdate=!0,this.counter=e$1.counter)}finishEquation(t$1){this.redo&&(t$1.inputData.recompile={state:t$1.state(),counter:this.allCounter}),this.refUpdate||(this.allCounter=this.counter),Object.assign(this.allIds,this.ids),Object.assign(this.allLabels,this.labels)}finalize(t$1,e$1){if(!e$1.display||this.currentTag.env||this.currentTag.tag==null)return t$1;let s$1=this.makeTag();return this.enTag(t$1,s$1)}makeId(){this.currentTag.tagId=this.formatId(this.configuration.options.useLabelIds&&this.label||this.currentTag.tag)}makeTag(){this.makeId(),this.label&&=(this.labels[this.label]=new ga(this.currentTag.tag,this.currentTag.tagId),``);let t$1=new sa(`\\text{`+this.currentTag.tagFormat+`}`,{},this.configuration).mml();return this.configuration.nodeFactory.create(`node`,`mtd`,[t$1],{id:this.currentTag.tagId,rowalign:this.configuration.options.tagAlign})}}class Na extends Ea{autoTag(){}getTag(){return this.currentTag.tag?super.getTag():null}}class ya extends Ea{finalize(t$1,e$1){if(!e$1.display||this.history.find((function(t$2){return t$2.taggable})))return t$1;let s$1=this.getTag(!0);return this.enTag(t$1,s$1)}}let xa=new Map([[`none`,Na],[`all`,ya]]),va=`none`,Ca={OPTIONS:{tags:va,tagSide:`right`,tagIndent:`0.8em`,useLabelIds:!0,ignoreDuplicateLabels:!1,tagAlign:`baseline`},add(t$1,e$1){xa.set(t$1,e$1)},addTags(t$1){for(let e$1 of Object.keys(t$1))Ca.add(e$1,t$1[e$1])},create(t$1){let e$1=xa.get(t$1)||xa.get(va);if(!e$1)throw Error(`Unknown tags class`);return new e$1},setDefault(t$1){va=t$1},getDefault:()=>Ca.create(va)};class Ta{constructor(t$1,e$1,s$1){this._token=t$1,this._char=e$1,this._attributes=s$1}get token(){return this._token}get char(){return this._char}get attributes(){return this._attributes}}class wa{constructor(t$1,e$1,s$1=[]){this._token=t$1,this._func=e$1,this._args=s$1}get token(){return this._token}get func(){return this._func}get args(){return this._args}}function _a(t$1){return t$1===void 0||t$1}class ka{constructor(t$1,e$1){this._name=t$1,this._parser=e$1,Pa.register(this)}get name(){return this._name}parserFor(t$1){return this.contains(t$1)?this.parser:null}parse([t$1,e$1]){let s$1=this.parserFor(e$1),i$1=this.lookup(e$1);return s$1&&i$1?_a(s$1(t$1,i$1)):null}set parser(t$1){this._parser=t$1}get parser(){return this._parser}}class Aa extends ka{constructor(t$1,e$1,s$1){super(t$1,e$1),this._regExp=s$1}contains(t$1){return this._regExp.test(t$1)}lookup(t$1){return this.contains(t$1)?t$1:null}}class La extends ka{constructor(){super(...arguments),this.map=new Map}lookup(t$1){return this.map.get(t$1)}contains(t$1){return this.map.has(t$1)}add(t$1,e$1){this.map.set(t$1,e$1)}remove(t$1){this.map.delete(t$1)}}class Ma extends La{constructor(t$1,e$1,s$1){super(t$1,e$1);for(let t$2 of Object.keys(s$1)){let e$2=s$1[t$2],[i$1,r$1]=typeof e$2==`string`?[e$2,null]:e$2,n$1=new Ta(t$2,i$1,r$1);this.add(t$2,n$1)}}}class Ia extends Ma{parse([t$1,e$1]){return super.parse([t$1,`\\`+e$1])}}class Sa extends La{constructor(t$1,e$1,s$1={}){super(t$1,null);let i$1=t$2=>typeof t$2==`string`?s$1[t$2]:t$2;for(let[t$2,s$2]of Object.entries(e$1)){let e$2,r$1;Array.isArray(s$2)?(e$2=i$1(s$2[0]),r$1=s$2.slice(1)):(e$2=i$1(s$2),r$1=[]);let n$1=new wa(t$2,e$2,r$1);this.add(t$2,n$1)}}parserFor(t$1){let e$1=this.lookup(t$1);return e$1?e$1.func:null}parse([t$1,e$1]){let s$1=this.lookup(e$1),i$1=this.parserFor(e$1);return s$1&&i$1?_a(i$1(t$1,s$1.token,...s$1.args)):null}}class Ra extends Sa{parse([t$1,e$1]){let s$1=this.lookup(e$1),i$1=this.parserFor(e$1);if(!s$1||!i$1)return null;let r$1=t$1.currentCS;t$1.currentCS=`\\`+e$1;let n$1=i$1(t$1,`\\`+s$1.token,...s$1.args);return t$1.currentCS=r$1,_a(n$1)}}class Oa extends Sa{constructor(t$1,e$1,s$1,i$1={}){super(t$1,s$1,i$1),this.parser=e$1}parse([t$1,e$1]){let s$1=this.lookup(e$1),i$1=this.parserFor(e$1);return s$1&&i$1?_a(this.parser(t$1,s$1.token,i$1,s$1.args)):null}}let Da=new Map,Pa={register(t$1){Da.set(t$1.name,t$1)},getMap:t$1=>Da.get(t$1)};class Ba{constructor(){this._configuration=new pi,this._fallback=new mi}add(t$1,e$1,s$1=pi.DEFAULTPRIORITY){for(let e$2 of t$1.slice().reverse()){let t$2=Pa.getMap(e$2);if(!t$2)return void this.warn(`Configuration '${e$2}' not found! Omitted.`);this._configuration.add(t$2,s$1)}e$1&&this._fallback.add(e$1,s$1)}remove(t$1,e$1=null){for(let e$2 of t$1){let t$2=this.retrieve(e$2);t$2&&this._configuration.remove(t$2)}e$1&&this._fallback.remove(e$1)}parse(t$1){for(let{item:e$2}of this._configuration){let s$2=e$2.parse(t$1);if(s$2===Ba.FALLBACK)break;if(s$2)return s$2}let[e$1,s$1]=t$1;Array.from(this._fallback)[0].item(e$1,s$1)}lookup(t$1){let e$1=this.applicable(t$1);return e$1?e$1.lookup(t$1):null}contains(t$1){let e$1=this.applicable(t$1);return!(!e$1||e$1 instanceof Ma&&e$1.lookup(t$1).char===null)}toString(){let t$1=[];for(let{item:e$1}of this._configuration)t$1.push(e$1.name);return t$1.join(`, `)}applicable(t$1){for(let{item:e$1}of this._configuration)if(e$1.contains(t$1))return e$1;return null}retrieve(t$1){for(let{item:e$1}of this._configuration)if(e$1.name===t$1)return e$1;return null}warn(t$1){console.log(`TexParser Warning: `+t$1)}}Ba.FALLBACK=Symbol(`fallback`);class Fa{constructor(){this.map=new Map}add(t$1,e$1,s$1=pi.DEFAULTPRIORITY){for(let i$1 of Object.keys(t$1)){let r$1=i$1,n$1=this.get(r$1);n$1||(n$1=new Ba,this.set(r$1,n$1)),n$1.add(t$1[r$1],e$1[r$1],s$1)}}remove(t$1,e$1){for(let s$1 of Object.keys(t$1)){let i$1=this.get(s$1);i$1&&i$1.remove(t$1[s$1],e$1[s$1])}}set(t$1,e$1){this.map.set(t$1,e$1)}get(t$1){return this.map.get(t$1)}retrieve(t$1){for(let e$1 of this.map.values()){let s$1=e$1.retrieve(t$1);if(s$1)return s$1}return null}keys(){return this.map.keys()}}class ja{static makeProcessor(t$1,e$1){return Array.isArray(t$1)?t$1:[t$1,e$1]}static _create(t$1,e$1={}){var s$1;let i$1=e$1.priority??pi.DEFAULTPRIORITY,r$1=e$1.init?this.makeProcessor(e$1.init,i$1):null,n$1=e$1.config?this.makeProcessor(e$1.config,i$1):null,o$1=(e$1.preprocessors||[]).map((t$2=>this.makeProcessor(t$2,i$1))),a$1=(e$1.postprocessors||[]).map((t$2=>this.makeProcessor(t$2,i$1))),c$1=e$1.parser||`tex`;return new ja(t$1,e$1[Vo.HANDLER]||{},e$1[Vo.FALLBACK]||{},e$1[Vo.ITEMS]||{},e$1[Vo.TAGS]||{},e$1[Vo.OPTIONS]||{},e$1[Vo.NODES]||{},o$1,a$1,r$1,n$1,i$1,c$1)}static create(t$1,e$1={}){let s$1=ja._create(t$1,e$1);return qa.set(t$1,s$1),s$1}static local(t$1={}){return ja._create(``,t$1)}constructor(t$1,e$1={},s$1={},i$1={},r$1={},n$1={},o$1={},a$1=[],c$1=[],l$1=null,h$1=null,d$1,u$1){this.name=t$1,this.handler=e$1,this.fallback=s$1,this.items=i$1,this.tags=r$1,this.options=n$1,this.nodes=o$1,this.preprocessors=a$1,this.postprocessors=c$1,this.initMethod=l$1,this.configMethod=h$1,this.priority=d$1,this.parser=u$1,this.handler=Object.assign({[Go.CHARACTER]:[],[Go.DELIMITER]:[],[Go.MACRO]:[],[Go.ENVIRONMENT]:[]},e$1)}get init(){return this.initMethod?this.initMethod[0]:null}get config(){return this.configMethod?this.configMethod[0]:null}}let Ua=new Map,qa={set(t$1,e$1){Ua.set(t$1,e$1)},get:t$1=>Ua.get(t$1),keys:()=>Ua.keys()};class Ha{constructor(t$1,e$1=[`tex`]){this.initMethod=new mi,this.configMethod=new mi,this.configurations=new pi,this.parsers=[],this.handlers=new Fa,this.items={},this.tags={},this.options={},this.nodes={},this.parsers=e$1;for(let e$2 of t$1.slice().reverse())this.addPackage(e$2);for(let{item:t$2,priority:e$2}of this.configurations)this.append(t$2,e$2)}init(){this.initMethod.execute(this)}config(t$1){this.configMethod.execute(this,t$1);for(let e$1 of this.configurations)this.addFilters(t$1,e$1.item)}addPackage(t$1){let e$1=typeof t$1==`string`?t$1:t$1[0],s$1=this.getPackage(e$1);s$1&&this.configurations.add(s$1,typeof t$1==`string`?s$1.priority:t$1[1])}add(t$1,e$1,s$1={}){let i$1=this.getPackage(t$1);this.append(i$1),this.configurations.add(i$1,i$1.priority),this.init();let r$1=e$1.parseOptions;r$1.nodeFactory.setCreators(i$1.nodes);for(let t$2 of Object.keys(i$1.items))r$1.itemFactory.setNodeClass(t$2,i$1.items[t$2]);Ca.addTags(i$1.tags),Ri(r$1.options,i$1.options),Oi(r$1.options,s$1),this.addFilters(e$1,i$1),i$1.config&&i$1.config(this,e$1)}getPackage(t$1){let e$1=qa.get(t$1);if(e$1&&!this.parsers.includes(e$1.parser))throw Error(`Package '${t$1}' doesn't target the proper parser`);return e$1||this.warn(`Package '${t$1}' not found.  Omitted.`),e$1}append(t$1,e$1){e$1||=t$1.priority,t$1.initMethod&&this.initMethod.add(t$1.initMethod[0],t$1.initMethod[1]),t$1.configMethod&&this.configMethod.add(t$1.configMethod[0],t$1.configMethod[1]),this.handlers.add(t$1.handler,t$1.fallback,e$1),Object.assign(this.items,t$1.items),Object.assign(this.tags,t$1.tags),Ri(this.options,t$1.options),Object.assign(this.nodes,t$1.nodes)}addFilters(t$1,e$1){for(let[s$1,i$1]of e$1.preprocessors)t$1.preFilters.add(s$1,i$1);for(let[s$1,i$1]of e$1.postprocessors)t$1.postFilters.add(s$1,i$1)}warn(t$1){console.warn(`MathJax Warning: `+t$1)}}class Wa extends ta{constructor(t$1,e$1){super(t$1),this.global=e$1}get kind(){return`start`}get isOpen(){return!0}checkItem(t$1){if(t$1.isKind(`stop`)){let t$2=this.toMml();return this.global.isInner||(t$2=this.factory.configuration.tags.finalize(t$2,this.env)),[[this.factory.create(`mml`,t$2)],!0]}return super.checkItem(t$1)}}class za extends ta{get kind(){return`stop`}get isClose(){return!0}}class Xa extends ta{get kind(){return`open`}get isOpen(){return!0}checkItem(t$1){if(t$1.isKind(`close`)){let e$1=this.toMml(),s$1=this.create(`node`,`TeXAtom`,[e$1]);return fc(s$1,t$1),[[this.factory.create(`mml`,s$1)],!0]}return super.checkItem(t$1)}}Xa.errors=Object.assign(Object.create(ta.errors),{stop:[`ExtraOpenMissingClose`,`Extra open brace or missing close brace`]});class Va extends ta{get kind(){return`close`}get isClose(){return!0}}class Ga extends ta{get kind(){return`null`}}class Ja extends ta{get kind(){return`prime`}checkItem(t$1){let[e$1,s$1]=this.Peek(2),i$1=(jo.isType(e$1,`msubsup`)||jo.isType(e$1,`msup`))&&!jo.getChildAt(e$1,e$1.sup),r$1=(jo.isType(e$1,`munderover`)||jo.isType(e$1,`mover`))&&!jo.getChildAt(e$1,e$1.over)&&!jo.getProperty(e$1,`subsupOK`);if(!i$1&&!r$1)return[[this.create(`node`,e$1.getProperty(`movesupsub`)?`mover`:`msup`,[e$1,s$1]),t$1],!0];let n$1=i$1?e$1.sup:e$1.over;return jo.setChild(e$1,n$1,s$1),[[e$1,t$1],!0]}}class Ka extends ta{get kind(){return`subsup`}checkItem(t$1){if(t$1.isKind(`open`)||t$1.isKind(`left`))return ta.success;let e$1=this.First,s$1=this.getProperty(`position`);if(t$1.isKind(`mml`))return this.getProperty(`primes`)&&(s$1===2?(jo.setProperty(this.getProperty(`primes`),`variantForm`,!0),t$1.First=this.create(`node`,`mrow`,[this.getProperty(`primes`),t$1.First])):jo.setChild(e$1,2,this.getProperty(`primes`))),jo.setChild(e$1,s$1,t$1.First),this.getProperty(`movesupsub`)!=null&&jo.setProperty(e$1,`movesupsub`,this.getProperty(`movesupsub`)),[[this.factory.create(`mml`,e$1)],!0];super.checkItem(t$1);let i$1=this.getErrors([``,`sub`,`sup`][s$1]);throw new Qo(i$1[0],i$1[1],...i$1.splice(2))}}Ka.errors=Object.assign(Object.create(ta.errors),{stop:[`MissingScript`,`Missing superscript or subscript argument`],sup:[`MissingOpenForSup`,`Missing open brace for superscript`],sub:[`MissingOpenForSub`,`Missing open brace for subscript`]});class $a extends ta{constructor(t$1){super(t$1),this.setProperty(`name`,`\\over`)}get kind(){return`over`}get isClose(){return!0}checkItem(t$1){if(t$1.isKind(`over`))throw new Qo(`AmbiguousUseOf`,`Ambiguous use of %1`,t$1.getName());if(t$1.isClose){let e$1=this.create(`node`,`mfrac`,[this.getProperty(`num`),this.toMml(!1)]);return this.getProperty(`thickness`)!=null&&jo.setAttribute(e$1,`linethickness`,this.getProperty(`thickness`)),(this.getProperty(`ldelim`)||this.getProperty(`rdelim`))&&(jo.setProperty(e$1,`withDelims`,!0),e$1=da.fixedFence(this.factory.configuration,this.getProperty(`ldelim`),e$1,this.getProperty(`rdelim`))),e$1.attributes.set(ea.Attr.LATEXITEM,this.getProperty(`name`)),[[this.factory.create(`mml`,e$1),t$1],!0]}return super.checkItem(t$1)}toString(){return`over[`+this.getProperty(`num`)+` / `+this.nodes.join(`; `)+`]`}}class Ya extends ta{constructor(t$1,e$1){super(t$1),this.setProperty(`delim`,e$1)}get kind(){return`left`}get isOpen(){return!0}checkItem(t$1){if(t$1.isKind(`right`)){let e$1=da.fenced(this.factory.configuration,this.getProperty(`delim`),this.toMml(),t$1.getProperty(`delim`),``,t$1.getProperty(`color`)),s$1=e$1.childNodes[0],i$1=e$1.childNodes[e$1.childNodes.length-1],r$1=this.factory.create(`mml`,e$1);return fc(s$1,this,`\\left`),fc(i$1,t$1,`\\right`),r$1.Peek()[0].attributes.set(ea.Attr.LATEXITEM,`\\left`+t$1.startStr.slice(this.startI,t$1.stopI)),[[r$1],!0]}if(t$1.isKind(`middle`)){let e$1={stretchy:!0};t$1.getProperty(`color`)&&(e$1.mathcolor=t$1.getProperty(`color`));let s$1=this.create(`token`,`mo`,e$1,t$1.getProperty(`delim`));return fc(s$1,t$1,`\\middle`),this.Push(this.create(`node`,`TeXAtom`,[],{texClass:ur.CLOSE}),s$1,this.create(`node`,`TeXAtom`,[],{texClass:ur.OPEN})),this.env={},[[this],!0]}return super.checkItem(t$1)}}Ya.errors=Object.assign(Object.create(ta.errors),{stop:[`ExtraLeftMissingRight`,`Extra \\left or missing \\right`]});class Qa extends ta{constructor(t$1,e$1,s$1){super(t$1),this.setProperty(`delim`,e$1),s$1&&this.setProperty(`color`,s$1)}get kind(){return`middle`}get isClose(){return!0}}class Za extends ta{constructor(t$1,e$1,s$1){super(t$1),this.setProperty(`delim`,e$1),s$1&&this.setProperty(`color`,s$1)}get kind(){return`right`}get isClose(){return!0}}class tc extends ta{get kind(){return`break`}constructor(t$1,e$1,s$1){super(t$1),this.setProperty(`linebreak`,e$1),this.setProperty(`insert`,s$1)}checkItem(t$1){var e$1,s$1;let i$1=this.getProperty(`linebreak`);if(t$1.isKind(`mml`)){let r$2=t$1.First;if(r$2.isKind(`mo`)){if((jo.getOp(r$2)?.[3]?.linebreakstyle||jo.getAttribute(r$2,`linebreakstyle`))!==`after`)return jo.setAttribute(r$2,`linebreak`,i$1),[[t$1],!0];if(!this.getProperty(`insert`))return[[t$1],!0]}}let r$1=this.create(`token`,`mspace`,{linebreak:i$1});return[[this.factory.create(`mml`,r$1),t$1],!0]}}class ec extends ta{get kind(){return`begin`}get isOpen(){return!0}checkItem(t$1){if(t$1.isKind(`end`)){if(t$1.getName()!==this.getName())throw new Qo(`EnvBadEnd`,`\\begin{%1} ended with \\end{%2}`,this.getName(),t$1.getName());let e$1=this.toMml();return fc(e$1,t$1),[[this.factory.create(`mml`,e$1)],!0]}if(t$1.isKind(`stop`))throw new Qo(`EnvMissingEnd`,`Missing \\end{%1}`,this.getName());return super.checkItem(t$1)}}class sc extends ta{get kind(){return`end`}get isClose(){return!0}}class ic extends ta{get kind(){return`style`}checkItem(t$1){if(!t$1.isClose)return super.checkItem(t$1);let e$1=this.create(`node`,`mstyle`,this.nodes,this.getProperty(`styles`));return[[this.factory.create(`mml`,e$1),t$1],!0]}}class rc extends ta{get kind(){return`position`}checkItem(t$1){if(t$1.isClose)throw new Qo(`MissingBoxFor`,`Missing box for %1`,this.getName());if(t$1.isFinal){let e$1=t$1.toMml();switch(this.getProperty(`move`)){case`vertical`:return e$1=this.create(`node`,`mpadded`,[e$1],{height:this.getProperty(`dh`),depth:this.getProperty(`dd`),voffset:this.getProperty(`dh`)}),[[this.factory.create(`mml`,e$1)],!0];case`horizontal`:return[[this.factory.create(`mml`,this.getProperty(`left`)),t$1,this.factory.create(`mml`,this.getProperty(`right`))],!0]}}return super.checkItem(t$1)}}class nc extends ta{get kind(){return`cell`}get isClose(){return!0}}class oc extends ta{get isFinal(){return!0}get kind(){return`mml`}}class ac extends ta{get kind(){return`fn`}checkItem(t$1){let e$1=this.First;if(e$1){if(t$1.isOpen)return ta.success;if(!t$1.isKind(`fn`)){let s$1=t$1.First;if(!t$1.isKind(`mml`)||!s$1||jo.isType(s$1,`mstyle`)&&s$1.childNodes.length&&jo.isType(s$1.childNodes[0].childNodes[0],`mspace`)||jo.isType(s$1,`mspace`))return[[e$1,t$1],!0];jo.isEmbellished(s$1)&&(s$1=jo.getCoreMO(s$1));let i$1=jo.getForm(s$1);if(i$1!=null&&[0,0,1,1,0,1,1,0,0,0][i$1[2]])return[[e$1,t$1],!0]}return[[e$1,this.create(`token`,`mo`,{texClass:ur.NONE},go.ApplyFunction),t$1],!0]}return super.checkItem(t$1)}}class cc extends ta{constructor(){super(...arguments),this.remap=Pa.getMap(`not_remap`)}get kind(){return`not`}checkItem(t$1){let e$1,s$1,i$1;if(t$1.isKind(`open`)||t$1.isKind(`left`))return ta.success;if(t$1.isKind(`mml`)&&(jo.isType(t$1.First,`mo`)||jo.isType(t$1.First,`mi`)||jo.isType(t$1.First,`mtext`))&&(e$1=t$1.First,s$1=jo.getText(e$1),s$1.length===1&&!jo.getProperty(e$1,`movesupsub`)&&jo.getChildren(e$1).length===1))return this.remap.contains(s$1)?(i$1=this.create(`text`,this.remap.lookup(s$1).char),jo.setChild(e$1,0,i$1)):(i$1=this.create(`text`,``),jo.appendChildren(e$1,[i$1])),[[t$1],!0];i$1=this.create(`text`,``);let r$1=this.create(`node`,`mtext`,[],{},i$1),n$1=this.create(`node`,`mpadded`,[r$1],{width:0});return e$1=this.create(`node`,`TeXAtom`,[n$1],{texClass:ur.REL}),[[e$1,t$1],!0]}}class lc extends ta{get kind(){return`nonscript`}checkItem(t$1){if(t$1.isKind(`mml`)&&t$1.Size()===1){let e$1=t$1.First;if(e$1.isKind(`mstyle`)&&e$1.notParent&&(e$1=jo.getChildren(jo.getChildren(e$1)[0])[0]),e$1.isKind(`mspace`)){if(e$1!==t$1.First){let e$2=this.create(`node`,`mrow`,[t$1.Pop()]);t$1.Push(e$2)}this.factory.configuration.addNode(`nonscript`,t$1.First)}}return[[t$1],!0]}}class hc extends ta{get kind(){return`dots`}checkItem(t$1){if(t$1.isKind(`open`)||t$1.isKind(`left`))return ta.success;let e$1=this.getProperty(`ldots`),s$1=t$1.First;if(t$1.isKind(`mml`)&&jo.isEmbellished(s$1)){let t$2=jo.getTexClass(jo.getCoreMO(s$1));t$2!==ur.BIN&&t$2!==ur.REL||(e$1=this.getProperty(`cdots`))}return[[e$1,t$1],!0]}}class dc extends ta{constructor(){super(...arguments),this.table=[],this.row=[],this.frame=[],this.hfill=[],this.arraydef={},this.cstart=[],this.cend=[],this.cextra=[],this.atEnd=!1,this.ralign=[],this.breakAlign={cell:``,row:``,table:``},this.templateSubs=0}get kind(){return`array`}get isOpen(){return!0}get copyEnv(){return!1}checkItem(t$1){if(t$1.isClose&&!t$1.isKind(`over`)){if(t$1.getProperty(`isEntry`))return this.EndEntry(),this.clearEnv(),this.StartEntry(),ta.fail;if(t$1.getProperty(`isCR`))return this.EndEntry(),this.EndRow(),this.clearEnv(),this.StartEntry(),ta.fail;this.EndTable(),this.clearEnv();let e$1=this.factory.create(`mml`,this.createMml());if(this.getProperty(`requireClose`)){if(t$1.isKind(`close`))return[[e$1],!0];throw new Qo(`MissingCloseBrace`,`Missing close brace`)}return[[e$1,t$1],!0]}return super.checkItem(t$1)}createMml(){let t$1=this.arraydef.scriptlevel;delete this.arraydef.scriptlevel;let e$1=this.create(`node`,`mtable`,this.table,this.arraydef);return t$1&&e$1.setProperty(`smallmatrix`,!0),this.breakAlign.table&&jo.setAttribute(e$1,`data-break-align`,this.breakAlign.table),this.getProperty(`arrayPadding`)&&(jo.setAttribute(e$1,`data-frame-styles`,``),jo.setAttribute(e$1,`framespacing`,this.getProperty(`arrayPadding`))),e$1=this.handleFrame(e$1),t$1!==void 0&&(e$1=this.create(`node`,`mstyle`,[e$1],{scriptlevel:t$1})),(this.getProperty(`open`)||this.getProperty(`close`))&&(e$1=da.fenced(this.factory.configuration,this.getProperty(`open`),e$1,this.getProperty(`close`))),e$1}handleFrame(t$1){if(!this.frame.length)return t$1;let e$1=new Map(this.frame),s$1=this.frame.reduce(((t$2,[,e$2])=>e$2===t$2?e$2:``),this.frame[0][1]);if(s$1){if(this.frame.length===4)return jo.setAttribute(t$1,`frame`,s$1),jo.removeAttribute(t$1,`data-frame-styles`),t$1;if(s$1===`solid`)return jo.setAttribute(t$1,`data-frame-styles`,``),t$1=this.create(`node`,`menclose`,[t$1],{notation:Array.from(e$1.keys()).join(` `),"data-padding":0})}let i$1=To.map((t$2=>e$1.get(t$2)||`none`)).join(` `);return jo.setAttribute(t$1,`data-frame-styles`,i$1),t$1}StartEntry(){let t$1=this.row.length,e$1=this.cstart[t$1],s$1=this.cend[t$1],i$1=this.ralign[t$1],r$1=this.cextra;if(!(e$1||s$1||i$1||r$1[t$1]||r$1[t$1+1]))return;let[n$1,o$1,a$1,c$1]=this.getEntry();if(!r$1[t$1]||this.atEnd&&!r$1[t$1+1]||(e$1+=`&`),a$1!==`&`&&(c$1=!!o$1.trim()||!!(t$1||a$1&&a$1.substring(0,4)!==`\\end`),r$1[t$1+1]&&!r$1[t$1]&&(s$1=(s$1||``)+`&`,this.atEnd=!0)),!c$1&&!n$1)return;let l$1=this.parser;if(c$1&&(e$1&&(o$1=da.addArgs(l$1,e$1,o$1)),s$1&&(o$1=da.addArgs(l$1,o$1,s$1)),i$1&&(o$1=`\\text{`+o$1.trim()+`}`),(e$1||s$1||i$1)&&++this.templateSubs>l$1.configuration.options.maxTemplateSubtitutions))throw new Qo(`MaxTemplateSubs`,`Maximum template substitutions exceeded; is there an invalid use of \\\\ in the template?`);n$1&&(o$1=da.addArgs(l$1,n$1,o$1)),l$1.string=da.addArgs(l$1,o$1,l$1.string),l$1.i=0}getEntry(){let t$1=this.parser,e$1=/^([^]*?)([&{}]|\\\\|\\(?:begin|end)\s*\{array\}|\\cr|\\)/,s$1,i$1=0,r$1=0,n$1=t$1.i,o$1=[``,``,``,!1];for(;(s$1=t$1.string.slice(n$1).match(e$1))!==null;)switch(n$1+=s$1[0].length,s$1[2]){case`\\`:n$1++;break;case`{`:i$1++;break;case`}`:if(!i$1)return o$1;i$1--;break;case`\\begin{array}`:i$1||r$1++;break;case`\\end{array}`:if(!i$1&&r$1){r$1--;break}default:{if(i$1||r$1)continue;n$1-=s$1[2].length;let e$2=t$1.string.slice(t$1.i,n$1).trim(),o$2=e$2.match(/^(?:\s*\\(?:h(?:dash)?line|hfil{1,3}|rowcolor\s*\{.*?\}))+/);return o$2&&(e$2=e$2.slice(o$2[0].length)),t$1.string=t$1.string.slice(n$1),t$1.i=0,[o$2?.[0]||``,e$2,s$1[2],!0]}}return o$1}EndEntry(){let t$1=this.create(`node`,`mtd`,this.nodes);this.hfill.length&&(this.hfill[0]===0&&jo.setAttribute(t$1,`columnalign`,`right`),this.hfill[this.hfill.length-1]===this.Size()&&jo.setAttribute(t$1,`columnalign`,jo.getAttribute(t$1,`columnalign`)?`center`:`left`));let e$1=this.ralign[this.row.length];if(e$1){let[s$1,i$1,r$1]=e$1,n$1=this.create(`node`,`mpadded`,t$1.childNodes[0].childNodes,{width:i$1,"data-overflow":`auto`,"data-align":r$1,"data-vertical-align":s$1});n$1.setProperty(`vbox`,s$1),t$1.childNodes[0].childNodes=[],t$1.appendChild(n$1)}else this.breakAlign.cell&&jo.setAttribute(t$1,`data-vertical-align`,this.breakAlign.cell);this.breakAlign.cell=``,this.row.push(t$1),this.Clear(),this.hfill=[]}EndRow(){let t$1=`mtr`;this.getProperty(`isNumbered`)&&this.row.length===3?(this.row.unshift(this.row.pop()),t$1=`mlabeledtr`):this.getProperty(`isLabeled`)&&(t$1=`mlabeledtr`,this.setProperty(`isLabeled`,!1));let e$1=this.create(`node`,t$1,this.row);this.breakAlign.row&&(jo.setAttribute(e$1,`data-break-align`,this.breakAlign.row),this.breakAlign.row=``),fc(e$1,this),this.table.push(e$1),this.row=[],this.atEnd=!1}EndTable(){(this.Size()||this.row.length)&&(this.EndEntry(),this.EndRow()),this.checkLines()}checkLines(){if(this.arraydef.rowlines){let t$1=this.arraydef.rowlines.split(/ /);t$1.length===this.table.length?(this.frame.push([`bottom`,t$1.pop()]),t$1.length?this.arraydef.rowlines=t$1.join(` `):delete this.arraydef.rowlines):t$1.length<this.table.length-1&&(this.arraydef.rowlines+=` none`)}if(this.getProperty(`rowspacing`)){let t$1=this.arraydef.rowspacing.split(/ /);for(;t$1.length<this.table.length;)t$1.push(this.getProperty(`rowspacing`)+`em`);this.arraydef.rowspacing=t$1.join(` `)}}addRowSpacing(t$1){if(this.arraydef.rowspacing){let e$1=this.arraydef.rowspacing.split(/ /);if(!this.getProperty(`rowspacing`)){let t$2=Ko.dimen2em(e$1[0]);this.setProperty(`rowspacing`,t$2)}let s$1=this.getProperty(`rowspacing`);for(;e$1.length<this.table.length;)e$1.push(Ko.em(s$1));e$1[this.table.length-1]=Ko.em(Math.max(0,s$1+Ko.dimen2em(t$1))),this.arraydef.rowspacing=e$1.join(` `)}}}class uc extends dc{constructor(t$1,...e$1){super(t$1),this.maxrow=0,this.factory.configuration.tags.start(e$1[0],e$1[2],e$1[1])}get kind(){return`eqnarray`}EndEntry(){let t$1=this.arraydef.columnalign.split(/ /);(this.row.length&&t$1.length?t$1[this.row.length%t$1.length]:`right`)!==`right`&&da.fixInitialMO(this.factory.configuration,this.nodes),super.EndEntry()}EndRow(){this.row.length>this.maxrow&&(this.maxrow=this.row.length);let t$1=this.factory.configuration.tags.getTag();t$1&&(this.row=[t$1].concat(this.row),this.setProperty(`isLabeled`,!0)),this.factory.configuration.tags.clearTag(),super.EndRow()}EndTable(){super.EndTable(),this.factory.configuration.tags.end(),this.extendArray(`columnalign`,this.maxrow),this.extendArray(`columnwidth`,this.maxrow),this.extendArray(`columnspacing`,this.maxrow-1),this.extendArray(`data-break-align`,this.maxrow),this.addIndentshift()}extendArray(t$1,e$1){if(!this.arraydef[t$1])return;let s$1=this.arraydef[t$1].split(/ /),i$1=[...s$1];if(i$1.length>1){for(;i$1.length<e$1;)i$1.push(...s$1);this.arraydef[t$1]=i$1.slice(0,e$1).join(` `)}}addIndentshift(){let t$1=this.arraydef.columnalign.split(/ /),e$1=``;for(let s$1 of t$1.keys()){if(t$1[s$1]===`left`&&s$1>0){let t$2=e$1===`center`?`.7em`:`2em`;for(let e$2 of this.table){let i$1=e$2.childNodes[e$2.isKind(`mlabeledtr`)?s$1+1:s$1];if(i$1){let e$3=this.create(`node`,`mstyle`,i$1.childNodes[0].childNodes,{indentshift:t$2});i$1.childNodes[0].childNodes=[],i$1.appendChild(e$3)}}}e$1=t$1[s$1]}}}class pc extends ec{get kind(){return`mstyle`}constructor(t$1,e$1,s$1){super(t$1),this.attrList=e$1,this.setProperty(`name`,s$1)}checkItem(t$1){return t$1.isKind(`end`)&&t$1.getName()===this.getName()?[[this.create(`node`,`mstyle`,[this.toMml()],this.attrList)],!0]:super.checkItem(t$1)}}class mc extends ta{constructor(t$1,...e$1){super(t$1),this.factory.configuration.tags.start(`equation`,!0,e$1[0])}get kind(){return`equation`}get isOpen(){return!0}checkItem(t$1){if(t$1.isKind(`end`)){let e$1=this.toMml(),s$1=this.factory.configuration.tags.getTag();return this.factory.configuration.tags.end(),[[s$1?this.factory.configuration.tags.enTag(e$1,s$1):e$1,t$1],!0]}if(t$1.isKind(`stop`))throw new Qo(`EnvMissingEnd`,`Missing \\end{%1}`,this.getName());return super.checkItem(t$1)}}function fc(t$1,e$1,s$1=``){let i$1=e$1.startStr.slice(e$1.startI,e$1.stopI);i$1&&(t$1.attributes.set(ea.Attr.LATEXITEM,s$1?s$1+i$1:i$1),t$1.attributes.set(ea.Attr.LATEX,s$1?s$1+i$1:i$1))}let gc=1.2/.85,bc={fontfamily:1,fontsize:1,fontweight:1,fontstyle:1,color:1,background:1,id:1,class:1,href:1,style:1};function Ec(t$1,e$1=1/0){let s$1=t$1.replace(/\s+/g,``).split(``).map((t$2=>{let e$2={t:`top`,b:`bottom`,m:`middle`,c:`center`}[t$2];if(!e$2)throw new Qo(`BadBreakAlign`,`Invalid alignment character: %1`,t$2);return e$2}));if(s$1.length>e$1)throw new Qo(`TooManyAligns`,`Too many alignment characters: %1`,t$1);return e$1===1?s$1[0]:s$1.join(` `)}function Nc(t$1,e$1){let s$1=t$1.stack.env,i$1=s$1.inRoot;s$1.inRoot=!0;let r$1=new sa(e$1,s$1,t$1.configuration),n$1=r$1.mml(),o$1=r$1.stack.global;if(o$1.leftRoot||o$1.upRoot){let e$2={};o$1.leftRoot&&(e$2.width=o$1.leftRoot),o$1.upRoot&&(e$2.voffset=o$1.upRoot,e$2.height=o$1.upRoot),n$1=t$1.create(`node`,`mpadded`,[n$1],e$2)}return s$1.inRoot=i$1,n$1}let yc={Open(t$1,e$1){t$1.Push(t$1.itemFactory.create(`open`))},Close(t$1,e$1){t$1.Push(t$1.itemFactory.create(`close`))},Bar(t$1,e$1){t$1.Push(t$1.create(`token`,`mo`,{stretchy:!1,texClass:ur.ORD},e$1))},Tilde(t$1,e$1){t$1.Push(t$1.create(`token`,`mtext`,{},go.nbsp))},Space(t$1,e$1){},Superscript(t$1,e$1){let s$1,i$1;t$1.GetNext().match(/\d/)&&(t$1.string=t$1.string.substring(0,t$1.i+1)+` `+t$1.string.substring(t$1.i+1));let r$1=t$1.stack.Top();r$1.isKind(`prime`)?([i$1,s$1]=r$1.Peek(2),t$1.stack.Pop()):(i$1=t$1.stack.Prev(),i$1||=t$1.create(`token`,`mi`,{},``));let n$1=jo.getProperty(i$1,`movesupsub`),o$1=jo.isType(i$1,`msubsup`)?i$1.sup:i$1.over;if(jo.isType(i$1,`msubsup`)&&!jo.isType(i$1,`msup`)&&jo.getChildAt(i$1,i$1.sup)||jo.isType(i$1,`munderover`)&&!jo.isType(i$1,`mover`)&&jo.getChildAt(i$1,i$1.over)&&!jo.getProperty(i$1,`subsupOK`))throw new Qo(`DoubleExponent`,`Double exponent: use braces to clarify`);jo.isType(i$1,`msubsup`)&&!jo.isType(i$1,`msup`)||(n$1?((!jo.isType(i$1,`munderover`)||jo.isType(i$1,`mover`)||jo.getChildAt(i$1,i$1.over))&&(i$1=t$1.create(`node`,`munderover`,[i$1],{movesupsub:!0})),o$1=i$1.over):(i$1=t$1.create(`node`,`msubsup`,[i$1]),o$1=i$1.sup)),t$1.Push(t$1.itemFactory.create(`subsup`,i$1).setProperties({position:o$1,primes:s$1,movesupsub:n$1}))},Subscript(t$1,e$1){let s$1,i$1;t$1.GetNext().match(/\d/)&&(t$1.string=t$1.string.substring(0,t$1.i+1)+` `+t$1.string.substring(t$1.i+1));let r$1=t$1.stack.Top();r$1.isKind(`prime`)?([i$1,s$1]=r$1.Peek(2),t$1.stack.Pop()):(i$1=t$1.stack.Prev(),i$1||=t$1.create(`token`,`mi`,{},``));let n$1=jo.getProperty(i$1,`movesupsub`),o$1=jo.isType(i$1,`msubsup`)?i$1.sub:i$1.under;if(jo.isType(i$1,`msubsup`)&&!jo.isType(i$1,`msup`)&&jo.getChildAt(i$1,i$1.sub)||jo.isType(i$1,`munderover`)&&!jo.isType(i$1,`mover`)&&jo.getChildAt(i$1,i$1.under)&&!jo.getProperty(i$1,`subsupOK`))throw new Qo(`DoubleSubscripts`,`Double subscripts: use braces to clarify`);jo.isType(i$1,`msubsup`)&&!jo.isType(i$1,`msup`)||(n$1?((!jo.isType(i$1,`munderover`)||jo.isType(i$1,`mover`)||jo.getChildAt(i$1,i$1.under))&&(i$1=t$1.create(`node`,`munderover`,[i$1],{movesupsub:!0})),o$1=i$1.under):(i$1=t$1.create(`node`,`msubsup`,[i$1]),o$1=i$1.sub)),t$1.Push(t$1.itemFactory.create(`subsup`,i$1).setProperties({position:o$1,primes:s$1,movesupsub:n$1}))},Prime(t$1,e$1){let s$1=t$1.stack.Prev();if(s$1||=t$1.create(`token`,`mi`),jo.isType(s$1,`msubsup`)&&!jo.isType(s$1,`msup`)&&jo.getChildAt(s$1,s$1.sup)||jo.isType(s$1,`munderover`)&&!jo.isType(s$1,`mover`)&&jo.getChildAt(s$1,s$1.over)&&!jo.getProperty(s$1,`subsupOK`))throw new Qo(`DoubleExponentPrime`,`Prime causes double exponent: use braces to clarify`);let i$1=``;t$1.i--;do i$1+=go.prime,t$1.i++,e$1=t$1.GetNext();while(e$1===`'`||e$1===go.rsquo);i$1=[``,``,``,``,``][i$1.length]||i$1;let r$1=t$1.create(`token`,`mo`,{variantForm:!0},i$1);t$1.Push(t$1.itemFactory.create(`prime`,s$1,r$1))},Comment(t$1,e$1){for(;t$1.i<t$1.string.length&&t$1.string.charAt(t$1.i)!==`
`;)t$1.i++},Hash(t$1,e$1){throw new Qo(`CantUseHash1`,`You can't use 'macro parameter character #' in math mode`)},MathFont(t$1,e$1,s$1,i$1=``){let n$1=new sa(t$1.GetArgument(e$1),Object.assign(Object.assign({multiLetterIdentifiers:t$1.options.identifierPattern},t$1.stack.env),{font:s$1,italicFont:i$1,noAutoOP:!0}),t$1.configuration).mml();t$1.Push(t$1.create(`node`,`TeXAtom`,[n$1]))},SetFont(t$1,e$1,s$1){t$1.stack.env.font=s$1,t$1.Push(t$1.itemFactory.create(`null`))},SetStyle(t$1,e$1,s$1,i$1,r$1){t$1.stack.env.style=s$1,t$1.stack.env.level=r$1,t$1.Push(t$1.itemFactory.create(`style`).setProperty(`styles`,{displaystyle:i$1,scriptlevel:r$1}))},SetSize(t$1,e$1,s$1){t$1.stack.env.size=s$1,t$1.Push(t$1.itemFactory.create(`style`).setProperty(`styles`,{mathsize:uo(s$1)}))},Spacer(t$1,e$1,s$1){let i$1=t$1.create(`node`,`mspace`,[],{width:uo(s$1)}),r$1=t$1.create(`node`,`mstyle`,[i$1],{scriptlevel:0});t$1.Push(r$1)},DiscretionaryTimes(t$1,e$1){t$1.Push(t$1.create(`token`,`mo`,{linebreakmultchar:``},``))},AllowBreak(t$1,e$1){t$1.Push(t$1.create(`token`,`mspace`))},Break(t$1,e$1){t$1.Push(t$1.create(`token`,`mspace`,{linebreak:ea.LineBreak.NEWLINE}))},Linebreak(t$1,e$1,s$1){let i$1=!0,r$1=t$1.stack.Prev(!0);r$1&&r$1.isKind(`mo`)&&jo.getMoAttribute(r$1,`linebreakstyle`)!==ea.LineBreakStyle.BEFORE&&(r$1.attributes.set(`linebreak`,s$1),i$1=!1),t$1.Push(t$1.itemFactory.create(`break`,s$1,i$1))},LeftRight(t$1,e$1){let s$1=e$1.substring(1);t$1.Push(t$1.itemFactory.create(s$1,t$1.GetDelimiter(e$1),t$1.stack.env.color))},NamedFn(t$1,e$1,s$1){s$1||=e$1.substring(1);let i$1=t$1.create(`token`,`mi`,{texClass:ur.OP},s$1);t$1.Push(t$1.itemFactory.create(`fn`,i$1))},NamedOp(t$1,e$1,s$1){s$1||=e$1.substring(1),s$1=s$1.replace(/&thinsp;/,``);let i$1=t$1.create(`token`,`mo`,{movablelimits:!0,movesupsub:!0,form:ea.Form.PREFIX,texClass:ur.OP},s$1);t$1.Push(i$1)},Limits(t$1,e$1,s$1){let i$1=t$1.stack.Prev(!0);if(!i$1||jo.getTexClass(jo.getCoreMO(i$1))!==ur.OP&&jo.getProperty(i$1,`movesupsub`)==null)throw new Qo(`MisplacedLimits`,`%1 is allowed only on operators`,t$1.currentCS);let r$1=t$1.stack.Top(),n$1;jo.isType(i$1,`munderover`)&&!s$1?(n$1=t$1.create(`node`,`msubsup`),jo.copyChildren(i$1,n$1),i$1=r$1.Last=n$1):jo.isType(i$1,`msubsup`)&&s$1&&(n$1=t$1.create(`node`,`munderover`),jo.copyChildren(i$1,n$1),i$1=r$1.Last=n$1),jo.setProperty(i$1,`movesupsub`,!!s$1),jo.setProperties(jo.getCoreMO(i$1),{movablelimits:!1}),((jo.isType(i$1,`mo`)?jo.getMoAttribute(i$1,`movableLimits`):jo.getAttribute(i$1,`movablelimits`))||jo.getProperty(i$1,`movablelimits`))&&jo.setProperties(i$1,{movablelimits:!1})},Over(t$1,e$1,s$1,i$1){let r$1=t$1.itemFactory.create(`over`).setProperty(`name`,t$1.currentCS);s$1||i$1?(r$1.setProperty(`ldelim`,s$1),r$1.setProperty(`rdelim`,i$1)):e$1.match(/withdelims$/)&&(r$1.setProperty(`ldelim`,t$1.GetDelimiter(e$1)),r$1.setProperty(`rdelim`,t$1.GetDelimiter(e$1))),e$1.match(/^\\above/)?r$1.setProperty(`thickness`,t$1.GetDimen(e$1)):(e$1.match(/^\\atop/)||s$1||i$1)&&r$1.setProperty(`thickness`,0),t$1.Push(r$1)},Frac(t$1,e$1){let s$1=t$1.ParseArg(e$1),i$1=t$1.ParseArg(e$1),r$1=t$1.create(`node`,`mfrac`,[s$1,i$1]);t$1.Push(r$1)},Sqrt(t$1,e$1){let s$1=t$1.GetBrackets(e$1),i$1=t$1.GetArgument(e$1);i$1===`\\frac`&&(i$1+=`{`+t$1.GetArgument(i$1)+`}{`+t$1.GetArgument(i$1)+`}`);let r$1=new sa(i$1,t$1.stack.env,t$1.configuration).mml();r$1=s$1?t$1.create(`node`,`mroot`,[r$1,Nc(t$1,s$1)]):t$1.create(`node`,`msqrt`,[r$1]),t$1.Push(r$1)},Root(t$1,e$1){let s$1=t$1.GetUpTo(e$1,`\\of`),i$1=t$1.ParseArg(e$1),r$1=t$1.create(`node`,`mroot`,[i$1,Nc(t$1,s$1)]);t$1.Push(r$1)},MoveRoot(t$1,e$1,s$1){if(!t$1.stack.env.inRoot)throw new Qo(`MisplacedMoveRoot`,`%1 can appear only within a root`,t$1.currentCS);if(t$1.stack.global[s$1])throw new Qo(`MultipleMoveRoot`,`Multiple use of %1`,t$1.currentCS);let i$1=t$1.GetArgument(e$1);if(!i$1.match(/-?[0-9]+/))throw new Qo(`IntegerArg`,`The argument to %1 must be an integer`,t$1.currentCS);i$1=parseInt(i$1,10)/15+`em`,i$1.substring(0,1)!==`-`&&(i$1=`+`+i$1),t$1.stack.global[s$1]=i$1},Accent(t$1,e$1,s$1,i$1){let r$1=t$1.ParseArg(e$1),n$1=Object.assign(Object.assign({},da.getFontDef(t$1)),{accent:!0,mathaccent:i$1===void 0||i$1}),o$1=jo.createEntity(s$1),a$1=t$1.create(`token`,`mo`,n$1,o$1);jo.setAttribute(a$1,`stretchy`,!!i$1);let c$1=jo.isEmbellished(r$1)?jo.getCoreMO(r$1):r$1;(jo.isType(c$1,`mo`)||jo.getProperty(c$1,`movablelimits`))&&jo.setProperties(c$1,{movablelimits:!1});let l$1=t$1.create(`node`,`munderover`);jo.setChild(l$1,0,r$1),jo.setChild(l$1,1,null),jo.setChild(l$1,2,a$1);let h$1=t$1.create(`node`,`TeXAtom`,[l$1]);t$1.Push(h$1)},UnderOver(t$1,e$1,s$1,i$1){let r$1=jo.createEntity(s$1),n$1=t$1.create(`token`,`mo`,{stretchy:!0,accent:!0},r$1);r$1.match(Hr.mathaccentsWithWidth)&&n$1.setProperty(`mathaccent`,!1);let o$1=e$1.charAt(1)===`o`?`over`:`under`,a$1=t$1.ParseArg(e$1);t$1.Push(da.underOver(t$1,a$1,n$1,o$1,i$1))},Overset(t$1,e$1){let s$1=t$1.ParseArg(e$1),i$1=t$1.ParseArg(e$1),r$1=s$1.coreMO(),n$1=r$1.isKind(`mo`)&&!0===jo.getMoAttribute(r$1,`accent`);da.checkMovableLimits(i$1);let o$1=t$1.create(`node`,`mover`,[i$1,s$1],{accent:n$1});t$1.Push(o$1)},Underset(t$1,e$1){let s$1=t$1.ParseArg(e$1),i$1=t$1.ParseArg(e$1),r$1=s$1.coreMO(),n$1=r$1.isKind(`mo`)&&!0===jo.getMoAttribute(r$1,`accent`);da.checkMovableLimits(i$1);let o$1=t$1.create(`node`,`munder`,[i$1,s$1],{accentunder:n$1});t$1.Push(o$1)},Overunderset(t$1,e$1){let s$1=t$1.ParseArg(e$1),i$1=t$1.ParseArg(e$1),r$1=t$1.ParseArg(e$1),n$1=s$1.coreMO(),o$1=i$1.coreMO(),a$1=n$1.isKind(`mo`)&&!0===jo.getMoAttribute(n$1,`accent`),c$1=o$1.isKind(`mo`)&&!0===jo.getMoAttribute(o$1,`accent`);da.checkMovableLimits(r$1);let l$1=t$1.create(`node`,`munderover`,[r$1,i$1,s$1],{accent:a$1,accentunder:c$1});t$1.Push(l$1)},TeXAtom(t$1,e$1,s$1){let i$1={texClass:s$1},r$1,n$1;if(s$1===ur.OP){i$1.movesupsub=i$1.movablelimits=!0;let s$2=t$1.GetArgument(e$1),o$1=s$2.match(/^\s*\\rm\s+([a-zA-Z0-9 ]+)$/);if(o$1)i$1.mathvariant=ea.Variant.NORMAL,n$1=t$1.create(`token`,`mi`,i$1,o$1[1]);else{let e$2=new sa(s$2,t$1.stack.env,t$1.configuration).mml();n$1=t$1.create(`node`,`TeXAtom`,[e$2],i$1)}r$1=t$1.itemFactory.create(`fn`,n$1)}else r$1=t$1.create(`node`,`TeXAtom`,[t$1.ParseArg(e$1)],i$1);t$1.Push(r$1)},VBox(t$1,e$1,s$1){let i$1=new sa(t$1.GetArgument(e$1),t$1.stack.env,t$1.configuration),r$1={"data-vertical-align":s$1,texClass:ur.ORD};i$1.stack.env.hsize&&(r$1.width=i$1.stack.env.hsize,r$1[`data-overflow`]=`linebreak`);let n$1=t$1.create(`node`,`mpadded`,[i$1.mml()],r$1);n$1.setProperty(`vbox`,s$1),t$1.Push(n$1)},Hsize(t$1,e$1){t$1.GetNext()===`=`&&t$1.i++,t$1.stack.env.hsize=t$1.GetDimen(e$1),t$1.Push(t$1.itemFactory.create(`null`))},ParBox(t$1,e$1){let s$1=t$1.GetBrackets(e$1,`c`),i$1=t$1.GetDimen(e$1),r$1=da.internalMath(t$1,t$1.GetArgument(e$1)),n$1=Ec(s$1,1),o$1=t$1.create(`node`,`mpadded`,r$1,{width:i$1,"data-overflow":`linebreak`,"data-vertical-align":n$1});o$1.setProperty(`vbox`,n$1),t$1.Push(o$1)},BreakAlign(t$1,e$1){let s$1=t$1.stack.Top();if(!(s$1 instanceof dc))throw new Qo(`BreakNotInArray`,`%1 must be used in an alignment environment`,t$1.currentCS);switch(t$1.GetArgument(e$1).trim()){case`c`:if(s$1.First)throw new Qo(`BreakFirstInEntry`,`%1 must be at the beginning of an alignment entry`,t$1.currentCS+`{c}`);s$1.breakAlign.cell=Ec(t$1.GetArgument(e$1),1);break;case`r`:if(s$1.row.length||s$1.First)throw new Qo(`BreakFirstInRow`,`%1 must be at the beginning of an alignment row`,t$1.currentCS+`{r}`);s$1.breakAlign.row=Ec(t$1.GetArgument(e$1));break;case`t`:if(s$1.table.length||s$1.row.length||s$1.First)throw new Qo(`BreakFirstInTable`,`%1 must be at the beginning of an alignment`,t$1.currentCS+`{t}`);s$1.breakAlign.table=Ec(t$1.GetArgument(e$1));break;default:throw new Qo(`BreakType`,`First argument to %1 must be one of c, r, or t`,t$1.currentCS)}},MmlToken(t$1,e$1){let s$1=t$1.GetArgument(e$1),i$1=t$1.GetBrackets(e$1,``).replace(/^\s+/,``),r$1=t$1.GetArgument(e$1),n$1={},o$1=[],a$1;try{a$1=t$1.create(`node`,s$1)}catch{a$1=null}if(!a$1||!a$1.isToken)throw new Qo(`NotMathMLToken`,`%1 is not a token element`,s$1);for(;i$1!==``;){let e$2=i$1.match(/^([a-z]+)\s*=\s*('[^']*'|"[^"]*"|[^ ,]*)\s*,?\s*/i);if(!e$2)throw new Qo(`InvalidMathMLAttr`,`Invalid MathML attribute: %1`,i$1);if(!a$1.attributes.hasDefault(e$2[1])&&!bc[e$2[1]])throw new Qo(`UnknownAttrForElement`,`%1 is not a recognized attribute for %2`,e$2[1],s$1);let r$2=da.mmlFilterAttribute(t$1,e$2[1],e$2[2].replace(/^(['"])(.*)\1$/,`$2`));r$2&&(r$2.toLowerCase()===`true`?r$2=!0:r$2.toLowerCase()===`false`&&(r$2=!1),n$1[e$2[1]]=r$2,o$1.push(e$2[1])),i$1=i$1.substring(e$2[0].length)}o$1.length&&(n$1[`mjx-keep-attrs`]=o$1.join(` `));let c$1=t$1.create(`text`,Ur(r$1));a$1.appendChild(c$1),jo.setProperties(a$1,n$1),t$1.Push(a$1)},Strut(t$1,e$1){let s$1=t$1.create(`node`,`mrow`),i$1=t$1.create(`node`,`mpadded`,[s$1],{height:`8.6pt`,depth:`3pt`,width:0});t$1.Push(i$1)},Phantom(t$1,e$1,s$1,i$1){let r$1=t$1.create(`node`,`mphantom`,[t$1.ParseArg(e$1)]);(s$1||i$1)&&(r$1=t$1.create(`node`,`mpadded`,[r$1]),i$1&&(jo.setAttribute(r$1,`height`,0),jo.setAttribute(r$1,`depth`,0)),s$1&&jo.setAttribute(r$1,`width`,0));let n$1=t$1.create(`node`,`TeXAtom`,[r$1]);t$1.Push(n$1)},Smash(t$1,e$1){let s$1=Ko.trimSpaces(t$1.GetBrackets(e$1,``)),i$1=t$1.create(`node`,`mpadded`,[t$1.ParseArg(e$1)]);switch(s$1){case`b`:jo.setAttribute(i$1,`depth`,0);break;case`t`:jo.setAttribute(i$1,`height`,0);break;default:jo.setAttribute(i$1,`height`,0),jo.setAttribute(i$1,`depth`,0)}let r$1=t$1.create(`node`,`TeXAtom`,[i$1]);t$1.Push(r$1)},Lap(t$1,e$1){let s$1=t$1.create(`node`,`mpadded`,[t$1.ParseArg(e$1)],{width:0});e$1===`\\llap`&&jo.setAttribute(s$1,`lspace`,`-1width`);let i$1=t$1.create(`node`,`TeXAtom`,[s$1]);t$1.Push(i$1)},RaiseLower(t$1,e$1){let s$1=t$1.GetDimen(e$1),i$1=t$1.itemFactory.create(`position`).setProperties({name:t$1.currentCS,move:`vertical`});s$1.charAt(0)===`-`&&(s$1=s$1.slice(1),e$1=e$1.substring(1)===`raise`?`\\lower`:`\\raise`),e$1===`\\lower`?(i$1.setProperty(`dh`,`-`+s$1),i$1.setProperty(`dd`,`+`+s$1)):(i$1.setProperty(`dh`,`+`+s$1),i$1.setProperty(`dd`,`-`+s$1)),t$1.Push(i$1)},MoveLeftRight(t$1,e$1){let s$1=t$1.GetDimen(e$1),i$1=s$1.charAt(0)===`-`?s$1.slice(1):`-`+s$1;if(e$1===`\\moveleft`){let t$2=s$1;s$1=i$1,i$1=t$2}t$1.Push(t$1.itemFactory.create(`position`).setProperties({name:t$1.currentCS,move:`horizontal`,left:t$1.create(`node`,`mspace`,[],{width:s$1}),right:t$1.create(`node`,`mspace`,[],{width:i$1})}))},Hskip(t$1,e$1,s$1=!1){let i$1=t$1.create(`node`,`mspace`,[],{width:t$1.GetDimen(e$1)});s$1&&jo.setAttribute(i$1,`linebreak`,`nobreak`),t$1.Push(i$1)},Nonscript(t$1,e$1){t$1.Push(t$1.itemFactory.create(`nonscript`))},Rule(t$1,e$1,s$1){let i$1={width:t$1.GetDimen(e$1),height:t$1.GetDimen(e$1),depth:t$1.GetDimen(e$1)};s$1!==`blank`&&(i$1.mathbackground=t$1.stack.env.color||`black`);let r$1=t$1.create(`node`,`mspace`,[],i$1);t$1.Push(r$1)},rule(t$1,e$1){let s$1=t$1.GetBrackets(e$1),i$1=t$1.GetDimen(e$1),r$1=t$1.GetDimen(e$1),n$1=t$1.create(`node`,`mspace`,[],{width:i$1,height:r$1,mathbackground:t$1.stack.env.color||`black`});s$1&&(n$1=t$1.create(`node`,`mpadded`,[n$1],{voffset:s$1}),s$1.match(/^-/)?(jo.setAttribute(n$1,`height`,s$1),jo.setAttribute(n$1,`depth`,`+`+s$1.substring(1))):jo.setAttribute(n$1,`height`,`+`+s$1)),t$1.Push(n$1)},MakeBig(t$1,e$1,s$1,i$1){let r$1=String(i$1*=1.411764705882353).replace(/(\.\d\d\d).+/,`$1`)+`em`,n$1=t$1.GetDelimiter(e$1,!0),o$1=t$1.create(`token`,`mo`,{minsize:r$1,maxsize:r$1,fence:!0,stretchy:!0,symmetric:!0},n$1),a$1=t$1.create(`node`,`TeXAtom`,[o$1],{texClass:s$1});t$1.Push(a$1)},BuildRel(t$1,e$1){let s$1=t$1.ParseUpTo(e$1,`\\over`),i$1=t$1.ParseArg(e$1),r$1=t$1.create(`node`,`munderover`);jo.setChild(r$1,0,i$1),jo.setChild(r$1,1,null),jo.setChild(r$1,2,s$1);let n$1=t$1.create(`node`,`TeXAtom`,[r$1],{texClass:ur.REL});t$1.Push(n$1)},HBox(t$1,e$1,s$1,i$1){t$1.PushAll(da.internalMath(t$1,t$1.GetArgument(e$1),s$1,i$1))},FBox(t$1,e$1){let s$1=da.internalMath(t$1,t$1.GetArgument(e$1)),i$1=t$1.create(`node`,`menclose`,s$1,{notation:`box`});t$1.Push(i$1)},FrameBox(t$1,e$1){let s$1=t$1.GetBrackets(e$1),i$1=t$1.GetBrackets(e$1)||`c`,r$1=da.internalMath(t$1,t$1.GetArgument(e$1));s$1&&(r$1=[t$1.create(`node`,`mpadded`,r$1,{width:s$1,"data-align":Fi(i$1,{l:`left`,r:`right`},`center`)})]);let n$1=t$1.create(`node`,`TeXAtom`,[t$1.create(`node`,`menclose`,r$1,{notation:`box`})],{texClass:ur.ORD});t$1.Push(n$1)},MakeBox(t$1,e$1){let s$1=t$1.GetBrackets(e$1),i$1=t$1.GetBrackets(e$1,`c`),r$1=t$1.create(`node`,`mpadded`,da.internalMath(t$1,t$1.GetArgument(e$1)));s$1&&jo.setAttribute(r$1,`width`,s$1);let n$1=Fi(i$1.toLowerCase(),{c:`center`,r:`right`},``);n$1&&jo.setAttribute(r$1,`data-align`,n$1),i$1.toLowerCase()!==i$1&&jo.setAttribute(r$1,`data-overflow`,`linebreak`),t$1.Push(r$1)},Not(t$1,e$1){t$1.Push(t$1.itemFactory.create(`not`))},Dots(t$1,e$1){let s$1=jo.createEntity(`2026`),i$1=jo.createEntity(`22EF`),r$1=t$1.create(`token`,`mo`,{stretchy:!1},s$1),n$1=t$1.create(`token`,`mo`,{stretchy:!1},i$1);t$1.Push(t$1.itemFactory.create(`dots`).setProperties({ldots:r$1,cdots:n$1}))},Matrix(t$1,e$1,s$1,i$1,r$1,n$1,o$1,a$1,c$1,l$1){let h$1=t$1.GetNext();if(h$1===``)throw new Qo(`MissingArgFor`,`Missing argument for %1`,t$1.currentCS);h$1===`{`?t$1.i++:(t$1.string=h$1+`}`+t$1.string.slice(t$1.i+1),t$1.i=0);let d$1=t$1.itemFactory.create(`array`).setProperty(`requireClose`,!0);!s$1&&r$1||d$1.setProperty(`arrayPadding`,`.2em .125em`),d$1.arraydef={rowspacing:o$1||`4pt`,columnspacing:n$1||`1em`},c$1&&d$1.setProperty(`isCases`,!0),l$1&&(d$1.setProperty(`isNumbered`,!0),d$1.arraydef.side=l$1),(s$1||i$1)&&(d$1.setProperty(`open`,s$1),d$1.setProperty(`close`,i$1)),a$1===`D`&&(d$1.arraydef.displaystyle=!0),r$1!=null&&(d$1.arraydef.columnalign=r$1),t$1.Push(d$1)},Entry(t$1,e$1){t$1.Push(t$1.itemFactory.create(`cell`).setProperties({isEntry:!0,name:e$1}));let s$1=t$1.stack.Top(),i$1=s$1.getProperty(`casesEnv`);if(!s$1.getProperty(`isCases`)&&!i$1)return;let r$1=t$1.string,n$1=0,o$1=-1,a$1=t$1.i,c$1=r$1.length,l$1=i$1?RegExp(`^\\\\end\\s*\\{${i$1.replace(/\*/,`\\*`)}\\}`):null;for(;a$1<c$1;){let e$2=r$1.charAt(a$1);if(e$2===`{`)n$1++,a$1++;else if(e$2===`}`)n$1===0?c$1=0:(n$1--,n$1===0&&o$1<0&&(o$1=a$1-t$1.i),a$1++);else{if(e$2===`&`&&n$1===0)throw new Qo(`ExtraAlignTab`,`Extra alignment tab in \\cases text`);if(e$2===`\\`){let t$2=r$1.substring(a$1);t$2.match(/^((\\cr)[^a-zA-Z]|\\\\)/)||l$1&&t$2.match(l$1)?c$1=0:a$1+=2}else a$1++}}let h$1=r$1.substring(t$1.i,a$1);if(!h$1.match(/^\s*\\text[^a-zA-Z]/)||o$1!==h$1.replace(/\s+$/,``).length-1){let e$2=da.internalMath(t$1,Ko.trimSpaces(h$1),0);t$1.PushAll(e$2),t$1.i=a$1}},Cr(t$1,e$1){t$1.Push(t$1.itemFactory.create(`cell`).setProperties({isCR:!0,name:e$1}))},CrLaTeX(t$1,e$1,s$1=!1){let i$1;if(!s$1&&(t$1.string.charAt(t$1.i)===`*`&&t$1.i++,t$1.string.charAt(t$1.i)===`[`)){let s$2=t$1.GetBrackets(e$1,``),[r$2,n$2]=Ko.matchDimen(s$2);if(s$2&&!r$2)throw new Qo(`BracketMustBeDimension`,`Bracket argument to %1 must be a dimension`,t$1.currentCS);i$1=r$2+n$2}t$1.Push(t$1.itemFactory.create(`cell`).setProperties({isCR:!0,name:e$1,linebreak:!0}));let r$1=t$1.stack.Top(),n$1;r$1 instanceof dc?i$1&&r$1.addRowSpacing(i$1):(n$1=t$1.create(`node`,`mspace`,[],{linebreak:ea.LineBreak.NEWLINE}),i$1&&jo.setAttribute(n$1,`data-lineleading`,i$1),t$1.Push(n$1))},HLine(t$1,e$1,s$1){s$1??=`solid`;let i$1=t$1.stack.Top();if(!(i$1 instanceof dc)||i$1.Size())throw new Qo(`Misplaced`,`Misplaced %1`,t$1.currentCS);if(i$1.table.length){let t$2=i$1.arraydef.rowlines?i$1.arraydef.rowlines.split(/ /):[];for(;t$2.length<i$1.table.length;)t$2.push(`none`);t$2[i$1.table.length-1]=s$1,i$1.arraydef.rowlines=t$2.join(` `)}else i$1.frame.push([`top`,s$1])},HFill(t$1,e$1){let s$1=t$1.stack.Top();if(!(s$1 instanceof dc))throw new Qo(`UnsupportedHFill`,`Unsupported use of %1`,t$1.currentCS);s$1.hfill.push(s$1.Size())},NewColumnType(t$1,e$1){let s$1=t$1.GetArgument(e$1),i$1=t$1.GetBrackets(e$1,`0`),r$1=t$1.GetArgument(e$1);if(s$1.length!==1)throw new Qo(`BadColumnName`,`Column specifier must be exactly one character: %1`,s$1);if(!i$1.match(/^\d+$/))throw new Qo(`PositiveIntegerArg`,`Argument to %1 must be a positive integer`,i$1);let n$1=t$1.configuration.columnParser;n$1.columnHandler[s$1]=t$2=>n$1.macroColumn(t$2,r$1,parseInt(i$1)),t$1.Push(t$1.itemFactory.create(`null`))},BeginEnd(t$1,e$1){let s$1=t$1.GetArgument(e$1);if(s$1.match(/\\/))throw new Qo(`InvalidEnv`,`Invalid environment name '%1'`,s$1);let i$1=t$1.configuration.handlers.get(Go.ENVIRONMENT).lookup(s$1);if(i$1&&e$1===`\\end`){if(!i$1.args[0]){let e$2=t$1.itemFactory.create(`end`).setProperty(`name`,s$1);t$1.Push(e$2);return}t$1.stack.env.closing=s$1}da.checkMaxMacros(t$1,!1),t$1.parse(Go.ENVIRONMENT,[t$1,s$1])},Array(t$1,e$1,s$1,i$1,r$1,n$1,o$1,a$1,c$1){r$1||=t$1.GetArgument(`\\begin{`+e$1.getName()+`}`);let l$1=t$1.itemFactory.create(`array`);return e$1.getName()===`array`&&l$1.setProperty(`arrayPadding`,`.5em .125em`),l$1.parser=t$1,l$1.arraydef={columnspacing:n$1||`1em`,rowspacing:o$1||`4pt`},t$1.configuration.columnParser.process(t$1,r$1,l$1),s$1&&l$1.setProperty(`open`,t$1.convertDelimiter(s$1)),i$1&&l$1.setProperty(`close`,t$1.convertDelimiter(i$1)),(a$1||``).charAt(1)===`'`&&(l$1.arraydef[`data-cramped`]=!0,a$1=a$1.charAt(0)),a$1===`D`?l$1.arraydef.displaystyle=!0:a$1&&(l$1.arraydef.displaystyle=!1),l$1.arraydef.scriptlevel=a$1===`S`?1:0,c$1&&(l$1.arraydef.useHeight=!1),t$1.Push(e$1),l$1.StartEntry(),l$1},AlignedArray(t$1,e$1,s$1=``){let i$1=t$1.GetBrackets(`\\begin{`+e$1.getName()+`}`),r$1=yc.Array(t$1,e$1,null,null,null,null,null,s$1);return da.setArrayAlign(r$1,i$1)},IndentAlign(t$1,e$1){let s$1=`\\begin{${e$1.getName()}}`,i$1=t$1.GetBrackets(s$1,``),r$1=t$1.GetBrackets(s$1,``),n$1=t$1.GetBrackets(s$1,``);if(i$1&&!Ko.matchDimen(i$1)[0]||r$1&&!Ko.matchDimen(r$1)[0]||n$1&&!Ko.matchDimen(n$1)[0])throw new Qo(`BracketMustBeDimension`,`Bracket argument to %1 must be a dimension`,s$1);let o$1=t$1.GetArgument(s$1);if(o$1&&!o$1.match(/^([lcr]{1,3})?$/))throw new Qo(`BadAlignment`,`Alignment must be one to three copies of l, c, or r`);let a$1=[...o$1].map((t$2=>({l:`left`,c:`center`,r:`right`})[t$2]));a$1.length===1&&a$1.push(a$1[0]);let c$1={};for(let[t$2,e$2]of[[`indentshiftfirst`,i$1],[`indentshift`,r$1||i$1],[`indentshiftlast`,n$1],[`indentalignfirst`,a$1[0]],[`indentalign`,a$1[1]],[`indentalignlast`,a$1[2]]])e$2&&(c$1[t$2]=e$2);t$1.Push(t$1.itemFactory.create(`mstyle`,c$1,e$1.getName()))},Equation:(t$1,e$1,s$1,i$1=!0)=>(t$1.configuration.mathItem.display=i$1,t$1.stack.env.display=i$1,da.checkEqnEnv(t$1),t$1.Push(e$1),t$1.itemFactory.create(`equation`,s$1).setProperty(`name`,e$1.getName())),EqnArray(t$1,e$1,s$1,i$1,r$1,n$1,o$1){let a$1=e$1.getName(),c$1=a$1===`gather`||a$1===`gather*`;i$1&&da.checkEqnEnv(t$1,!c$1),t$1.Push(e$1),r$1=(r$1=r$1.replace(/[^clr]/g,``).split(``).join(` `)).replace(/l/g,`left`).replace(/r/g,`right`).replace(/c/g,`center`),n$1=Ec(n$1);let l$1=t$1.itemFactory.create(`eqnarray`,a$1,s$1,i$1,t$1.stack.global);return l$1.arraydef={displaystyle:!0,columnalign:r$1,columnspacing:o$1||`1em`,rowspacing:`3pt`,"data-break-align":n$1,side:t$1.options.tagSide,minlabelspacing:t$1.options.tagIndent},c$1&&l$1.setProperty(`nestable`,!0),l$1},HandleNoTag(t$1,e$1){t$1.tags.notag()},HandleLabel(t$1,e$1){let s$1=t$1.GetArgument(e$1);if(s$1!==``&&!t$1.tags.refUpdate){if(t$1.tags.label)throw new Qo(`MultipleCommand`,`Multiple %1`,t$1.currentCS);if(t$1.tags.label=s$1,(t$1.tags.allLabels[s$1]||t$1.tags.labels[s$1])&&!t$1.options.ignoreDuplicateLabels)throw new Qo(`MultipleLabel`,`Label '%1' multiply defined`,s$1);t$1.tags.labels[s$1]=new ga}},HandleRef(t$1,e$1,s$1){let i$1=t$1.GetArgument(e$1),r$1=t$1.tags.allLabels[i$1]||t$1.tags.labels[i$1];r$1||=(t$1.tags.refUpdate||(t$1.tags.redo=!0),new ga);let n$1=r$1.tag;s$1&&(n$1=t$1.tags.formatRef(n$1));let o$1=t$1.create(`node`,`mrow`,da.internalMath(t$1,n$1),{href:t$1.tags.formatUrl(r$1.id,t$1.options.baseURL),class:`MathJax_ref`});t$1.Push(o$1)},Macro(t$1,e$1,s$1,i$1,r$1){if(i$1){let n$1=[];if(r$1!=null){let s$2=t$1.GetBrackets(e$1);n$1.push(s$2??r$1)}for(let s$2=n$1.length;s$2<i$1;s$2++)n$1.push(t$1.GetArgument(e$1));s$1=da.substituteArgs(t$1,n$1,s$1)}t$1.string=da.addArgs(t$1,s$1,t$1.string.slice(t$1.i)),t$1.i=0,da.checkMaxMacros(t$1)},MathChoice(t$1,e$1){let s$1=t$1.ParseArg(e$1),i$1=t$1.ParseArg(e$1),r$1=t$1.ParseArg(e$1),n$1=t$1.ParseArg(e$1);t$1.Push(t$1.create(`node`,`MathChoice`,[s$1,i$1,r$1,n$1]))}},xc=yc,vc=ea.Variant,Tc={variable(t$1,e$1){var s$1;let i$1=da.getFontDef(t$1),r$1=t$1.stack.env;if(r$1.multiLetterIdentifiers&&r$1.font!==``&&(e$1=t$1.string.substring(t$1.i-1).match(r$1.multiLetterIdentifiers)?.[0]||e$1,t$1.i+=e$1.length-1,i$1.mathvariant===vc.NORMAL&&r$1.noAutoOP&&e$1.length>1&&(i$1.autoOP=!1)),!i$1.mathvariant&&da.isLatinOrGreekChar(e$1)){let s$2=t$1.configuration.mathStyle(e$1);s$2&&(i$1.mathvariant=s$2)}let n$1=t$1.create(`token`,`mi`,i$1,e$1);t$1.Push(n$1)},digit(t$1,e$1){let s$1=t$1.configuration.options.numberPattern,i$1=t$1.string.slice(t$1.i-1).match(s$1),r$1=da.getFontDef(t$1);if(!i$1)return!1;let n$1=t$1.create(`token`,`mn`,r$1,i$1[0].replace(/[{}]/g,``));return t$1.i+=i$1[0].length-1,t$1.Push(n$1),!0},controlSequence(t$1,e$1){let s$1=t$1.GetCS();t$1.parse(Go.MACRO,[t$1,s$1])},lcGreek(t$1,e$1){let s$1={mathvariant:t$1.configuration.mathStyle(e$1.char)||vc.ITALIC},i$1=t$1.create(`token`,`mi`,s$1,e$1.char);t$1.Push(i$1)},ucGreek(t$1,e$1){let s$1={mathvariant:t$1.stack.env.font||t$1.configuration.mathStyle(e$1.char,!0)||vc.NORMAL},i$1=t$1.create(`token`,`mi`,s$1,e$1.char);t$1.Push(i$1)},mathchar0mi(t$1,e$1){let s$1=e$1.attributes||{mathvariant:vc.ITALIC},i$1=t$1.create(`token`,`mi`,s$1,e$1.char);t$1.Push(i$1)},mathchar0mo(t$1,e$1){let s$1=e$1.attributes||{};s$1.stretchy=!1;let i$1=t$1.create(`token`,`mo`,s$1,e$1.char);jo.setProperty(i$1,`fixStretchy`,!0),t$1.configuration.addNode(`fixStretchy`,i$1),t$1.Push(i$1)},mathchar7(t$1,e$1){let s$1=e$1.attributes||{mathvariant:vc.NORMAL};t$1.stack.env.font&&(s$1.mathvariant=t$1.stack.env.font);let i$1=t$1.create(`token`,`mi`,s$1,e$1.char);t$1.Push(i$1)},delimiter(t$1,e$1){let s$1=e$1.attributes||{};s$1=Object.assign({fence:!1,stretchy:!1},s$1);let i$1=t$1.create(`token`,`mo`,s$1,e$1.char);t$1.Push(i$1)},environment(t$1,e$1,s$1,i$1){let r$1=t$1.itemFactory.create(`begin`).setProperty(`name`,e$1);t$1.Push(s$1(t$1,r$1,...i$1.slice(1)))}},wc=uo(co.thickmathspace),_c=ea.Variant;new Aa(`letter`,Tc.variable,/[a-z]/i),new Aa(`digit`,Tc.digit,/[0-9.,]/),new Aa(`command`,Tc.controlSequence,/^\\/),new Sa(`special`,{"{":xc.Open,"}":xc.Close,"~":xc.Tilde,"^":xc.Superscript,_:xc.Subscript,"|":xc.Bar," ":xc.Space,"	":xc.Space,"\r":xc.Space,"\n":xc.Space,"'":xc.Prime,"%":xc.Comment,"&":xc.Entry,"#":xc.Hash,"\xA0":xc.Space,"":xc.Prime}),new Ma(`lcGreek`,Tc.lcGreek,{alpha:``,beta:``,gamma:``,delta:``,epsilon:``,zeta:``,eta:``,theta:``,iota:``,kappa:``,lambda:``,mu:``,nu:``,xi:``,omicron:``,pi:``,rho:``,sigma:``,tau:``,upsilon:``,phi:``,chi:``,psi:``,omega:``,varepsilon:``,vartheta:``,varpi:``,varrho:``,varsigma:``,varphi:``}),new Ma(`ucGreek`,Tc.ucGreek,{Gamma:``,Delta:``,Theta:``,Lambda:``,Xi:``,Pi:``,Sigma:``,Upsilon:``,Phi:``,Psi:``,Omega:``}),new Ma(`mathchar0mi`,Tc.mathchar0mi,{AA:``,S:[``,{mathvariant:_c.NORMAL}],aleph:[``,{mathvariant:_c.NORMAL}],hbar:[``,{variantForm:!0}],imath:``,jmath:``,ell:``,wp:[``,{mathvariant:_c.NORMAL}],Re:[``,{mathvariant:_c.NORMAL}],Im:[``,{mathvariant:_c.NORMAL}],partial:[``,{mathvariant:_c.ITALIC}],infty:[``,{mathvariant:_c.NORMAL}],prime:[``,{variantForm:!0}],emptyset:[``,{mathvariant:_c.NORMAL}],nabla:[``,{mathvariant:_c.NORMAL}],top:[``,{mathvariant:_c.NORMAL}],bot:[``,{mathvariant:_c.NORMAL}],angle:[``,{mathvariant:_c.NORMAL}],triangle:[``,{mathvariant:_c.NORMAL}],backslash:[`\\`,{mathvariant:_c.NORMAL}],forall:[``,{mathvariant:_c.NORMAL}],exists:[``,{mathvariant:_c.NORMAL}],neg:[``,{mathvariant:_c.NORMAL}],lnot:[``,{mathvariant:_c.NORMAL}],flat:[``,{mathvariant:_c.NORMAL}],natural:[``,{mathvariant:_c.NORMAL}],sharp:[``,{mathvariant:_c.NORMAL}],clubsuit:[``,{mathvariant:_c.NORMAL}],diamondsuit:[``,{mathvariant:_c.NORMAL}],heartsuit:[``,{mathvariant:_c.NORMAL}],spadesuit:[``,{mathvariant:_c.NORMAL}]}),new Ma(`mathchar0mo`,Tc.mathchar0mo,{surd:``,coprod:[``,{movesupsub:!0}],bigvee:[``,{movesupsub:!0}],bigwedge:[``,{movesupsub:!0}],biguplus:[``,{movesupsub:!0}],bigcap:[``,{movesupsub:!0}],bigcup:[``,{movesupsub:!0}],int:``,intop:[``,{movesupsub:!0,movablelimits:!0}],iint:``,iiint:``,prod:[``,{movesupsub:!0}],sum:[``,{movesupsub:!0}],bigotimes:[``,{movesupsub:!0}],bigoplus:[``,{movesupsub:!0}],bigodot:[``,{movesupsub:!0}],oint:``,ointop:[``,{movesupsub:!0,movablelimits:!0}],oiint:``,oiiint:``,bigsqcup:[``,{movesupsub:!0}],smallint:[``,{largeop:!1}],triangleleft:``,triangleright:``,bigtriangleup:``,bigtriangledown:``,wedge:``,land:``,vee:``,lor:``,cap:``,cup:``,ddagger:``,dagger:``,sqcap:``,sqcup:``,uplus:``,amalg:``,diamond:``,bullet:``,wr:``,div:``,odot:[``,{largeop:!1}],oslash:[``,{largeop:!1}],otimes:[``,{largeop:!1}],ominus:[``,{largeop:!1}],oplus:[``,{largeop:!1}],mp:``,pm:``,circ:``,bigcirc:``,setminus:``,cdot:``,ast:``,times:``,star:``,propto:``,sqsubseteq:``,sqsupseteq:``,parallel:``,mid:``,dashv:``,vdash:``,leq:``,le:``,geq:``,ge:``,lt:`<`,gt:`>`,succ:``,prec:``,approx:``,succeq:``,preceq:``,supset:``,subset:``,supseteq:``,subseteq:``,in:``,ni:``,notin:``,owns:``,gg:``,ll:``,sim:``,simeq:``,perp:``,equiv:``,asymp:``,smile:``,frown:``,ne:``,neq:``,cong:``,doteq:``,bowtie:``,models:``,notChar:``,Leftrightarrow:``,Leftarrow:``,Rightarrow:``,leftrightarrow:``,leftarrow:``,gets:``,rightarrow:``,to:[``,{accent:!1}],mapsto:``,leftharpoonup:``,leftharpoondown:``,rightharpoonup:``,rightharpoondown:``,nearrow:``,searrow:``,nwarrow:``,swarrow:``,rightleftharpoons:``,hookrightarrow:``,hookleftarrow:``,longleftarrow:``,Longleftarrow:``,longrightarrow:``,Longrightarrow:``,Longleftrightarrow:``,longleftrightarrow:``,longmapsto:``,ldots:``,cdots:``,vdots:``,ddots:``,iddots:``,dotsc:``,dotsb:``,dotsm:``,dotsi:``,dotso:``,ldotp:[`.`,{texClass:ur.PUNCT}],cdotp:[``,{texClass:ur.PUNCT}],colon:[`:`,{texClass:ur.PUNCT}]}),new Ma(`mathchar7`,Tc.mathchar7,{_:`_`,"#":`#`,$:`$`,"%":`%`,"&":`&`,And:`&`}),new Ia(`delimiter`,Tc.delimiter,{"(":`(`,")":`)`,"[":`[`,"]":`]`,"<":``,">":``,"\\lt":``,"\\gt":``,"/":`/`,"|":[`|`,{texClass:ur.ORD}],".":``,"\\lmoustache":``,"\\rmoustache":``,"\\lgroup":``,"\\rgroup":``,"\\arrowvert":``,"\\Arrowvert":``,"\\bracevert":``,"\\Vert":[``,{texClass:ur.ORD}],"\\|":[``,{texClass:ur.ORD}],"\\vert":[`|`,{texClass:ur.ORD}],"\\uparrow":``,"\\downarrow":``,"\\updownarrow":``,"\\Uparrow":``,"\\Downarrow":``,"\\Updownarrow":``,"\\backslash":`\\`,"\\rangle":``,"\\langle":``,"\\rbrace":`}`,"\\lbrace":`{`,"\\}":`}`,"\\{":`{`,"\\rceil":``,"\\lceil":``,"\\rfloor":``,"\\lfloor":``,"\\lbrack":`[`,"\\rbrack":`]`}),new Ra(`macros`,{displaystyle:[xc.SetStyle,`D`,!0,0],textstyle:[xc.SetStyle,`T`,!1,0],scriptstyle:[xc.SetStyle,`S`,!1,1],scriptscriptstyle:[xc.SetStyle,`SS`,!1,2],rm:[xc.SetFont,_c.NORMAL],mit:[xc.SetFont,_c.ITALIC],oldstyle:[xc.SetFont,_c.OLDSTYLE],cal:[xc.SetFont,_c.CALLIGRAPHIC],it:[xc.SetFont,_c.MATHITALIC],bf:[xc.SetFont,_c.BOLD],sf:[xc.SetFont,_c.SANSSERIF],tt:[xc.SetFont,_c.MONOSPACE],frak:[xc.MathFont,_c.FRAKTUR],Bbb:[xc.MathFont,_c.DOUBLESTRUCK],mathrm:[xc.MathFont,_c.NORMAL],mathup:[xc.MathFont,_c.NORMAL],mathnormal:[xc.MathFont,``],mathbf:[xc.MathFont,_c.BOLD],mathbfup:[xc.MathFont,_c.BOLD],mathit:[xc.MathFont,_c.MATHITALIC],mathbfit:[xc.MathFont,_c.BOLDITALIC],mathbb:[xc.MathFont,_c.DOUBLESTRUCK],mathfrak:[xc.MathFont,_c.FRAKTUR],mathbffrak:[xc.MathFont,_c.BOLDFRAKTUR],mathscr:[xc.MathFont,_c.SCRIPT],mathbfscr:[xc.MathFont,_c.BOLDSCRIPT],mathsf:[xc.MathFont,_c.SANSSERIF],mathsfup:[xc.MathFont,_c.SANSSERIF],mathbfsf:[xc.MathFont,_c.BOLDSANSSERIF],mathbfsfup:[xc.MathFont,_c.BOLDSANSSERIF],mathsfit:[xc.MathFont,_c.SANSSERIFITALIC],mathbfsfit:[xc.MathFont,_c.SANSSERIFBOLDITALIC],mathtt:[xc.MathFont,_c.MONOSPACE],mathcal:[xc.MathFont,_c.CALLIGRAPHIC],mathbfcal:[xc.MathFont,_c.BOLDCALLIGRAPHIC],symrm:[xc.MathFont,_c.NORMAL],symup:[xc.MathFont,_c.NORMAL],symnormal:[xc.MathFont,``],symbf:[xc.MathFont,_c.BOLD,_c.BOLDITALIC],symbfup:[xc.MathFont,_c.BOLD],symit:[xc.MathFont,_c.ITALIC],symbfit:[xc.MathFont,_c.BOLDITALIC],symbb:[xc.MathFont,_c.DOUBLESTRUCK],symfrak:[xc.MathFont,_c.FRAKTUR],symbffrak:[xc.MathFont,_c.BOLDFRAKTUR],symscr:[xc.MathFont,_c.SCRIPT],symbfscr:[xc.MathFont,_c.BOLDSCRIPT],symsf:[xc.MathFont,_c.SANSSERIF,_c.SANSSERIFITALIC],symsfup:[xc.MathFont,_c.SANSSERIF],symbfsf:[xc.MathFont,_c.BOLDSANSSERIF],symbfsfup:[xc.MathFont,_c.BOLDSANSSERIF],symsfit:[xc.MathFont,_c.SANSSERIFITALIC],symbfsfit:[xc.MathFont,_c.SANSSERIFBOLDITALIC],symtt:[xc.MathFont,_c.MONOSPACE],symcal:[xc.MathFont,_c.CALLIGRAPHIC],symbfcal:[xc.MathFont,_c.BOLDCALLIGRAPHIC],textrm:[xc.HBox,null,_c.NORMAL],textup:[xc.HBox,null,_c.NORMAL],textnormal:[xc.HBox],textit:[xc.HBox,null,_c.ITALIC],textbf:[xc.HBox,null,_c.BOLD],textsf:[xc.HBox,null,_c.SANSSERIF],texttt:[xc.HBox,null,_c.MONOSPACE],tiny:[xc.SetSize,.5],Tiny:[xc.SetSize,.6],scriptsize:[xc.SetSize,.7],small:[xc.SetSize,.85],normalsize:[xc.SetSize,1],large:[xc.SetSize,1.2],Large:[xc.SetSize,1.44],LARGE:[xc.SetSize,1.73],huge:[xc.SetSize,2.07],Huge:[xc.SetSize,2.49],arcsin:xc.NamedFn,arccos:xc.NamedFn,arctan:xc.NamedFn,arg:xc.NamedFn,cos:xc.NamedFn,cosh:xc.NamedFn,cot:xc.NamedFn,coth:xc.NamedFn,csc:xc.NamedFn,deg:xc.NamedFn,det:xc.NamedOp,dim:xc.NamedFn,exp:xc.NamedFn,gcd:xc.NamedOp,hom:xc.NamedFn,inf:xc.NamedOp,ker:xc.NamedFn,lg:xc.NamedFn,lim:xc.NamedOp,liminf:[xc.NamedOp,`lim&thinsp;inf`],limsup:[xc.NamedOp,`lim&thinsp;sup`],ln:xc.NamedFn,log:xc.NamedFn,max:xc.NamedOp,min:xc.NamedOp,Pr:xc.NamedOp,sec:xc.NamedFn,sin:xc.NamedFn,sinh:xc.NamedFn,sup:xc.NamedOp,tan:xc.NamedFn,tanh:xc.NamedFn,limits:[xc.Limits,!0],nolimits:[xc.Limits,!1],overline:[xc.UnderOver,`2015`],underline:[xc.UnderOver,`2015`],overbrace:[xc.UnderOver,`23DE`,!0],underbrace:[xc.UnderOver,`23DF`,!0],overparen:[xc.UnderOver,`23DC`],underparen:[xc.UnderOver,`23DD`],overrightarrow:[xc.UnderOver,`2192`],underrightarrow:[xc.UnderOver,`2192`],overleftarrow:[xc.UnderOver,`2190`],underleftarrow:[xc.UnderOver,`2190`],overleftrightarrow:[xc.UnderOver,`2194`],underleftrightarrow:[xc.UnderOver,`2194`],overset:xc.Overset,underset:xc.Underset,overunderset:xc.Overunderset,stackrel:[xc.Macro,`\\mathrel{\\mathop{#2}\\limits^{#1}}`,2],stackbin:[xc.Macro,`\\mathbin{\\mathop{#2}\\limits^{#1}}`,2],over:xc.Over,overwithdelims:xc.Over,atop:xc.Over,atopwithdelims:xc.Over,above:xc.Over,abovewithdelims:xc.Over,brace:[xc.Over,`{`,`}`],brack:[xc.Over,`[`,`]`],choose:[xc.Over,`(`,`)`],frac:xc.Frac,sqrt:xc.Sqrt,root:xc.Root,uproot:[xc.MoveRoot,`upRoot`],leftroot:[xc.MoveRoot,`leftRoot`],left:xc.LeftRight,right:xc.LeftRight,middle:xc.LeftRight,llap:xc.Lap,rlap:xc.Lap,raise:xc.RaiseLower,lower:xc.RaiseLower,moveleft:xc.MoveLeftRight,moveright:xc.MoveLeftRight,",":[xc.Spacer,co.thinmathspace],":":[xc.Spacer,co.mediummathspace],">":[xc.Spacer,co.mediummathspace],";":[xc.Spacer,co.thickmathspace],"!":[xc.Spacer,co.negativethinmathspace],enspace:[xc.Spacer,.5],quad:[xc.Spacer,1],qquad:[xc.Spacer,2],thinspace:[xc.Spacer,co.thinmathspace],negthinspace:[xc.Spacer,co.negativethinmathspace],"*":xc.DiscretionaryTimes,allowbreak:xc.AllowBreak,goodbreak:[xc.Linebreak,ea.LineBreak.GOODBREAK],badbreak:[xc.Linebreak,ea.LineBreak.BADBREAK],nobreak:[xc.Linebreak,ea.LineBreak.NOBREAK],break:xc.Break,hskip:xc.Hskip,hspace:xc.Hskip,kern:[xc.Hskip,!0],mskip:xc.Hskip,mspace:xc.Hskip,mkern:[xc.Hskip,!0],rule:xc.rule,Rule:[xc.Rule],Space:[xc.Rule,`blank`],nonscript:xc.Nonscript,big:[xc.MakeBig,ur.ORD,.85],Big:[xc.MakeBig,ur.ORD,1.15],bigg:[xc.MakeBig,ur.ORD,1.45],Bigg:[xc.MakeBig,ur.ORD,1.75],bigl:[xc.MakeBig,ur.OPEN,.85],Bigl:[xc.MakeBig,ur.OPEN,1.15],biggl:[xc.MakeBig,ur.OPEN,1.45],Biggl:[xc.MakeBig,ur.OPEN,1.75],bigr:[xc.MakeBig,ur.CLOSE,.85],Bigr:[xc.MakeBig,ur.CLOSE,1.15],biggr:[xc.MakeBig,ur.CLOSE,1.45],Biggr:[xc.MakeBig,ur.CLOSE,1.75],bigm:[xc.MakeBig,ur.REL,.85],Bigm:[xc.MakeBig,ur.REL,1.15],biggm:[xc.MakeBig,ur.REL,1.45],Biggm:[xc.MakeBig,ur.REL,1.75],mathord:[xc.TeXAtom,ur.ORD],mathop:[xc.TeXAtom,ur.OP],mathopen:[xc.TeXAtom,ur.OPEN],mathclose:[xc.TeXAtom,ur.CLOSE],mathbin:[xc.TeXAtom,ur.BIN],mathrel:[xc.TeXAtom,ur.REL],mathpunct:[xc.TeXAtom,ur.PUNCT],mathinner:[xc.TeXAtom,ur.INNER],vtop:[xc.VBox,`top`],vcenter:[xc.VBox,`center`],vbox:[xc.VBox,`bottom`],hsize:xc.Hsize,parbox:xc.ParBox,breakAlign:xc.BreakAlign,buildrel:xc.BuildRel,hbox:[xc.HBox,0],text:xc.HBox,mbox:[xc.HBox,0],fbox:xc.FBox,boxed:[xc.Macro,`\\fbox{$\\displaystyle{#1}$}`,1],framebox:xc.FrameBox,makebox:xc.MakeBox,strut:xc.Strut,mathstrut:[xc.Macro,`\\vphantom{(}`],phantom:xc.Phantom,vphantom:[xc.Phantom,1,0],hphantom:[xc.Phantom,0,1],smash:xc.Smash,acute:[xc.Accent,`00B4`],grave:[xc.Accent,`0060`],ddot:[xc.Accent,`00A8`],dddot:[xc.Accent,`20DB`],ddddot:[xc.Accent,`20DC`],tilde:[xc.Accent,`007E`],bar:[xc.Accent,`00AF`],breve:[xc.Accent,`02D8`],check:[xc.Accent,`02C7`],hat:[xc.Accent,`005E`],vec:[xc.Accent,`2192`,!1],dot:[xc.Accent,`02D9`],widetilde:[xc.Accent,`007E`,!0],widehat:[xc.Accent,`005E`,!0],matrix:xc.Matrix,array:xc.Matrix,pmatrix:[xc.Matrix,`(`,`)`],cases:[xc.Matrix,`{`,``,`left left`,null,`.2em`,null,!0],eqalign:[xc.Matrix,null,null,`right left`,wc,`.5em`,`D`],displaylines:[xc.Matrix,null,null,`center`,null,`.5em`,`D`],cr:xc.Cr,"\\":xc.CrLaTeX,newline:[xc.CrLaTeX,!0],hline:xc.HLine,hdashline:[xc.HLine,`dashed`],eqalignno:[xc.Matrix,null,null,`right left`,wc,`.5em`,`D`,null,`right`],leqalignno:[xc.Matrix,null,null,`right left`,wc,`.5em`,`D`,null,`left`],hfill:xc.HFill,hfil:xc.HFill,hfilll:xc.HFill,bmod:[xc.Macro,`\\mmlToken{mo}[lspace="`+wc+`" rspace="`+wc+`"]{mod}`],pmod:[xc.Macro,`\\pod{\\mmlToken{mi}{mod}\\kern 6mu #1}`,1],mod:[xc.Macro,`\\mathchoice{\\kern18mu}{\\kern12mu}{\\kern12mu}{\\kern12mu}\\mmlToken{mi}{mod}\\,\\,#1`,1],pod:[xc.Macro,`\\mathchoice{\\kern18mu}{\\kern8mu}{\\kern8mu}{\\kern8mu}(#1)`,1],iff:[xc.Macro,`\\;\\Longleftrightarrow\\;`],skew:[xc.Macro,`{{#2{#3\\mkern#1mu}\\mkern-#1mu}{}}`,3],pmb:[xc.Macro,`\\rlap{#1}\\kern1px{#1}`,1],TeX:[xc.Macro,`T\\kern-.14em\\lower.5ex{E}\\kern-.115em X`],LaTeX:[xc.Macro,`L\\kern-.325em\\raise.21em{\\scriptstyle{A}}\\kern-.17em\\TeX`],not:xc.Not,dots:xc.Dots,space:xc.Tilde,"\xA0":xc.Tilde," ":xc.Tilde,begin:xc.BeginEnd,end:xc.BeginEnd,label:xc.HandleLabel,ref:xc.HandleRef,nonumber:xc.HandleNoTag,newcolumntype:xc.NewColumnType,mathchoice:xc.MathChoice,mmlToken:xc.MmlToken}),new Oa(`environment`,Tc.environment,{displaymath:[xc.Equation,null,!1],math:[xc.Equation,null,!1,!1],array:[xc.AlignedArray],darray:[xc.AlignedArray,null,`D`],equation:[xc.Equation,null,!0],eqnarray:[xc.EqnArray,null,!0,!0,`rcl`,`bmt`,da.cols(0,co.thickmathspace),`.5em`],indentalign:[xc.IndentAlign]}),new Ma(`not_remap`,null,{"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"~":``,"":``,"":``,"":``,"":``,"=":``,"":``,"<":``,">":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``});let kc=ea.Variant;function Ac(t$1,e$1){let s$1=t$1.stack.env.font,i$1=t$1.stack.env.italicFont,r$1=s$1?{mathvariant:s$1}:{},n$1=Pa.getMap(`remap`).lookup(e$1),o$1=Ir(e$1),a$1=o$1[3],c$1=t$1.create(`token`,a$1,r$1,n$1?n$1.char:e$1),l$1=da.isLatinOrGreekChar(e$1)?t$1.configuration.mathStyle(e$1,!0)||i$1:``,h$1=o$1[4]||(s$1&&l$1===kc.NORMAL?``:l$1);h$1&&c$1.attributes.set(`mathvariant`,h$1),a$1===`mo`&&(jo.setProperty(c$1,`fixStretchy`,!0),t$1.configuration.addNode(`fixStretchy`,c$1)),t$1.Push(c$1)}new Ma(`remap`,null,{"-":``,"*":``,"`":``});class Lc extends Ea{}let Mc=ja.create(`base`,{[Vo.CONFIG]:function(t$1,e$1){let s$1=e$1.parseOptions.options;s$1.digits&&(s$1.numberPattern=s$1.digits),new Aa(`digit`,Tc.digit,s$1.initialDigit),new Aa(`letter`,Tc.variable,s$1.initialLetter),t$1.handlers.get(Go.CHARACTER).add([`letter`,`digit`],null,4)},[Vo.HANDLER]:{[Go.CHARACTER]:[`command`,`special`],[Go.DELIMITER]:[`delimiter`],[Go.MACRO]:[`delimiter`,`macros`,`lcGreek`,`ucGreek`,`mathchar0mi`,`mathchar0mo`,`mathchar7`],[Go.ENVIRONMENT]:[`environment`]},[Vo.FALLBACK]:{[Go.CHARACTER]:Ac,[Go.MACRO]:function(t$1,e$1){throw new Qo(`UndefinedControlSequence`,`Undefined control sequence %1`,`\\`+e$1)},[Go.ENVIRONMENT]:function(t$1,e$1){throw new Qo(`UnknownEnv`,`Unknown environment '%1'`,e$1)}},[Vo.ITEMS]:{[Wa.prototype.kind]:Wa,[za.prototype.kind]:za,[Xa.prototype.kind]:Xa,[Va.prototype.kind]:Va,[Ga.prototype.kind]:Ga,[Ja.prototype.kind]:Ja,[Ka.prototype.kind]:Ka,[$a.prototype.kind]:$a,[Ya.prototype.kind]:Ya,[Qa.prototype.kind]:Qa,[Za.prototype.kind]:Za,[tc.prototype.kind]:tc,[ec.prototype.kind]:ec,[sc.prototype.kind]:sc,[ic.prototype.kind]:ic,[rc.prototype.kind]:rc,[nc.prototype.kind]:nc,[oc.prototype.kind]:oc,[ac.prototype.kind]:ac,[cc.prototype.kind]:cc,[lc.prototype.kind]:lc,[hc.prototype.kind]:hc,[dc.prototype.kind]:dc,[uc.prototype.kind]:uc,[mc.prototype.kind]:mc,[pc.prototype.kind]:pc},[Vo.OPTIONS]:{maxMacros:1e3,digits:``,numberPattern:/^(?:[0-9]+(?:\{,\}[0-9]{3})*(?:\.[0-9]*)?|\.[0-9]+)/,initialDigit:/[0-9.,]/,identifierPattern:/^[a-zA-Z]+/,initialLetter:/[a-zA-Z]/,baseURL:hi.document&&hi.document.getElementsByTagName(`base`).length!==0?String(hi.document.location).replace(/#.*$/,``):``},[Vo.TAGS]:{base:Lc},[Vo.POSTPROCESSORS]:[[function({data:t$1}){for(let e$1 of t$1.getList(`nonscript`))if(e$1.attributes.get(`scriptlevel`)>0){let s$1=e$1.parent;if(s$1.childNodes.splice(s$1.childIndex(e$1),1),t$1.removeFromList(e$1.kind,[e$1]),e$1.isKind(`mrow`)){let s$2=e$1.childNodes[0];t$1.removeFromList(`mstyle`,[s$2]),t$1.removeFromList(`mspace`,s$2.childNodes[0].childNodes)}}else e$1.isKind(`mrow`)&&(e$1.parent.replaceChild(e$1.childNodes[0],e$1),t$1.removeFromList(`mrow`,[e$1]))},-4]]});class Ic extends $i{static configure(t$1){let e$1=new Ha(t$1,[`tex`]);return e$1.init(),e$1}static tags(t$1,e$1){Ca.addTags(e$1.tags),Ca.setDefault(t$1.options.tags),t$1.tags=Ca.getDefault(),t$1.tags.configuration=t$1}constructor(t$1={}){let[e$1,s$1,i$1]=Bi(t$1,Ic.OPTIONS,Bo.OPTIONS);super(s$1),this.findTeX=this.options.FindTeX||new Bo(i$1);let r$1=this.options.packages,n$1=this.configuration=Ic.configure(r$1),o$1=this._parseOptions=new fa(n$1,[this.options,Ca.OPTIONS]);Oi(o$1.options,e$1),n$1.config(this),Ic.tags(o$1,n$1),this.postFilters.addList([[Xo.cleanSubSup,-7],[Xo.setInherited,-6],[Xo.checkScriptlevel,-5],[Xo.moveLimits,-4],[Xo.cleanStretchy,-3],[Xo.cleanAttributes,-2],[Xo.combineRelations,-1]])}setMmlFactory(t$1){super.setMmlFactory(t$1),this._parseOptions.nodeFactory.setMmlFactory(t$1)}get parseOptions(){return this._parseOptions}reset(t$1=0){this.parseOptions.tags.reset(t$1)}compile(t$1,e$1){let s$1,i$1;this.parseOptions.clear(),this.parseOptions.mathItem=t$1,this.executeFilters(this.preFilters,t$1,e$1,this.parseOptions),this.latex=t$1.math,this.parseOptions.tags.startEquation(t$1);try{i$1=new sa(this.latex,{display:t$1.display,isInner:!1},this.parseOptions),s$1=i$1.mml()}catch(t$2){if(!(t$2 instanceof Qo))throw t$2;this.parseOptions.error=!0,s$1=this.options.formatError(this,t$2)}return s$1=this.parseOptions.nodeFactory.create(`node`,`math`,[s$1]),s$1.attributes.set(ea.Attr.LATEX,this.latex),t$1.display&&jo.setAttribute(s$1,`display`,`block`),this.parseOptions.tags.finishEquation(t$1),this.parseOptions.root=s$1,this.executeFilters(this.postFilters,t$1,e$1,this.parseOptions),i$1&&i$1.stack.env.hsize&&(jo.setAttribute(s$1,`maxwidth`,i$1.stack.env.hsize),jo.setAttribute(s$1,`overflow`,`linebreak`)),this.mathNode=this.parseOptions.root,this.mathNode}findMath(t$1){return this.findTeX.findMath(t$1)}formatError(t$1){let e$1=t$1.message.replace(/\n.*/,``);return this.parseOptions.nodeFactory.create(`error`,e$1,t$1.id,this.latex)}}Ic.NAME=`TeX`,Ic.OPTIONS=Object.assign(Object.assign({},$i.OPTIONS),{FindTeX:null,packages:[`base`],maxBuffer:5120,maxTemplateSubtitutions:1e4,mathStyle:`TeX`,formatError:(t$1,e$1)=>t$1.formatError(e$1)});class Sc extends dc{constructor(t$1,...e$1){super(t$1),this.factory.configuration.tags.start(`multline`,!0,e$1[0])}get kind(){return`multline`}EndEntry(){this.table.length&&da.fixInitialMO(this.factory.configuration,this.nodes);let t$1=this.getProperty(`shove`),e$1=this.create(`node`,`mtd`,this.nodes,t$1?{columnalign:t$1}:{});this.setProperty(`shove`,null),this.row.push(e$1),this.Clear()}EndRow(){if(this.row.length!==1)throw new Qo(`MultlineRowsOneCol`,`The rows within the %1 environment must have exactly one column`,`multline`);let t$1=this.create(`node`,`mtr`,this.row);this.table.push(t$1),this.row=[]}EndTable(){if(super.EndTable(),this.table.length){let t$1=this.table.length-1,e$1=-1;jo.getAttribute(jo.getChildren(this.table[0])[0],`columnalign`)||jo.setAttribute(jo.getChildren(this.table[0])[0],`columnalign`,ea.Align.LEFT),jo.getAttribute(jo.getChildren(this.table[t$1])[0],`columnalign`)||jo.setAttribute(jo.getChildren(this.table[t$1])[0],`columnalign`,ea.Align.RIGHT);let s$1=this.factory.configuration.tags.getTag();if(s$1){e$1=this.arraydef.side===ea.Align.LEFT?0:this.table.length-1;let t$2=this.table[e$1],i$1=this.create(`node`,`mlabeledtr`,[s$1].concat(jo.getChildren(t$2)));jo.copyAttributes(t$2,i$1),this.table[e$1]=i$1}}this.factory.configuration.tags.end()}}class Rc extends uc{get kind(){return`flalign`}constructor(t$1,e$1,s$1,i$1,r$1){super(t$1),this.name=e$1,this.numbered=s$1,this.padded=i$1,this.center=r$1,this.factory.configuration.tags.start(e$1,s$1,s$1)}EndEntry(){super.EndEntry();let t$1=this.getProperty(`xalignat`);if(t$1&&this.row.length>t$1)throw new Qo(`XalignOverflow`,`Extra %1 in row of %2`,`&`,this.name)}EndRow(){let t$1,e$1=this.row,s$1=this.getProperty(`xalignat`);for(;e$1.length<s$1;)e$1.push(this.create(`node`,`mtd`));for(this.row=[],this.padded&&this.row.push(this.create(`node`,`mtd`));t$1=e$1.shift();)this.row.push(t$1),t$1=e$1.shift(),t$1&&this.row.push(t$1),(e$1.length||this.padded)&&this.row.push(this.create(`node`,`mtd`));this.row.length>this.maxrow&&(this.maxrow=this.row.length),super.EndRow();let i$1=this.table[this.table.length-1];if(this.getProperty(`zeroWidthLabel`)&&i$1.isKind(`mlabeledtr`)){let t$2=jo.getChildren(i$1)[0],e$2=this.factory.configuration.options.tagSide,s$2=Object.assign({width:0},e$2===`right`?{lspace:`-1width`}:{}),r$1=this.create(`node`,`mpadded`,jo.getChildren(t$2),s$2);t$2.setChildren([r$1])}}EndTable(){super.EndTable(),this.center&&this.maxrow<=2&&(delete this.arraydef.width,delete this.global.indentalign)}}var Oc;(function(t$1){t$1.NEW_DELIMITER=`new-Delimiter`,t$1.NEW_COMMAND=`new-Command`,t$1.NEW_ENVIRONMENT=`new-Environment`})(Oc||={});let Dc=-100,Pc={GetCSname(t$1,e$1){if(t$1.GetNext()!==`\\`)throw new Qo(`MissingCS`,`%1 must be followed by a control sequence`,e$1);let s$1=Ko.trimSpaces(t$1.GetArgument(e$1)).substring(1);return this.checkProtectedMacros(t$1,s$1),s$1},GetCsNameArgument(t$1,e$1){let s$1=Ko.trimSpaces(t$1.GetArgument(e$1));if(s$1.charAt(0)===`\\`&&(s$1=s$1.substring(1)),!s$1.match(/^(.|[a-z]+)$/i))throw new Qo(`IllegalControlSequenceName`,`Illegal control sequence name for %1`,e$1);return this.checkProtectedMacros(t$1,s$1),s$1},GetArgCount(t$1,e$1){let s$1=t$1.GetBrackets(e$1);if(s$1&&(s$1=Ko.trimSpaces(s$1),!s$1.match(/^[0-9]+$/)))throw new Qo(`IllegalParamNumber`,`Illegal number of parameters specified in %1`,e$1);return s$1},GetTemplate(t$1,e$1,s$1){let i$1=t$1.GetNext(),r$1=[],n$1=0,o$1=t$1.i;for(;t$1.i<t$1.string.length;){if(i$1=t$1.GetNext(),i$1===`#`){if(o$1!==t$1.i&&(r$1[n$1]=t$1.string.substring(o$1,t$1.i)),i$1=t$1.string.charAt(++t$1.i),!i$1.match(/^[1-9]$/))throw new Qo(`CantUseHash2`,`Illegal use of # in template for %1`,s$1);if(parseInt(i$1)!==++n$1)throw new Qo(`SequentialParam`,`Parameters for %1 must be numbered sequentially`,s$1);o$1=t$1.i+1}else if(i$1===`{`)return o$1!==t$1.i&&(r$1[n$1]=t$1.string.substring(o$1,t$1.i)),r$1.length>0?[n$1.toString()].concat(r$1):n$1;t$1.i++}throw new Qo(`MissingReplacementString`,`Missing replacement string for definition of %1`,e$1)},GetParameter(t$1,e$1,s$1){if(s$1==null)return t$1.GetArgument(e$1);let i$1=t$1.i,r$1=0,n$1=!1;for(;t$1.i<t$1.string.length;){let o$1=t$1.string.charAt(t$1.i);if(o$1===`{`)n$1=t$1.i===i$1,t$1.GetArgument(e$1),r$1=t$1.i-i$1;else{if(this.MatchParam(t$1,s$1))return n$1&&(i$1++,r$1-=2),t$1.string.substring(i$1,i$1+r$1);if(o$1===`\\`){t$1.i++,r$1++,n$1=!1;let e$2=t$1.string.substring(t$1.i).match(/[a-z]+|./i);e$2&&(t$1.i+=e$2[0].length,r$1=t$1.i-i$1)}else t$1.i++,r$1++,n$1=!1}}throw new Qo(`RunawayArgument`,`Runaway argument for %1?`,e$1)},MatchParam:(t$1,e$1)=>t$1.string.substring(t$1.i,t$1.i+e$1.length)!==e$1||e$1.match(/\\[a-z]+$/i)&&t$1.string.charAt(t$1.i+e$1.length).match(/[a-z]/i)?0:(t$1.i+=e$1.length,1),checkGlobal:(t$1,e$1,s$1)=>t$1.stack.env.isGlobal?t$1.configuration.packageData.get(`begingroup`).stack.checkGlobal(e$1,s$1):s$1.map((e$2=>t$1.configuration.handlers.retrieve(e$2))),checkProtectedMacros(t$1,e$1){var s$1;if(t$1.options.protectedMacros?.includes(e$1))throw new Qo(`ProtectedMacro`,`The control sequence %1 can't be redefined`,`\\${e$1}`)},addDelimiter(t$1,e$1,s$1,i$1){let r$1=e$1.substring(1);this.checkProtectedMacros(t$1,r$1);let[n$1,o$1]=Pc.checkGlobal(t$1,[r$1,e$1],[Oc.NEW_COMMAND,Oc.NEW_DELIMITER]);r$1!==e$1&&n$1.remove(r$1),o$1.add(e$1,new Ta(e$1,s$1,i$1)),delete t$1.stack.env.isGlobal},addMacro(t$1,e$1,s$1,i$1,r$1=``){this.checkProtectedMacros(t$1,e$1);let n$1=Pc.checkGlobal(t$1,[e$1],[Oc.NEW_COMMAND])[0];this.undefineDelimiter(t$1,`\\`+e$1),n$1.add(e$1,new wa(r$1||e$1,s$1,i$1)),delete t$1.stack.env.isGlobal},addEnvironment(t$1,e$1,s$1,i$1){Pc.checkGlobal(t$1,[e$1],[Oc.NEW_ENVIRONMENT])[0].add(e$1,new wa(e$1,s$1,i$1)),delete t$1.stack.env.isGlobal},undefineMacro(t$1,e$1){let s$1=Pc.checkGlobal(t$1,[e$1],[Oc.NEW_COMMAND])[0];s$1.remove(e$1),t$1.configuration.handlers.get(Go.MACRO).applicable(e$1)&&(s$1.add(e$1,new wa(e$1,(()=>Ba.FALLBACK),[])),this.undefineDelimiter(t$1,`\\`+e$1)),delete t$1.stack.env.isGlobal},undefineDelimiter(t$1,e$1){let s$1=Pc.checkGlobal(t$1,[e$1],[Oc.NEW_DELIMITER])[0];s$1.remove(e$1),t$1.configuration.handlers.get(Go.DELIMITER).applicable(e$1)&&s$1.add(e$1,new Ta(e$1,null,{})),delete t$1.stack.env.isGlobal}};function Bc(t$1){if(!t$1||t$1.isInferred&&t$1.childNodes.length===0)return[null,null];if(t$1.isKind(`msubsup`)&&Fc(t$1))return[t$1,null];let e$1=jo.getChildAt(t$1,0);return t$1.isInferred&&e$1&&Fc(e$1)?(t$1.childNodes.splice(0,1),[e$1,t$1]):[null,t$1]}function Fc(t$1){let e$1=t$1.childNodes[0];return e$1&&e$1.isKind(`mi`)&&e$1.getText()===``}let jc={AmsEqnArray(t$1,e$1,s$1,i$1,r$1,n$1,o$1,a$1){let c$1=t$1.GetBrackets(`\\begin{`+e$1.getName()+`}`),l$1=xc.EqnArray(t$1,e$1,s$1,i$1,r$1,n$1,o$1,a$1);return da.setArrayAlign(l$1,c$1,t$1)},AlignAt(t$1,e$1,s$1,i$1){let r$1=e$1.getName(),n$1,o$1=``,a$1=``,c$1=[];i$1||(n$1=t$1.GetBrackets(`\\begin{`+r$1+`}`));let l$1=t$1.GetArgument(`\\begin{`+r$1+`}`);if(l$1.match(/[^0-9]/))throw new Qo(`PositiveIntegerArg`,`Argument to %1 must be a positive integer`,`\\begin{`+r$1+`}`);let h$1=parseInt(l$1,10);for(;h$1>0;)o$1+=`rl`,a$1+=`bt`,c$1.push(`0em 0em`),h$1--;let d$1=c$1.join(` `);if(i$1)return jc.EqnArray(t$1,e$1,s$1,i$1,o$1,a$1,d$1);let u$1=jc.EqnArray(t$1,e$1,s$1,i$1,o$1,a$1,d$1);return da.setArrayAlign(u$1,n$1,t$1)},Multline(t$1,e$1,s$1){da.checkEqnEnv(t$1),t$1.Push(e$1);let i$1=t$1.options.ams.multlineIndent,r$1=t$1.itemFactory.create(`multline`,s$1,t$1.stack);return r$1.arraydef={displaystyle:!0,rowspacing:`.5em`,columnspacing:`100%`,width:t$1.options.ams.multlineWidth,side:t$1.options.tagSide,minlabelspacing:t$1.options.tagIndent,"data-array-padding":`${i$1} ${i$1}`,"data-width-includes-label":!0},r$1},XalignAt(t$1,e$1,s$1,i$1){let r$1=t$1.GetArgument(`\\begin{`+e$1.getName()+`}`);if(r$1.match(/[^0-9]/))throw new Qo(`PositiveIntegerArg`,`Argument to %1 must be a positive integer`,`\\begin{`+e$1.getName()+`}`);let n$1=i$1?`crl`:`rlc`,o$1=i$1?`mbt`:`btm`,a$1=i$1?`fit auto auto`:`auto auto fit`,c$1=jc.FlalignArray(t$1,e$1,s$1,i$1,!1,n$1,o$1,a$1,!0);return c$1.setProperty(`xalignat`,2*parseInt(r$1)),c$1},FlalignArray(t$1,e$1,s$1,i$1,r$1,n$1,o$1,a$1,c$1=!1){da.checkEqnEnv(t$1),t$1.Push(e$1),n$1=n$1.split(``).join(` `).replace(/r/g,`right`).replace(/l/g,`left`).replace(/c/g,`center`),o$1=Ec(o$1);let l$1=t$1.itemFactory.create(`flalign`,e$1.getName(),s$1,i$1,r$1,t$1.stack);return l$1.arraydef={width:`100%`,displaystyle:!0,columnalign:n$1,columnspacing:`0em`,columnwidth:a$1,rowspacing:`3pt`,"data-break-align":o$1,side:t$1.options.tagSide,minlabelspacing:c$1?`0`:t$1.options.tagIndent,"data-width-includes-label":!0},l$1.setProperty(`zeroWidthLabel`,c$1),l$1},HandleDeclareOp(t$1,e$1){let s$1=t$1.GetStar()?`*`:``,i$1=Pc.GetCsNameArgument(t$1,e$1),r$1=t$1.GetArgument(e$1);Pc.addMacro(t$1,i$1,jc.Macro,[`\\operatorname${s$1}{${r$1}}`]),t$1.Push(t$1.itemFactory.create(`null`))},HandleOperatorName(t$1,e$1){let s$1=t$1.GetStar(),r$1=new sa(Ko.trimSpaces(t$1.GetArgument(e$1)),Object.assign(Object.assign({},t$1.stack.env),{font:ea.Variant.NORMAL,multiLetterIdentifiers:t$1.options.ams.operatornamePattern,operatorLetters:!0}),t$1.configuration).mml();if(r$1.isKind(`mi`)||(r$1=t$1.create(`node`,`TeXAtom`,[r$1])),jo.setProperties(r$1,{movesupsub:s$1,movablelimits:!0,texClass:ur.OP}),!s$1){let e$2=t$1.GetNext(),s$2=t$1.i;e$2===`\\`&&++t$1.i&&t$1.GetCS()!==`limits`&&(t$1.i=s$2)}t$1.Push(t$1.itemFactory.create(`fn`,r$1))},SideSet(t$1,e$1){let[s$1,i$1]=Bc(t$1.ParseArg(e$1)),[r$1,n$1]=Bc(t$1.ParseArg(e$1)),o$1=t$1.ParseArg(e$1),a$1=o$1;s$1&&(i$1?s$1.replaceChild(t$1.create(`node`,`mphantom`,[t$1.create(`node`,`mpadded`,[da.copyNode(o$1,t$1)],{width:0})]),jo.getChildAt(s$1,0)):(a$1=t$1.create(`node`,`mmultiscripts`,[o$1]),r$1&&jo.appendChildren(a$1,[jo.getChildAt(r$1,1)||t$1.create(`node`,`none`),jo.getChildAt(r$1,2)||t$1.create(`node`,`none`)]),jo.setProperty(a$1,`scriptalign`,`left`),jo.appendChildren(a$1,[t$1.create(`node`,`mprescripts`),jo.getChildAt(s$1,1)||t$1.create(`node`,`none`),jo.getChildAt(s$1,2)||t$1.create(`node`,`none`)]))),r$1&&a$1===o$1&&(r$1.replaceChild(o$1,jo.getChildAt(r$1,0)),a$1=r$1);let c$1=t$1.create(`node`,`TeXAtom`,[],{texClass:ur.OP,movesupsub:!0,movablelimits:!0});i$1&&(s$1&&c$1.appendChild(s$1),c$1.appendChild(i$1)),c$1.appendChild(a$1),n$1&&c$1.appendChild(n$1),t$1.Push(c$1)},operatorLetter:(t$1,e$1)=>!!t$1.stack.env.operatorLetters&&Tc.variable(t$1,e$1),MultiIntegral(t$1,e$1,s$1){let i$1=t$1.GetNext();if(i$1===`\\`){let r$1=t$1.i;i$1=t$1.GetArgument(e$1),t$1.i=r$1,i$1===`\\limits`&&(s$1=`\\!\\!\\mathop{\\,\\,`+s$1+`}`)}t$1.string=s$1+` `+t$1.string.slice(t$1.i),t$1.i=0},xArrow(t$1,e$1,s$1,i$1,r$1,n$1=0){let o$1={width:`+`+Ko.em((i$1+r$1)/18),lspace:Ko.em(i$1/18)},a$1=t$1.GetBrackets(e$1),c$1=t$1.ParseArg(e$1),l$1=t$1.create(`node`,`mspace`,[],{depth:`.2em`}),h$1=t$1.create(`token`,`mo`,{stretchy:!0,texClass:ur.REL},String.fromCodePoint(s$1));n$1&&h$1.attributes.set(`minsize`,Ko.em(n$1)),h$1=t$1.create(`node`,`mstyle`,[h$1],{scriptlevel:0});let d$1=t$1.create(`node`,`munderover`,[h$1]),u$1=t$1.create(`node`,`mpadded`,[c$1,l$1],o$1);if(jo.setAttribute(u$1,`voffset`,`-.2em`),jo.setAttribute(u$1,`height`,`-.2em`),jo.setChild(d$1,d$1.over,u$1),a$1){let e$2=new sa(a$1,t$1.stack.env,t$1.configuration).mml(),s$2=t$1.create(`node`,`mspace`,[],{height:`.75em`});u$1=t$1.create(`node`,`mpadded`,[e$2,s$2],o$1),jo.setAttribute(u$1,`voffset`,`.15em`),jo.setAttribute(u$1,`depth`,`-.15em`),jo.setChild(d$1,d$1.under,u$1)}jo.setProperty(d$1,`subsupOK`,!0),t$1.Push(d$1)},HandleShove(t$1,e$1,s$1){let i$1=t$1.stack.Top();if(i$1.kind!==`multline`)throw new Qo(`CommandOnlyAllowedInEnv`,`%1 only allowed in %2 environment`,t$1.currentCS,`multline`);if(i$1.Size())throw new Qo(`CommandAtTheBeginingOfLine`,`%1 must come at the beginning of the line`,t$1.currentCS);i$1.setProperty(`shove`,s$1)},CFrac(t$1,e$1){let s$1=Ko.trimSpaces(t$1.GetBrackets(e$1,``)),i$1=t$1.GetArgument(e$1),r$1=t$1.GetArgument(e$1),n$1={l:ea.Align.LEFT,r:ea.Align.RIGHT,"":``},o$1=new sa(`\\strut\\textstyle{`+i$1+`}`,t$1.stack.env,t$1.configuration).mml(),a$1=new sa(`\\strut\\textstyle{`+r$1+`}`,t$1.stack.env,t$1.configuration).mml(),c$1=t$1.create(`node`,`mfrac`,[o$1,a$1]);if(s$1=n$1[s$1],s$1==null)throw new Qo(`IllegalAlign`,`Illegal alignment specified in %1`,t$1.currentCS);s$1&&jo.setProperties(c$1,{numalign:s$1,denomalign:s$1}),t$1.Push(c$1)},Genfrac(t$1,e$1,s$1,i$1,r$1,n$1){s$1??=t$1.GetDelimiterArg(e$1),i$1??=t$1.GetDelimiterArg(e$1),r$1??=t$1.GetArgument(e$1),n$1??=Ko.trimSpaces(t$1.GetArgument(e$1));let o$1=t$1.ParseArg(e$1),a$1=t$1.ParseArg(e$1),c$1=t$1.create(`node`,`mfrac`,[o$1,a$1]);if(r$1!==``&&jo.setAttribute(c$1,`linethickness`,r$1),(s$1||i$1)&&(jo.setProperty(c$1,`withDelims`,!0),c$1=da.fixedFence(t$1.configuration,s$1,c$1,i$1)),n$1!==``){let e$2=parseInt(n$1,10),s$2=[`D`,`T`,`S`,`SS`][e$2];if(s$2==null)throw new Qo(`BadMathStyleFor`,`Bad math style for %1`,t$1.currentCS);c$1=t$1.create(`node`,`mstyle`,[c$1]),s$2===`D`?jo.setProperties(c$1,{displaystyle:!0,scriptlevel:0}):jo.setProperties(c$1,{displaystyle:!1,scriptlevel:e$2-1})}t$1.Push(c$1)},HandleTag(t$1,e$1){if(!t$1.tags.currentTag.taggable&&t$1.tags.env)throw new Qo(`CommandNotAllowedInEnv`,`%1 not allowed in %2 environment`,t$1.currentCS,t$1.tags.env);if(t$1.tags.currentTag.tag)throw new Qo(`MultipleCommand`,`Multiple %1`,t$1.currentCS);let s$1=t$1.GetStar(),i$1=Ko.trimSpaces(t$1.GetArgument(e$1));t$1.tags.tag(i$1,s$1),t$1.Push(t$1.itemFactory.create(`null`))},HandleNoTag:xc.HandleNoTag,HandleRef:xc.HandleRef,Macro:xc.Macro,Accent:xc.Accent,Tilde:xc.Tilde,Array:xc.Array,Spacer:xc.Spacer,NamedOp:xc.NamedOp,EqnArray:xc.EqnArray,Equation:xc.Equation};new Ma(`AMSmath-mathchar0mo`,Tc.mathchar0mo,{iiiint:[``,{texClass:ur.OP}]}),new Aa(`AMSmath-operatorLetter`,jc.operatorLetter,/[-*]/i),new Ra(`AMSmath-macros`,{mathring:[jc.Accent,`02DA`],nobreakspace:jc.Tilde,negmedspace:[jc.Spacer,co.negativemediummathspace],negthickspace:[jc.Spacer,co.negativethickmathspace],idotsint:[jc.MultiIntegral,`\\int\\cdots\\int`],dddot:[jc.Accent,`20DB`],ddddot:[jc.Accent,`20DC`],sideset:jc.SideSet,boxed:[jc.Macro,`\\fbox{$\\displaystyle{#1}$}`,1],tag:jc.HandleTag,notag:jc.HandleNoTag,eqref:[jc.HandleRef,!0],substack:[jc.Macro,`\\begin{subarray}{c}#1\\end{subarray}`,1],injlim:[jc.NamedOp,`inj&thinsp;lim`],projlim:[jc.NamedOp,`proj&thinsp;lim`],varliminf:[jc.Macro,`\\mathop{\\underline{\\mmlToken{mi}{lim}}}`],varlimsup:[jc.Macro,`\\mathop{\\overline{\\mmlToken{mi}{lim}}}`],varinjlim:[jc.Macro,`\\mathop{\\underrightarrow{\\mmlToken{mi}{lim}}}`],varprojlim:[jc.Macro,`\\mathop{\\underleftarrow{\\mmlToken{mi}{lim}}}`],DeclareMathOperator:jc.HandleDeclareOp,operatorname:jc.HandleOperatorName,genfrac:jc.Genfrac,frac:[jc.Genfrac,``,``,``,``],tfrac:[jc.Genfrac,``,``,``,`1`],dfrac:[jc.Genfrac,``,``,``,`0`],binom:[jc.Genfrac,`(`,`)`,`0`,``],tbinom:[jc.Genfrac,`(`,`)`,`0`,`1`],dbinom:[jc.Genfrac,`(`,`)`,`0`,`0`],cfrac:jc.CFrac,shoveleft:[jc.HandleShove,ea.Align.LEFT],shoveright:[jc.HandleShove,ea.Align.RIGHT],xrightarrow:[jc.xArrow,8594,5,10],xleftarrow:[jc.xArrow,8592,10,5]}),new Oa(`AMSmath-environment`,Tc.environment,{"equation*":[jc.Equation,null,!1],"eqnarray*":[jc.EqnArray,null,!1,!0,`rcl`,`bmt`,da.cols(0,co.thickmathspace),`.5em`],align:[jc.EqnArray,null,!0,!0,`rl`,`bt`,da.cols(0,2)],"align*":[jc.EqnArray,null,!1,!0,`rl`,`bt`,da.cols(0,2)],multline:[jc.Multline,null,!0],"multline*":[jc.Multline,null,!1],split:[jc.EqnArray,null,!1,!1,`rl`,`bt`,da.cols(0)],gather:[jc.EqnArray,null,!0,!0,`c`,`m`],"gather*":[jc.EqnArray,null,!1,!0,`c`,`m`],alignat:[jc.AlignAt,null,!0,!0],"alignat*":[jc.AlignAt,null,!1,!0],alignedat:[jc.AlignAt,null,!1,!1],aligned:[jc.AmsEqnArray,null,null,null,`rl`,`bt`,da.cols(0,2),`.5em`,`D`],gathered:[jc.AmsEqnArray,null,null,null,`c`,`m`,null,`.5em`,`D`],xalignat:[jc.XalignAt,null,!0,!0],"xalignat*":[jc.XalignAt,null,!1,!0],xxalignat:[jc.XalignAt,null,!1,!1],flalign:[jc.FlalignArray,null,!0,!1,!0,`rlc`,`btm`,`auto auto fit`],"flalign*":[jc.FlalignArray,null,!1,!1,!0,`rlc`,`btm`,`auto auto fit`],subarray:[jc.Array,null,null,null,null,da.cols(0),`0.1em`,`S`,!0],smallmatrix:[jc.Array,null,null,null,`c`,da.cols(1/3),`.2em`,`S`,!0],matrix:[jc.Array,null,null,null,`c`],pmatrix:[jc.Array,null,`(`,`)`,`c`],bmatrix:[jc.Array,null,`[`,`]`,`c`],Bmatrix:[jc.Array,null,`\\{`,`\\}`,`c`],vmatrix:[jc.Array,null,`\\vert`,`\\vert`,`c`],Vmatrix:[jc.Array,null,`\\Vert`,`\\Vert`,`c`],cases:[jc.Array,null,`\\{`,`.`,`ll`,null,`.2em`,`T`]}),new Ia(`AMSmath-delimiter`,Tc.delimiter,{"\\lvert":[`|`,{texClass:ur.OPEN}],"\\rvert":[`|`,{texClass:ur.CLOSE}],"\\lVert":[``,{texClass:ur.OPEN}],"\\rVert":[``,{texClass:ur.CLOSE}]}),new Ma(`AMSsymbols-mathchar0mi`,Tc.mathchar0mi,{digamma:``,varkappa:``,varGamma:[``,{mathvariant:ea.Variant.ITALIC}],varDelta:[``,{mathvariant:ea.Variant.ITALIC}],varTheta:[``,{mathvariant:ea.Variant.ITALIC}],varLambda:[``,{mathvariant:ea.Variant.ITALIC}],varXi:[``,{mathvariant:ea.Variant.ITALIC}],varPi:[``,{mathvariant:ea.Variant.ITALIC}],varSigma:[``,{mathvariant:ea.Variant.ITALIC}],varUpsilon:[``,{mathvariant:ea.Variant.ITALIC}],varPhi:[``,{mathvariant:ea.Variant.ITALIC}],varPsi:[``,{mathvariant:ea.Variant.ITALIC}],varOmega:[``,{mathvariant:ea.Variant.ITALIC}],beth:``,gimel:``,daleth:``,backprime:[``,{variantForm:!0}],hslash:``,varnothing:[``,{variantForm:!0}],blacktriangle:``,triangledown:[``,{variantForm:!0}],blacktriangledown:``,square:``,Box:``,blacksquare:``,lozenge:``,Diamond:``,blacklozenge:``,circledS:[``,{mathvariant:ea.Variant.NORMAL}],bigstar:``,sphericalangle:``,measuredangle:``,nexists:``,complement:``,mho:``,eth:[``,{mathvariant:ea.Variant.NORMAL}],Finv:``,diagup:``,Game:``,diagdown:``,Bbbk:[`k`,{mathvariant:ea.Variant.DOUBLESTRUCK}],yen:``,circledR:``,checkmark:``,maltese:``}),new Ma(`AMSsymbols-mathchar0mo`,Tc.mathchar0mo,{dotplus:``,ltimes:``,smallsetminus:[``,{variantForm:!0}],rtimes:``,Cap:``,doublecap:``,leftthreetimes:``,Cup:``,doublecup:``,rightthreetimes:``,barwedge:``,curlywedge:``,veebar:``,curlyvee:``,doublebarwedge:``,boxminus:``,circleddash:``,boxtimes:``,circledast:``,boxdot:``,circledcirc:``,boxplus:``,centerdot:[``,{variantForm:!0}],divideontimes:``,intercal:``,leqq:``,geqq:``,leqslant:``,geqslant:``,eqslantless:``,eqslantgtr:``,lesssim:``,gtrsim:``,lessapprox:``,gtrapprox:``,approxeq:``,lessdot:``,gtrdot:``,lll:``,llless:``,ggg:``,gggtr:``,lessgtr:``,gtrless:``,lesseqgtr:``,gtreqless:``,lesseqqgtr:``,gtreqqless:``,doteqdot:``,Doteq:``,eqcirc:``,risingdotseq:``,circeq:``,fallingdotseq:``,triangleq:``,backsim:``,thicksim:[``,{variantForm:!0}],backsimeq:``,thickapprox:[``,{variantForm:!0}],subseteqq:``,supseteqq:``,Subset:``,Supset:``,sqsubset:``,sqsupset:``,preccurlyeq:``,succcurlyeq:``,curlyeqprec:``,curlyeqsucc:``,precsim:``,succsim:``,precapprox:``,succapprox:``,vartriangleleft:``,lhd:``,vartriangleright:``,rhd:``,trianglelefteq:``,unlhd:``,trianglerighteq:``,unrhd:``,vDash:``,Vdash:``,Vvdash:``,smallsmile:[``,{variantForm:!0}],shortmid:[``,{variantForm:!0}],smallfrown:[``,{variantForm:!0}],shortparallel:[``,{variantForm:!0}],bumpeq:``,between:``,Bumpeq:``,pitchfork:``,varpropto:[``,{variantForm:!0}],backepsilon:``,blacktriangleleft:``,blacktriangleright:``,therefore:``,because:``,eqsim:``,vartriangle:[``,{variantForm:!0}],Join:``,nless:``,ngtr:``,nleq:``,ngeq:``,nleqslant:[``,{variantForm:!0}],ngeqslant:[``,{variantForm:!0}],nleqq:[``,{variantForm:!0}],ngeqq:[``,{variantForm:!0}],lneq:``,gneq:``,lneqq:``,gneqq:``,lvertneqq:[``,{variantForm:!0}],gvertneqq:[``,{variantForm:!0}],lnsim:``,gnsim:``,lnapprox:``,gnapprox:``,nprec:``,nsucc:``,npreceq:[``,{variantForm:!0}],nsucceq:[``,{variantForm:!0}],precneqq:``,succneqq:``,precnsim:``,succnsim:``,precnapprox:``,succnapprox:``,nsim:``,ncong:``,nshortmid:[``,{variantForm:!0}],nshortparallel:[``,{variantForm:!0}],nmid:``,nparallel:``,nvdash:``,nvDash:``,nVdash:``,nVDash:``,ntriangleleft:``,ntriangleright:``,ntrianglelefteq:``,ntrianglerighteq:``,nsubseteq:``,nsupseteq:``,nsubseteqq:[``,{variantForm:!0}],nsupseteqq:[``,{variantForm:!0}],subsetneq:``,supsetneq:``,varsubsetneq:[``,{variantForm:!0}],varsupsetneq:[``,{variantForm:!0}],subsetneqq:``,supsetneqq:``,varsubsetneqq:[``,{variantForm:!0}],varsupsetneqq:[``,{variantForm:!0}],leftleftarrows:``,rightrightarrows:``,leftrightarrows:``,rightleftarrows:``,Lleftarrow:``,Rrightarrow:``,twoheadleftarrow:``,twoheadrightarrow:``,leftarrowtail:``,rightarrowtail:``,looparrowleft:``,looparrowright:``,leftrightharpoons:``,rightleftharpoons:[``,{variantForm:!0}],curvearrowleft:``,curvearrowright:``,circlearrowleft:``,circlearrowright:``,Lsh:``,Rsh:``,upuparrows:``,downdownarrows:``,upharpoonleft:``,upharpoonright:``,downharpoonleft:``,restriction:``,multimap:``,downharpoonright:``,leftrightsquigarrow:``,rightsquigarrow:``,leadsto:``,dashrightarrow:``,dashleftarrow:``,nleftarrow:``,nrightarrow:``,nLeftarrow:``,nRightarrow:``,nleftrightarrow:``,nLeftrightarrow:``}),new Ia(`AMSsymbols-delimiter`,Tc.delimiter,{"\\ulcorner":``,"\\urcorner":``,"\\llcorner":``,"\\lrcorner":``}),new Ra(`AMSsymbols-macros`,{implies:[jc.Macro,`\\;\\Longrightarrow\\;`],impliedby:[jc.Macro,`\\;\\Longleftarrow\\;`]});class Uc extends ta{get kind(){return`beginEnv`}get isOpen(){return!0}checkItem(t$1){if(t$1.isKind(`end`)){if(t$1.getName()!==this.getName())throw new Qo(`EnvBadEnd`,`\\begin{%1} ended with \\end{%2}`,this.getName(),t$1.getName());return[[this.factory.create(`mml`,this.toMml())],!0]}if(t$1.isKind(`stop`))throw new Qo(`EnvMissingEnd`,`Missing \\end{%1}`,this.getName());return super.checkItem(t$1)}}let qc={NewCommand(t$1,e$1){let s$1=Pc.GetCsNameArgument(t$1,e$1),i$1=Pc.GetArgCount(t$1,e$1),r$1=t$1.GetBrackets(e$1),n$1=t$1.GetArgument(e$1);Pc.addMacro(t$1,s$1,qc.Macro,[n$1,i$1,r$1]),t$1.Push(t$1.itemFactory.create(`null`))},NewEnvironment(t$1,e$1){let s$1=Ko.trimSpaces(t$1.GetArgument(e$1)),i$1=Pc.GetArgCount(t$1,e$1),r$1=t$1.GetBrackets(e$1),n$1=t$1.GetArgument(e$1),o$1=t$1.GetArgument(e$1);Pc.addEnvironment(t$1,s$1,qc.BeginEnv,[!0,n$1,o$1,i$1,r$1]),t$1.Push(t$1.itemFactory.create(`null`))},MacroDef(t$1,e$1){let s$1=Pc.GetCSname(t$1,e$1),i$1=Pc.GetTemplate(t$1,e$1,`\\`+s$1),r$1=t$1.GetArgument(e$1);i$1 instanceof Array?Pc.addMacro(t$1,s$1,qc.MacroWithTemplate,[r$1].concat(i$1)):Pc.addMacro(t$1,s$1,qc.Macro,[r$1,i$1]),t$1.Push(t$1.itemFactory.create(`null`))},Let(t$1,e$1){let s$1=Pc.GetCSname(t$1,e$1),i$1=t$1.GetNext();i$1===`=`&&(t$1.i++,i$1=t$1.GetNext());let r$1=t$1.configuration.handlers;if(t$1.Push(t$1.itemFactory.create(`null`)),i$1===`\\`){if(s$1===(e$1=Pc.GetCSname(t$1,e$1)))return;let i$2=r$1.get(Go.MACRO).applicable(e$1);if(i$2 instanceof Sa){let r$2=i$2.lookup(e$1);Pc.addMacro(t$1,s$1,r$2.func,r$2.args,r$2.token);return}if(i$2 instanceof Ma&&!(i$2 instanceof Ia)){let r$2=i$2.lookup(e$1);Pc.addMacro(t$1,s$1,t$2=>i$2.parser(t$2,r$2),[s$1,r$2.char]);return}let n$2=r$1.get(Go.DELIMITER).lookup(`\\`+e$1);n$2?Pc.addDelimiter(t$1,`\\`+s$1,n$2.char,n$2.attributes):(Pc.checkProtectedMacros(t$1,s$1),Pc.undefineMacro(t$1,s$1),Pc.undefineDelimiter(t$1,`\\`+s$1));return}t$1.i++;let n$1=r$1.get(Go.DELIMITER).lookup(i$1);n$1?Pc.addDelimiter(t$1,`\\`+s$1,n$1.char,n$1.attributes):Pc.addMacro(t$1,s$1,qc.Macro,[i$1])},MacroWithTemplate(t$1,e$1,s$1,i$1,...r$1){let n$1=parseInt(i$1,10);if(r$1.length){let i$2=[];if(t$1.GetNext(),r$1[0]&&!Pc.MatchParam(t$1,r$1[0]))throw new Qo(`MismatchUseDef`,`Use of %1 doesn't match its definition`,e$1);if(n$1){for(let s$2=0;s$2<n$1;s$2++)i$2.push(Pc.GetParameter(t$1,e$1,r$1[s$2+1]));s$1=da.substituteArgs(t$1,i$2,s$1)}}t$1.string=da.addArgs(t$1,s$1,t$1.string.slice(t$1.i)),t$1.i=0,da.checkMaxMacros(t$1)},BeginEnv(t$1,e$1,s$1,i$1,r$1,n$1){let o$1=e$1.getName();if(t$1.stack.env.closing===o$1){if(delete t$1.stack.env.closing,t$1.stack.global.beginEnv&&(t$1.stack.global.beginEnv--,i$1)){let e$2=t$1.string.slice(t$1.i);t$1.string=da.addArgs(t$1,t$1.string.substring(0,t$1.i),i$1),t$1.Parse(),t$1.string=e$2,t$1.i=0}return t$1.itemFactory.create(`end`).setProperty(`name`,o$1)}if(r$1){let e$2=[];if(n$1!=null){let s$2=t$1.GetBrackets(`\\begin{${o$1}}`);e$2.push(s$2??n$1)}for(let s$2=e$2.length;s$2<r$1;s$2++)e$2.push(t$1.GetArgument(`\\begin{${o$1}}`));s$1=da.substituteArgs(t$1,e$2,s$1),i$1=da.substituteArgs(t$1,[],i$1)}return t$1.string=da.addArgs(t$1,s$1,t$1.string.slice(t$1.i)),t$1.i=0,t$1.stack.global.beginEnv=(t$1.stack.global.beginEnv||0)+1,t$1.itemFactory.create(`beginEnv`).setProperty(`name`,o$1)},Macro:xc.Macro},Hc=qc;function Wc(t$1,e$1){e$1.parseOptions.packageData.has(`newcommand`)||(e$1.parseOptions.packageData.set(`newcommand`,{}),new Ia(Oc.NEW_DELIMITER,Tc.delimiter,{}),new Ra(Oc.NEW_COMMAND,{}),new Oa(Oc.NEW_ENVIRONMENT,Tc.environment,{}),e$1.parseOptions.handlers.add({[Go.CHARACTER]:[],[Go.DELIMITER]:[Oc.NEW_DELIMITER],[Go.MACRO]:[Oc.NEW_DELIMITER,Oc.NEW_COMMAND],[Go.ENVIRONMENT]:[Oc.NEW_ENVIRONMENT]},{},Dc))}new Ra(`Newcommand-macros`,{newcommand:Hc.NewCommand,renewcommand:Hc.NewCommand,newenvironment:Hc.NewEnvironment,renewenvironment:Hc.NewEnvironment,def:Hc.MacroDef,let:Hc.Let});let zc=ja.create(`newcommand`,{[Vo.HANDLER]:{macro:[`Newcommand-macros`]},[Vo.ITEMS]:{[Uc.prototype.kind]:Uc},[Vo.OPTIONS]:{maxMacros:1e3,protectedMacros:[`begingroupSandbox`]},[Vo.CONFIG]:Wc});class Xc extends Ea{}let Vc=ja.create(`ams`,{[Vo.HANDLER]:{[Go.CHARACTER]:[`AMSmath-operatorLetter`],[Go.DELIMITER]:[`AMSsymbols-delimiter`,`AMSmath-delimiter`],[Go.MACRO]:[`AMSsymbols-mathchar0mi`,`AMSsymbols-mathchar0mo`,`AMSsymbols-delimiter`,`AMSsymbols-macros`,`AMSmath-mathchar0mo`,`AMSmath-macros`,`AMSmath-delimiter`],[Go.ENVIRONMENT]:[`AMSmath-environment`]},[Vo.ITEMS]:{[Sc.prototype.kind]:Sc,[Rc.prototype.kind]:Rc},[Vo.TAGS]:{ams:Xc},[Vo.OPTIONS]:{multlineWidth:``,ams:{operatornamePattern:/^[-*a-zA-Z]+/,multlineWidth:`100%`,multlineIndent:`1em`}},[Vo.CONFIG]:Wc}),Gc=qi.config;function Jc(t$1,e$1){let s$1=t$1.parseOptions.options.require,i$1=t$1.parseOptions.packageData.get(`require`).required,r$1=e$1.substring(s$1.prefix.length);if(!i$1.includes(r$1)){i$1.push(r$1);let s$2=function(t$2,e$2=[]){let s$3=t$2.parseOptions.options.require.prefix,i$2=[];for(let r$2 of e$2)if(r$2.substring(0,s$3.length)===s$3)try{Jc(t$2,r$2)}catch(t$3){if(!t$3.retry)throw t$3;i$2.push(t$3.retry)}return i$2.length?Promise.all(i$2):null}(t$1,xi.dependencies[e$1]);s$2?Yn.retryAfter(s$2.then((()=>Kc(t$1,e$1,r$1)))):Kc(t$1,e$1,r$1)}}function Kc(t$1,e$1,s$1){let i$1=qa.get(s$1);if(i$1){let r$1=Gc[e$1]||{};i$1.options&&Object.keys(i$1.options).length===1&&i$1.options[s$1]&&(r$1={[s$1]:r$1}),t$1.configuration.add(s$1,t$1,r$1);let n$1=t$1.parseOptions.packageData.get(`require`).configured;i$1.preprocessors.length&&!n$1.has(s$1)&&(n$1.set(s$1,!0),Yn.retryAfter(Promise.resolve()))}}function $c(t$1,e$1){var s$1,i$1;let r$1=t$1.options.require,n$1=r$1.allow,o$1=(e$1.substring(0,1)===`[`?``:r$1.prefix)+e$1;if(!(Object.hasOwn(n$1,o$1)?n$1[o$1]:Object.hasOwn(n$1,e$1)?n$1[e$1]:r$1.defaultAllow))throw new Qo(`BadRequire`,`Extension "%1" is not allowed to be loaded`,o$1);let a$1=ui.packages.get(o$1);if(a$1||Yn.retryAfter(Ni.load(o$1).catch((t$2=>{}))),a$1.hasFailed)throw new Qo(`RequireFail`,`Extension "%1" failed to load`,e$1);let c$1=xi[o$1]?.rendererExtensions,l$1=qi.startup.document?.menu;c$1&&l$1&&l$1.addRequiredExtensions(c$1),Jc(t$1.configuration.packageData.get(`require`).jax,o$1)}let Yc={Require(t$1,e$1){let s$1=t$1.GetArgument(e$1);if(s$1.match(/[^_a-zA-Z0-9]/)||s$1===``)throw new Qo(`BadPackageName`,`Argument for %1 is not a valid package name`,e$1);$c(t$1,s$1),t$1.Push(t$1.itemFactory.create(`null`))}},Qc={require:{allow:Ai({base:!1,autoload:!1,configmacros:!1,tagformat:!1,setoptions:!1,texhtml:!1}),defaultAllow:!0,prefix:`tex`}};new Ra(`require`,{require:Yc.Require});let Zc=ja.create(`require`,{[Vo.HANDLER]:{[Go.MACRO]:[`require`]},[Vo.CONFIG]:function(t$1,e$1){e$1.parseOptions.packageData.set(`require`,{jax:e$1,required:[...e$1.options.packages],configured:new Map});let s$1=e$1.parseOptions.options.require,i$1=s$1.prefix;if(i$1.match(/[^_a-zA-Z0-9]/))throw Error(`Illegal characters used in \\require prefix`);xi.paths[i$1]||(xi.paths[i$1]=`[mathjax]/input/tex/extensions`),s$1.prefix=`[`+i$1+`]/`},[Vo.OPTIONS]:Qc});function tl(t$1,e$1,s$1,i$1){if(ui.packages.has(t$1.options.require.prefix+s$1)){let r$1=t$1.options.autoload[s$1],[n$1,o$1]=r$1.length===2&&Array.isArray(r$1[0])?r$1:[r$1,[]];for(let t$2 of n$1)el.remove(t$2);for(let t$2 of o$1)sl.remove(t$2);t$1.string=(i$1?e$1+` `:`\\begin{`+e$1.slice(1)+`}`)+t$1.string.slice(t$1.i),t$1.i=0}$c(t$1,s$1)}let el=new Ra(`autoload-macros`,{}),sl=new Ra(`autoload-environments`,{}),il=ja.create(`autoload`,{[Vo.HANDLER]:{[Go.MACRO]:[`autoload-macros`],[Go.ENVIRONMENT]:[`autoload-environments`]},[Vo.OPTIONS]:{autoload:Ai({action:[`toggle`,`mathtip`,`texttip`],amscd:[[],[`CD`]],bbox:[`bbox`],boldsymbol:[`boldsymbol`],braket:[`bra`,`ket`,`braket`,`set`,`Bra`,`Ket`,`Braket`,`Set`,`ketbra`,`Ketbra`],bussproofs:[[],[`prooftree`]],cancel:[`cancel`,`bcancel`,`xcancel`,`cancelto`],color:[`color`,`definecolor`,`textcolor`,`colorbox`,`fcolorbox`],enclose:[`enclose`],extpfeil:[`xtwoheadrightarrow`,`xtwoheadleftarrow`,`xmapsto`,`xlongequal`,`xtofrom`,`Newextarrow`],html:[`data`,`href`,`class`,`style`,`cssId`],mhchem:[`ce`,`pu`],newcommand:[`newcommand`,`renewcommand`,`newenvironment`,`renewenvironment`,`def`,`let`],unicode:[`unicode`,`U`,`char`],verb:[`verb`]})},[Vo.CONFIG]:function(t$1,e$1){let s$1=e$1.parseOptions,i$1=s$1.handlers.get(Go.MACRO),r$1=s$1.handlers.get(Go.ENVIRONMENT),n$1=s$1.options.autoload;s$1.packageData.set(`autoload`,{Autoload:tl});for(let t$2 of Object.keys(n$1)){let e$2=n$1[t$2],[s$2,o$1]=e$2.length===2&&Array.isArray(e$2[0])?e$2:[e$2,[]];for(let e$3 of s$2)i$1.lookup(e$3)&&e$3!==`color`||el.add(e$3,new wa(e$3,tl,[t$2,!0]));for(let e$3 of o$1)r$1.lookup(e$3)||sl.add(e$3,new wa(e$3,tl,[t$2,!1]))}s$1.packageData.get(`require`)||Zc.config(t$1,e$1)},[Vo.INIT]:function(t$1){t$1.options.require||Ri(t$1.options,Zc.options)},[Vo.PRIORITY]:10}),rl=`configmacros-map`,nl=`configmacros-active-map`,ol=`configmacros-env-map`;function al(t$1,e$1,s$1){let i$1=s$1.parseOptions.handlers.retrieve(e$1),r$1=s$1.parseOptions.options[t$1];for(let t$2 of Object.keys(r$1)){let e$2=typeof r$1[t$2]==`string`?[r$1[t$2]]:r$1[t$2],s$2=Array.isArray(e$2[2])?new wa(t$2,Hc.MacroWithTemplate,e$2.slice(0,2).concat(e$2[2])):new wa(t$2,Hc.Macro,e$2);i$1.add(t$2,s$2)}}let cl=ja.create(`configmacros`,{[Vo.INIT]:function(t$1){new Sa(nl,{}),new Ra(rl,{}),new Oa(ol,Tc.environment,{}),t$1.append(ja.local({handler:{[Go.CHARACTER]:[nl],[Go.MACRO]:[rl],[Go.ENVIRONMENT]:[ol]},priority:3}))},[Vo.CONFIG]:function(t$1,e$1){(function(t$2){al(`active`,nl,t$2)})(e$1),function(t$2){al(`macros`,rl,t$2)}(e$1),function(t$2){let e$2=t$2.parseOptions.handlers.retrieve(ol),s$1=t$2.parseOptions.options.environments;for(let t$3 of Object.keys(s$1))e$2.add(t$3,new wa(t$3,Hc.BeginEnv,[!0].concat(s$1[t$3])))}(e$1)},[Vo.ITEMS]:{[Uc.prototype.kind]:Uc},[Vo.OPTIONS]:{active:Ai({}),macros:Ai({}),environments:Ai({})}}),ll=ja.create(`noundefined`,{[Vo.FALLBACK]:{[Go.MACRO]:function(t$1,e$1){let s$1=t$1.create(`text`,`\\`+e$1),i$1=t$1.options.noundefined,r$1={};for(let t$2 of[`color`,`background`,`size`])i$1[t$2]&&(r$1[`math`+t$2]=i$1[t$2]);t$1.Push(t$1.create(`node`,`mtext`,[],r$1,s$1))}},[Vo.OPTIONS]:{noundefined:{color:`red`,background:``,size:``}},[Vo.PRIORITY]:3});class hl extends sa{get texParser(){return this.configuration.packageData.get(`textmacros`).texParser}get tags(){return this.texParser.tags}constructor(t$1,e$1,s$1,i$1){super(t$1,e$1,s$1),this.level=i$1}mml(){return this.copyLists(),this.configuration.popParser(),this.level==null?this.nodes.length===1?this.nodes[0]:this.create(`node`,`mrow`,this.nodes):this.create(`node`,`mstyle`,this.nodes,{displaystyle:!1,scriptlevel:this.level})}copyLists(){let t$1=this.texParser.configuration;for(let[e$1,s$1]of Object.entries(this.configuration.nodeLists))for(let i$1 of s$1)t$1.addNode(e$1,i$1);this.configuration.nodeLists={}}Parse(){this.text=``,this.nodes=[],this.envStack=[],super.Parse()}saveText(){if(this.text){let t$1=this.stack.env.mathvariant,e$1=da.internalText(this,this.text,t$1?{mathvariant:t$1}:{});this.text=``,this.Push(e$1)}}Push(t$1){if(this.text&&this.saveText(),t$1 instanceof za)return super.Push(t$1);t$1 instanceof ic?this.stack.env.mathcolor=this.stack.env.color:t$1 instanceof Er&&(this.addAttributes(t$1),this.nodes.push(t$1))}PushMath(t$1){let e$1=this.stack.env;for(let s$1 of[`mathsize`,`mathcolor`])e$1[s$1]&&!t$1.attributes.hasExplicit(s$1)&&(t$1.isToken||t$1.isKind(`mstyle`)||(t$1=this.create(`node`,`mstyle`,[t$1])),jo.setAttribute(t$1,s$1,e$1[s$1]));t$1.isInferred&&(t$1=this.create(`node`,`mrow`,t$1.childNodes)),t$1.isKind(`TeXAtom`)||(t$1=this.create(`node`,`TeXAtom`,[t$1])),this.nodes.push(t$1)}addAttributes(t$1){let e$1=this.stack.env;if(t$1.isToken)for(let s$1 of[`mathsize`,`mathcolor`,`mathvariant`])e$1[s$1]&&!t$1.attributes.hasExplicit(s$1)&&jo.setAttribute(t$1,s$1,e$1[s$1])}ParseTextArg(t$1,e$1){let s$1=this.GetArgument(t$1);return e$1=Object.assign(Object.assign({},this.stack.env),e$1),new hl(s$1,e$1,this.configuration).mml()}ParseArg(t$1){return new hl(this.GetArgument(t$1),this.stack.env,this.configuration).mml()}Error(t$1,e$1,...s$1){throw new Qo(t$1,e$1,...s$1)}}let dl={Comment(t$1,e$1){for(;t$1.i<t$1.string.length&&t$1.string.charAt(t$1.i)!==`
`;)t$1.i++;t$1.i++},Math(t$1,e$1){t$1.saveText();let s$1=t$1.i,i$1,r$1,n$1=0;for(;r$1=t$1.GetNext();)switch(i$1=t$1.i++,r$1){case`\\`:t$1.GetCS()===`)`&&(r$1=`\\(`);case`$`:if(n$1===0&&e$1===r$1){let e$2=t$1.texParser.configuration,r$2=new sa(t$1.string.substring(s$1,i$1),t$1.stack.env,e$2).mml();t$1.PushMath(r$2);return}break;case`{`:n$1++;break;case`}`:n$1===0&&t$1.Error(`ExtraCloseMissingOpen`,`Extra close brace or missing open brace`),n$1--}t$1.Error(`MathNotTerminated`,`Math mode is not properly terminated`)},MathModeOnly(t$1,e$1){t$1.Error(`MathModeOnly`,`'%1' allowed only in math mode`,e$1)},Misplaced(t$1,e$1){t$1.Error(`Misplaced`,`Misplaced '%1'`,e$1)},OpenBrace(t$1,e$1){let s$1=t$1.stack.env;t$1.envStack.push(s$1),t$1.stack.env=Object.assign({},s$1)},CloseBrace(t$1,e$1){t$1.envStack.length?(t$1.saveText(),t$1.stack.env=t$1.envStack.pop()):t$1.Error(`ExtraCloseMissingOpen`,`Extra close brace or missing open brace`)},OpenQuote(t$1,e$1){t$1.string.charAt(t$1.i)===e$1?(t$1.text+=``,t$1.i++):t$1.text+=``},CloseQuote(t$1,e$1){t$1.string.charAt(t$1.i)===e$1?(t$1.text+=``,t$1.i++):t$1.text+=``},Tilde(t$1,e$1){t$1.text+=`\xA0`},Space(t$1,e$1){t$1.text+=` `,t$1.GetNext()},SelfQuote(t$1,e$1){t$1.text+=e$1.substring(1)},Insert(t$1,e$1,s$1){t$1.text+=s$1},Accent(t$1,e$1,s$1){let i$1=t$1.ParseArg(e$1),r$1=t$1.create(`token`,`mo`,{},s$1);t$1.addAttributes(r$1),t$1.Push(t$1.create(`node`,`mover`,[i$1,r$1]))},Emph(t$1,e$1){let s$1=t$1.stack.env.mathvariant===`-tex-mathit`?`normal`:`-tex-mathit`;t$1.Push(t$1.ParseTextArg(e$1,{mathvariant:s$1}))},TextFont(t$1,e$1,s$1){t$1.saveText(),t$1.Push(t$1.ParseTextArg(e$1,{mathvariant:s$1}))},SetFont(t$1,e$1,s$1){t$1.saveText(),t$1.stack.env.mathvariant=s$1},SetSize(t$1,e$1,s$1){t$1.saveText(),t$1.stack.env.mathsize=s$1},CheckAutoload(t$1,e$1){let s$1=t$1.configuration.packageData.get(`autoload`),i$1=t$1.texParser;e$1=e$1.slice(1);let r$1=i$1.lookup(Go.MACRO,e$1);if(!r$1||s$1&&r$1._func===s$1.Autoload){if(i$1.parse(Go.MACRO,[i$1,e$1]),!r$1)return;Sn(Promise.resolve())}i$1.parse(Go.MACRO,[t$1,e$1])},Macro:xc.Macro,Spacer:xc.Spacer,Hskip:xc.Hskip,rule:xc.rule,Rule:xc.Rule,HandleRef:xc.HandleRef,UnderOver:xc.UnderOver,Lap:xc.Lap,Phantom:xc.Phantom,Smash:xc.Smash,MmlToken:xc.MmlToken},ul=ea.Variant;new Sa(`text-special`,{$:dl.Math,"%":dl.Comment,"^":dl.MathModeOnly,_:dl.MathModeOnly,"&":dl.Misplaced,"#":dl.Misplaced,"~":dl.Tilde," ":dl.Space,"	":dl.Space,"\r":dl.Space,"\n":dl.Space,"\xA0":dl.Tilde,"{":dl.OpenBrace,"}":dl.CloseBrace,"`":dl.OpenQuote,"'":dl.CloseQuote}),new Ra(`text-macros`,{"(":dl.Math,$:dl.SelfQuote,_:dl.SelfQuote,"%":dl.SelfQuote,"{":dl.SelfQuote,"}":dl.SelfQuote," ":dl.SelfQuote,"&":dl.SelfQuote,"#":dl.SelfQuote,"\\":[dl.Macro,`$\\\\$`],"'":[dl.Accent,``],"":[dl.Accent,``],"`":[dl.Accent,"`"],"":[dl.Accent,"`"],"^":[dl.Accent,`^`],'"':[dl.Accent,``],"~":[dl.Accent,`~`],"=":[dl.Accent,``],".":[dl.Accent,``],u:[dl.Accent,``],v:[dl.Accent,``],emph:dl.Emph,rm:[dl.SetFont,ul.NORMAL],mit:[dl.SetFont,ul.ITALIC],oldstyle:[dl.SetFont,ul.OLDSTYLE],cal:[dl.SetFont,ul.CALLIGRAPHIC],it:[dl.SetFont,`-tex-mathit`],bf:[dl.SetFont,ul.BOLD],sf:[dl.SetFont,ul.SANSSERIF],tt:[dl.SetFont,ul.MONOSPACE],frak:[dl.TextFont,ul.FRAKTUR],Bbb:[dl.TextFont,ul.DOUBLESTRUCK],tiny:[dl.SetSize,.5],Tiny:[dl.SetSize,.6],scriptsize:[dl.SetSize,.7],small:[dl.SetSize,.85],normalsize:[dl.SetSize,1],large:[dl.SetSize,1.2],Large:[dl.SetSize,1.44],LARGE:[dl.SetSize,1.73],huge:[dl.SetSize,2.07],Huge:[dl.SetSize,2.49],textnormal:[dl.Macro,`{\\rm #1}`,1],textup:[dl.Macro,`{\\rm #1}`,1],textrm:[dl.Macro,`{\\rm #1}`,1],textit:[dl.Macro,`{\\it #1}`,1],textbf:[dl.Macro,`{\\bf #1}`,1],textsf:[dl.Macro,`{\\sf #1}`,1],texttt:[dl.Macro,`{\\tt #1}`,1],dagger:[dl.Insert,``],ddagger:[dl.Insert,``],S:[dl.Insert,``],AA:[dl.Insert,``],ldots:[dl.Insert,``],vdots:[dl.Insert,``],",":[dl.Spacer,co.thinmathspace],":":[dl.Spacer,co.mediummathspace],">":[dl.Spacer,co.mediummathspace],";":[dl.Spacer,co.thickmathspace],"!":[dl.Spacer,co.negativethinmathspace],enspace:[dl.Spacer,.5],quad:[dl.Spacer,1],qquad:[dl.Spacer,2],thinspace:[dl.Spacer,co.thinmathspace],negthinspace:[dl.Spacer,co.negativethinmathspace],hskip:dl.Hskip,hspace:dl.Hskip,kern:dl.Hskip,mskip:dl.Hskip,mspace:dl.Hskip,mkern:dl.Hskip,rule:dl.rule,Rule:[dl.Rule],Space:[dl.Rule,`blank`],color:dl.CheckAutoload,textcolor:dl.CheckAutoload,colorbox:dl.CheckAutoload,fcolorbox:dl.CheckAutoload,href:dl.CheckAutoload,style:dl.CheckAutoload,class:dl.CheckAutoload,data:dl.CheckAutoload,cssId:dl.CheckAutoload,unicode:dl.CheckAutoload,U:dl.CheckAutoload,char:dl.CheckAutoload,ref:[dl.HandleRef,!1],eqref:[dl.HandleRef,!0],underline:[dl.UnderOver,`2015`],llap:dl.Lap,rlap:dl.Lap,phantom:dl.Phantom,vphantom:[dl.Phantom,1,0],hphantom:[dl.Phantom,0,1],smash:dl.Smash,mmlToken:dl.MmlToken});let pl=ja.create(`text-base`,{[Vo.PARSER]:`text`,[Vo.PRIORITY]:1,[Vo.HANDLER]:{[Go.CHARACTER]:[`command`,`text-special`],[Go.MACRO]:[`text-macros`]},[Vo.FALLBACK]:{[Go.CHARACTER]:(t$1,e$1)=>{t$1.text+=e$1},[Go.MACRO]:(t$1,e$1)=>{let s$1=t$1.texParser,i$1=s$1.lookup(Go.MACRO,e$1);i$1&&i$1._func!==dl.Macro&&t$1.Error(`MathMacro`,`%1 is only supported in math mode`,`\\`+e$1),s$1.parse(Go.MACRO,[t$1,e$1])}},[Vo.ITEMS]:{[Wa.prototype.kind]:Wa,[za.prototype.kind]:za,[oc.prototype.kind]:oc,[ic.prototype.kind]:ic}});function ml(t$1,e$1,s$1,i$1){let r$1=t$1.configuration.packageData.get(`textmacros`);return t$1 instanceof hl||(r$1.texParser=t$1),r$1.parseOptions.clear(),[new hl(e$1,i$1?{mathvariant:i$1}:{},r$1.parseOptions,s$1).mml()]}let fl=ja.create(`textmacros`,{[Vo.PRIORITY]:1,[Vo.CONFIG]:(t$1,e$1)=>{let s$1=new Ha(e$1.parseOptions.options.textmacros.packages,[`tex`,`text`]);s$1.init();let i$1=new fa(s$1,[]);i$1.options=e$1.parseOptions.options,s$1.config(e$1),Ca.addTags(s$1.tags),i$1.tags=Ca.getDefault(),i$1.tags.configuration=i$1,i$1.packageData=e$1.parseOptions.packageData,i$1.packageData.set(`textmacros`,{textConf:s$1,parseOptions:i$1,jax:e$1,texParser:null}),i$1.options.internalMath=ml},[Vo.PREPROCESSORS]:[t$1=>{let e$1=t$1.data.packageData.get(`textmacros`);e$1.parseOptions.nodeFactory.setMmlFactory(e$1.jax.mmlFactory)}],[Vo.OPTIONS]:{textmacros:{packages:[`text-base`]}}});MathJax.loader&&MathJax.loader.checkVersion(`input/tex`,si,`input`),ai({_:{input:{tex_ts:Qt,tex:{ColumnParser:qt,Configuration:Gt,FilterUtil:Mt,FindTeX:At,HandlerTypes:It,MapHandler:Vt,NodeFactory:jt,NodeUtil:Lt,ParseMethods:$t,ParseOptions:Ht,ParseUtil:Ut,Stack:Rt,StackItem:Dt,StackItemFactory:Ft,Tags:Wt,TexConstants:Pt,TexError:Ot,TexParser:Bt,Token:zt,TokenMap:Xt,UnitUtil:St,ams:{AmsConfiguration:ne,AmsItems:Zt,AmsMethods:ee},autoload:{AutoloadConfiguration:ae},base:{BaseConfiguration:Yt,BaseItems:Jt,BaseMethods:Kt},configmacros:{ConfigMacrosConfiguration:ce},newcommand:{NewcommandConfiguration:re,NewcommandItems:se,NewcommandMethods:ie,NewcommandUtil:te},noundefined:{NoUndefinedConfiguration:le},require:{RequireConfiguration:oe},textmacros:{TextMacrosConfiguration:ue,TextMacrosMethods:de,TextParser:he}}}}}),Ni.preLoaded(`input/tex-base`,`[tex]/ams`,`[tex]/newcommand`,`[tex]/textmacros`,`[tex]/noundefined`,`[tex]/require`,`[tex]/autoload`,`[tex]/configmacros`),function(t$1=[],e$1=!0){if(MathJax.startup){e$1&&(MathJax.startup.registerConstructor(`tex`,MathJax._.input.tex_ts.TeX),MathJax.startup.useInput(`tex`)),MathJax.config.tex||(MathJax.config.tex={});let s$1=MathJax.config.tex.packages;MathJax.config.tex.packages=t$1,s$1&&(Array.isArray(s$1)&&(s$1={"[+]":s$1.filter((e$2=>!t$1.includes(e$2)))}),Si(MathJax.config.tex,{packages:s$1}))}}([`base`,`ams`,`newcommand`,`textmacros`,`noundefined`,`require`,`autoload`,`configmacros`]);let gl=`http://www.w3.org/1998/Math/MathML`;class bl extends Ki{findMath(t$1){let e$1=new Set;this.findMathNodes(t$1,e$1),this.findMathPrefixed(t$1,e$1);let s$1=this.adaptor.root(this.adaptor.document);return this.adaptor.kind(s$1)===`html`&&e$1.size===0&&this.findMathNS(t$1,e$1),this.processMath(e$1)}findMathNodes(t$1,e$1){for(let s$1 of this.adaptor.tags(t$1,`math`))e$1.add(s$1)}findMathPrefixed(t$1,e$1){let s$1=this.adaptor.root(this.adaptor.document);for(let i$1 of this.adaptor.allAttributes(s$1))if(i$1.name.substring(0,6)===`xmlns:`&&i$1.value===gl){let s$2=i$1.name.substring(6);for(let i$2 of this.adaptor.tags(t$1,s$2+`:math`))e$1.add(i$2)}}findMathNS(t$1,e$1){for(let s$1 of this.adaptor.tags(t$1,`math`,gl))e$1.add(s$1)}processMath(t$1){let e$1=this.adaptor,s$1=[];for(let i$1 of t$1.values()){if(e$1.kind(e$1.parent(i$1))===`mjx-assistive-mml`)continue;let t$2=e$1.getAttribute(i$1,`display`)===`block`||e$1.getAttribute(i$1,`mode`)===`display`,r$1={node:i$1,n:0,delim:``},n$1={node:i$1,n:0,delim:``};s$1.push({math:e$1.outerHTML(i$1),start:r$1,end:n$1,display:t$2})}return s$1}}bl.OPTIONS={};class El{constructor(t$1={}){let e$1=this.constructor;this.options=Oi(Ri({},e$1.OPTIONS),t$1)}setMmlFactory(t$1){this.factory=t$1}compile(t$1){let e$1=this.makeNode(t$1);return e$1.verifyTree(this.options.verify),e$1.setInheritedAttributes({},!1,0,!1),e$1.walkTree(this.markMrows),e$1}makeNode(t$1){let e$1=this.adaptor,s$1=!1,i$1=e$1.kind(t$1).replace(/^.*:/,``),r$1=e$1.getAttribute(t$1,`data-mjx-texclass`)||``;r$1&&=this.filterAttribute(`data-mjx-texclass`,r$1)||``;let n$1=r$1&&i$1===`mrow`?`TeXAtom`:i$1;for(let o$1 of this.filterClassList(e$1.allClasses(t$1)))o$1.match(/^MJX-TeXAtom-/)&&i$1===`mrow`?(r$1=o$1.substring(12),n$1=`TeXAtom`):o$1===`MJX-fixedlimits`&&(s$1=!0);return this.factory.getNodeClass(n$1)?this.createMml(n$1,t$1,r$1,s$1):this.unknownNode(n$1,t$1)}createMml(t$1,e$1,s$1,i$1){let r$1=this.factory.create(t$1);return t$1!==`TeXAtom`||s$1!==`OP`||i$1||(r$1.setProperty(`movesupsub`,!0),r$1.attributes.setInherited(`movablelimits`,!0)),s$1&&(r$1.texClass=ur[s$1],r$1.setProperty(`texClass`,r$1.texClass)),this.addAttributes(r$1,e$1),this.checkClass(r$1,e$1),this.addChildren(r$1,e$1),r$1}unknownNode(t$1,e$1){return this.factory.getNodeClass(`html`)&&this.options.allowHtmlInTokenNodes?this.factory.create(`html`).setHTML(e$1,this.adaptor):(this.error(`Unknown node type "`+t$1+`"`),null)}addAttributes(t$1,e$1){let s$1=!1;for(let i$1 of this.adaptor.allAttributes(e$1)){let e$2=i$1.name,r$1=this.filterAttribute(e$2,i$1.value);if(r$1!==null&&e$2!==`xmlns`){if(e$2.substring(0,9)===`data-mjx-`)switch(e$2.substring(9)){case`alternate`:t$1.setProperty(`variantForm`,!0);break;case`variant`:t$1.attributes.set(`mathvariant`,r$1),t$1.setProperty(`ignore-variant`,!0),s$1=!0;break;case`smallmatrix`:t$1.setProperty(`smallmatrix`,!0),t$1.setProperty(`useHeight`,!1);break;case`mathaccent`:t$1.setProperty(`mathaccent`,r$1===`true`);break;case`auto-op`:t$1.setProperty(`autoOP`,r$1===`true`);break;case`script-align`:t$1.setProperty(`scriptalign`,r$1);break;case`vbox`:t$1.setProperty(`vbox`,r$1);break;default:t$1.attributes.set(e$2,r$1)}else if(e$2!==`class`){let i$2=r$1.toLowerCase();i$2===`true`||i$2===`false`?t$1.attributes.set(e$2,i$2===`true`):s$1&&e$2===`mathvariant`||t$1.attributes.set(e$2,r$1)}}}}filterAttribute(t$1,e$1){return e$1}filterClassList(t$1){return t$1}addChildren(t$1,e$1){if(t$1.arity===0)return;let s$1=this.adaptor;for(let i$1 of s$1.childNodes(e$1)){let e$2=s$1.kind(i$1);if(e$2!==`#comment`)if(e$2===`#text`)this.addText(t$1,i$1);else if(t$1.isKind(`annotation-xml`))t$1.appendChild(this.factory.create(`XML`).setXML(i$1,s$1));else{let e$3=t$1.appendChild(this.makeNode(i$1));e$3.arity===0&&s$1.childNodes(i$1).length&&!e$3.isKind(`html`)&&(this.options.fixMisplacedChildren?this.addChildren(t$1,i$1):e$3.mError(`There should not be children for `+e$3.kind+` nodes`,this.options.verify,!0))}}t$1.isToken&&this.trimSpace(t$1)}addText(t$1,e$1){let s$1=this.adaptor.value(e$1);(t$1.isToken||t$1.getProperty(`isChars`))&&t$1.arity?(t$1.isToken&&(s$1=yo(s$1),s$1=this.normalizeSpace(s$1)),t$1.appendChild(this.factory.create(`text`).setText(s$1))):s$1.match(/\S/)&&this.error(`Unexpected text node "`+s$1+`"`)}checkClass(t$1,e$1){let s$1=[];for(let i$1 of this.filterClassList(this.adaptor.allClasses(e$1)))i$1.substring(0,4)===`MJX-`?i$1===`MJX-variant`?t$1.setProperty(`variantForm`,!0):i$1.substring(0,11)!==`MJX-TeXAtom`&&t$1.attributes.set(`mathvariant`,this.fixCalligraphic(i$1.substring(3))):s$1.push(i$1);s$1.length&&t$1.attributes.set(`class`,s$1.join(` `))}fixCalligraphic(t$1){return t$1.replace(/caligraphic/,`calligraphic`)}markMrows(t$1){if(t$1.isKind(`mrow`)&&!t$1.isInferred&&t$1.childNodes.length>=2){let e$1=t$1.childNodes[0],s$1=t$1.childNodes[t$1.childNodes.length-1];e$1.isKind(`mo`)&&e$1.attributes.get(`fence`)&&e$1.attributes.get(`stretchy`)&&s$1.isKind(`mo`)&&s$1.attributes.get(`fence`)&&s$1.attributes.get(`stretchy`)&&(e$1.childNodes.length&&t$1.setProperty(`open`,e$1.getText()),s$1.childNodes.length&&t$1.setProperty(`close`,s$1.getText()))}}normalizeSpace(t$1){return t$1.replace(/[\t\n\r]/g,` `).replace(/  +/g,` `)}trimSpace(t$1){let e$1=t$1.childNodes[0];e$1&&(e$1.isKind(`text`)&&e$1.setText(e$1.getText().replace(/^ +/,``)),e$1=t$1.childNodes[t$1.childNodes.length-1],e$1.isKind(`text`)&&e$1.setText(e$1.getText().replace(/ +$/,``)))}error(t$1){throw Error(t$1)}}El.OPTIONS={MmlFactory:null,allowHtmlInTokenNodes:!1,fixMisplacedChildren:!0,verify:Object.assign({},Er.verifyDefaults),translateEntities:!0};class Nl extends $i{constructor(t$1={}){let[e$1,s$1,i$1]=Bi(t$1,bl.OPTIONS,El.OPTIONS);super(e$1),this.findMathML=this.options.FindMathML||new bl(s$1),this.mathml=this.options.MathMLCompile||new El(i$1),this.mmlFilters=new mi(this.options.mmlFilters)}setAdaptor(t$1){super.setAdaptor(t$1),this.findMathML.adaptor=t$1,this.mathml.adaptor=t$1}setMmlFactory(t$1){super.setMmlFactory(t$1),this.mathml.setMmlFactory(t$1)}get processStrings(){return!1}compile(t$1,e$1){let s$1=t$1.start.node;if(!s$1||!t$1.end.node||this.options.forceReparse||this.adaptor.kind(s$1)===`#text`){let i$2=this.executeFilters(this.preFilters,t$1,e$1,(t$1.math||`<math></math>`).trim());this.options.parseAs===`html`&&(i$2=`<html><head></head><body>${i$2}</body></html>`);let r$1=this.checkForErrors(this.adaptor.parse(i$2,`text/`+this.options.parseAs)),n$1=this.adaptor.body(r$1);this.adaptor.childNodes(n$1).length!==1&&this.error(`MathML must consist of a single element`),s$1=this.adaptor.remove(this.adaptor.firstChild(n$1)),this.adaptor.kind(s$1).replace(/^[a-z]+:/,``)!==`math`&&this.error(`MathML must be formed by a <math> element, not <`+this.adaptor.kind(s$1)+`>`)}s$1=this.executeFilters(this.mmlFilters,t$1,e$1,s$1);let i$1=this.mathml.compile(s$1);return i$1=this.executeFilters(this.postFilters,t$1,e$1,i$1),t$1.display=i$1.attributes.get(`display`)===`block`,i$1}checkForErrors(t$1){let e$1=this.adaptor.tags(this.adaptor.body(t$1),`parsererror`)[0];return e$1&&(this.adaptor.textContent(e$1)===``&&this.error(`Error processing MathML`),this.options.parseError.call(this,e$1)),t$1}error(t$1){throw Error(t$1)}findMath(t$1){return this.findMathML.findMath(t$1)}}Nl.NAME=`MathML`,Nl.OPTIONS=Ri({parseAs:`html`,forceReparse:!1,mmlFilters:[],FindMathML:null,MathMLCompile:null,parseError:function(t$1){this.error(this.adaptor.textContent(t$1).replace(/\n.*/g,``))}},$i.OPTIONS),MathJax.loader&&MathJax.loader.checkVersion(`input/mml`,si,`input`),ai({_:{input:{mathml_ts:fe,mathml:{FindMathML:pe,MathMLCompile:me}}}}),MathJax.loader&&MathJax.loader.pathFilters.add((t$1=>(t$1.name=t$1.name.replace(/\/util\/entities\/.*?\.js/,`/input/mml/entities.js`),!0))),MathJax.startup&&(MathJax.startup.registerConstructor(`mml`,Nl),MathJax.startup.useInput(`mml`));let yl={None:``,Vertical:`v`,Horizontal:`h`},xl=yl.Vertical,vl=yl.Horizontal;var Cl=function(t$1,e$1,s$1,i$1){return new(s$1||=Promise)((function(r$1,n$1){function o$1(t$2){try{c$1(i$1.next(t$2))}catch(t$3){n$1(t$3)}}function a$1(t$2){try{c$1(i$1.throw(t$2))}catch(t$3){n$1(t$3)}}function c$1(t$2){var e$2;t$2.done?r$1(t$2.value):(e$2=t$2.value,e$2 instanceof s$1?e$2:new s$1((function(t$3){t$3(e$2)}))).then(o$1,a$1)}c$1((i$1=i$1.apply(t$1,e$1||[])).next())}))};let Tl={dir:yl.None};function wl(t$1,e$1,s$1){return s$1?Ri(t$1,{[e$1]:s$1})[e$1]:t$1[e$1]}class _l{get CLASS(){return this.constructor}static charOptions(t$1,e$1){let s$1=t$1[e$1];if(!Array.isArray(s$1))throw Error(`Character data hasn't been loaded for 0x${e$1.toString(16).toUpperCase()}`);return s$1.length===3&&(s$1[3]={}),s$1[3]}static defineDynamicFiles(t$1,e$1=``){let s$1={};return(t$1||[]).forEach((([t$2,i$1,r$1])=>{s$1[t$2]={extension:e$1,file:t$2,variants:i$1,delimiters:r$1||[],promise:null,failed:!1,setup:e$2=>{s$1[t$2].failed=!0}}})),s$1}static dynamicSetup(t$1,e$1,s$1,i$1={},r$1=null){let n$1=t$1?this.dynamicExtensions.get(t$1):null;(t$1?n$1.files:this.dynamicFiles)[e$1].setup=e$2=>{Object.keys(s$1).forEach((t$2=>e$2.defineChars(t$2,s$1[t$2]))),e$2.defineDelimiters(i$1),t$1&&this.adjustDelimiters(e$2.delimiters,Object.keys(i$1),n$1.sizeN,n$1.stretchN),r$1&&e$2.addDynamicFontCss(r$1)}}static adjustDelimiters(t$1,e$1,s$1,i$1){e$1.forEach((e$2=>{let r$1=t$1[parseInt(e$2)];`dir`in r$1&&(r$1.variants&&=this.adjustArrayIndices(r$1.variants,s$1),r$1.stretchv&&=this.adjustArrayIndices(r$1.stretchv,i$1))}))}static adjustArrayIndices(t$1,e$1){return t$1.map((t$2=>t$2<0?e$1-1-t$2:t$2))}static addExtension(t$1,e$1=``){let s$1={name:t$1.name,prefix:e$1||`[${t$1.name}-extension]/${this.JAX.toLowerCase()}/dynamic`,files:this.defineDynamicFiles(t$1.ranges,t$1.name),sizeN:this.defaultSizeVariants.length,stretchN:this.defaultStretchVariants.length};this.dynamicExtensions.set(t$1.name,s$1);for(let[e$2,s$2]of[[`options`,`OPTIONS`],[`variants`,`defaultVariants`],[`variantSmp`,`VariantSmp`],[`cssFonts`,`defaultCssFonts`],[`accentMap`,`defaultAccentMap`],[`moMap`,`defaultMoMap`],[`mnMap`,`defaultMnMap`],[`parameters`,`defaultParams`],[`chars`,`defaultChars`],[`sizeVariants`,`defaultSizeVariants`],[`stretchVariants`,`defaultStretchVariants`]])wl(this,s$2,t$1[e$2]);t$1.delimiters&&(Object.assign(this.defaultDelimiters,t$1.delimiters),this.adjustDelimiters(this.defaultDelimiters,Object.keys(t$1.delimiters),s$1.sizeN,s$1.stretchN))}constructor(t$1=null){this.variant={},this.delimiters={},this.cssFontMap={},this.cssFontPrefix=``,this.remapChars={},this.skewIcFactor=.75;let e$1=this.CLASS;this.options=Oi(Ri({},e$1.OPTIONS),t$1),this.params=Object.assign({},e$1.defaultParams),this.sizeVariants=[...e$1.defaultSizeVariants],this.stretchVariants=[...e$1.defaultStretchVariants],this.defineCssFonts(e$1.defaultCssFonts),this.cssFamilyPrefix=e$1.defaultCssFamilyPrefix,this.createVariants(e$1.defaultVariants),this.defineDelimiters(e$1.defaultDelimiters),Object.keys(e$1.defaultChars).forEach((t$2=>this.defineChars(t$2,e$1.defaultChars[t$2]))),this.defineRemap(`accent`,e$1.defaultAccentMap),this.defineRemap(`mo`,e$1.defaultMoMap),this.defineRemap(`mn`,e$1.defaultMnMap),this.defineDynamicCharacters(e$1.dynamicFiles),e$1.dynamicExtensions.forEach((t$2=>this.defineDynamicCharacters(t$2.files)))}setOptions(t$1){Ri(this.options,t$1)}addExtension(t$1,e$1=``){let s$1=this.constructor.JAX.toLowerCase(),i$1={name:t$1.name,prefix:e$1||`[${t$1.name}-extension]/${s$1}/dynamic`,files:this.CLASS.defineDynamicFiles(t$1.ranges,e$1),sizeN:this.sizeVariants.length,stretchN:this.stretchVariants.length};this.CLASS.dynamicExtensions.set(t$1.name,i$1),Ri(this.options,t$1.options||{}),Ri(this.params,t$1.parameters||{}),wl(this,`sizeVariants`,t$1.sizeVariants),wl(this,`stretchVariants`,t$1.stretchVariants),wl(this.constructor,`VariantSmp`,t$1.variantSmp),this.defineCssFonts(wl({cssFonts:{}},`cssFonts`,t$1.cssFonts)),this.createVariants(wl({variants:[]},`variants`,t$1.variants)),t$1.delimiters&&(this.defineDelimiters(wl({delimiters:{}},`delimiters`,t$1.delimiters)),this.CLASS.adjustDelimiters(this.delimiters,Object.keys(t$1.delimiters),i$1.sizeN,i$1.stretchN));for(let e$2 of Object.keys(t$1.chars||{}))this.defineChars(e$2,t$1.chars[e$2]);return this.defineRemap(`accent`,t$1.accentMap),this.defineRemap(`mo`,t$1.moMap),this.defineRemap(`mn`,t$1.mnMap),t$1.ranges&&this.defineDynamicCharacters(i$1.files),[]}get styles(){return this._styles}set styles(t$1){this._styles=t$1}createVariant(t$1,e$1=null,s$1=null){let i$1={linked:[],chars:Object.create(e$1?this.variant[e$1].chars:{})};this.variant[s$1]&&(Object.assign(i$1.chars,this.variant[s$1].chars),this.variant[s$1].linked.push(i$1.chars),i$1.chars=Object.create(i$1.chars)),this.remapSmpChars(i$1.chars,t$1),this.variant[t$1]=i$1}remapSmpChars(t$1,e$1){let s$1=this.CLASS,i$1=s$1.VariantSmp[e$1];if(typeof i$1==`string`&&(i$1=s$1.VariantSmp[i$1]),!i$1)return;let r$1=s$1.SmpRemap,n$1=[null,null,s$1.SmpRemapGreekU,s$1.SmpRemapGreekL];for(let[e$2,o$2,a$1]of s$1.SmpRanges){let s$2=i$1[e$2];if(s$2){for(let e$3=o$2;e$3<=a$1;e$3++){if(e$3===930)continue;let i$2=s$2+e$3-o$2;t$1[e$3]=this.smpChar(r$1[i$2]||i$2)}if(n$1[e$2])for(let i$2 of Object.keys(n$1[e$2]).map((t$2=>parseInt(t$2))))t$1[i$2]=this.smpChar(s$2+n$1[e$2][i$2])}}let o$1=i$1[5]||{};for(let e$2 of Object.keys(o$1))t$1[e$2]=this.smpChar(i$1[5][e$2])}smpChar(t$1){return[,,,{smp:t$1}]}createVariants(t$1){for(let e$1 of t$1)this.createVariant(e$1[0],e$1[1],e$1[2])}defineChars(t$1,e$1){let s$1=this.variant[t$1];Object.assign(s$1.chars,e$1);for(let t$2 of s$1.linked)Object.assign(t$2,e$1)}defineCssFonts(t$1){Object.assign(this.cssFontMap,t$1);for(let e$1 of Object.keys(t$1))this.cssFontMap[e$1][0]===`unknown`&&(this.cssFontMap[e$1][0]=this.options.unknownFamily)}defineDelimiters(t$1){Object.assign(this.delimiters,t$1)}defineRemap(t$1,e$1){e$1&&(Object.hasOwn(this.remapChars,t$1)||(this.remapChars[t$1]={}),Object.assign(this.remapChars[t$1],e$1))}defineDynamicCharacters(t$1){for(let e$1 of Object.keys(t$1)){let s$1=t$1[e$1];for(let t$2 of Object.keys(s$1.variants))this.defineChars(t$2,this.flattenRanges(s$1.variants[t$2],s$1));this.defineDelimiters(this.flattenRanges(s$1.delimiters,s$1))}}flattenRanges(t$1,e$1){let s$1={};for(let i$1 of t$1)if(Array.isArray(i$1))for(let t$2=i$1[0];t$2<=i$1[1];t$2++)s$1[t$2]=e$1;else s$1[i$1]=e$1;return s$1}dynamicFileName(t$1){let e$1=t$1.extension?this.CLASS.dynamicExtensions.get(t$1.extension).prefix:this.options.dynamicPrefix;return t$1.file.match(/^(?:[/[]|[a-z]+:\/\/|[a-z]:)/i)?t$1.file:e$1+`/`+t$1.file.replace(/(\.js)?$/,`.js`)}loadDynamicFile(t$1){return Cl(this,void 0,void 0,(function*(){return t$1.failed?Promise.reject(Error(`dynamic file '${t$1.file}' failed to load`)):(t$1.promise||=ro(this.dynamicFileName(t$1)).catch((e$1=>{t$1.failed=!0,console.warn(e$1)})),t$1.promise.then((()=>t$1.setup(this))))}))}loadDynamicFiles(){let t$1=this.CLASS.dynamicFiles,e$1=Object.keys(t$1).map((e$2=>this.loadDynamicFile(t$1[e$2])));for(let t$2 of this.CLASS.dynamicExtensions.values())e$1.push(...Object.keys(t$2.files).map((e$2=>this.loadDynamicFile(t$2.files[e$2]))));return Promise.all(e$1)}loadDynamicFilesSync(){if(!Yn.asyncIsSynchronous)throw Error(`MathJax(loadDynamicFilesSync): mathjax.asyncLoad must be specified and synchronous
    Try importing #js/../components/require.mjs and #js/util/asyncLoad/node.js`);let t$1=this.CLASS.dynamicFiles;Object.keys(t$1).forEach((e$1=>this.loadDynamicFileSync(t$1[e$1])));for(let t$2 of this.CLASS.dynamicExtensions.values())Object.keys(t$2.files).forEach((e$1=>this.loadDynamicFileSync(t$2.files[e$1])))}loadDynamicFileSync(t$1){if(!t$1.promise){t$1.promise=Promise.resolve();try{Yn.asyncLoad(this.dynamicFileName(t$1))}catch(e$1){t$1.failed=!0,console.warn(e$1)}t$1.setup(this)}}addDynamicFontCss(t$1,e$1){}getDelimiter(t$1){let e$1=this.delimiters[t$1];return e$1&&!(`dir`in e$1)?(this.delimiters[t$1]=null,Sn(this.loadDynamicFile(e$1)),null):e$1}getSizeVariant(t$1,e$1){let s$1=this.getDelimiter(t$1);return s$1&&s$1.variants&&(e$1=s$1.variants[e$1]),this.sizeVariants[e$1]}getStretchVariant(t$1,e$1){let s$1=this.getDelimiter(t$1);return this.stretchVariants[s$1.stretchv?s$1.stretchv[e$1]:0]}getStretchVariants(t$1){return[0,1,2,3].map((e$1=>this.getStretchVariant(t$1,e$1)))}getChar(t$1,e$1){let s$1=this.variant[t$1].chars[e$1];if(s$1&&!Array.isArray(s$1)){let i$1=this.variant[t$1];return delete i$1.chars[e$1],i$1.linked.forEach((t$2=>delete t$2[e$1])),Sn(this.loadDynamicFile(s$1)),null}return s$1}getVariant(t$1){return this.variant[t$1]}getCssFont(t$1){return this.cssFontMap[t$1]||[`serif`,!1,!1]}getFamily(t$1){return this.cssFamilyPrefix?this.cssFamilyPrefix+`, `+t$1:t$1}getRemappedChar(t$1,e$1){return(this.remapChars[t$1]||{})[e$1]}}_l.OPTIONS={unknownFamily:`serif`,dynamicPrefix:`.`},_l.JAX=`common`,_l.NAME=``,_l.defaultVariants=[[`normal`],[`bold`,`normal`],[`italic`,`normal`],[`bold-italic`,`italic`,`bold`],[`double-struck`,`bold`],[`fraktur`,`normal`],[`bold-fraktur`,`bold`,`fraktur`],[`script`,`italic`],[`bold-script`,`bold-italic`,`script`],[`sans-serif`,`normal`],[`bold-sans-serif`,`bold`,`sans-serif`],[`sans-serif-italic`,`italic`,`sans-serif`],[`sans-serif-bold-italic`,`bold-italic`,`bold-sans-serif`],[`monospace`,`normal`],[`-smallop`,`normal`],[`-largeop`,`normal`],[`-tex-calligraphic`,`italic`],[`-tex-bold-calligraphic`,`bold-italic`],[`-tex-oldstyle`,`normal`],[`-tex-bold-oldstyle`,`bold`],[`-tex-mathit`,`italic`],[`-tex-variant`,`normal`]],_l.defaultCssFonts={normal:[`unknown`,!1,!1],bold:[`unknown`,!1,!0],italic:[`unknown`,!0,!1],"bold-italic":[`unknown`,!0,!0],"double-struck":[`unknown`,!1,!0],fraktur:[`unknown`,!1,!1],"bold-fraktur":[`unknown`,!1,!0],script:[`cursive`,!1,!1],"bold-script":[`cursive`,!1,!0],"sans-serif":[`sans-serif`,!1,!1],"bold-sans-serif":[`sans-serif`,!1,!0],"sans-serif-italic":[`sans-serif`,!0,!1],"sans-serif-bold-italic":[`sans-serif`,!0,!0],monospace:[`monospace`,!1,!1],"-smallop":[`unknown`,!1,!1],"-largeop":[`unknown`,!1,!1],"-tex-calligraphic":[`cursive`,!0,!1],"-tex-bold-calligraphic":[`cursive`,!0,!0],"-tex-oldstyle":[`unknown`,!1,!1],"-tex-bold-oldstyle":[`unknown`,!1,!0],"-tex-mathit":[`unknown`,!0,!1],"-tex-variant":[`unknown`,!1,!1]},_l.defaultCssFamilyPrefix=``,_l.VariantSmp={bold:[119808,119834,120488,120514,120782,{988:120778,989:120779}],italic:[119860,119886,120546,120572],"bold-italic":[119912,119938,120604,120630],script:[119964,119990],"bold-script":[120016,120042],fraktur:[120068,120094],"double-struck":[120120,120146,,,120792],"bold-fraktur":[120172,120198],"sans-serif":[120224,120250,,,120802],"bold-sans-serif":[120276,120302,120662,120688,120812],"sans-serif-italic":[120328,120354],"sans-serif-bold-italic":[120380,120406,120720,120746],monospace:[120432,120458,,,120822]},_l.SmpRanges=[[0,65,90],[1,97,122],[2,913,937],[3,945,969],[4,48,57]],_l.SmpRemap={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},_l.SmpRemapGreekU={8711:25,1012:17},_l.SmpRemapGreekL={977:27,981:29,982:31,1008:28,1009:30,1013:26,8706:25},_l.defaultAccentMap={94:``,126:``,768:``,769:``,770:``,771:``,772:``,774:``,775:``,776:``,778:``,780:``,8594:``},_l.defaultMoMap={45:``},_l.defaultMnMap={45:``},_l.defaultParams={x_height:.442,quad:1,num1:.676,num2:.394,num3:.444,denom1:.686,denom2:.345,sup1:.413,sup2:.363,sup3:.289,sub1:.15,sub2:.247,sup_drop:.386,sub_drop:.05,delim1:2.39,delim2:1,axis_height:.25,rule_thickness:.06,big_op_spacing1:.111,big_op_spacing2:.167,big_op_spacing3:.2,big_op_spacing4:.6,big_op_spacing5:.1,surd_height:.06,scriptspace:.05,nulldelimiterspace:.12,delimiterfactor:901,delimitershortfall:.3,rule_factor:1.25,min_rule_thickness:1.25,separation_factor:1.75,extra_ic:.033,extender_factor:.333},_l.defaultDelimiters={},_l.defaultChars={},_l.defaultSizeVariants=[],_l.defaultStretchVariants=[],_l.dynamicFiles={},_l.dynamicExtensions=new Map;class kl extends mo{static from(t$1,e$1,s$1=null){let i$1=new this;return Object.assign(i$1,t$1),i$1.lineLeading=e$1,s$1&&(i$1.indentData=s$1),i$1}constructor(t$1,e$1=null){super(t$1),this.indentData=null,this.isFirst=!1,this.originalL=this.L,e$1&&(this.start=e$1)}append(t$1){this.isFirst&&(t$1.originalL+=t$1.L,t$1.L=0),t$1.indentData&&(this.indentData=t$1.indentData),this.lineLeading=t$1.lineLeading,super.append(t$1),this.isFirst=t$1.isFirst}copy(){let t$1=kl.from(this,this.lineLeading);return t$1.indentData=this.indentData,t$1.lineLeading=this.lineLeading,t$1}getIndentData(t$1){let{indentalign:e$1,indentshift:s$1,indentalignfirst:i$1,indentshiftfirst:r$1,indentalignlast:n$1,indentshiftlast:o$1}=t$1.attributes.getAllAttributes();i$1===`indentalign`&&(i$1=t$1.attributes.getInherited(`indentalign`)),r$1===`indentshift`&&(r$1=t$1.attributes.getInherited(`indentshift`)),n$1===`indentalign`&&(n$1=e$1),o$1===`indentshift`&&(o$1=s$1),this.indentData=[[i$1,r$1],[e$1,s$1],[n$1,o$1]]}copyIndentData(t$1){return t$1.indentData.map((([t$2,e$1])=>[t$2,e$1]))}}let Al=1e6;class Ll extends zn{breakToWidth(t$1,e$1){}}class Ml extends Ll{constructor(){super(...arguments),this.PENALTY={newline:t$1=>0,nobreak:t$1=>Al,goodbreak:t$1=>t$1-200*this.state.depth,badbreak:t$1=>t$1+200*this.state.depth,auto:t$1=>t$1},this.FACTORS={depth:t$1=>t$1+800*this.state.depth,width:t$1=>t$1+Math.floor((this.state.width-this.state.w)/this.state.width*2500),tail:t$1=>t$1+Math.floor(this.state.width/Math.max(1e-4,this.state.mathLeft-this.state.w)*500),open:(t$1,e$1)=>{let s$1=e$1.node.prevClass;if(s$1===ur.BIN||s$1===ur.REL||s$1===ur.OP)return t$1+5e3;let i$1=this.getPrevious(e$1);if(i$1&&(i$1.attributes.get(`form`)!==`postfix`||i$1.attributes.get(`linebreak`)===`nobreak`))return t$1+5e3;let r$1=e$1.node.Parent;return r$1?.isKind(`mmultiscripts`)&&e$1.node===this.getFirstToken(r$1)&&r$1.childNodes.filter((t$2=>t$2.isKind(`mprescripts`))).length?Al:t$1-500},close:(t$1,e$1)=>{var s$1;let i$1=e$1.node.Parent;return!i$1?.isKind(`msubsup`)||i$1.isKind(`mmultiscripts`)&&i$1.childNodes[1]?.isKind(`mprescripts`)||e$1.node!==this.getLastToken(i$1.childNodes[0])?t$1+500:Al},space:(t$1,e$1)=>{let s$1=e$1;if(!s$1.canBreak)return Al;let i$1=s$1.getBBox().w;return i$1<0?Al:i$1<1?t$1:t$1-100*(i$1+4)},separator:t$1=>t$1+500,fuzz:t$1=>.99*t$1},this.TEXCLASS={[ur.BIN]:t$1=>t$1-250,[ur.REL]:t$1=>t$1-500}}breakToWidth(t$1,e$1){let s$1=this.state;this.state=this.createState(t$1),this.state.width=e$1;let i$1=t$1.breakCount;for(let s$2=0;s$2<=i$1;s$2++)(t$1.lineBBox[s$2]||t$1.getLineBBox(s$2)).w>e$1&&this.breakLineToWidth(t$1,s$2);for(let[t$2,e$2]of this.state.breaks){if(e$2===null){let e$3=t$2.coreMO();e$3.setBreakStyle(e$3.node.attributes.get(`linebreakstyle`)||`before`)}else t$2.setBreakAt(e$2);t$2.invalidateBBox()}this.state=s$1}createState(t$1){let e$1=t$1.getBBox().w;return{breaks:new Set,potential:[],width:0,w:0,prevWidth:0,prevBreak:null,depth:0,mathWidth:e$1,mathLeft:e$1}}breakLineToWidth(t$1,e$1){let s$1=this.state;s$1.potential=[],s$1.w=0,s$1.prevWidth=0,s$1.prevBreak=null,s$1.depth=0,this.visitNode(t$1,e$1)}addWidth(t$1,e$1=null){e$1===null&&(e$1=t$1.L+t$1.w+t$1.R),e$1&&(e$1*=t$1.rscale,this.state.w+=e$1,this.state.potential.length&&(this.state.potential[0][4]+=e$1),this.processBreak())}processBreak(){let t$1=this.state;for(;t$1.potential.length&&t$1.w>this.state.width;){let e$1=t$1.potential.pop(),[s$1,,i$1,r$1,n$1]=e$1;t$1.breaks.add(s$1),t$1.w=t$1.potential.reduce(((t$2,e$2)=>t$2+e$2[4]),r$1+n$1),t$1.prevBreak&&t$1.prevWidth+i$1<=t$1.width?(t$1.breaks.delete(t$1.prevBreak[0]),t$1.prevWidth+=i$1):t$1.prevWidth=i$1+r$1,t$1.potential.forEach((t$2=>t$2[2]-=i$1)),t$1.prevBreak=e$1,t$1.mathLeft-=i$1}}pushBreak(t$1,e$1,s$1,i$1){var r$1;let n$1=this.state;if(!(e$1>=Al||n$1.w===0&&n$1.prevWidth===0)){for(;n$1.potential.length&&n$1.potential[0][1]>this.FACTORS.fuzz(e$1);){let t$2=n$1.potential.shift();n$1.potential.length&&(n$1.potential[0][4]+=t$2[4])}n$1.potential.unshift([[t$1,i$1],e$1,n$1.w-(n$1.prevBreak?.[3]||0),s$1,0])}}getBorderLR(t$1){var e$1;let s$1=t$1.styleData;if(!s$1)return[0,0];let i$1=s$1?.border?.width||[0,0,0,0],r$1=s$1?.padding||[0,0,0,0];return[i$1[3]+r$1[3],i$1[1]+r$1[1]]}getFirstToken(t$1){return t$1.isToken?t$1:this.getFirstToken(t$1.childNodes[0])}getLastToken(t$1){return t$1.isToken?t$1:this.getLastToken(t$1.childNodes[t$1.childNodes.length-1])}visitNode(t$1,e$1){t$1&&(this.state.depth++,t$1.node.isEmbellished&&!t$1.node.isKind(`mo`)?this.visitEmbellishedOperator(t$1,e$1):super.visitNode(t$1,e$1),this.state.depth--)}visitDefault(t$1,e$1){var s$1;let i$1=t$1.getLineBBox(e$1);if(t$1.node.isToken||t$1.node.linebreakContainer||!t$1.childNodes?.[0])this.addWidth(i$1);else{let[s$2,r$1]=this.getBorderLR(t$1);e$1===0&&this.addWidth(i$1,i$1.L+s$2),this.visitNode(t$1.childNodes[0],e$1),e$1===t$1.breakCount&&this.addWidth(i$1,i$1.R+r$1)}}visitEmbellishedOperator(t$1,e$1){let s$1=t$1.coreMO(),i$1=kl.from(t$1.getOuterBBox(),t$1.linebreakOptions.lineleading);i$1.getIndentData(s$1.node);let r$1=s$1.getBreakStyle(s$1.node.attributes.get(`linebreakstyle`)),n$1=s$1.processIndent(``,i$1.indentData[1][1],``,i$1.indentData[0][1],this.state.width)[1],o$1=this.moPenalty(s$1);if(r$1===`before`)this.pushBreak(t$1,o$1,n$1-i$1.L,null),this.addWidth(i$1);else{this.addWidth(i$1);let e$2=(r$1===`after`?0:s$1.multChar?s$1.multChar.getBBox().w:i$1.w)+n$1;this.pushBreak(t$1,o$1,e$2,null)}}visitMoNode(t$1,e$1){let s$1=t$1,i$1=kl.from(s$1.getOuterBBox(),s$1.linebreakOptions.lineleading);i$1.getIndentData(s$1.node);let r$1=s$1.getBreakStyle(s$1.node.attributes.get(`linebreakstyle`)),n$1=s$1.processIndent(``,i$1.indentData[1][1],``,i$1.indentData[0][1],this.state.width)[1],o$1=this.moPenalty(s$1);if(r$1===`before`)this.pushBreak(t$1,o$1,n$1-i$1.L,null),this.addWidth(i$1);else{this.addWidth(i$1);let e$2=(r$1===`after`?0:s$1.multChar?s$1.multChar.getBBox().w:i$1.w)+n$1;this.pushBreak(t$1,o$1,e$2,null)}}moPenalty(t$1){let{linebreak:e$1,fence:s$1,form:i$1}=t$1.node.attributes.getList(`linebreak`,`fence`,`form`),r$1=this.FACTORS,n$1=r$1.tail(r$1.width(0)),o$1=s$1&&i$1===`prefix`||t$1.node.texClass===ur.OPEN,a$1=s$1&&i$1===`postfix`||t$1.node.texClass===ur.CLOSE;return o$1&&(n$1=r$1.open(n$1,t$1),this.state.depth++),a$1&&(n$1=r$1.close(n$1,t$1),this.state.depth--),n$1=(this.TEXCLASS[t$1.node.texClass]||(t$2=>t$2))(n$1),(this.PENALTY[e$1]||(t$2=>t$2))(r$1.depth(n$1))}getPrevious(t$1){let e$1=t$1.node,s$1=e$1.parent,i$1=s$1.childIndex(e$1);for(;s$1&&(s$1.notParent||s$1.isKind(`mrow`))&&i$1===0;)e$1=s$1,s$1=e$1.parent,i$1=s$1.childIndex(e$1);if(!s$1||!i$1)return null;let r$1=s$1.childNodes[i$1-1];return r$1.isEmbellished?r$1.coreMO():null}visitMspaceNode(t$1,e$1){let s$1=t$1.getLineBBox(e$1),i$1=t$1;if(i$1.canBreak){let e$2=this.mspacePenalty(i$1);s$1.getIndentData(t$1.node);let r$1=t$1.processIndent(``,s$1.indentData[1][1],``,s$1.indentData[0][1],this.state.width)[1];this.pushBreak(t$1,e$2,r$1-s$1.w,null)}this.addWidth(s$1)}mspacePenalty(t$1){let e$1=t$1.node.attributes.get(`linebreak`),s$1=this.FACTORS,i$1=s$1.space(s$1.tail(s$1.width(0)),t$1);return(this.PENALTY[e$1]||(t$2=>t$2))(s$1.depth(i$1))}visitMtextNode(t$1,e$1){if(!t$1.getText().match(/ /))return void this.visitDefault(t$1,e$1);let s$1=t$1;s$1.clearBreakPoints();let i$1=s$1.textWidth(` `),r$1=t$1.getBBox(),[n$1,o$1]=this.getBorderLR(t$1);this.addWidth(r$1,r$1.L+n$1);let a$1=s$1.childNodes;for(let e$2 of a$1.keys()){let n$2=a$1[e$2];if(n$2.node.isKind(`text`)){let o$2=n$2.node.getText().split(/ /),a$2=o$2.pop();for(let n$3 of o$2.keys())this.addWidth(r$1,s$1.textWidth(o$2[n$3])),this.pushBreak(t$1,this.mtextPenalty(),-i$1,[e$2,n$3+1]),this.addWidth(r$1,i$1);this.addWidth(r$1,s$1.textWidth(a$2))}else this.addWidth(n$2.getBBox())}this.addWidth(r$1,r$1.R+o$1)}mtextPenalty(){let t$1=this.FACTORS;return t$1.depth(t$1.tail(t$1.width(0)))}visitMrowNode(t$1,e$1){let s$1=t$1.lineBBox[e$1]||t$1.getLineBBox(e$1),[i$1,r$1]=s$1.start||[0,0],[n$1,o$1]=s$1.end||[t$1.childNodes.length-1,0],[a$1,c$1]=this.getBorderLR(t$1);this.addWidth(s$1,s$1.L+a$1);for(let e$2=i$1;e$2<=n$1;e$2++)this.visitNode(t$1.childNodes[e$2],e$2===i$1?r$1:e$2===n$1?o$1:0);this.addWidth(s$1,s$1.R+c$1)}visitInferredMrowNode(t$1,e$1){this.state.depth--,this.visitMrowNode(t$1,e$1),this.state.depth++}visitMfracNode(t$1,e$1){let s$1=t$1;!s$1.node.attributes.get(`bevelled`)&&s$1.getOuterBBox().w>this.state.width&&(this.breakToWidth(s$1.childNodes[0],this.state.width),this.breakToWidth(s$1.childNodes[1],this.state.width)),this.visitDefault(t$1,e$1)}visitMsqrtNode(t$1,e$1){if(t$1.getOuterBBox().w>this.state.width){let e$2=t$1,s$1=e$2.childNodes[e$2.base];this.breakToWidth(s$1,this.state.width-e$2.rootWidth()),e$2.getStretchedSurd()}this.visitDefault(t$1,e$1)}visitMrootNode(t$1,e$1){this.visitMsqrtNode(t$1,e$1)}visitMsubNode(t$1,e$1){this.visitDefault(t$1,e$1);let s$1=t$1,i$1=s$1.getOffset()[0],r$1=s$1.scriptChild.getOuterBBox(),[n$1,o$1]=this.getBorderLR(t$1);this.addWidth(s$1.getLineBBox(e$1),i$1+n$1+r$1.rscale*r$1.w+s$1.font.params.scriptspace+o$1)}visitMsupNode(t$1,e$1){this.visitDefault(t$1,e$1);let s$1=t$1,i$1=s$1.getOffset()[0],r$1=s$1.scriptChild.getOuterBBox(),[n$1,o$1]=this.getBorderLR(t$1);this.addWidth(s$1.getLineBBox(e$1),i$1+n$1+r$1.rscale*r$1.w+s$1.font.params.scriptspace+o$1)}visitMsubsupNode(t$1,e$1){this.visitDefault(t$1,e$1);let s$1=t$1,i$1=s$1.subChild.getOuterBBox(),r$1=s$1.supChild.getOuterBBox(),n$1=s$1.getAdjustedIc(),o$1=Math.max(i$1.rscale*i$1.w,n$1+r$1.rscale*r$1.w)+s$1.font.params.scriptspace,[a$1,c$1]=this.getBorderLR(t$1);this.addWidth(t$1.getLineBBox(e$1),a$1+o$1+c$1)}visitMmultiscriptsNode(t$1,e$1){let s$1=t$1,i$1=s$1.scriptData;if(i$1.numPrescripts){let r$1=Math.max(i$1.psup.rscale*i$1.psup.w,i$1.psub.rscale*i$1.psub.w);this.addWidth(t$1.getLineBBox(e$1),r$1+s$1.font.params.scriptspace)}if(this.visitDefault(t$1,e$1),i$1.numScripts){let r$1=Math.max(i$1.sup.rscale*i$1.sup.w,i$1.sub.rscale*i$1.sub.w);this.addWidth(t$1.getLineBBox(e$1),r$1+s$1.font.params.scriptspace)}}visitMfencedNode(t$1,e$1){let s$1=t$1,i$1=t$1.getLineBBox(e$1),[r$1,n$1]=this.getBorderLR(t$1);e$1===0&&this.addWidth(i$1,i$1.L+r$1),this.visitNode(s$1.mrow,e$1),e$1===t$1.breakCount&&this.addWidth(i$1,i$1.R+n$1)}visitMactionNode(t$1,e$1){let s$1=t$1,i$1=t$1.getLineBBox(e$1),[r$1,n$1]=this.getBorderLR(t$1);e$1===0&&this.addWidth(i$1,i$1.L+r$1),this.visitNode(s$1.selected,e$1),e$1===t$1.breakCount&&this.addWidth(i$1,i$1.R+n$1)}}(function(){for(let t$1 of Object.keys(Rr.postfix)){let e$1=Rr.postfix[t$1][3];e$1&&e$1.fence&&(e$1.linebreakstyle=`after`)}Rr.infix[``]=[...Rr.infix[``]],Rr.infix[``][3]={linebreak:`nobreak`}})();let Il=`@mathjax/%%FONT%%-font`;class Sl extends Yi{get forceInlineBreaks(){return!1}constructor(t$1={},e$1=null,s$1=null){let[i$1,r$1]=t$1.fontData instanceof _l?[t$1.fontData.constructor,t$1.fontData]:[t$1.fontData||s$1,null],[n$1,o$1]=Bi(t$1,i$1.OPTIONS);super(n$1),this.factory=this.options.wrapperFactory||new e$1,this.factory.jax=this,this.styleJson=this.options.styleJson||new Co,this.font=r$1||new i$1(o$1),this.font.setOptions({mathmlSpacing:this.options.mathmlSpacing}),this.unknownCache=new Map,this.linebreaks=new(this.options.linebreaks.LinebreakVisitor||Ml)(this.factory)}setAdaptor(t$1){super.setAdaptor(t$1),this.options.htmlHDW===`auto`&&(this.options.htmlHDW=t$1.canMeasureNodes?`ignore`:`force`)}addExtension(t$1,e$1=``){return this.font.addExtension(t$1,e$1)}typeset(t$1,e$1){this.setDocument(e$1);let s$1=this.createNode();return this.toDOM(t$1,s$1,e$1),s$1}createNode(){let t$1=this.constructor.NAME;return this.html(`mjx-container`,{class:`MathJax`,jax:t$1})}setScale(t$1,e$1){let s$1=this.getInitialScale()*this.options.scale;if(e$1.node.attributes.get(`overflow`)===`scale`&&this.math.display){let t$2=e$1.getOuterBBox().w,i$1=this.math.metrics.containerWidth/this.pxPerEm;t$2>i$1&&t$2&&(s$1*=i$1/t$2)}s$1!==1&&this.adaptor.setStyle(t$1,`fontSize`,ho(s$1))}getInitialScale(){return this.math.metrics.scale}toDOM(t$1,e$1,s$1=null){var i$1;this.setDocument(s$1),this.math=t$1,this.container=e$1,this.pxPerEm=t$1.metrics.ex/this.font.params.x_height,this.executeFilters(this.preFilters,t$1,s$1,e$1),this.nodeMap=new Map,t$1.root.attributes.getAllInherited().overflow=this.options.displayOverflow;let r$1=t$1.root.attributes.get(`overflow`);this.adaptor.setAttribute(e$1,`overflow`,r$1),r$1===`linebreak`&&this.getLinebreakWidth();let n$1=this.options.linebreaks.inline&&!t$1.display,o$1=!!t$1.root.getProperty(`inlineMarked`);!o$1||n$1&&this.forceInlineBreaks===t$1.root.getProperty(`inlineForced`)||(this.unmarkInlineBreaks(t$1.root),t$1.root.removeProperty(`inlineMarked`),t$1.root.removeProperty(`inlineForced`),o$1=!1),n$1&&!o$1&&(this.markInlineBreaks(t$1.root.childNodes?.[0]),t$1.root.setProperty(`inlineMarked`,!0),t$1.root.setProperty(`inlineForced`,this.forceInlineBreaks)),t$1.root.setTeXclass(null);let a$1=this.factory.wrap(t$1.root);this.setScale(e$1,a$1),this.processMath(a$1,e$1),this.nodeMap=null,this.executeFilters(this.postFilters,t$1,s$1,e$1)}getBBox(t$1,e$1){this.setDocument(e$1),this.math=t$1,t$1.root.setTeXclass(null),this.nodeMap=new Map;let s$1=this.factory.wrap(t$1.root).getOuterBBox();return this.nodeMap=null,s$1}getLinebreakWidth(){let t$1=this.math.metrics.containerWidth/this.pxPerEm;this.containerWidth=lo(this.math.root.attributes.get(`maxwidth`)||this.options.linebreaks.width,t$1,1,this.pxPerEm)}markInlineBreaks(t$1){if(!t$1)return;let e$1=this.forceInlineBreaks,s$1=!1,i$1=!1,r$1=``;for(let n$1 of t$1.childNodes)if(r$1)i$1=this.markInlineBreak(i$1,e$1,r$1,t$1,n$1),r$1=``,s$1=!1;else if(n$1.isEmbellished){if(n$1===t$1.childNodes[0])continue;let o$1=n$1.coreMO(),a$1=o$1.texClass,c$1=o$1.attributes.get(`linebreak`),l$1=o$1.attributes.get(`linebreakstyle`);(a$1===ur.BIN||a$1===ur.REL||a$1===ur.ORD&&o$1.hasSpacingAttributes()||c$1!==`auto`)&&c$1!==`nobreak`&&(l$1===`before`?s$1&&c$1===`auto`||(i$1=this.markInlineBreak(i$1,e$1,c$1,t$1,n$1,o$1)):r$1=c$1),s$1=c$1===`newline`&&l$1===`after`}else if(n$1.isKind(`mspace`)){let r$2=n$1.attributes.get(`linebreak`);r$2!==`nobreak`&&n$1.canBreak&&(i$1=this.markInlineBreak(i$1,e$1,r$2,t$1,n$1)),s$1=r$2===`newline`}else s$1=!1,n$1.isKind(`mstyle`)&&!n$1.attributes.get(`style`)&&!n$1.attributes.hasExplicit(`mathbackground`)||n$1.isKind(`semantics`)?(this.markInlineBreaks(n$1.childNodes[0]),n$1.getProperty(`process-breaks`)&&(n$1.setProperty(`inline-breaks`,!0),n$1.childNodes[0].setProperty(`inline-breaks`,!0),t$1.parent.setProperty(`process-breaks`,`true`))):n$1.isKind(`mrow`)&&n$1.attributes.get(`data-semantic-added`)&&(this.markInlineBreaks(n$1),n$1.getProperty(`process-breaks`)&&(n$1.setProperty(`inline-breaks`,!0),t$1.parent.setProperty(`process-breaks`,`true`)))}markInlineBreak(t$1,e$1,s$1,i$1,r$1,n$1=null){return r$1.setProperty(`breakable`,!0),e$1&&s$1!==`newline`?(r$1.setProperty(`forcebreak`,!0),n$1?.setProperty(`forcebreak`,!0)):(r$1.removeProperty(`forcebreak`),n$1?.removeProperty(`forcebreak`),s$1===`newline`&&r$1.setProperty(`newline`,!0)),t$1||=(i$1.setProperty(`process-breaks`,!0),i$1.parent.setProperty(`process-breaks`,!0),!0),t$1}unmarkInlineBreaks(t$1){if(t$1&&(t$1.removeProperty(`forcebreak`),t$1.removeProperty(`breakable`),t$1.getProperty(`process-breaks`))){t$1.removeProperty(`process-breaks`);for(let e$1 of t$1.childNodes)this.unmarkInlineBreaks(e$1)}}getMetrics(t$1){this.setDocument(t$1);let e$1=this.adaptor,s$1=this.getMetricMaps(t$1);for(let i$1 of t$1.math){let t$2=e$1.parent(i$1.start.node);if(i$1.state()<rr.METRICS&&t$2){let{em:r$1,ex:n$1,containerWidth:o$1,scale:a$1,family:c$1}=s$1[i$1.display?1:0].get(t$2);i$1.setMetrics(r$1,n$1,o$1,a$1),this.options.mtextInheritFont&&(i$1.outputData.mtextFamily=c$1),this.options.merrorInheritFont&&(i$1.outputData.merrorFamily=c$1),i$1.state(rr.METRICS)}}}getMetricsFor(t$1,e$1){let s$1=this.options.mtextInheritFont||this.options.merrorInheritFont,i$1=this.getTestElement(t$1,e$1),r$1=Object.assign(Object.assign({},this.measureMetrics(i$1,s$1)),{display:e$1});return this.adaptor.remove(i$1),r$1}getMetricMaps(t$1){let e$1=this.adaptor,s$1=[new Map,new Map];for(let i$2 of t$1.math){let t$2=e$1.parent(i$2.start.node);if(t$2&&i$2.state()<rr.METRICS){let e$2=s$1[i$2.display?1:0];e$2.has(t$2)||e$2.set(t$2,this.getTestElement(t$2,i$2.display))}}let i$1=this.options.mtextInheritFont||this.options.merrorInheritFont,r$1=[new Map,new Map];for(let t$2 of r$1.keys())for(let e$2 of s$1[t$2].keys())r$1[t$2].set(e$2,this.measureMetrics(s$1[t$2].get(e$2),i$1));for(let t$2 of r$1.keys())for(let i$2 of s$1[t$2].values())e$1.remove(i$2);return r$1}getTestElement(t$1,e$1){let s$1=this.adaptor;if(!this.testInline){this.testInline=this.html(`mjx-test`,{style:{display:`inline-block`,width:`100%`,"font-style":`normal`,"font-weight":`normal`,"font-size":`100%`,"font-size-adjust":`none`,"text-indent":0,"text-transform":`none`,"letter-spacing":`normal`,"word-spacing":`normal`,overflow:`hidden`,height:`1px`,"margin-right":`-1px`}},[this.html(`mjx-left-box`,{style:{display:`inline-block`,width:0,float:`left`}}),this.html(`mjx-ex-box`,{style:{position:`absolute`,overflow:`hidden`,width:`1px`,height:`60ex`}}),this.html(`mjx-right-box`,{style:{display:`inline-block`,width:0,float:`right`}})]),this.testDisplay=s$1.clone(this.testInline),s$1.setStyle(this.testDisplay,`display`,`table`),s$1.setStyle(this.testDisplay,`margin-right`,``),s$1.setStyle(s$1.firstChild(this.testDisplay),`display`,`none`);let t$2=s$1.lastChild(this.testDisplay);s$1.setStyle(t$2,`display`,`table-cell`),s$1.setStyle(t$2,`width`,`10000em`),s$1.setStyle(t$2,`float`,``)}return s$1.append(t$1,s$1.clone(e$1?this.testDisplay:this.testInline))}measureMetrics(t$1,e$1){let s$1=this.adaptor,i$1=e$1?s$1.fontFamily(t$1):``,r$1=s$1.fontSize(t$1),[n$1,o$1]=s$1.nodeSize(s$1.childNode(t$1,1)),a$1=n$1?o$1/60:r$1*this.options.exFactor;return{em:r$1,ex:a$1,containerWidth:n$1?s$1.getStyle(t$1,`display`)===`table`?s$1.nodeSize(s$1.lastChild(t$1))[0]-1:s$1.nodeBBox(s$1.lastChild(t$1)).left-s$1.nodeBBox(s$1.firstChild(t$1)).left-2:1e6,scale:Math.max(this.options.minScale,this.options.matchFontHeight?a$1/this.font.params.x_height/r$1:1),family:i$1}}styleSheet(t$1){if(this.setDocument(t$1),this.styleJson.clear(),this.styleJson.addStyles(this.constructor.commonStyles),`getStyles`in t$1)for(let e$1 of t$1.getStyles())this.styleJson.addStyles(e$1);return this.addWrapperStyles(this.styleJson),this.addFontStyles(this.styleJson),this.html(`style`,{id:`MJX-styles`},[this.text(`
`+this.styleJson.cssText+`
`)])}addFontStyles(t$1){t$1.addStyles(this.font.styles)}addWrapperStyles(t$1){for(let e$1 of this.factory.getKinds())this.addClassStyles(this.factory.getNodeClass(e$1),t$1)}addClassStyles(t$1,e$1){t$1.addStyles(e$1,this)}insertStyles(t$1){}setDocument(t$1){t$1&&(this.document=t$1,this.adaptor.document=t$1.document)}html(t$1,e$1={},s$1=[],i$1){return this.adaptor.node(t$1,e$1,s$1,i$1)}text(t$1){return this.adaptor.text(t$1)}fixed(t$1,e$1=3){return Math.abs(t$1)<6e-4?`0`:t$1.toFixed(e$1).replace(/\.?0+$/,``)}measureText(t$1,e$1,s$1=[``,!1,!1]){let i$1=this.unknownText(t$1,e$1);if(e$1===`-explicitFont`){let t$2=this.cssFontStyles(s$1);this.adaptor.setAttributes(i$1,{style:t$2})}return this.measureTextNodeWithCache(i$1,t$1,e$1,s$1)}measureTextNodeWithCache(t$1,e$1,s$1,i$1=[``,!1,!1]){s$1===`-explicitFont`&&(s$1=[i$1[0],i$1[1]?`T`:`F`,i$1[2]?`T`:`F`,``].join(`-`)),this.unknownCache.has(s$1)||this.unknownCache.set(s$1,new Map);let r$1=this.unknownCache.get(s$1),n$1=r$1.get(e$1);if(n$1)return n$1;let o$1=this.measureTextNode(t$1);return r$1.set(e$1,o$1),o$1}cssFontStyles(t$1,e$1={}){let[s$1,i$1,r$1]=t$1;return e$1[`font-family`]=this.font.getFamily(s$1),i$1&&(e$1[`font-style`]=`italic`),r$1&&(e$1[`font-weight`]=`bold`),e$1}getFontData(t$1){return t$1||=new Oo,[this.font.getFamily(t$1.get(`font-family`)),t$1.get(`font-style`)===`italic`,t$1.get(`font-weight`)===`bold`]}}Sl.NAME=`Common`,Sl.OPTIONS=Object.assign(Object.assign({},Yi.OPTIONS),{scale:1,minScale:.5,mtextInheritFont:!1,merrorInheritFont:!1,mtextFont:``,merrorFont:`serif`,mathmlSpacing:!1,skipAttributes:{},exFactor:.5,displayAlign:`center`,displayIndent:`0`,displayOverflow:`overflow`,linebreaks:{inline:!0,width:`100%`,lineleading:.2,LinebreakVisitor:null},font:``,htmlHDW:`auto`,wrapperFactory:null,fontData:null,fontPath:Il,styleJson:null}),Sl.commonStyles={'mjx-container[overflow="scroll"][display]':{overflow:`auto clip`,"min-width":`initial !important`},'mjx-container[overflow="truncate"][display]':{overflow:`hidden clip`,"min-width":`initial !important`},"mjx-container[display]":{display:`block`,"text-align":`center`,"justify-content":`center`,margin:`calc(1em - 2px) 0`,padding:`2px 0`},'mjx-container[display][width="full"]':{display:`flex`},'mjx-container[justify="left"]':{"text-align":`left`,"justify-content":`left`},'mjx-container[justify="right"]':{"text-align":`right`,"justify-content":`right`}};class Rl extends $n{constructor(){super(...arguments),this.jax=null}get Wrappers(){return this.node}}Rl.defaultNodes={};let Ol=2/18,Dl=5/18;function Pl(t$1,e$1,s$1){return e$1?t$1?Ol:.2777777777777778:t$1?s$1<Ol?0:Ol:s$1}let Bl={[uo(0)]:`0`,[uo(2/18)]:`1`,[uo(3/18)]:`2`,[uo(4/18)]:`3`,[uo(5/18)]:`4`,[uo(6/18)]:`5`};class Fl extends Kn{static addStyles(t$1,e$1){t$1.addStyles(this.styles)}get jax(){return this.factory.jax}get adaptor(){return this.factory.jax.adaptor}get metrics(){return this.factory.jax.math.metrics}get containerWidth(){return this.jax.containerWidth}get linebreaks(){return this.jax.linebreaks}get linebreakOptions(){return this.jax.options.linebreaks}get fixesPWidth(){return!this.node.notParent&&!this.node.isToken}get breakCount(){if(this._breakCount<0){let t$1=this.node;this._breakCount=t$1.isEmbellished?this.coreMO().embellishedBreakCount:t$1.arity<0&&!t$1.linebreakContainer&&this.childNodes[0].isStack?this.childNodes[0].breakCount:0}return this._breakCount}breakTop(t$1,e$1){return this.node.linebreakContainer||!this.parent?t$1:this.parent.breakTop(t$1,this)}constructor(t$1,e$1,s$1=null){super(t$1,e$1),this.parent=null,this.dom=null,this.removedStyles=null,this.styles=null,this.styleData=null,this.variant=``,this.bboxComputed=!1,this._breakCount=-1,this.lineBBox=[],this.stretch=Tl,this.font=null,this.parent=s$1,this.font=t$1.jax.font,this.bbox=mo.zero(),this.getStyles(),this.getStyleData(),this.getVariant(),this.getScale(),this.getSpace(),this.childNodes=e$1.childNodes.map((t$2=>{let s$2=this.wrap(t$2);return s$2.bbox.pwidth&&(e$1.notParent||e$1.isKind(`math`))&&(this.bbox.pwidth=mo.fullWidth),s$2}))}wrap(t$1,e$1=null){let s$1=this.factory.wrap(t$1,e$1||this);return e$1&&e$1.childNodes.push(s$1),this.jax.nodeMap.set(t$1,s$1),s$1}getBBox(t$1=!0){if(this.bboxComputed)return this.bbox;let e$1=t$1?this.bbox:mo.zero();return this.computeBBox(e$1),this.bboxComputed=t$1,e$1}getOuterBBox(t$1=!0){var e$1;let s$1=this.getBBox(t$1);if(!this.styleData)return s$1;let i$1=this.styleData.padding,r$1=this.styleData.border?.width||[0,0,0,0],n$1=s$1.copy();for(let[,t$2,e$2]of mo.boxSides)n$1[e$2]+=i$1[t$2]+r$1[t$2];return n$1}getUnbrokenHD(){let t$1=this.breakCount+1,e$1=0,s$1=0;for(let i$1=0;i$1<t$1;i$1++){let{h:t$2,d:r$1}=this.getLineBBox(i$1);t$2>e$1&&(e$1=t$2),r$1>s$1&&(s$1=r$1)}return[e$1,s$1]}computeBBox(t$1,e$1=!1){t$1.empty();for(let e$2 of this.childNodes)t$1.append(e$2.getOuterBBox());t$1.clean(),this.fixesPWidth&&this.setChildPWidths(e$1)&&this.computeBBox(t$1,!0)}getLineBBox(t$1){if(!this.lineBBox[t$1]){let e$1=this.breakCount;if(e$1){let s$1=this.embellishedBBox(t$1)||this.computeLineBBox(t$1);this.lineBBox[t$1]=s$1,t$1===0&&(!this.node.isKind(`mo`)&&this.node.isEmbellished?s$1.originalL=this.getBBox().L:s$1.L=this.getBBox().L),t$1===e$1&&(s$1.R=this.getBBox().R)}else{let e$2=this.getOuterBBox();this.lineBBox[t$1]=kl.from(e$2,this.linebreakOptions.lineleading)}}return this.lineBBox[t$1]}embellishedBBox(t$1){if(!this.node.isEmbellished||this.node.isKind(`mo`))return null;let e$1=this.coreMO();return e$1.moLineBBox(t$1,e$1.embellishedBreakStyle,this.getOuterBBox())}computeLineBBox(t$1){return this.getChildLineBBox(this.childNodes[0],t$1)}getBreakNode(t$1){var e$1,s$1;if(!t$1.start)return[this,null];let[i$1,r$1]=t$1.start;if(this.node.isEmbellished)return[this,this.coreMO()];let n$1=this.childNodes[0]?.node?.isInferred?this.childNodes[0].childNodes:this.childNodes;return this.node.isToken||!n$1[i$1]?[this,null]:n$1[i$1].getBreakNode(n$1[i$1].getLineBBox(r$1))}getChildLineBBox(t$1,e$1){let s$1=this.breakCount,i$1=t$1.getLineBBox(e$1);return(this.styleData||this.bbox.L||this.bbox.R)&&(i$1=i$1.copy()),this.addMiddleBorders(i$1),e$1===0?(i$1.L+=this.bbox.L,this.addLeftBorders(i$1)):e$1===s$1&&(i$1.R+=this.bbox.R,this.addRightBorders(i$1)),i$1}addLeftBorders(t$1){var e$1;if(!this.styleData)return;let s$1=this.styleData.border,i$1=this.styleData.padding;t$1.w+=(s$1?.width?.[3]||0)+(i$1?.[3]||0)}addMiddleBorders(t$1){var e$1,s$1;if(!this.styleData)return;let i$1=this.styleData.border,r$1=this.styleData.padding;t$1.h+=(i$1?.width?.[0]||0)+(r$1?.[0]||0),t$1.d+=(i$1?.width?.[2]||0)+(r$1?.[2]||0)}addRightBorders(t$1){var e$1;if(!this.styleData)return;let s$1=this.styleData.border,i$1=this.styleData.padding;t$1.w+=(s$1?.width?.[1]||0)+(i$1?.[1]||0)}setChildPWidths(t$1,e$1=null,s$1=!0){if(t$1)return!1;s$1&&(this.bbox.pwidth=``);let i$1=!1;for(let r$1 of this.childNodes){let n$1=r$1.getBBox();n$1.pwidth&&r$1.setChildPWidths(t$1,e$1===null?n$1.w:e$1,s$1)&&(i$1=!0)}return i$1}breakToWidth(t$1){}invalidateBBox(t$1=!0){(this.bboxComputed||this._breakCount>=0)&&(this.bboxComputed=!1,this.lineBBox=[],this._breakCount=-1,this.parent&&t$1&&this.parent.invalidateBBox())}copySkewIC(t$1){var e$1,s$1,i$1;let r$1=this.childNodes[0];(e$1=r$1?.bbox)!=null&&e$1.sk&&(t$1.sk=r$1.bbox.sk),(s$1=r$1?.bbox)!=null&&s$1.dx&&(t$1.dx=r$1.bbox.dx);let n$1=this.childNodes[this.childNodes.length-1];(i$1=n$1?.bbox)!=null&&i$1.ic&&(t$1.ic=n$1.bbox.ic,t$1.w+=t$1.ic)}getStyles(){let t$1=this.node.attributes.getExplicit(`style`);if(!t$1)return;let e$1=this.styles=new Oo(t$1);for(let t$2=0,s$1=Fl.removeStyles.length;t$2<s$1;t$2++){let s$2=Fl.removeStyles[t$2];e$1.get(s$2)&&(this.removedStyles||={},this.removedStyles[s$2]=e$1.get(s$2),e$1.set(s$2,``))}}getStyleData(){if(!this.styles)return;let t$1=[,,,,].fill(0),e$1=[,,,,].fill(0),s$1=[,,,,],i$1=[,,,,],r$1=!1,n$1=!1;for(let[o$1,a$1]of mo.boxSides){let c$1=`border`+o$1,l$1=this.styles.get(c$1+`Width`);l$1&&(n$1=!0,e$1[a$1]=Math.max(0,this.length2em(l$1,1)),s$1[a$1]=this.styles.get(c$1+`Style`)||`solid`,i$1[a$1]=this.styles.get(c$1+`Color`));let h$1=this.styles.get(`padding`+o$1);h$1&&(r$1=!0,t$1[a$1]=Math.max(0,this.length2em(h$1,1)))}this.styleData=r$1||n$1?{padding:t$1,border:n$1?{width:e$1,style:s$1,color:i$1}:null}:null}getVariant(){if(!this.node.isToken)return;let t$1=this.node.attributes,e$1=t$1.get(`mathvariant`);if(t$1.hasExplicit(`mathvariant`))this.font.getVariant(e$1)||(console.warn(`Invalid variant: ${e$1}`),e$1=`normal`);else{let s$1=t$1.getList(`fontfamily`,`fontweight`,`fontstyle`);if(this.removedStyles){let t$2=this.removedStyles;t$2.fontFamily&&(s$1.family=t$2.fontFamily),t$2.fontWeight&&(s$1.weight=t$2.fontWeight),t$2.fontStyle&&(s$1.style=t$2.fontStyle)}s$1.fontfamily&&(s$1.family=s$1.fontfamily),s$1.fontweight&&(s$1.weight=s$1.fontweight),s$1.fontstyle&&(s$1.style=s$1.fontstyle),s$1.weight&&s$1.weight.match(/^\d+$/)&&(s$1.weight=parseInt(s$1.weight)>600?`bold`:`normal`),s$1.family?e$1=this.explicitVariant(s$1.family,s$1.weight,s$1.style):(this.node.getProperty(`variantForm`)&&(e$1=`-tex-variant`),e$1=(Fl.BOLDVARIANTS[s$1.weight]||{})[e$1]||e$1,e$1=(Fl.ITALICVARIANTS[s$1.style]||{})[e$1]||e$1)}this.variant=e$1}explicitVariant(t$1,e$1,s$1){let i$1=this.styles;return i$1||=this.styles=new Oo,i$1.set(`fontFamily`,t$1),e$1&&i$1.set(`fontWeight`,e$1),s$1&&i$1.set(`fontStyle`,s$1),`-explicitFont`}getScale(){let t$1=1,e$1=this.parent,s$1=e$1?e$1.bbox.scale:1,i$1=this.node.attributes,r$1=Math.min(i$1.get(`scriptlevel`),2),n$1=i$1.get(`fontsize`),o$1=this.node.isToken||this.node.isKind(`mstyle`)?i$1.get(`mathsize`):i$1.getInherited(`mathsize`);if(r$1!==0&&(t$1=i$1.get(`scriptsizemultiplier`)**+r$1),this.removedStyles&&this.removedStyles.fontSize&&!n$1&&(n$1=this.removedStyles.fontSize),n$1&&!i$1.hasExplicit(`mathsize`)&&(o$1=n$1),o$1!==`1`&&(t$1*=this.length2em(o$1,1,1)),r$1!==0){let e$2=this.length2em(i$1.get(`scriptminsize`),.4,1);t$1<e$2&&(t$1=e$2)}this.bbox.scale=t$1,this.bbox.rscale=t$1/s$1}getSpace(){let t$1=this.isTopEmbellished(),e$1=this.node.hasSpacingAttributes();this.jax.options.mathmlSpacing||e$1?t$1&&this.getMathMLSpacing():this.getTeXSpacing(t$1,e$1)}getMathMLSpacing(){let t$1=this.node.coreMO(),e$1=t$1.coreParent(),s$1=e$1.parent;if(!s$1||!s$1.isKind(`mrow`)||s$1.childNodes.length===1)return;let i$1=s$1.childIndex(e$1);if(i$1===null)return;let r$1=t$1.getProperty(`noDictDef`),n$1=t$1.attributes,o$1=n$1.get(`scriptlevel`)>0;if(this.bbox.L=n$1.isSet(`lspace`)?Math.max(0,this.length2em(n$1.get(`lspace`))):Pl(o$1,r$1,t$1.lspace),this.bbox.R=n$1.isSet(`rspace`)?Math.max(0,this.length2em(n$1.get(`rspace`))):Pl(o$1,r$1,t$1.rspace),!i$1)return;let a$1=s$1.childNodes[i$1-1];if(!a$1.isEmbellished)return;let c$1=this.jax.nodeMap.get(a$1).getBBox();c$1.R&&(this.bbox.L=Math.max(0,this.bbox.L-c$1.R))}getTeXSpacing(t$1,e$1){if(!e$1){let t$2=this.node.texSpacing();t$2&&(this.bbox.L=this.length2em(t$2))}if(t$1||e$1){let t$2=this.node.coreMO().attributes;t$2.isSet(`lspace`)&&(this.bbox.L=Math.max(0,this.length2em(t$2.get(`lspace`)))),t$2.isSet(`rspace`)&&(this.bbox.R=Math.max(0,this.length2em(t$2.get(`rspace`))))}}isTopEmbellished(){return this.node.isEmbellished&&!(this.node.parent&&this.node.parent.isEmbellished)}core(){return this.jax.nodeMap.get(this.node.core())}coreMO(){return this.jax.nodeMap.get(this.node.coreMO())}coreRScale(){let t$1=this.bbox.rscale,e$1=this.coreMO();for(;e$1!==this&&e$1;)t$1*=e$1.bbox.rscale,e$1=e$1.parent;return t$1}getRScale(){let t$1=1,e$1=this;for(;e$1;)t$1*=e$1.bbox.rscale,e$1=e$1.parent;return t$1}getText(){let t$1=``;if(this.node.isToken)for(let e$1 of this.node.childNodes)e$1 instanceof Cr&&(t$1+=e$1.getText());return t$1}canStretch(t$1){if(this.stretch=Tl,this.node.isEmbellished){let e$1=this.core();e$1&&e$1.node!==this.node&&e$1.canStretch(t$1)&&(this.stretch=e$1.stretch)}return this.stretch.dir!==yl.None}getAlignShift(){let{indentalign:t$1,indentshift:e$1,indentalignfirst:s$1,indentshiftfirst:i$1}=this.node.attributes.getAllAttributes();return s$1!==`indentalign`&&(t$1=s$1),i$1!==`indentshift`&&(e$1=i$1),this.processIndent(t$1,e$1)}processIndent(t$1,e$1,s$1=``,i$1=``,r$1=this.metrics.containerWidth){return this.jax.math.display?(s$1&&s$1!==`auto`||(s$1=this.jax.math.root.getProperty(`inlineMarked`)?`left`:this.jax.options.displayAlign),i$1&&i$1!==`auto`||(i$1=this.jax.math.root.getProperty(`inlineMarked`)?`0`:this.jax.options.displayIndent),t$1===`auto`&&(t$1=s$1),e$1===`auto`&&(e$1=i$1,t$1!==`right`||e$1.match(/^\s*0[a-z]*\s*$/)||(e$1=(`-`+e$1.trim()).replace(/^--/,``))),[t$1,this.length2em(e$1,r$1)]):[`left`,0]}getAlignX(t$1,e$1,s$1){return s$1===`right`?t$1-(e$1.w+e$1.R)*e$1.rscale:s$1===`left`?e$1.L*e$1.rscale:(t$1-e$1.w*e$1.rscale)/2}getAlignY(t$1,e$1,s$1,i$1,r$1){return r$1===`top`?t$1-s$1:r$1===`bottom`?i$1-e$1:r$1===`center`?(t$1-s$1-(e$1-i$1))/2:0}getWrapWidth(t$1){return this.childNodes[t$1].getBBox().w}getChildAlign(t$1){return`left`}percent(t$1){return ho(t$1)}em(t$1){return uo(t$1)}px(t$1,e$1=-no){return po(t$1,e$1,this.metrics.em)}length2em(t$1,e$1=1,s$1=null){s$1===null&&(s$1=this.bbox.scale);let i$1=this.font.params.rule_thickness,r$1=Fi(t$1,{medium:1,thin:2/3,thick:5/3},0);return r$1?r$1*i$1:lo(t$1,e$1,s$1,this.jax.pxPerEm)}unicodeChars(t$1,e$1=this.variant){let s$1=Pr(t$1),i$1=this.font.getVariant(e$1);if(i$1&&i$1.chars){let t$2=i$1.chars;s$1=s$1.map((e$2=>{var s$2,i$2;return t$2[e$2]?.[3]?.smp||e$2}))}return s$1}remapChars(t$1){return t$1}mmlText(t$1){return this.node.factory.create(`text`).setText(t$1)}mmlNode(t$1,e$1={},s$1=[]){return this.node.factory.create(t$1,e$1,s$1)}createMo(t$1){let e$1=this.node.factory,s$1=e$1.create(`text`).setText(t$1),i$1=e$1.create(`mo`,{stretchy:!0},[s$1]);i$1.inheritAttributesFrom(this.node),i$1.parent=this.node.parent;let r$1=this.wrap(i$1);return r$1.parent=this,r$1}getVariantChar(t$1,e$1){let s$1=this.font.getChar(t$1,e$1)||[0,0,0,{unknown:!0}];return s$1.length===3&&(s$1[3]={}),s$1}html(t$1,e$1={},s$1=[]){return this.jax.html(t$1,e$1,s$1)}}Fl.kind=`unknown`,Fl.styles={},Fl.removeStyles=[`fontSize`,`fontFamily`,`fontWeight`,`fontStyle`,`fontVariant`,`font`],Fl.skipAttributes={fontfamily:!0,fontsize:!0,fontweight:!0,fontstyle:!0,color:!0,background:!0,class:!0,href:!0,style:!0,xmlns:!0},Fl.BOLDVARIANTS={bold:{normal:`bold`,italic:`bold-italic`,fraktur:`bold-fraktur`,script:`bold-script`,"sans-serif":`bold-sans-serif`,"sans-serif-italic":`sans-serif-bold-italic`},normal:{bold:`normal`,"bold-italic":`italic`,"bold-fraktur":`fraktur`,"bold-script":`script`,"bold-sans-serif":`sans-serif`,"sans-serif-bold-italic":`sans-serif-italic`}},Fl.ITALICVARIANTS={italic:{normal:`italic`,bold:`bold-italic`,"sans-serif":`sans-serif-italic`,"bold-sans-serif":`sans-serif-bold-italic`},normal:{italic:`normal`,"bold-italic":`bold`,"sans-serif-italic":`sans-serif`,"sans-serif-bold-italic":`bold-sans-serif`}};let jl={"70.7%":`s`,"70%":`s`,"50%":`ss`,"60%":`Tn`,"85%":`sm`,"120%":`lg`,"144%":`Lg`,"173%":`LG`,"207%":`hg`,"249%":`HG`};class Ul extends Fl{toCHTML(t$1){this.toEmbellishedCHTML(t$1)||this.addChildren(this.standardChtmlNodes(t$1))}toEmbellishedCHTML(t$1){if(t$1.length<=1||!this.node.isEmbellished)return!1;let e$1=this.adaptor;t$1.forEach((t$2=>e$1.append(t$2,this.html(`mjx-linestrut`))));let s$1=this.coreMO().embellishedBreakStyle,i$1=[];for(let[r$1,n$1]of[[t$1[0],`before`],[t$1[1],`after`]])s$1===n$1?i$1.push(this.createChtmlNodes([r$1])[0]):(this.toCHTML([r$1]),i$1.push(this.dom[0]),n$1===`after`&&e$1.removeAttribute(this.dom[0],`space`));return this.dom=i$1,!0}addChildren(t$1){for(let e$1 of this.childNodes)e$1.toCHTML(t$1)}standardChtmlNodes(t$1){this.markUsed();let e$1=this.createChtmlNodes(t$1);return this.handleStyles(),this.handleScale(),this.handleBorders(),this.handleColor(),this.handleSpace(),this.handleAttributes(),this.handlePWidth(),e$1}markUsed(){this.jax.wrapperUsage.add(this.kind)}createChtmlNodes(t$1){this.dom=t$1.map((t$2=>this.html(`mjx-`+this.node.kind))),t$1=this.handleHref(t$1);for(let e$1 of t$1.keys())this.adaptor.append(t$1[e$1],this.dom[e$1]);return this.dom}handleHref(t$1){let e$1=this.node.attributes.get(`href`);return e$1?t$1.map((t$2=>this.adaptor.append(t$2,this.html(`a`,{href:e$1})))):t$1}handleStyles(){if(!this.styles)return;let t$1=this.styles.cssText;if(t$1){let e$1=this.adaptor;this.dom.forEach((s$2=>e$1.setAttribute(s$2,`style`,t$1)));let s$1=this.styles.get(`font-family`);s$1&&this.dom.forEach((t$2=>e$1.setStyle(t$2,`font-family`,this.font.cssFamilyPrefix+`, `+s$1)))}}handleScale(){this.dom.forEach((t$1=>this.setScale(t$1,this.bbox.rscale)))}setScale(t$1,e$1){let s$1=Math.abs(e$1-1)<.001?1:e$1;if(t$1&&s$1!==1){let e$2=this.percent(s$1);jl[e$2]?this.adaptor.setAttribute(t$1,`size`,jl[e$2]):this.adaptor.setStyle(t$1,`fontSize`,e$2)}return t$1}handleSpace(){let t$1=this.adaptor,e$1=!!this.node.getProperty(`breakable`)&&!this.node.getProperty(`newline`),s$1=this.dom.length-1;for(let i$1 of[[this.getLineBBox(0).L,`space`,`marginLeft`,0],[this.getLineBBox(s$1).R,`rspace`,`marginRight`,s$1]]){let[s$2,r$1,n$1,o$1]=i$1,a$1=this.em(s$2);if(e$1&&r$1===`space`){let e$2=t$1.node(`mjx-break`,Bl[a$1]?{size:Bl[a$1]}:{style:`letter-spacing: ${this.em(s$2-1)}`},[t$1.text(` `)]);t$1.insert(e$2,this.dom[o$1])}else s$2&&(Bl[a$1]?t$1.setAttribute(this.dom[o$1],r$1,Bl[a$1]):t$1.setStyle(this.dom[o$1],n$1,a$1))}}handleBorders(){var t$1,e$1;let s$1=this.styleData?.border,i$1=this.styleData?.padding,r$1=this.dom.length-1;if(!s$1||!r$1)return;let n$1=this.adaptor;for(let t$2 of this.dom.keys()){let e$2=this.dom[t$2];t$2&&(s$1.width[3]&&n$1.setStyle(e$2,`border-left`,` none`),i$1[3]&&n$1.setStyle(e$2,`padding-left`,`0`)),t$2!==r$1&&(s$1.width[1]&&n$1.setStyle(e$2,`border-right`,`none`),i$1[1]&&n$1.setStyle(e$2,`padding-right`,`0`))}}handleColor(){var t$1;let e$1=this.adaptor,s$1=this.node.attributes,i$1=s$1.getExplicit(`mathcolor`)||s$1.getExplicit(`color`),r$1=s$1.getExplicit(`mathbackground`)||s$1.getExplicit(`background`)||this.styles?.get(`background-color`);i$1&&this.dom.forEach((t$2=>e$1.setStyle(t$2,`color`,i$1))),r$1&&this.dom.forEach((t$2=>e$1.setStyle(t$2,`backgroundColor`,r$1)))}handleAttributes(){let t$1=this.adaptor,e$1=this.node.attributes,s$1=e$1.getAllDefaults(),i$1=Ul.skipAttributes;for(let r$1 of e$1.getExplicitNames())if(!1===i$1[r$1]||!(r$1 in s$1)&&!i$1[r$1]&&!t$1.hasAttribute(this.dom[0],r$1)){let s$2=e$1.getExplicit(r$1);this.dom.forEach((e$2=>t$1.setAttribute(e$2,r$1,s$2)))}if(e$1.get(`class`)){let s$2=e$1.get(`class`).trim().split(/ +/);for(let e$2 of s$2)this.dom.forEach((s$3=>t$1.addClass(s$3,e$2)))}this.node.getProperty(`inline-breaks`)&&this.dom.forEach((e$2=>t$1.setAttribute(e$2,`inline-breaks`,`true`)))}handlePWidth(){if(this.bbox.pwidth){let t$1=this.adaptor;this.bbox.pwidth===mo.fullWidth?this.dom.forEach((e$1=>t$1.setAttribute(e$1,`width`,`full`))):this.dom.forEach((e$1=>t$1.setStyle(e$1,`width`,this.bbox.pwidth)))}}setIndent(t$1,e$1,s$1){let i$1=this.adaptor;if(e$1===`center`||e$1===`left`){let e$2=this.getBBox().L;i$1.setStyle(t$1,`margin-left`,this.em(s$1+e$2))}if(e$1===`center`||e$1===`right`){let e$2=this.getBBox().R;i$1.setStyle(t$1,`margin-right`,this.em(-s$1+e$2))}}drawBBox(){let{w:t$1,h:e$1,d:s$1,R:i$1}=this.getOuterBBox(),r$1=this.html(`mjx-box`,{style:{opacity:.25,"margin-left":this.em(-t$1-i$1)}},[this.html(`mjx-box`,{style:{height:this.em(e$1),width:this.em(t$1),"background-color":`red`}}),this.html(`mjx-box`,{style:{height:this.em(s$1),width:this.em(t$1),"margin-left":this.em(-t$1),"vertical-align":this.em(-s$1),"background-color":`green`}})]),n$1=this.dom[0]||this.parent.dom[0],o$1=this.adaptor.getAttribute(n$1,`size`);o$1&&this.adaptor.setAttribute(r$1,`size`,o$1);let a$1=this.adaptor.getStyle(n$1,`fontSize`);a$1&&this.adaptor.setStyle(r$1,`fontSize`,a$1),this.adaptor.append(this.adaptor.parent(n$1),r$1),this.adaptor.setStyle(n$1,`backgroundColor`,`#FFEE00`)}html(t$1,e$1={},s$1=[]){return this.jax.html(t$1,e$1,s$1)}text(t$1){return this.jax.text(t$1)}char(t$1){return this.font.charSelector(t$1).substring(1)}}function ql(t$1){return class extends t$1{getWrapWidth(t$2){return this.parent?this.getBBox().w:this.metrics.containerWidth/this.jax.pxPerEm}computeBBox(t$2,e$1=!1){super.computeBBox(t$2,e$1);let s$1=this.node.attributes;if(!this.parent&&this.jax.math.display&&s$1.get(`overflow`)===`linebreak`){let e$2=this.containerWidth;t$2.w>e$2&&this.childNodes[0].breakToWidth(e$2),t$2.updateFrom(this.childNodes[0].getBBox())}}}}Ul.kind=`unknown`,Ul.autoStyle=!0;let Hl=function(){var t$1;let e$1=ql(Ul);return(t$1=class extends e$1{handleDisplay(t$2){let e$2=this.adaptor,[s$1,i$1]=this.getAlignShift();if(s$1!==`center`&&e$2.setAttribute(t$2,`justify`,s$1),this.bbox.pwidth===mo.fullWidth){if(e$2.setAttribute(t$2,`width`,`full`),this.jax.table){let{L:r$1,w:n$1,R:o$1}=this.jax.table.getOuterBBox();s$1===`right`?o$1=Math.max(o$1||-i$1,-i$1):s$1===`left`?r$1=Math.max(r$1||i$1,i$1):s$1===`center`&&(n$1+=2*Math.abs(i$1));let a$1=this.em(Math.max(0,r$1+n$1+o$1));e$2.setStyle(t$2,`min-width`,a$1),e$2.setStyle(this.jax.table.dom[0],`min-width`,a$1)}}else this.setIndent(this.dom[0],s$1,i$1)}handleInline(t$2){let e$2=this.adaptor,s$1=e$2.getStyle(this.dom[0],`margin-right`);s$1&&(e$2.setStyle(this.dom[0],`margin-right`,``),e$2.setStyle(t$2,`margin-right`,s$1),e$2.setStyle(t$2,`width`,`0`))}toCHTML(t$2){super.toCHTML(t$2);let e$2=this.adaptor;this.node.attributes.get(`display`)===`block`?(e$2.setAttribute(this.dom[0],`display`,`true`),e$2.setAttribute(t$2[0],`display`,`true`),this.handleDisplay(t$2[0])):this.handleInline(t$2[0]),e$2.addClass(this.dom[0],`${this.font.cssFontPrefix}-N`)}setChildPWidths(t$2,e$2=null,s$1=!0){return!!this.parent&&super.setChildPWidths(t$2,e$2,s$1)}handleAttributes(){super.handleAttributes();let t$2=this.adaptor;this.node.getProperty(`process-breaks`)&&this.dom.forEach((e$2=>t$2.setAttribute(e$2,`breakable`,`true`)))}}).kind=wr.prototype.kind,t$1.styles={"mjx-math":{"line-height":0,"text-align":`left`,"text-indent":0,"font-style":`normal`,"font-weight":`normal`,"font-size":`100%`,"font-size-adjust":`none`,"letter-spacing":`normal`,"word-wrap":`normal`,"word-spacing":`normal`,direction:`ltr`,padding:`1px 0`},'mjx-container[jax="CHTML"][display="true"] mjx-math':{padding:0},"mjx-math[breakable]":{display:`inline`},'mjx-container[jax="CHTML"] mjx-break':{"white-space":`normal`,"line-height":`0`,"clip-path":`rect(0 0 0 0)`,"font-family":`MJX-BRK !important`},'mjx-break[size="0"]':{"letter-spacing":`-0.999em`},'mjx-break[size="1"]':{"letter-spacing":`-0.889em`},'mjx-break[size="2"]':{"letter-spacing":`-0.833em`},'mjx-break[size="3"]':{"letter-spacing":`-0.778em`},'mjx-break[size="4"]':{"letter-spacing":`-0.722em`},'mjx-break[size="5"]':{"letter-spacing":`-0.667em`}},t$1}();function Wl(t$1){return class extends t$1{computeBBox(t$2,e$1=!1){super.computeBBox(t$2),this.copySkewIC(t$2)}}}let zl=function(){var t$1;let e$1=Wl(Ul);return(t$1=class extends e$1{}).kind=_r.prototype.kind,t$1}();function Xl(t$1){return class extends t$1{get breakCount(){return this.breakStyle?1:0}get embellishedBreakCount(){return this.embellishedBreakStyle?1:0}get embellishedBreakStyle(){return this.breakStyle||this.getBreakStyle()}protoBBox(t$2){let e$1=this.stretch.dir!==yl.None;e$1&&this.size===null&&this.getStretchedVariant([0]),e$1&&this.size<0||(super.computeBBox(t$2),t$2.w!==0||!this.node.attributes.hasExplicit(`fence`)||this.node.getText()!==``||this.node.texClass!==ur.OPEN&&this.node.texClass!==ur.CLOSE||this.jax.options.mathmlSpacing||(t$2.R=this.font.params.nulldelimiterspace),this.copySkewIC(t$2))}getAccentOffset(){let t$2=mo.empty();return this.protoBBox(t$2),-t$2.w/2}getCenterOffset(t$2=null){return t$2||(t$2=mo.empty(),super.computeBBox(t$2)),(t$2.h+t$2.d)/2+this.font.params.axis_height-t$2.h}getStretchedVariant(t$2,e$1=!1){if(this.stretch.dir!==yl.None){let s$1=this.getWH(t$2),i$1=this.getSize(`minsize`,0),r$1=this.getSize(`maxsize`,1/0),n$1=this.node.getProperty(`mathaccent`);s$1=Math.max(i$1,Math.min(r$1,s$1));let o$1=this.font.params.delimiterfactor/1e3,a$1=this.font.params.delimitershortfall,c$1=i$1||e$1?s$1:n$1?Math.min(s$1/o$1,s$1+a$1):Math.max(s$1*o$1,s$1-a$1),l$1=this.stretch,h$1=l$1.c||this.getText().codePointAt(0),d$1=0;if(l$1.sizes)for(let t$3 of l$1.sizes){if(t$3>=c$1)return n$1&&d$1&&d$1--,void this.setDelimSize(h$1,d$1);d$1++}l$1.stretch?(this.size=-1,this.invalidateBBox(),this.getStretchBBox(t$2,this.checkExtendedHeight(s$1,l$1),l$1)):this.setDelimSize(h$1,d$1-1)}}setDelimSize(t$2,e$1){let s$1=this.stretch;this.variant=this.font.getSizeVariant(t$2,e$1),this.size=e$1;let i$1=s$1.schar&&s$1.schar[Math.min(e$1,s$1.schar.length-1)]||t$2;this.stretch=Object.assign(Object.assign({},s$1),{c:i$1}),this.childNodes[0].invalidateBBox()}getSize(t$2,e$1){let s$1=this.node.attributes;return s$1.isSet(t$2)&&(e$1=this.length2em(s$1.get(t$2),1,1)),e$1}getWH(t$2){if(t$2.length===0)return 0;if(t$2.length===1)return t$2[0];let[e$1,s$1]=t$2,i$1=this.font.params.axis_height;return this.node.attributes.get(`symmetric`)?2*Math.max(e$1-i$1,s$1+i$1):e$1+s$1}getStretchBBox(t$2,e$1,s$1){Object.hasOwn(s$1,`min`)&&s$1.min>e$1&&(e$1=s$1.min);let[i$1,r$1,n$1]=s$1.HDW;if(this.stretch.dir===yl.Vertical)[i$1,r$1]=this.getBaseline(t$2,e$1,s$1);else if(n$1=e$1,this.stretch.hd&&!this.jax.options.mathmlSpacing){let t$3=this.font.params.extender_factor;i$1=i$1*(1-t$3)+this.stretch.hd[0]*t$3,r$1=r$1*(1-t$3)+this.stretch.hd[1]*t$3}this.bbox.h=i$1,this.bbox.d=r$1,this.bbox.w=n$1}getBaseline(t$2,e$1,s$1){let i$1=t$2.length===2&&t$2[0]+t$2[1]===e$1,r$1=this.node.attributes.get(`symmetric`),[n$1,o$1]=i$1?t$2:[e$1,0],[a$1,c$1]=[n$1+o$1,0];if(r$1){let t$3=this.font.params.axis_height;i$1&&(a$1=2*Math.max(n$1-t$3,o$1+t$3)),c$1=a$1/2-t$3}else if(i$1)c$1=o$1;else{let[t$3,e$2]=s$1.HDW||[.75,.25];c$1=e$2*(a$1/(t$3+e$2))}return[a$1-c$1,c$1]}checkExtendedHeight(t$2,e$1){if(e$1.fullExt){let[s$1,i$1]=e$1.fullExt;t$2=i$1+Math.ceil(Math.max(0,t$2-i$1)/s$1)*s$1}return t$2}setBreakStyle(t$2=``){if(this.breakStyle=this.node.parent.isEmbellished&&!t$2?``:this.getBreakStyle(t$2),this.breakCount&&this.multChar){let t$3=this.parent.node.childIndex(this.node),e$1=this.parent.node.childNodes[t$3+1];e$1&&e$1.setTeXclass(this.multChar.node)}}getBreakStyle(t$2=``){let e$1=this.node.attributes,s$1=t$2||(e$1.get(`linebreak`)===`newline`||this.node.getProperty(`forcebreak`)?e$1.get(`linebreakstyle`):``);return s$1===`infixlinebreakstyle`&&(s$1=e$1.get(s$1)),s$1}getMultChar(){let t$2=this.node.attributes.get(`linebreakmultchar`);t$2&&this.getText()===``&&t$2!==``&&(this.multChar=this.createMo(t$2))}constructor(t$2,e$1,s$1=null){super(t$2,e$1,s$1),this.size=null,this.isAccent=this.node.isAccent,this.getMultChar(),this.setBreakStyle()}computeBBox(t$2,e$1=!1){if(this.protoBBox(t$2),this.node.attributes.get(`symmetric`)&&this.stretch.dir!==yl.Horizontal){let e$2=this.getCenterOffset(t$2);t$2.h+=e$2,t$2.d-=e$2}this.node.getProperty(`mathaccent`)&&(this.stretch.dir===yl.None||this.size>=0)&&(t$2.w=0)}computeLineBBox(t$2){return this.moLineBBox(t$2,this.breakStyle)}moLineBBox(t$2,e$1,s$1=null){let i$1=this.node.attributes.get(`lineleading`),r$1=this.length2em(i$1,this.linebreakOptions.lineleading);if(t$2===0&&e$1===`before`){let t$3=kl.from(mo.zero(),r$1);return t$3.originalL=this.bbox.L,this.bbox.L=0,t$3}let n$1=kl.from(s$1||this.getOuterBBox(),r$1);return t$2===1&&(e$1===`after`?(n$1.w=n$1.h=n$1.d=0,n$1.isFirst=!0,this.bbox.R=0):e$1===`duplicate`?n$1.L=0:this.multChar&&(n$1=kl.from(this.multChar.getOuterBBox(),r$1)),n$1.getIndentData(this.node)),n$1}canStretch(t$2){if(this.stretch.dir!==yl.None)return this.stretch.dir===t$2;if(!this.node.attributes.get(`stretchy`))return!1;let e$1=this.getText();if(Array.from(e$1).length!==1)return!1;let s$1=this.font.getDelimiter(e$1.codePointAt(0));return this.stretch=s$1&&s$1.dir===t$2?s$1:Tl,this.stretch.dir!==yl.None}getVariant(){this.node.attributes.get(`largeop`)?this.variant=this.node.attributes.get(`displaystyle`)?`-largeop`:`-smallop`:this.node.attributes.hasExplicit(`mathvariant`)||!1!==this.node.getProperty(`pseudoscript`)?super.getVariant():this.variant=`-tex-variant`}remapChars(t$2){let e$1=this.node.getProperty(`primes`);if(e$1)return Pr(e$1);if(t$2.length===1){let e$2=this.node.coreParent().parent,s$1=this.isAccent&&!e$2.isKind(`mrow`)?`accent`:`mo`,i$1=this.font.getRemappedChar(s$1,t$2[0]);i$1&&(t$2=this.unicodeChars(i$1,this.variant))}return t$2}}}class Vl{constructor(){this.used=new Set,this.needsUpdate=[]}add(t$1){let e$1=JSON.stringify(t$1);this.used.has(e$1)||this.needsUpdate.push(t$1),this.used.add(e$1)}has(t$1){return this.used.has(JSON.stringify(t$1))}clear(){this.used.clear(),this.needsUpdate=[]}update(){let t$1=this.needsUpdate;return this.needsUpdate=[],t$1}}class Gl extends _l{constructor(){super(...arguments),this.charUsage=new Vl,this.delimUsage=new Vl,this.fontUsage={},this.newFonts=0}static charOptions(t$1,e$1){return super.charOptions(t$1,e$1)}static addFontURLs(t$1,e$1,s$1){for(let i$1 of Object.keys(e$1)){let r$1=Object.assign({},e$1[i$1]);r$1.src=r$1.src.replace(/%%URL%%/,s$1),t$1[i$1]=r$1}}static addDynamicFontCss(t$1,e$1,s$1){let i$1={};for(let s$2 of e$1){let e$2=s$2.slice(4);i$1[`@font-face /* ${e$2} */`]={"font-family":s$2,src:`url("%%URL%%/${s$2.toLowerCase()}.woff2") format("woff2")`},t$1[`.${e$2}`]={"font-family":`${this.defaultCssFamilyPrefix}, ${s$2}`}}this.addFontURLs(t$1,i$1,s$1)}static addExtension(t$1,e$1=``){super.addExtension(t$1,e$1),t$1.fonts&&this.addDynamicFontCss(this.defaultStyles,t$1.fonts,t$1.fontURL)}addExtension(t$1,e$1=``){if(super.addExtension(t$1,e$1),!t$1.fonts||!this.options.adaptiveCSS)return[];let s$1={},i$1=new Co;return this.constructor.addDynamicFontCss(s$1,t$1.fonts,t$1.fontURL),i$1.addStyles(s$1),i$1.getStyleRules()}adaptiveCSS(t$1){this.options.adaptiveCSS=t$1}clearCache(){this.options.adaptiveCSS&&(this.charUsage.clear(),this.delimUsage.clear())}createVariant(t$1,e$1=null,s$1=null){super.createVariant(t$1,e$1,s$1),this.variant[t$1].letter=this.constructor.defaultVariantLetters[t$1]}defineChars(t$1,e$1){super.defineChars(t$1,e$1);let s$1=this.variant[t$1].letter,i$1=this.constructor;for(let t$2 of Object.keys(e$1)){let r$1=parseInt(t$2);if(!Array.isArray(e$1[r$1]))continue;let n$1=i$1.charOptions(e$1,r$1);n$1.f===void 0&&(n$1.f=s$1);for(let[t$3,e$2]of i$1.combiningChars)if(r$1>=t$3&&r$1<=e$2){n$1.cmb=!0;break}}}addDynamicFontCss(t$1,e$1=this.options.fontURL){this.constructor.addDynamicFontCss(this.fontUsage,t$1,e$1)}updateDynamicStyles(){let t$1=this.fontUsage;return this.fontUsage={},this.options.adaptiveCSS||this.updateStyles(t$1),t$1}get styles(){let t$1=this.constructor,e$1=Object.assign(Object.assign({},t$1.defaultStyles),this.fontUsage);return this.fontUsage={},t$1.addFontURLs(e$1,t$1.defaultFonts,this.options.fontURL),this.options.adaptiveCSS?this.updateStyles(e$1):this.allStyles(e$1),e$1}updateStyles(t$1){for(let e$1 of this.delimUsage.update())this.addDelimiterStyles(t$1,e$1,this.getDelimiter(e$1));for(let[e$1,s$1]of this.charUsage.update()){let i$1=this.variant[e$1];this.addCharStyles(t$1,i$1.letter,s$1,i$1.chars[s$1])}return t$1}allStyles(t$1){var e$1;for(let e$2 of Object.keys(this.delimiters)){let s$1=parseInt(e$2);this.addDelimiterStyles(t$1,s$1,this.delimiters[s$1])}for(let s$1 of Object.keys(this.variant)){let i$1=this.variant[s$1],r$1=i$1.letter;for(let s$2 of Object.keys(i$1.chars)){let n$1=parseInt(s$2),o$1=i$1.chars[n$1];!o$1?.[3]?.smp&&Array.isArray(o$1)&&(o$1.length<4&&(o$1[3]={}),this.addCharStyles(t$1,r$1,n$1,o$1))}}}addDelimiterStyles(t$1,e$1,s$1){if(!s$1.stretch)return;let i$1=s$1.c&&s$1.c!==e$1?this.charSelector(s$1.c):this.charSelector(e$1);s$1.dir===yl.Vertical?this.addDelimiterVStyles(t$1,e$1,i$1,s$1):this.addDelimiterHStyles(t$1,e$1,i$1,s$1)}addDelimiterVStyles(t$1,e$1,s$1,i$1){let r$1=i$1.HDW,[n$1,o$1,a$1,c$1]=i$1.stretch,[l$1,h$1,d$1,u$1]=this.getStretchVariants(e$1),p$1=this.addDelimiterVPart(t$1,s$1,`beg`,n$1,l$1,r$1);this.addDelimiterVPart(t$1,s$1,`ext`,o$1,h$1,r$1);let m$1=this.addDelimiterVPart(t$1,s$1,`end`,a$1,d$1,r$1);if(c$1){let e$2=this.addDelimiterVPart(t$1,s$1,`mid`,c$1,u$1,r$1),i$2=this.em(e$2/2-.03);t$1[`mjx-stretchy-v${s$1} > mjx-ext:first-of-type`]={height:`50%`,"border-width":`${this.em1(p$1-.03)} 0 ${i$2}`},t$1[`mjx-stretchy-v${s$1} > mjx-ext:last-of-type`]={height:`50%`,"border-width":`${i$2} 0 ${this.em1(m$1-.03)}`}}else (m$1||p$1)&&(t$1[`mjx-stretchy-v${s$1} > mjx-ext`][`border-width`]=`${this.em1(p$1-.03)} 0 ${this.em1(m$1-.03)}`)}addDelimiterVPart(t$1,e$1,s$1,i$1,r$1,n$1){if(!i$1)return 0;let[o$1,a$1,c$1]=this.getChar(r$1,i$1),l$1={width:this.em0(c$1)};if(s$1!==`ext`){let t$2=c$1>n$1[2]?this.em((n$1[2]-c$1)/2):`auto`,e$2=s$1===`beg`?o$1:s$1===`end`?-a$1:(o$1-a$1)/2;l$1.margin=`${this.em(e$2)} ${t$2} ${this.em(-e$2)}`}else l$1[`line-height`]=this.em0(o$1+a$1+.005),t$1[`mjx-stretchy-v${e$1} > mjx-${s$1} > mjx-spacer`]={"margin-top":this.em(-a$1)};return t$1[`mjx-stretchy-v${e$1} > mjx-${s$1}`]=l$1,o$1+a$1}addDelimiterHStyles(t$1,e$1,s$1,i$1){let r$1=[...i$1.HDW],[n$1,o$1,a$1,c$1]=i$1.stretch,[l$1,h$1,d$1,u$1]=this.getStretchVariants(e$1);if(i$1.hd&&!this.options.mathmlSpacing){let t$2=this.params.extender_factor;r$1[0]=r$1[0]*(1-t$2)+i$1.hd[0]*t$2,r$1[1]=r$1[1]*(1-t$2)+i$1.hd[1]*t$2}let p$1=this.addDelimiterHPart(t$1,s$1,`beg`,n$1,l$1,r$1);this.addDelimiterHPart(t$1,s$1,`ext`,o$1,h$1,r$1);let m$1=this.addDelimiterHPart(t$1,s$1,`end`,a$1,d$1,r$1);if(c$1){let e$2=this.addDelimiterHPart(t$1,s$1,`mid`,c$1,u$1,r$1),i$2=this.em0(e$2/2-.03);t$1[`mjx-stretchy-h${s$1} > mjx-ext:first-of-type`]={width:`50%`,"border-width":`0 ${i$2} 0 ${this.em0(p$1-.03)}`},t$1[`mjx-stretchy-h${s$1} > mjx-ext:last-of-type`]={width:`50%`,"border-width":`0 ${this.em0(m$1-.03)} 0 ${i$2}`}}else (p$1||m$1)&&(t$1[`mjx-stretchy-h${s$1} > mjx-ext`][`border-width`]=`0 ${this.em0(m$1-.06)} 0 ${this.em0(p$1-.06)}`);i$1.ext&&(t$1[`mjx-stretchy-h${s$1} > mjx-ext > mjx-spacer`][`letter-spacing`]=this.em(-i$1.ext))}addDelimiterHPart(t$1,e$1,s$1,i$1,r$1,n$1){if(!i$1)return 0;let[,,o$1,a$1]=this.getChar(r$1,i$1),c$1={padding:this.padding(n$1,o$1-n$1[2])};return s$1===`ext`?(!o$1&&a$1.dx&&(o$1=2*a$1.dx-.06),t$1[`mjx-stretchy-h${e$1} > mjx-${s$1} > mjx-spacer`]={"margin-left":this.em(-o$1/2)},a$1.cmb&&(t$1[`mjx-stretchy-h${e$1} > mjx-${s$1} > mjx-c`]={width:this.em(o$1),"text-align":`right`})):(s$1===`mid`?c$1.margin=`0 ${this.em(-o$1/2)}`:c$1[s$1==`end`?`margin-left`:`margin-right`]=this.em(-o$1),this.checkCombiningChar(a$1,c$1)),t$1[`mjx-stretchy-h${e$1} > mjx-${s$1}`]=c$1,o$1}addCharStyles(t$1,e$1,s$1,i$1){let r$1=i$1[3],n$1=r$1.f===void 0?e$1:r$1.f,o$1=r$1.ff||(n$1?`${this.cssFontPrefix}-${n$1}`:``),a$1=`mjx-c`+this.charSelector(s$1)+(o$1?`.`+o$1:``),c$1=r$1.oc||r$1.ic||0;t$1[a$1]={padding:this.padding(i$1,c$1)},r$1.oc&&(t$1[a$1+`[noic]`]={"padding-right":this.em(i$1[2])}),this.checkCombiningChar(r$1,t$1[a$1])}checkCombiningChar(t$1,e$1){if(!t$1.cmb)return;let s$1=e$1.padding.split(/ /);e$1.width=s$1[1],s$1[1]=`0`,s$1[3]||s$1.pop(),e$1.padding=s$1.join(` `)}em(t$1){return uo(t$1)}em0(t$1){return uo(Math.max(0,t$1))}em1(t$1){let e$1=uo(Math.max(0,t$1));return e$1===`0`?`.1px`:e$1}padding([t$1,e$1,s$1],i$1=0){return[t$1,s$1+i$1,e$1,0].map(this.em0).join(` `)}charSelector(t$1){return`.mjx-c`+t$1.toString(16).toUpperCase()}}function Jl(t$1,e$1){for(let s$1 of Object.keys(e$1)){let i$1=parseInt(s$1),r$1=e$1[i$1];r$1.c&&=r$1.c.replace(/\\[0-9A-F]+/gi,(t$2=>String.fromCodePoint(parseInt(t$2.substring(1),16)))),Object.assign(_l.charOptions(t$1,i$1),r$1)}return t$1}Gl.OPTIONS=Object.assign(Object.assign({},_l.OPTIONS),{dynamicPrefix:`./chtml/dynamic`,fontURL:`./chtml/woff2`}),Gl.JAX=`CHTML`,Gl.defaultVariantLetters={},Gl.defaultStyles={},Gl.defaultFonts={},Gl.combiningChars=[[768,879],[8400,8447]];let Kl=function(){var t$1;let e$1=Xl(Ul);return t$1=class extends e$1{toCHTML(t$2){let e$2=this.adaptor,s$1=this.node.attributes,i$1=s$1.get(`symmetric`)&&this.stretch.dir!==yl.Horizontal,r$1=this.stretch.dir!==yl.None;r$1&&this.size===null&&this.getStretchedVariant([]),t$2.length>1&&t$2.forEach((t$3=>e$2.append(t$3,this.html(`mjx-linestrut`))));let n$1=this.standardChtmlNodes(t$2);if(n$1.length>1&&this.breakStyle!==`duplicate`){let t$3=this.breakStyle===`after`?1:0;e$2.remove(n$1[t$3]),n$1[t$3]=null}if(r$1&&this.size<0)this.stretchHTML(n$1);else{if(i$1||s$1.get(`largeop`)){let t$3=this.em(this.getCenterOffset());t$3!==`0`&&n$1.forEach((s$2=>s$2&&e$2.setStyle(s$2,`verticalAlign`,t$3)))}this.node.getProperty(`mathaccent`)&&n$1.forEach((t$3=>{e$2.setStyle(t$3,`width`,`0`),e$2.setStyle(t$3,`margin-left`,this.em(this.getAccentOffset()))})),n$1[0]&&this.addChildren([n$1[0]]),n$1[1]&&(this.multChar||this).addChildren([n$1[1]])}}stretchHTML(t$2){let e$2=this.getText().codePointAt(0);this.font.delimUsage.add(e$2),this.childNodes[0].markUsed();let s$1=this.stretch,i$1=s$1.stretch,r$1=this.font.getStretchVariants(e$2),n$1=[],o$1=[];for(let t$3=0;t$3<i$1.length;t$3++)i$1[t$3]&&(o$1[t$3]=this.font.getChar(r$1[t$3],i$1[t$3]));let{h:a$1,d:c$1,w:l$1}=this.bbox,h$1={};s$1.dir===yl.Vertical?(this.createAssembly(o$1,i$1,r$1,n$1,a$1+c$1,.05,`
`),n$1.push(this.html(`mjx-mark`)),h$1.height=this.em(a$1+c$1),h$1.verticalAlign=this.em(-c$1)):(this.createAssembly(o$1,i$1,r$1,n$1,l$1,s$1.ext||0),h$1.width=this.em(l$1));let d$1={class:this.char(s$1.c||e$2),style:h$1},u$1=this.html(`mjx-stretchy-`+s$1.dir,d$1,n$1),p$1=this.adaptor;t$2[0]&&p$1.append(t$2[0],u$1),t$2[1]&&p$1.append(t$2[1],t$2[0]?p$1.clone(u$1):u$1)}createAssembly(t$2,e$2,s$1,i$1,r$1,n$1,o$1=``){t$2=[...t$2,null,null,null].slice(0,4);let[a$1,c$1,l$1,h$1]=t$2.map((t$3=>t$3?o$1?t$3[0]+t$3[1]:t$3[2]:0));c$1=Math.max(0,c$1-n$1);let[d$1,u$1]=t$2[3]?[(r$1-h$1)/2-a$1,(r$1-h$1)/2-l$1]:[r$1-a$1-l$1,0];this.createPart(`mjx-beg`,t$2[0],e$2[0],s$1[0],i$1),this.createPart(`mjx-ext`,t$2[1],e$2[1],s$1[1],i$1,d$1,c$1,o$1),t$2[3]&&(this.createPart(`mjx-mid`,t$2[3],e$2[3],s$1[3],i$1),this.createPart(`mjx-ext`,t$2[1],e$2[1],s$1[1],i$1,u$1,c$1,o$1)),this.createPart(`mjx-end`,t$2[2],e$2[2],s$1[2],i$1)}createPart(t$2,e$2,s$1,i$1,r$1,n$1=0,o$1=0,a$1=``){if(s$1){let c$1=e$2[3],l$1=c$1.f||(i$1===`normal`?``:this.font.getVariant(i$1).letter),h$1=c$1.ff||(l$1?`${this.font.cssFontPrefix}-${l$1}`:``),d$1=c$1.c||String.fromCodePoint(s$1),u$1=[];if(t$2===`mjx-ext`&&(o$1||c$1.dx)){o$1||=Math.max(.06,2*c$1.dx-.06);let t$3=Math.min(Math.ceil(n$1/o$1)+1,500);if(c$1.cmb){u$1.push(this.html(`mjx-spacer`));for(let e$3=0;e$3<t$3;e$3++)u$1.push(this.html(`mjx-c`,{},[this.text(d$1)]))}else u$1=[this.html(`mjx-spacer`,{},[this.text(Array(t$3).fill(d$1).join(a$1))])]}else u$1=[this.text(d$1)];r$1.push(this.html(t$2,h$1?{class:h$1}:{},u$1))}}},t$1.kind=Hr.prototype.kind,t$1.styles={"mjx-stretchy-h":{display:`inline-block`},"mjx-stretchy-h > *":{display:`inline-block`,width:0,"text-align":`right`},"mjx-stretchy-h > mjx-ext":{"clip-path":`padding-box xywh(0 -1em 100% calc(100% + 2em))`,width:`100%`,border:`0px solid transparent`,"box-sizing":`border-box`,"text-align":`left`},"mjx-stretchy-v":{display:`inline-block`,"text-align":`center`},"mjx-stretchy-v > *":{display:`block`,height:0,margin:`0 auto`},"mjx-stretchy-v > mjx-ext > mjx-spacer":{display:`block`},"mjx-stretchy-v > mjx-ext":{"clip-path":`padding-box xywh(-1em 0 calc(100% + 2em) 100%)`,height:`100%`,border:`0.1px solid transparent`,"box-sizing":`border-box`,"white-space":`wrap`},"mjx-mark":{display:`inline-block`,height:0}},t$1}();function $l(t$1){return class extends t$1{remapChars(t$2){if(t$2.length){let e$1=this.font.getRemappedChar(`mn`,t$2[0]);if(e$1){let s$1=this.unicodeChars(e$1,this.variant);s$1.length===1?t$2[0]=s$1[0]:t$2=s$1.concat(t$2.slice(1))}}return t$2}}}let Yl=function(){var t$1;let e$1=$l(Ul);return(t$1=class extends e$1{}).kind=kr.prototype.kind,t$1}();function Ql(t$1){return class extends t$1{createText(t$2){let e$1=this.wrap(this.mmlText(t$2));return e$1.parent=this,e$1}constructor(t$2,e$1,s$1=null){super(t$2,e$1,s$1);let i$1=this.node.attributes,r$1=i$1.getList(`lquote`,`rquote`);this.variant!==`monospace`&&(i$1.isSet(`lquote`)||r$1.lquote!==`"`||(r$1.lquote=``),i$1.isSet(`rquote`)||r$1.rquote!==`"`||(r$1.rquote=``)),this.childNodes.unshift(this.createText(r$1.lquote)),this.childNodes.push(this.createText(r$1.rquote))}}}let Zl=function(){var t$1;let e$1=Ql(Ul);return(t$1=class extends e$1{}).kind=Xr.prototype.kind,t$1}();function th(t$1){var e$1;return e$1=class extends t$1{constructor(){super(...arguments),this.breakPoints=[]}textWidth(t$2){let e$2=this.textNode;if(!e$2){let t$3=this.node.factory.create(`text`);t$3.parent=this.node,e$2=this.textNode=this.factory.wrap(t$3),e$2.parent=this}return e$2.node.setText(t$2),e$2.invalidateBBox(!1),e$2.getBBox().w}get breakCount(){return this.breakPoints.length}getVariant(){let t$2=this.jax.options,e$2=this.jax.math.outputData,s$1=(!!e$2.merrorFamily||!!t$2.merrorFont)&&this.node.Parent.isKind(`merror`);if(e$2.mtextFamily||t$2.mtextFont||s$1){let i$1=this.node.attributes.get(`mathvariant`),r$1=this.constructor.INHERITFONTS[i$1]||this.jax.font.getCssFont(i$1),n$1=r$1[0]||(s$1?e$2.merrorFamily||t$2.merrorFont:e$2.mtextFamily||t$2.mtextFont);this.variant=this.explicitVariant(n$1,r$1[2]?`bold`:``,r$1[1]?`italic`:``)}else super.getVariant()}setBreakAt(t$2){this.breakPoints.push(t$2)}clearBreakPoints(){this.breakPoints=[]}computeLineBBox(t$2){let e$2=kl.from(this.getOuterBBox(),this.linebreakOptions.lineleading);return this.breakCount?(e$2.w=this.getBreakWidth(t$2),t$2===0?(e$2.R=0,this.addLeftBorders(e$2)):(e$2.L=0,e$2.indentData=[[`left`,`0`],[`left`,`0`],[`left`,`0`]],t$2===this.breakCount&&this.addRightBorders(e$2)),e$2):e$2}getBreakWidth(t$2){let e$2=this.childNodes,[s$1,i$1]=this.breakPoints[t$2-1]||[0,0],[r$1,n$1]=this.breakPoints[t$2]||[e$2.length,0],o$1=e$2[s$1].node.getText().split(/ /);if(s$1===r$1)return this.textWidth(o$1.slice(i$1,n$1).join(` `));let a$1=this.textWidth(o$1.slice(i$1).join(` `));for(;++s$1<r$1&&s$1<e$2.length;)a$1+=e$2[s$1].getBBox().w;return s$1<e$2.length&&(o$1=e$2[s$1].node.getText().split(/ /),a$1+=this.textWidth(o$1.slice(0,n$1).join(` `))),a$1}},e$1.INHERITFONTS={normal:[``,!1,!1],bold:[``,!1,!0],italic:[``,!0,!1],"bold-italic":[``,!0,!0]},e$1}let eh=function(){var t$1;let e$1=th(Ul);return(t$1=class extends e$1{toCHTML(t$2){if(!this.breakCount)return void super.toCHTML(t$2);let e$2=this.standardChtmlNodes(t$2),s$1=this.textNode.node,i$1=this.childNodes;for(let t$3 of e$2.keys()){let r$1=[e$2[t$3]];this.adaptor.append(e$2[t$3],this.html(`mjx-linestrut`));let[n$1,o$1]=this.breakPoints[t$3-1]||[0,0],[a$1,c$1]=this.breakPoints[t$3]||[i$1.length,0],l$1=i$1[n$1].node.getText().split(/ /);if(n$1!==a$1){for(s$1.setText(l$1.slice(o$1).join(` `)),this.textNode.toCHTML(r$1);++n$1<a$1&&n$1<i$1.length;)i$1[n$1].toCHTML(r$1);n$1<i$1.length&&(l$1=i$1[n$1].node.getText().split(/ /),s$1.setText(l$1.slice(0,c$1).join(` `)),this.textNode.toCHTML(r$1))}else s$1.setText(l$1.slice(o$1,c$1).join(` `)),this.textNode.toCHTML(r$1)}}}).kind=Wr.prototype.kind,t$1}();function sh(t$1){return class extends t$1{get canBreak(){return this.node.canBreak}get breakCount(){return this.breakStyle?1:0}setBreakStyle(t$2=``){this.breakStyle=t$2||(this.node.hasNewline||this.node.getProperty(`forcebreak`)?`before`:``)}constructor(t$2,e$1,s$1=null){super(t$2,e$1,s$1),this.setBreakStyle()}computeBBox(t$2,e$1=!1){let s$1=this.node.attributes;t$2.w=this.length2em(s$1.get(`width`),0),t$2.h=this.length2em(s$1.get(`height`),0),t$2.d=this.length2em(s$1.get(`depth`),0)}computeLineBBox(t$2){let e$1=this.node.attributes.get(`data-lineleading`),s$1=this.length2em(e$1,this.linebreakOptions.lineleading),i$1=kl.from(mo.zero(),s$1);return t$2===1&&(i$1.getIndentData(this.node),i$1.w=this.getBBox().w,i$1.isFirst=i$1.w===0),i$1}}}let ih=function(){var t$1;let e$1=sh(Ul);return(t$1=class extends e$1{toCHTML(t$2){t$2.length>1&&t$2.forEach((t$3=>this.adaptor.append(t$3,this.html(`mjx-linestrut`))));let e$2=this.standardChtmlNodes(t$2),{w:s$1,h:i$1,d:r$1}=this.getBBox();s$1<0&&(this.adaptor.setStyle(e$2[0],`marginRight`,this.em(s$1)),s$1=0),s$1&&!this.breakCount&&this.adaptor.setStyle(e$2[0],`width`,this.em(s$1)),i$1=Math.max(0,i$1+r$1),i$1&&this.adaptor.setStyle(e$2[0],`height`,this.em(Math.max(0,i$1))),r$1&&this.adaptor.setStyle(e$2[0],`verticalAlign`,this.em(-r$1))}}).kind=zr.prototype.kind,t$1}();function rh(t$1){return class extends t$1{getDimens(){let t$2=this.node.attributes.getList(`width`,`height`,`depth`,`lspace`,`voffset`),e$1=this.childNodes[0].getOuterBBox(),{w:s$1,h:i$1,d:r$1}=e$1,n$1=s$1,o$1=i$1,a$1=r$1,c$1=0,l$1=0,h$1=0;t$2.width!==``&&(s$1=this.dimen(t$2.width,e$1,`w`,0)),t$2.height!==``&&(i$1=this.dimen(t$2.height,e$1,`h`,0)),t$2.depth!==``&&(r$1=this.dimen(t$2.depth,e$1,`d`,0)),t$2.voffset!==``&&(l$1=this.dimen(t$2.voffset,e$1)),t$2.lspace!==``&&(c$1=this.dimen(t$2.lspace,e$1));let d$1=this.node.attributes.get(`data-align`);return d$1&&(h$1=this.getAlignX(s$1,e$1,d$1)),[o$1,a$1,n$1,i$1-o$1,r$1-a$1,s$1-n$1,c$1,l$1,h$1]}dimen(t$2,e$1,s$1=``,i$1=null){let r$1=(t$2=String(t$2)).match(/width|height|depth/),n$1=r$1?e$1[r$1[0].charAt(0)]:s$1?e$1[s$1]:0,o$1=this.length2em(t$2,n$1)||0;return t$2.match(/^[-+]/)&&s$1&&(o$1+=n$1),i$1!=null&&(o$1=Math.max(i$1,o$1)),o$1}setBBoxDimens(t$2){let[e$1,s$1,i$1,r$1,n$1,o$1]=this.getDimens();t$2.w=i$1+o$1,t$2.h=e$1+r$1,t$2.d=s$1+n$1}computeBBox(t$2,e$1=!1){if(this.setBBoxDimens(t$2),this.childNodes[0].getOuterBBox().w>t$2.w){let e$2=this.node.attributes.get(`data-overflow`);(e$2===`linebreak`||e$2===`auto`&&this.jax.math.root.attributes.get(`overflow`)===`linebreak`)&&(this.childNodes[0].breakToWidth(t$2.w),this.setBBoxDimens(t$2))}this.setChildPWidths(e$1,t$2.w)}getWrapWidth(t$2){return this.getBBox().w}getChildAlign(t$2){return this.node.attributes.get(`data-align`)||`left`}}}let nh=function(){var t$1;let e$1=rh(Ul);return(t$1=class extends e$1{toCHTML(t$2){if(this.toEmbellishedCHTML(t$2))return;let e$2=this.standardChtmlNodes(t$2),s$1=[],i$1={},[,,r$1,n$1,o$1,a$1,c$1,l$1,h$1]=this.getDimens();if((a$1||this.childNodes[0].getBBox().pwidth)&&(i$1.width=this.em(r$1+a$1)),(n$1||o$1)&&(i$1.margin=this.em(n$1)+` 0 `+this.em(o$1)),c$1+h$1||l$1){i$1.position=`relative`;let t$3=this.html(`mjx-rbox`,{style:{left:this.em(c$1+h$1),top:this.em(-l$1),"max-width":i$1.width}});c$1+h$1&&this.childNodes[0].getBBox().pwidth&&(this.adaptor.setAttribute(t$3,`width`,`full`),this.adaptor.setStyle(t$3,`left`,this.em(c$1))),s$1.push(t$3)}e$2=[this.adaptor.append(e$2[0],this.html(`mjx-block`,{style:i$1},s$1))],this.childNodes[0].childNodes.length?this.childNodes[0].toCHTML([s$1[0]||e$2[0]]):(n$1||o$1)&&this.adaptor.append(s$1[0]||e$2[0],this.html(`mjx-box`))}}).kind=Zr.prototype.kind,t$1.styles={"mjx-mpadded":{display:`inline-block`},"mjx-rbox":{display:`inline-block`,position:`relative`}},t$1}(),oh=4,ah=1,ch=2,lh=.067,hh=.2,dh=lh+`em solid`,uh={top:0,right:1,bottom:2,left:3},ph=Object.keys(uh),mh=t$1=>[,,,,].fill(t$1.thickness+t$1.padding),fh=t$1=>[,,,,].fill(t$1.padding),gh=t$1=>[,,,,].fill(t$1.thickness),bh=t$1=>Math.max(t$1.padding,t$1.thickness*(t$1.arrowhead.x+t$1.arrowhead.dx+1)),Eh=(t$1,e$1)=>{if(t$1.childNodes[0]){let{h:s$1,d:i$1}=t$1.childNodes[0].getBBox();e$1[0]=e$1[2]=Math.max(0,t$1.thickness*t$1.arrowhead.y-(s$1+i$1)/2)}return e$1},Nh=(t$1,e$1)=>{if(t$1.childNodes[0]){let{w:s$1}=t$1.childNodes[0].getBBox();e$1[1]=e$1[3]=Math.max(0,t$1.thickness*t$1.arrowhead.y-s$1/2)}return e$1},yh={up:[-Math.PI/2,!1,!0,`verticalstrike`],down:[Math.PI/2,!1,!0,`verticakstrike`],right:[0,!1,!1,`horizontalstrike`],left:[Math.PI,!1,!1,`horizontalstrike`],updown:[Math.PI/2,!0,!0,`verticalstrike uparrow downarrow`],leftright:[0,!0,!1,`horizontalstrike leftarrow rightarrow`]},xh={updiagonal:[-1,0,!1,`updiagonalstrike northeastarrow`],northeast:[-1,0,!1,`updiagonalstrike updiagonalarrow`],southeast:[1,0,!1,`downdiagonalstrike`],northwest:[1,Math.PI,!1,`downdiagonalstrike`],southwest:[-1,Math.PI,!1,`updiagonalstrike`],northeastsouthwest:[-1,0,!0,`updiagonalstrike northeastarrow updiagonalarrow southwestarrow`],northwestsoutheast:[1,0,!0,`downdiagonalstrike northwestarrow southeastarrow`]},vh={up:t$1=>Nh(t$1,[bh(t$1),0,t$1.padding,0]),down:t$1=>Nh(t$1,[t$1.padding,0,bh(t$1),0]),right:t$1=>Eh(t$1,[0,bh(t$1),0,t$1.padding]),left:t$1=>Eh(t$1,[0,t$1.padding,0,bh(t$1)]),updown:t$1=>Nh(t$1,[bh(t$1),0,bh(t$1),0]),leftright:t$1=>Eh(t$1,[0,bh(t$1),0,bh(t$1)])},Ch=function(t$1){return e$1=>{let s$1=uh[e$1];return[e$1,{renderer:t$1,bbox:t$2=>{let e$2=[0,0,0,0];return e$2[s$1]=t$2.thickness+t$2.padding,e$2},border:t$2=>{let e$2=[0,0,0,0];return e$2[s$1]=t$2.thickness,e$2}}]}},Th=function(t$1){return(e$1,s$1,i$1)=>{let r$1=uh[s$1],n$1=uh[i$1];return[e$1,{renderer:t$1,bbox:t$2=>{let e$2=t$2.thickness+t$2.padding,s$2=[0,0,0,0];return s$2[r$1]=s$2[n$1]=e$2,s$2},border:t$2=>{let e$2=[0,0,0,0];return e$2[r$1]=e$2[n$1]=t$2.thickness,e$2},remove:s$1+` `+i$1}]}},wh=function(t$1){return e$1=>{let s$1=`mjx-`+e$1.charAt(0)+`strike`;return[e$1+`diagonalstrike`,{renderer:t$1(s$1),bbox:mh}]}},_h=function(t$1){return e$1=>{let[s$1,i$1,r$1,n$1]=xh[e$1];return[e$1+`arrow`,{renderer:(e$2,n$2)=>{let[o$1,a$1]=e$2.arrowAW();t$1(e$2,e$2.arrow(a$1,s$1*(o$1-i$1),r$1))},bbox:t$2=>{let{a:e$2,x:s$2,y:i$2}=t$2.arrowData(),[r$2,n$2,o$1]=[t$2.arrowhead.x,t$2.arrowhead.y,t$2.arrowhead.dx],[a$1,c$1]=t$2.getArgMod(r$2+o$1,n$2),l$1=i$2+(a$1>e$2?t$2.thickness*c$1*Math.sin(a$1-e$2):0),h$1=s$2+(a$1>Math.PI/2-e$2?t$2.thickness*c$1*Math.sin(a$1+e$2-Math.PI/2):0);return[l$1,h$1,l$1,h$1]},remove:n$1}]}},kh=function(t$1){return e$1=>{let[s$1,i$1,r$1,n$1]=yh[e$1];return[e$1+`arrow`,{renderer:(e$2,n$2)=>{let{w:o$1,h:a$1,d:c$1}=e$2.getBBox(),[l$1,h$1]=r$1?[a$1+c$1,`X`]:[o$1,`Y`],d$1=e$2.getOffset(h$1);t$1(e$2,e$2.arrow(l$1,s$1,i$1,h$1,d$1))},bbox:vh[e$1],remove:n$1}]}};function Ah(t$1){return class extends t$1{getParameters(){let t$2=this.node.attributes,e$1=t$2.get(`data-padding`);e$1!==void 0&&(this.padding=this.length2em(e$1,hh));let s$1=t$2.get(`data-thickness`);s$1!==void 0&&(this.thickness=this.length2em(s$1,lh));let i$1=t$2.get(`data-arrowhead`);if(i$1!==void 0){let[t$3,e$2,s$2]=jr(i$1);this.arrowhead={x:t$3?parseFloat(t$3):4,y:e$2?parseFloat(e$2):2,dx:s$2?parseFloat(s$2):1}}}getNotations(){let t$2=this.constructor.notations;for(let e$1 of jr(this.node.attributes.get(`notation`))){let s$1=t$2.get(e$1);s$1&&(this.notations[e$1]=s$1,s$1.renderChild&&(this.renderChild=s$1.renderer))}}removeRedundantNotations(){for(let t$2 of Object.keys(this.notations))if(this.notations[t$2]){let e$1=this.notations[t$2].remove||``;for(let t$3 of e$1.split(/ /))delete this.notations[t$3]}}initializeNotations(){for(let t$2 of Object.keys(this.notations)){let e$1=this.notations[t$2].init;e$1&&e$1(this)}}getBBoxExtenders(){let t$2=[0,0,0,0];for(let e$1 of Object.keys(this.notations))this.maximizeEntries(t$2,this.notations[e$1].bbox(this));return t$2}getPadding(){let t$2=[0,0,0,0];for(let e$1 of Object.keys(this.notations)){let s$1=this.notations[e$1].border;s$1&&this.maximizeEntries(t$2,s$1(this))}return[0,1,2,3].map((e$1=>this.TRBL[e$1]-t$2[e$1]))}maximizeEntries(t$2,e$1){for(let s$1=0;s$1<t$2.length;s$1++)t$2[s$1]<e$1[s$1]&&(t$2[s$1]=e$1[s$1])}getOffset(t$2){let[e$1,s$1,i$1,r$1]=this.TRBL,n$1=(t$2===`X`?s$1-r$1:i$1-e$1)/2;return Math.abs(n$1)>.001?n$1:0}getArgMod(t$2,e$1){return[Math.atan2(e$1,t$2),Math.sqrt(t$2*t$2+e$1*e$1)]}arrow(t$2,e$1,s$1,i$1=``,r$1=0){return null}arrowData(){let[t$2,e$1]=[this.padding,this.thickness],s$1=e$1*(this.arrowhead.x+Math.max(1,this.arrowhead.dx)),{h:i$1,d:r$1,w:n$1}=this.childNodes[0].getBBox(),o$1=i$1+r$1,a$1=Math.sqrt(o$1*o$1+n$1*n$1),c$1=Math.max(t$2,s$1*n$1/a$1),l$1=Math.max(t$2,s$1*o$1/a$1),[h$1,d$1]=this.getArgMod(n$1+2*c$1,o$1+2*l$1);return{a:h$1,W:d$1,x:c$1,y:l$1}}arrowAW(){let{h:t$2,d:e$1,w:s$1}=this.childNodes[0].getBBox(),[i$1,r$1,n$1,o$1]=this.TRBL;return this.getArgMod(o$1+s$1+r$1,i$1+t$2+e$1+n$1)}createMsqrt(t$2){let e$1=this.node.factory.create(`msqrt`);e$1.inheritAttributesFrom(this.node),e$1.childNodes[0]=t$2.node;let s$1=this.wrap(e$1);return s$1.parent=this,s$1}sqrtTRBL(){let t$2=this.msqrt.getBBox(),e$1=this.msqrt.childNodes[0].getBBox();return[t$2.h-e$1.h,0,t$2.d-e$1.d,t$2.w-e$1.w]}constructor(t$2,e$1,s$1=null){super(t$2,e$1,s$1),this.notations={},this.renderChild=null,this.msqrt=null,this.padding=hh,this.thickness=lh,this.arrowhead={x:4,y:2,dx:1},this.TRBL=[0,0,0,0],this.getParameters(),this.getNotations(),this.removeRedundantNotations(),this.initializeNotations(),this.TRBL=this.getBBoxExtenders()}computeBBox(t$2,e$1=!1){let[s$1,i$1,r$1,n$1]=this.TRBL,o$1=this.childNodes[0].getBBox();t$2.combine(o$1,n$1,0),t$2.h+=s$1,t$2.d+=r$1,t$2.w+=i$1,this.setChildPWidths(e$1)}}}let Lh=function(t$1,e$1=``){return(s$1,i$1)=>{let r$1=s$1.adjustBorder(s$1.html(`mjx-`+t$1));if(e$1){let t$2=s$1.getOffset(e$1);if(s$1.thickness!==lh||t$2){let i$2=`translate${e$1}(${s$1.Em(s$1.thickness/2-t$2)})`;s$1.adaptor.setStyle(r$1,`transform`,i$2)}}s$1.adaptor.append(s$1.dom[0],r$1)}},Mh=function(t$1){return Ch(((e$1,s$1)=>{e$1.adaptor.setStyle(s$1,`border-`+t$1,e$1.Em(e$1.thickness)+` solid`)}))(t$1)},Ih=function(t$1,e$1,s$1){return Th(((t$2,i$1)=>{let r$1=t$2.Em(t$2.thickness)+` solid`;t$2.adaptor.setStyle(i$1,`border-`+e$1,r$1),t$2.adaptor.setStyle(i$1,`border-`+s$1,r$1)}))(t$1,e$1,s$1)},Sh=function(t$1,e$1){return wh((t$2=>(s$1,i$1)=>{let{w:r$1,h:n$1,d:o$1}=s$1.getBBox(),[a$1,c$1]=s$1.getArgMod(r$1,n$1+o$1),l$1=e$1*s$1.thickness/2,h$1=s$1.adjustBorder(s$1.html(t$2,{style:{width:s$1.Em(c$1),transform:`rotate(`+s$1.fixed(-e$1*a$1)+`rad) translateY(`+l$1+`em)`}}));s$1.adaptor.append(s$1.dom[0],h$1)}))(t$1)},Rh=function(t$1){return _h(((t$2,e$1)=>{t$2.adaptor.append(t$2.dom[0],e$1)}))(t$1)},Oh=function(t$1){return kh(((t$2,e$1)=>{t$2.adaptor.append(t$2.dom[0],e$1)}))(t$1)};function Dh(t$1,e$1){return Math.atan2(t$1,e$1).toFixed(3).replace(/\.?0+$/,``)}let Ph=Dh(1,2),Bh=function(){var t$1;let e$1=Ah(Ul);return(t$1=class extends e$1{adjustArrow(t$2,e$2){let s$1=this.thickness,i$1=this.arrowhead;if(i$1.x===4&&i$1.y===2&&i$1.dx===1&&s$1===lh)return;let[r$1,n$1]=[s$1*i$1.x,s$1*i$1.y].map((t$3=>this.em(t$3))),o$1=Dh(i$1.dx,i$1.y),[a$1,c$1,l$1,h$1,d$1]=this.adaptor.childNodes(t$2);this.adjustHead(c$1,[n$1,`0`,`1px`,r$1],o$1),this.adjustHead(l$1,[`1px`,`0`,n$1,r$1],`-`+o$1),this.adjustHead(h$1,[n$1,r$1,`1px`,`0`],`-`+o$1),this.adjustHead(d$1,[`1px`,r$1,n$1,`0`],o$1),this.adjustLine(a$1,s$1,i$1.x,e$2)}adjustHead(t$2,e$2,s$1){t$2&&(this.adaptor.setStyle(t$2,`border-width`,e$2.join(` `)),this.adaptor.setStyle(t$2,`transform`,`skewX(`+s$1+`rad)`))}adjustLine(t$2,e$2,s$1,i$1){this.adaptor.setStyle(t$2,`borderTop`,this.em(e$2)+` solid`),this.adaptor.setStyle(t$2,`top`,this.em(-e$2/2)),this.adaptor.setStyle(t$2,`right`,this.em(e$2*(s$1-1))),i$1&&this.adaptor.setStyle(t$2,`left`,this.em(e$2*(s$1-1)))}moveArrow(t$2,e$2,s$1){if(!s$1)return;let i$1=this.adaptor.getStyle(t$2,`transform`);this.adaptor.setStyle(t$2,`transform`,`translate${e$2}(${this.em(-s$1)})${i$1?` `+i$1:``}`)}adjustBorder(t$2){return this.thickness!==lh&&this.adaptor.setStyle(t$2,`borderWidth`,this.em(this.thickness)),t$2}adjustThickness(t$2){return this.thickness!==lh&&this.adaptor.setStyle(t$2,`strokeWidth`,this.fixed(this.thickness)),t$2}fixed(t$2,e$2=3){return Math.abs(t$2)<6e-4?`0`:t$2.toFixed(e$2).replace(/\.?0+$/,``)}Em(t$2){return super.em(t$2)}toCHTML(t$2){let e$2=this.adaptor,s$1=this.standardChtmlNodes(t$2),i$1=e$2.append(s$1[0],this.html(`mjx-box`));this.renderChild?this.renderChild(this,i$1):this.childNodes[0].toCHTML([i$1]);for(let t$3 of Object.keys(this.notations)){let e$3=this.notations[t$3];e$3.renderChild||e$3.renderer(this,i$1)}let r$1=this.getPadding();for(let t$3 of ph){let s$2=uh[t$3];r$1[s$2]>0&&e$2.setStyle(i$1,`padding-`+t$3,this.em(r$1[s$2]))}}arrow(t$2,e$2,s$1,i$1=``,r$1=0){let n$1=this.getBBox().w,o$1={width:this.em(t$2)};n$1!==t$2&&(o$1.left=this.em((n$1-t$2)/2)),e$2&&(o$1.transform=`rotate(`+this.fixed(e$2)+`rad)`);let a$1=this.html(`mjx-arrow`,{style:o$1},[this.html(`mjx-aline`),this.html(`mjx-rthead`),this.html(`mjx-rbhead`)]);return s$1&&(this.adaptor.append(a$1,this.html(`mjx-lthead`)),this.adaptor.append(a$1,this.html(`mjx-lbhead`)),this.adaptor.setAttribute(a$1,`double`,`true`)),this.adjustArrow(a$1,s$1),this.moveArrow(a$1,i$1,r$1),a$1}}).kind=sn.prototype.kind,t$1.styles={"mjx-menclose":{position:`relative`},"mjx-menclose > mjx-dstrike":{display:`inline-block`,left:0,top:0,position:`absolute`,"border-top":dh,"transform-origin":`top left`},"mjx-menclose > mjx-ustrike":{display:`inline-block`,left:0,bottom:0,position:`absolute`,"border-top":dh,"transform-origin":`bottom left`},"mjx-menclose > mjx-hstrike":{"border-top":dh,position:`absolute`,left:0,right:0,bottom:`50%`,transform:`translateY(`+uo(lh/2)+`)`},"mjx-menclose > mjx-vstrike":{"border-left":dh,position:`absolute`,top:0,bottom:0,right:`50%`,transform:`translateX(`+uo(lh/2)+`)`},"mjx-menclose > mjx-rbox":{position:`absolute`,top:0,bottom:0,right:0,left:0,border:dh,"border-radius":uo(lh+hh)},"mjx-menclose > mjx-cbox":{position:`absolute`,top:0,bottom:0,right:0,left:0,border:dh,"border-radius":`50%`},"mjx-menclose > mjx-arrow":{position:`absolute`,left:0,bottom:`50%`,height:0,width:0},"mjx-menclose > mjx-arrow > *":{display:`block`,position:`absolute`,"transform-origin":`bottom`,"border-left":uo(lh*4)+` solid`,"border-right":0,"box-sizing":`border-box`},"mjx-menclose > mjx-arrow > mjx-aline":{left:0,top:uo(-lh/2),right:uo(lh*3),height:0,"border-top":uo(lh)+` solid`,"border-left":0},"mjx-menclose > mjx-arrow[double] > mjx-aline":{left:uo(lh*3),height:0},"mjx-menclose > mjx-arrow > mjx-rthead":{transform:`skewX(`+Ph+`rad)`,right:0,bottom:`-1px`,"border-bottom":`1px solid transparent`,"border-top":uo(lh*2)+` solid transparent`},"mjx-menclose > mjx-arrow > mjx-rbhead":{transform:`skewX(-`+Ph+`rad)`,"transform-origin":`top`,right:0,top:`-1px`,"border-top":`1px solid transparent`,"border-bottom":uo(lh*2)+` solid transparent`},"mjx-menclose > mjx-arrow > mjx-lthead":{transform:`skewX(-`+Ph+`rad)`,left:0,bottom:`-1px`,"border-left":0,"border-right":uo(lh*4)+` solid`,"border-bottom":`1px solid transparent`,"border-top":uo(lh*2)+` solid transparent`},"mjx-menclose > mjx-arrow > mjx-lbhead":{transform:`skewX(`+Ph+`rad)`,"transform-origin":`top`,left:0,top:`-1px`,"border-left":0,"border-right":uo(lh*4)+` solid`,"border-top":`1px solid transparent`,"border-bottom":uo(lh*2)+` solid transparent`},"mjx-menclose > mjx-dbox-top":{position:`absolute`,top:0,bottom:`50%`,left:0,width:uo(1.5*hh),border:uo(lh)+` solid`,"border-style":`solid solid none none`,"border-radius":`0 100% 0 0`,"box-sizing":`border-box`},"mjx-menclose > mjx-dbox-bot":{position:`absolute`,top:`50%`,bottom:0,left:0,width:uo(1.5*hh),"border-width":uo(lh),"border-style":`none solid solid none`,"border-radius":`0 0 100% 0`,"box-sizing":`border-box`}},t$1.notations=new Map([Mh(`top`),Mh(`right`),Mh(`bottom`),Mh(`left`),Ih(`actuarial`,`top`,`right`),Ih(`madruwb`,`bottom`,`right`),Sh(`up`,1),Sh(`down`,-1),[`horizontalstrike`,{renderer:Lh(`hstrike`,`Y`),bbox:t$2=>[0,t$2.padding,0,t$2.padding]}],[`verticalstrike`,{renderer:Lh(`vstrike`,`X`),bbox:t$2=>[t$2.padding,0,t$2.padding,0]}],[`box`,{renderer:(t$2,e$2)=>{t$2.adaptor.setStyle(e$2,`border`,t$2.Em(t$2.thickness)+` solid`)},bbox:mh,border:gh,remove:`left right top bottom`}],[`roundedbox`,{renderer:Lh(`rbox`),bbox:mh}],[`circle`,{renderer:Lh(`cbox`),bbox:mh}],[`phasorangle`,{renderer:(t$2,e$2)=>{let{h:s$1,d:i$1}=t$2.getBBox(),[r$1,n$1]=t$2.getArgMod(1.75*t$2.padding,s$1+i$1),o$1=t$2.thickness*Math.sin(r$1)*.9;t$2.adaptor.setStyle(e$2,`border-bottom`,t$2.Em(t$2.thickness)+` solid`);let a$1=t$2.adjustBorder(t$2.html(`mjx-ustrike`,{style:{width:t$2.Em(n$1),transform:`translateX(${t$2.Em(o$1)}) rotate(${t$2.fixed(-r$1)}rad)`}}));t$2.adaptor.append(t$2.dom[0],a$1)},bbox:t$2=>{let e$2=t$2.padding/2,s$1=t$2.thickness;return[2*e$2,e$2,e$2+s$1,3*e$2+s$1]},border:t$2=>[0,0,t$2.thickness,0],remove:`bottom`}],Oh(`up`),Oh(`down`),Oh(`left`),Oh(`right`),Oh(`updown`),Oh(`leftright`),Rh(`updiagonal`),Rh(`northeast`),Rh(`southeast`),Rh(`northwest`),Rh(`southwest`),Rh(`northeastsouthwest`),Rh(`northwestsoutheast`),[`longdiv`,{renderer:(t$2,e$2)=>{let s$1=t$2.adaptor;s$1.setStyle(e$2,`border-top`,t$2.Em(t$2.thickness)+` solid`);let i$1=s$1.append(t$2.dom[0],t$2.html(`mjx-dbox-top`)),r$1=s$1.append(t$2.dom[0],t$2.html(`mjx-dbox-bot`)),n$1=t$2.thickness,o$1=t$2.padding;n$1!==lh&&(s$1.setStyle(i$1,`border-width`,t$2.Em(n$1)),s$1.setStyle(r$1,`border-width`,t$2.Em(n$1))),o$1!==hh&&(s$1.setStyle(i$1,`width`,t$2.Em(1.5*o$1)),s$1.setStyle(r$1,`width`,t$2.Em(1.5*o$1)))},bbox:t$2=>{let e$2=t$2.padding,s$1=t$2.thickness;return[e$2+s$1,e$2,e$2,2*e$2+s$1/2]}}],[`radical`,{renderer:(t$2,e$2)=>{t$2.msqrt.toCHTML([e$2]);let s$1=t$2.sqrtTRBL();t$2.adaptor.setStyle(t$2.msqrt.dom[0],`margin`,s$1.map((e$3=>t$2.Em(-e$3))).join(` `))},init:t$2=>{t$2.msqrt=t$2.createMsqrt(t$2.childNodes[0])},bbox:t$2=>t$2.sqrtTRBL(),renderChild:!0}]]),t$1}();function Fh(t$1){return class extends t$1{stretchChildren(){let t$2=[];for(let e$2 of this.childNodes)e$2.canStretch(yl.Vertical)&&t$2.push(e$2);let e$1=t$2.length,s$1=this.childNodes.length;if(e$1&&s$1>1){let i$1=0,r$1=0,n$1=e$1>1&&e$1===s$1;for(let t$3 of this.childNodes){let e$2=t$3.stretch.dir===yl.None;if(n$1||e$2){let e$3=t$3.getBBox().rscale,[s$2,n$2]=t$3.getUnbrokenHD();s$2*=e$3,n$2*=e$3,s$2>i$1&&(i$1=s$2),n$2>r$1&&(r$1=n$2)}}for(let e$2 of t$2){let t$3=e$2.coreRScale();e$2.coreMO().getStretchedVariant([i$1/t$3,r$1/t$3])}}}get fixesPWidth(){return!1}get breakCount(){return this._breakCount<0&&(this._breakCount=this.childNodes.length?this.childNodes.reduce(((t$2,e$1)=>t$2+e$1.breakCount),0):0),this._breakCount}breakTop(t$2,e$1){let s$1=this;return this.isStack?this.parent.breakTop(s$1,s$1):s$1}constructor(t$2,e$1,s$1=null){super(t$2,e$1,s$1),this.dh=0;let i$1=this;this.isStack=!this.parent||this.parent.node.isInferred||this.parent.breakTop(i$1,i$1)!==i$1,this.stretchChildren();for(let t$3 of this.childNodes)if(t$3.bbox.pwidth){this.bbox.pwidth=mo.fullWidth;break}}computeBBox(t$2,e$1=!1){let s$1=this.breakCount;this.lineBBox=s$1?[new kl({h:.75,d:.25,w:0},[0,0])]:[],t$2.empty();for(let e$2 of this.childNodes.keys()){let i$1=this.childNodes[e$2];t$2.append(i$1.getOuterBBox()),s$1&&this.computeChildLineBBox(i$1,e$2)}t$2.clean(),s$1&&!this.coreMO().node.isEmbellished&&this.computeLinebreakBBox(t$2),this.fixesPWidth&&this.setChildPWidths(e$1)&&this.computeBBox(t$2,!0),this.vboxAdjust(t$2)}computeLinebreakBBox(t$2){var e$1;t$2.empty();let s$1=this.isStack,i$1=this.lineBBox,r$1=i$1.length-1;if(s$1)for(let t$3 of i$1.keys()){let e$2=i$1[t$3];this.addMiddleBorders(e$2),t$3===0&&this.addLeftBorders(e$2),t$3===r$1&&this.addRightBorders(e$2)}let n$1=0;for(let s$2 of i$1.keys()){let r$2=i$1[s$2];t$2.combine(r$2,0,n$1),n$1-=Math.max(.25,r$2.d)+r$2.lineLeading+Math.max(.75,i$1[s$2+1]?.h||0)}s$1?(i$1[0].L=this.bbox.L,i$1[r$1].R=this.bbox.R):(t$2.w=Math.max(...this.lineBBox.map((t$3=>t$3.w))),this.shiftLines(t$2.w),this.jax.math.display||this.linebreakOptions.inline||(t$2.pwidth=mo.fullWidth,this.node.isInferred&&(this.parent.bbox.pwidth=mo.fullWidth))),t$2.clean()}vboxAdjust(t$2){if(!this.parent)return;let e$1=this.breakCount,s$1=this.parent.node.attributes.get(`data-vertical-align`);if(e$1&&s$1===`bottom`)this.dh=e$1?t$2.d-this.lineBBox[e$1-1].d:0;else{if(!(s$1===`center`||e$1&&s$1===`middle`))return void(this.dh=0);{let{h:e$2,d:s$2}=t$2,i$1=this.font.params.axis_height;this.dh=(e$2+s$2)/2+i$1-e$2}}t$2.h+=this.dh,t$2.d-=this.dh}computeChildLineBBox(t$2,e$1){let s$1=this.lineBBox[this.lineBBox.length-1];s$1.end=[e$1,0],s$1.append(t$2.getLineBBox(0));let i$1=t$2.breakCount+1;if(i$1!==1)for(let s$2=1;s$2<i$1;s$2++){let i$2=new kl({h:.75,d:.25,w:0});i$2.start=i$2.end=[e$1,s$2],i$2.isFirst=!0,i$2.append(t$2.getLineBBox(s$2)),this.lineBBox.push(i$2)}}getLineBBox(t$2){return this.getBBox(),this.isStack?super.getLineBBox(t$2):kl.from(this.getOuterBBox(),this.linebreakOptions.lineleading)}shiftLines(t$2){var e$1,s$1;let i$1=this.lineBBox,r$1=i$1.length-1,[n$1,o$1]=i$1[1].indentData?.[0]||[`left`,`0`];for(let e$2 of i$1.keys()){let a$1=i$1[e$2],[c$1,l$1]=e$2===0?[n$1,o$1]:a$1.indentData?.[e$2===r$1?2:1]||[`left`,`0`],[h$1,d$1]=this.processIndent(c$1,l$1,n$1,o$1,t$2);a$1.L=0,a$1.L=this.getAlignX(t$2,a$1,h$1)+d$1}}setChildPWidths(t$2,e$1=null,s$1=!0){return this.breakCount?!t$2&&(e$1!==null&&this.bbox.w!==e$1&&(this.bbox.w=e$1,this.shiftLines(e$1)),!0):super.setChildPWidths(t$2,e$1,s$1)}breakToWidth(t$2){this.linebreaks.breakToWidth(this,t$2)}}}function jh(t$1){return class extends t$1{getScale(){this.bbox.scale=this.parent.bbox.scale,this.bbox.rscale=1}}}let Uh=function(){var t$1;let e$1=Fh(Ul);return t$1=class extends e$1{constructor(){super(...arguments),this.linebreakCount=0}toCHTML(t$2){let e$2=this.linebreakCount=this.isStack?0:this.breakCount;e$2||!this.node.isInferred?t$2=this.standardChtmlNodes(t$2):this.dom=t$2,this.addChildren(t$2),e$2?this.placeLines(t$2,e$2):(this.handleVerticalAlign(t$2[0]),this.handleNegativeWidth(t$2[0]))}placeLines(t$2,e$2){var s$1,i$1;this.getBBox();let r$1=this.lineBBox,n$1=this.adaptor,[o$1,a$1]=r$1[1].indentData?.[0]||[`left`,`0`];for(let s$2 of t$2.keys()){let c$1=r$1[s$2],[l$1,h$1]=s$2===0?[o$1,a$1]:c$1.indentData?.[s$2===e$2?2:1]||[`left`,`0`],[d$1,u$1]=this.processIndent(l$1,h$1,o$1,a$1);n$1.setAttribute(t$2[s$2],`align`,d$1),u$1&&(n$1.setStyle(t$2[s$2],`position`,`relative`),n$1.setStyle(t$2[s$2],`left`,this.em(u$1))),s$2<e$2&&this.jax.math.display&&n$1.setStyle(t$2[s$2],`margin-bottom`,this.em(c$1.lineLeading))}}handleVerticalAlign(t$2){this.dh&&this.adaptor.setStyle(this.adaptor.parent(t$2),`vertical-align`,this.em(this.dh))}handleNegativeWidth(t$2){let{w:e$2}=this.getBBox();e$2<0&&(this.adaptor.setStyle(t$2,`width`,this.em(Math.max(0,e$2))),this.adaptor.setStyle(t$2,`marginRight`,this.em(e$2)))}createChtmlNodes(t$2){let e$2=this.linebreakCount;if(!e$2)return super.createChtmlNodes(t$2);let s$1=this.adaptor,i$1=this.node.isInferred?`mjx-linestack`:`mjx-`+this.node.kind;if(this.dom=[s$1.append(t$2[0],this.html(i$1))],i$1!==`mjx-mrow`||this.isStack||s$1.setAttribute(this.dom[0],`break-top`,`true`),this.node.getProperty(`process-breaks`)&&s$1.setAttribute(this.dom[0],`breakable`,`true`),this.node.isInferred||!this.isStack){let t$3=this.parent.node.attributes.get(`data-vertical-align`);t$3!==`middle`&&t$3!==`center`&&t$3!==`bottom`||s$1.setAttribute(this.dom[0],`break-align`,t$3)}this.dom=[s$1.append(this.handleHref(t$2)[0],this.dom[0])];let r$1=Array(e$2);for(let t$3=0;t$3<=e$2;t$3++)r$1[t$3]=s$1.append(this.dom[0],this.html(`mjx-linebox`,{lineno:t$3}));return r$1}addChildren(t$2){let e$2=0;for(let s$1 of this.childNodes){let i$1=s$1.breakCount;s$1.toCHTML(t$2.slice(e$2,e$2+i$1+1)),e$2+=i$1}}},t$1.kind=Vr.prototype.kind,t$1.styles={"mjx-linestack, mjx-mrow[break-top]":{display:`inline-table`,width:`100%`},'mjx-linestack[break-align="bottom"], mjx-mrow[break-top][break-align="bottom"]':{display:`inline-block`},'mjx-linestack[break-align="middle"], mjx-mrow[break-top][break-align="middle"]':{"vertical-align":`middle`},'mjx-linestack[break-align="center"], mjx-mrow[break-top][break-align="center"]':{"vertical-align":`middle`},"mjx-linestack[breakable]":{display:`inline`},"mjx-linestack[breakable] > mjx-linebox":{display:`inline`},"mjx-linestack[breakable] > mjx-linebox::before":{"white-space":`pre`,content:`"\\A"`},"mjx-linestack[breakable] > mjx-linebox::after":{"white-space":`normal`,content:`" "`,"letter-spacing":`-.999em`,"font-family":`MJX-BRK`},"mjx-linestack[breakable] > mjx-linebox:first-of-type::before":{display:`none`},"mjx-linestack[breakable] > mjx-linebox:last-of-type::after":{display:`none`},"mjx-linebox":{display:`block`},'mjx-linebox[align="left"]':{"text-align":`left`},'mjx-linebox[align="center"]':{"text-align":`center`},'mjx-linebox[align="right"]':{"text-align":`right`},"mjx-linestrut":{display:`inline-block`,height:`1em`,"vertical-align":`-.25em`}},t$1}(),qh=function(){var t$1;let e$1=jh(Uh);return(t$1=class extends e$1{}).kind=Gr.prototype.kind,t$1}();function Hh(t$1){return class extends t$1{createMrow(){let t$2=this.node.factory.create(`inferredMrow`);t$2.inheritAttributesFrom(this.node),this.mrow=this.wrap(t$2),this.mrow.parent=this}addMrowChildren(){let t$2=this.node,e$1=this.mrow;this.addMo(t$2.open),this.childNodes.length&&e$1.childNodes.push(this.childNodes[0]);let s$1=0;for(let i$1 of this.childNodes.slice(1))this.addMo(t$2.separators[s$1++]),e$1.childNodes.push(i$1);this.addMo(t$2.close),e$1.stretchChildren()}addMo(t$2){if(!t$2)return;let e$1=this.wrap(t$2);this.mrow.childNodes.push(e$1),e$1.parent=this.mrow}constructor(t$2,e$1,s$1=null){super(t$2,e$1,s$1),this.mrow=null,this.createMrow(),this.addMrowChildren()}computeBBox(t$2,e$1=!1){t$2.updateFrom(this.mrow.getOuterBBox()),this.setChildPWidths(e$1)}get breakCount(){return this.mrow.breakCount}computeLineBBox(t$2){return this.mrow.getLineBBox(t$2)}}}let Wh=function(){var t$1;let e$1=Hh(Ul);return(t$1=class extends e$1{toCHTML(t$2){let e$2=this.standardChtmlNodes(t$2);this.mrow.toCHTML(e$2)}}).kind=en.prototype.kind,t$1}();function zh(t$1){return class extends t$1{getFractionBBox(t$2,e$1,s$1){let i$1=this.childNodes[0].getOuterBBox(),r$1=this.childNodes[1].getOuterBBox(),n$1=this.font.params.axis_height,{T:o$1,u:a$1,v:c$1}=this.getTUV(e$1,s$1);t$2.combine(i$1,0,n$1+o$1+Math.max(i$1.d*i$1.rscale,a$1)),t$2.combine(r$1,0,n$1-o$1-Math.max(r$1.h*r$1.rscale,c$1)),t$2.w+=2*this.pad+.2}getTUV(t$2,e$1){let s$1=this.font.params,i$1=s$1.axis_height,r$1=(t$2?3.5:1.5)*e$1;return{T:(t$2?3.5:1.5)*e$1,u:(t$2?s$1.num1:s$1.num2)-i$1-r$1,v:(t$2?s$1.denom1:s$1.denom2)+i$1-r$1}}getAtopBBox(t$2,e$1){let{u:s$1,v:i$1,nbox:r$1,dbox:n$1}=this.getUVQ(e$1);t$2.combine(r$1,0,s$1),t$2.combine(n$1,0,-i$1),t$2.w+=2*this.pad}getUVQ(t$2){let e$1=this.childNodes[0].getOuterBBox(),s$1=this.childNodes[1].getOuterBBox(),i$1=this.font.params,[r$1,n$1]=t$2?[i$1.num1,i$1.denom1]:[i$1.num3,i$1.denom2],o$1=(t$2?7:3)*i$1.rule_thickness,a$1=r$1-e$1.d*e$1.scale-(s$1.h*s$1.scale-n$1);return a$1<o$1&&(r$1+=(o$1-a$1)/2,n$1+=(o$1-a$1)/2,a$1=o$1),{u:r$1,v:n$1,q:a$1,nbox:e$1,dbox:s$1}}getBevelledBBox(t$2,e$1){let{u:s$1,v:i$1,delta:r$1,nbox:n$1,dbox:o$1}=this.getBevelData(e$1),a$1=this.bevel.getOuterBBox();t$2.combine(n$1,0,s$1),t$2.combine(a$1,t$2.w-r$1/2,0),t$2.combine(o$1,t$2.w-r$1/2,i$1)}getBevelData(t$2){let e$1=this.childNodes[0].getOuterBBox(),s$1=this.childNodes[1].getOuterBBox(),i$1=t$2?.4:.15,r$1=Math.max(e$1.scale*(e$1.h+e$1.d),s$1.scale*(s$1.h+s$1.d))+2*i$1,n$1=this.font.params.axis_height;return{H:r$1,delta:i$1,u:e$1.scale*(e$1.d-e$1.h)/2+n$1+i$1,v:s$1.scale*(s$1.d-s$1.h)/2+n$1-i$1,nbox:e$1,dbox:s$1}}isDisplay(){let{displaystyle:t$2,scriptlevel:e$1}=this.node.attributes.getList(`displaystyle`,`scriptlevel`);return t$2&&e$1===0}constructor(t$2,e$1,s$1=null){if(super(t$2,e$1,s$1),this.bevel=null,this.pad=this.node.getProperty(`withDelims`)?0:this.font.params.nulldelimiterspace,this.node.attributes.get(`bevelled`)){let{H:t$3}=this.getBevelData(this.isDisplay()),e$2=this.bevel=this.createMo(`/`);e$2.node.attributes.set(`symmetric`,!0),e$2.canStretch(yl.Vertical),e$2.getStretchedVariant([t$3],!0)}}computeBBox(t$2,e$1=!1){t$2.empty();let{linethickness:s$1,bevelled:i$1}=this.node.attributes.getList(`linethickness`,`bevelled`),r$1=this.isDisplay(),n$1=null;if(i$1)this.getBevelledBBox(t$2,r$1);else{let e$2=this.length2em(String(s$1),.06);n$1=-2*this.pad,e$2===0?this.getAtopBBox(t$2,r$1):(this.getFractionBBox(t$2,r$1,e$2),n$1-=.2),n$1+=t$2.w}t$2.clean(),this.setChildPWidths(e$1,n$1)}canStretch(t$2){return!1}getChildAlign(t$2){let e$1=this.node.attributes;return e$1.get(`bevelled`)?`left`:e$1.get([`numalign`,`denomalign`][t$2])}getWrapWidth(t$2){let e$1=this.node.attributes;return e$1.get(`bevelled`)?this.childNodes[t$2].getOuterBBox().w:this.getBBox().w-(this.length2em(e$1.get(`linethickness`))?.2:0)-2*this.pad}}}let Xh=function(){var t$1;let e$1=zh(Ul);return(t$1=class extends e$1{toCHTML(t$2){if(this.toEmbellishedCHTML(t$2))return;this.standardChtmlNodes(t$2);let{linethickness:e$2,bevelled:s$1}=this.node.attributes.getList(`linethickness`,`bevelled`),i$1=this.isDisplay();if(s$1)this.makeBevelled(i$1);else{let t$3=this.length2em(String(e$2),.06);t$3===0?this.makeAtop(i$1):this.makeFraction(i$1,t$3)}}makeFraction(t$2,e$2){let{numalign:s$1,denomalign:i$1}=this.node.attributes.getList(`numalign`,`denomalign`),r$1=t$2?{type:`d`}:{},n$1=this.node.getProperty(`withDelims`)?Object.assign(Object.assign({},r$1),{delims:`true`}):Object.assign({},r$1),o$1=s$1===`center`?{}:{align:s$1},a$1=i$1===`center`?{}:{align:i$1},c$1=Object.assign({},r$1),l$1=Object.assign({},r$1),h$1=this.font.params;if(e$2!==.06){let s$2=h$1.axis_height,i$2=this.font.params.rule_factor,o$2=this.em(e$2),{T:a$2,u:d$2,v:u$2}=this.getTUV(t$2,e$2),p$1=(t$2?this.em(3*e$2):o$2)+` -.1em`;r$1.style={height:o$2,"border-top":this.em(e$2*i$2)+` solid`,margin:p$1};let m$1=this.em(Math.max(0,d$2));l$1.style={height:m$1,"vertical-align":`-`+m$1},c$1.style={height:this.em(Math.max(0,u$2))},n$1.style={"vertical-align":this.em(s$2-a$2)}}let d$1,u$1;this.adaptor.append(this.dom[0],this.html(`mjx-frac`,n$1,[d$1=this.html(`mjx-num`,o$1,[this.html(`mjx-nstrut`,l$1)]),this.html(`mjx-dbox`,{},[this.html(`mjx-dtable`,{},[this.html(`mjx-line`,r$1),this.html(`mjx-row`,{},[u$1=this.html(`mjx-den`,a$1,[this.html(`mjx-dstrut`,c$1)])])])])])),this.childNodes[0].toCHTML([d$1]),this.childNodes[1].toCHTML([u$1])}makeAtop(t$2){let{numalign:e$2,denomalign:s$1}=this.node.attributes.getList(`numalign`,`denomalign`),i$1=t$2?{type:`d`,atop:!0}:{atop:!0},r$1=this.node.getProperty(`withDelims`)?Object.assign(Object.assign({},i$1),{delims:!0}):Object.assign({},i$1),n$1=e$2===`center`?{}:{align:e$2},o$1=s$1===`center`?{}:{align:s$1},{v:a$1,q:c$1}=this.getUVQ(t$2),l$1,h$1;n$1.style={"padding-bottom":this.em(c$1)},r$1.style={"vertical-align":this.em(-a$1)},this.adaptor.append(this.dom[0],this.html(`mjx-frac`,r$1,[l$1=this.html(`mjx-num`,n$1),h$1=this.html(`mjx-den`,o$1)])),this.childNodes[0].toCHTML([l$1]),this.childNodes[1].toCHTML([h$1])}makeBevelled(t$2){let e$2=this.adaptor;e$2.setAttribute(this.dom[0],`bevelled`,`ture`);let s$1=e$2.append(this.dom[0],this.html(`mjx-num`));this.childNodes[0].toCHTML([s$1]),this.bevel.toCHTML(this.dom);let i$1=e$2.append(this.dom[0],this.html(`mjx-den`));this.childNodes[1].toCHTML([i$1]);let{u:r$1,v:n$1,delta:o$1,nbox:a$1,dbox:c$1}=this.getBevelData(t$2);r$1&&e$2.setStyle(s$1,`verticalAlign`,this.em(r$1/a$1.scale)),n$1&&e$2.setStyle(i$1,`verticalAlign`,this.em(n$1/c$1.scale));let l$1=this.em(-o$1/2);e$2.setStyle(this.bevel.dom[0],`marginLeft`,l$1),e$2.setStyle(this.bevel.dom[0],`marginRight`,l$1)}}).kind=Jr.prototype.kind,t$1.styles={"mjx-frac":{display:`inline-block`,"vertical-align":`0.17em`,padding:`0 .22em`},'mjx-frac[type="d"]':{"vertical-align":`.04em`},"mjx-frac[delims]":{padding:`0 .1em`},"mjx-frac[atop]":{padding:`0 .12em`},"mjx-frac[atop][delims]":{padding:`0`},"mjx-dtable":{display:`inline-table`,width:`100%`},"mjx-dtable > *":{"font-size":`2000%`},"mjx-dbox":{display:`block`,"font-size":`5%`},"mjx-num":{display:`block`,"text-align":`center`},"mjx-den":{display:`block`,"text-align":`center`},"mjx-mfrac[bevelled] > mjx-num":{display:`inline-block`},"mjx-mfrac[bevelled] > mjx-den":{display:`inline-block`},'mjx-den[align="right"], mjx-num[align="right"]':{"text-align":`right`},'mjx-den[align="left"], mjx-num[align="left"]':{"text-align":`left`},"mjx-nstrut":{display:`inline-block`,height:`.054em`,width:0,"vertical-align":`-.054em`},'mjx-nstrut[type="d"]':{height:`.217em`,"vertical-align":`-.217em`},"mjx-dstrut":{display:`inline-block`,height:`.505em`,width:0},'mjx-dstrut[type="d"]':{height:`.726em`},"mjx-line":{display:`block`,"box-sizing":`border-box`,"min-height":`1px`,height:`.06em`,"border-top":`.075em solid`,margin:`.06em -.1em`,overflow:`hidden`},'mjx-line[type="d"]':{margin:`.18em -.1em`}},t$1}();function Vh(t$1){return class extends t$1{get base(){return 0}get root(){return null}combineRootBBox(t$2,e$1,s$1){}getPQ(t$2){let e$1=this.font.params.rule_thickness,s$1=this.font.params.surd_height,i$1=this.node.attributes.get(`displaystyle`)?this.font.params.x_height:e$1;return[i$1,t$2.h+t$2.d>this.surdH?(t$2.h+t$2.d-(this.surdH-e$1-s$1-i$1/2))/2:s$1+i$1/4]}getRootDimens(t$2,e$1){return[0,0,0,0]}rootWidth(){return 1.25}getStretchedSurd(){let t$2=this.font.params.rule_thickness,e$1=this.font.params.surd_height,s$1=this.node.attributes.get(`displaystyle`)?this.font.params.x_height:t$2,{h:i$1,d:r$1}=this.childNodes[this.base].getOuterBBox();this.surdH=i$1+r$1+t$2+e$1+s$1/4,this.surd.getStretchedVariant([this.surdH-r$1,r$1],!0)}constructor(t$2,e$1,s$1=null){super(t$2,e$1,s$1),this.surd=this.createMo(``),this.surd.canStretch(yl.Vertical),this.getStretchedSurd()}computeBBox(t$2,e$1=!1){t$2.empty();let s$1=this.surd.getBBox(),i$1=new mo(this.childNodes[this.base].getOuterBBox()),r$1=this.getPQ(s$1)[1],n$1=this.font.params.rule_thickness,o$1=this.font.params.surd_height,a$1=i$1.h+r$1+n$1,[c$1]=this.getRootDimens(s$1,a$1);t$2.h=a$1+o$1,this.combineRootBBox(t$2,s$1,a$1),t$2.combine(s$1,c$1,a$1-s$1.h),t$2.combine(i$1,c$1+s$1.w,0),t$2.clean(),this.setChildPWidths(e$1)}invalidateBBox(){super.invalidateBBox(),this.surd.childNodes[0].invalidateBBox()}}}let Gh=function(){var t$1;let e$1=Vh(Ul);return t$1=class extends e$1{toCHTML(t$2){let e$2=this.surd,s$1=this.childNodes[this.base],i$1=e$2.getBBox(),r$1=s$1.getOuterBBox(),[,n$1]=this.getPQ(i$1),o$1=this.font.params.surd_height,a$1=r$1.h+n$1+o$1,c$1=this.adaptor,l$1=this.standardChtmlNodes(t$2),h$1,d$1,u$1,p$1;this.root!=null&&(u$1=c$1.append(l$1[0],this.html(`mjx-root`)),p$1=this.childNodes[this.root]);let m$1=c$1.append(l$1[0],this.html(`mjx-sqrt`,{},[h$1=this.html(`mjx-surd`),d$1=this.html(`mjx-box`,{style:{paddingTop:this.em(n$1)}})]));o$1!==.06&&c$1.setStyle(d$1,`border-top-width`,this.em(o$1*this.font.params.rule_factor)),this.addRoot(u$1,p$1,i$1,a$1),e$2.toCHTML([h$1]),s$1.toCHTML([d$1]),e$2.size<0&&c$1.addClass(m$1,`mjx-tall`)}addRoot(t$2,e$2,s$1,i$1){}},t$1.kind=Kr.prototype.kind,t$1.styles={"mjx-root":{display:`inline-block`,"white-space":`nowrap`},"mjx-surd":{display:`inline-block`,"vertical-align":`top`},"mjx-sqrt":{display:`inline-block`,"padding-top":`.075em`},"mjx-sqrt > mjx-box":{"border-top":`.075em solid`,"padding-left":`.03em`,"margin-left":`-.03em`},"mjx-sqrt.mjx-tall > mjx-box":{"padding-left":`.3em`,"margin-left":`-.3em`}},t$1}();function Jh(t$1){return class extends t$1{get root(){return 1}combineRootBBox(t$2,e$1,s$1){let i$1=this.childNodes[this.root].getOuterBBox(),r$1=this.getRootDimens(e$1,s$1)[1];t$2.combine(i$1,0,r$1)}getRootDimens(t$2,e$1){let s$1=this.surd,i$1=this.childNodes[this.root].getOuterBBox(),r$1=(s$1.size<0?.5:.6)*t$2.w,{w:n$1,rscale:o$1}=i$1,a$1=Math.max(n$1,r$1/o$1),c$1=Math.max(0,a$1-n$1);return[a$1*o$1-r$1,this.rootHeight(i$1,t$2,s$1.size,e$1),c$1]}rootHeight(t$2,e$1,s$1,i$1){let r$1=e$1.h+e$1.d;return(s$1<0?1.9:.55*r$1)-(r$1-i$1)+Math.max(0,t$2.d*t$2.rscale)}rootWidth(){let t$2=this.childNodes[this.root].getOuterBBox();return .4+t$2.w*t$2.rscale}}}let Kh=function(){var t$1;let e$1=Jh(Gh);return t$1=class extends e$1{addRoot(t$2,e$2,s$1,i$1){e$2.toCHTML([t$2]);let r$1=this.adaptor,[n$1,o$1,a$1]=this.getRootDimens(s$1,i$1);r$1.setStyle(t$2,`verticalAlign`,this.em(o$1)),r$1.setStyle(t$2,`width`,this.em(n$1)),a$1&&r$1.setStyle(r$1.firstChild(t$2),`paddingLeft`,this.em(a$1))}},t$1.kind=$r.prototype.kind,t$1}();function $h(t$1){var e$1;return(e$1=class extends t$1{get scriptChild(){return this.childNodes[this.node.sub]}getOffset(){return[this.baseIsChar?0:this.getAdjustedIc(),-this.getV()]}}).useIC=!1,e$1}function Yh(t$1){return class extends t$1{get scriptChild(){return this.childNodes[this.node.sup]}getOffset(){return[this.getAdjustedIc()-(this.baseRemoveIc?0:this.baseIc),this.getU()]}}}function Qh(t$1){var e$1;return e$1=class extends t$1{constructor(){super(...arguments),this.UVQ=null}get subChild(){return this.childNodes[this.node.sub]}get supChild(){return this.childNodes[this.node.sup]}get scriptChild(){return this.supChild}getUVQ(t$2=this.subChild.getOuterBBox(),e$2=this.supChild.getOuterBBox()){let s$1=this.baseCore,i$1=s$1.getLineBBox(s$1.breakCount);if(this.UVQ)return this.UVQ;let r$1=this.font.params,n$1=3*r$1.rule_thickness,o$1=this.length2em(this.node.attributes.get(`subscriptshift`),r$1.sub2),a$1=this.baseCharZero(i$1.d*this.baseScale+r$1.sub_drop*t$2.rscale),c$1=e$2.d*e$2.rscale,l$1=t$2.h*t$2.rscale,[h$1,d$1]=[this.getU(),Math.max(a$1,o$1)],u$1=h$1-c$1-(l$1-d$1);if(u$1<n$1){d$1+=n$1-u$1;let t$3=.8*r$1.x_height-(h$1-c$1);t$3>0&&(h$1+=t$3,d$1-=t$3)}return h$1=Math.max(this.length2em(this.node.attributes.get(`superscriptshift`),h$1),h$1),d$1=Math.max(this.length2em(this.node.attributes.get(`subscriptshift`),d$1),d$1),u$1=h$1-c$1-(l$1-d$1),this.UVQ=[h$1,-d$1,u$1],this.UVQ}appendScripts(t$2){let[e$2,s$1]=[this.subChild.getOuterBBox(),this.supChild.getOuterBBox()],i$1=this.getBaseWidth(),r$1=this.getAdjustedIc(),[n$1,o$1]=this.getUVQ(),a$1=t$2.d-this.baseChild.getLineBBox(this.baseChild.breakCount).d;return t$2.combine(e$2,i$1+(this.baseIsChar?0:r$1),o$1-a$1),t$2.combine(s$1,i$1+r$1,n$1-a$1),t$2.w+=this.font.params.scriptspace,t$2}},e$1.useIC=!1,e$1}function Zh(t$1){var e$1;return e$1=class extends t$1{get baseChild(){return this.childNodes[this.node.base]}get scriptChild(){return this.childNodes[1]}getBaseCore(){let t$2=this.getSemanticBase()||this.childNodes[0],e$2=t$2?.node;for(;t$2&&(t$2.childNodes.length===1&&(e$2.isKind(`mrow`)||e$2.isKind(`TeXAtom`)||e$2.isKind(`mstyle`)||e$2.isKind(`mpadded`)&&!e$2.getProperty(`vbox`)||e$2.isKind(`mphantom`)||e$2.isKind(`semantics`))||e$2.isKind(`munderover`)&&t$2.isMathAccent);)this.setBaseAccentsFor(t$2),t$2=t$2.childNodes[0],e$2=t$2?.node;return t$2||(this.baseHasAccentOver=this.baseHasAccentUnder=!1),t$2||this.childNodes[0]}setBaseAccentsFor(t$2){t$2.node.isKind(`munderover`)&&(this.baseHasAccentOver===null&&(this.baseHasAccentOver=!!t$2.node.attributes.get(`accent`)),this.baseHasAccentUnder===null&&(this.baseHasAccentUnder=!!t$2.node.attributes.get(`accentunder`)))}getSemanticBase(){let t$2=this.node.attributes.getExplicit(`data-semantic-fencepointer`);return this.getBaseFence(this.baseChild,t$2)}getBaseFence(t$2,e$2){if(!t$2||!t$2.node.attributes||!e$2)return null;if(t$2.node.attributes.getExplicit(`data-semantic-id`)===e$2)return t$2;for(let s$1 of t$2.childNodes){let t$3=this.getBaseFence(s$1,e$2);if(t$3)return t$3}return null}getBaseScale(){let t$2=this.baseCore,e$2=1;for(;t$2&&t$2!==this;)e$2*=t$2.getOuterBBox().rscale,t$2=t$2.parent;return e$2}getBaseIc(){return this.baseCore.getOuterBBox().ic*this.baseScale}getAdjustedIc(){return this.baseIc?1.05*this.baseIc+.05:0}isCharBase(){let t$2=this.baseCore;return(t$2.node.isKind(`mo`)&&t$2.size===null||t$2.node.isKind(`mi`)||t$2.node.isKind(`mn`))&&t$2.bbox.rscale===1&&Array.from(t$2.getText()).length===1}checkLineAccents(){if(this.node.isKind(`munderover`))if(this.node.isKind(`mover`))this.isLineAbove=this.isLineAccent(this.scriptChild);else if(this.node.isKind(`munder`))this.isLineBelow=this.isLineAccent(this.scriptChild);else{let t$2=this;this.isLineAbove=this.isLineAccent(t$2.overChild),this.isLineBelow=this.isLineAccent(t$2.underChild)}}isLineAccent(t$2){let e$2=t$2.coreMO().node;return e$2.isToken&&e$2.getText()===``}getBaseWidth(){let t$2=this.baseChild.getLineBBox(this.baseChild.breakCount);return t$2.w*t$2.rscale-(this.baseRemoveIc?this.baseIc:0)+this.font.params.extra_ic}getOffset(){return[0,0]}baseCharZero(t$2){let e$2=!!this.baseCore.node.attributes.get(`largeop`),s$1=!(!this.baseCore.node.isKind(`mo`)||!this.baseCore.size),i$1=this.baseScale;return!this.baseIsChar||e$2||s$1||i$1!==1?t$2:0}getV(){let t$2=this.baseCore,e$2=t$2.getLineBBox(t$2.breakCount),s$1=this.scriptChild.getOuterBBox(),i$1=this.font.params,r$1=this.length2em(this.node.attributes.get(`subscriptshift`),i$1.sub1);return Math.max(this.baseCharZero(e$2.d*this.baseScale+i$1.sub_drop*s$1.rscale),r$1,s$1.h*s$1.rscale-.8*i$1.x_height)}getU(){let t$2=this.baseCore,e$2=t$2.getLineBBox(t$2.breakCount),s$1=this.scriptChild.getOuterBBox(),i$1=this.font.params,r$1=this.node.attributes.getList(`displaystyle`,`superscriptshift`),n$1=this.node.getProperty(`texprimestyle`)?i$1.sup3:r$1.displaystyle?i$1.sup1:i$1.sup2,o$1=this.length2em(r$1.superscriptshift,n$1);return Math.max(this.baseCharZero(e$2.h*this.baseScale-i$1.sup_drop*s$1.rscale),o$1,s$1.d*s$1.rscale+1/4*i$1.x_height)}hasMovableLimits(){let t$2=this.node.attributes.get(`displaystyle`),e$2=this.baseChild.coreMO().node;return!t$2&&!!e$2.attributes.get(`movablelimits`)}getOverKU(t$2,e$2){let s$1=this.node.attributes.get(`accent`),i$1=this.font.params,r$1=e$2.d*e$2.rscale,n$1=i$1.rule_thickness*i$1.separation_factor,o$1=this.baseHasAccentOver?n$1:0,a$1=this.isLineAbove?3*i$1.rule_thickness:n$1,c$1=(s$1?a$1:Math.max(i$1.big_op_spacing1,i$1.big_op_spacing3-Math.max(0,r$1)))-o$1;return[c$1,t$2.h*t$2.rscale+c$1+r$1]}getUnderKV(t$2,e$2){let s$1=this.node.attributes.get(`accentunder`),i$1=this.font.params,r$1=e$2.h*e$2.rscale,n$1=i$1.rule_thickness*i$1.separation_factor,o$1=this.baseHasAccentUnder?n$1:0,a$1=this.isLineBelow?3*i$1.rule_thickness:n$1,c$1=(s$1?a$1:Math.max(i$1.big_op_spacing2,i$1.big_op_spacing4-r$1))-o$1;return[c$1,-(t$2.d*t$2.rscale+c$1+r$1)]}getDeltaW(t$2,e$2=[0,0,0]){let s$1=this.node.attributes.get(`align`),i$1=t$2.map((t$3=>t$3.w*t$3.rscale));i$1[0]-=this.baseRemoveIc&&!this.baseCore.node.attributes.get(`largeop`)?this.baseIc:0;let r$1=Math.max(...i$1),n$1=[],o$1=0;for(let t$3 of i$1.keys())n$1[t$3]=(s$1===`center`?(r$1-i$1[t$3])/2:s$1===`right`?r$1-i$1[t$3]:0)+e$2[t$3],n$1[t$3]<o$1&&(o$1=-n$1[t$3]);if(o$1)for(let t$3 of n$1.keys())n$1[t$3]+=o$1;return[1,2].map((e$3=>n$1[e$3]+=t$2[e$3]?t$2[e$3].dx*t$2[0].rscale:0)),n$1}getDelta(t$2,e$2=!1){let s$1=this.node.attributes.get(`accent`),{sk:i$1,ic:r$1}=this.baseCore.getOuterBBox();return s$1&&(i$1-=t$2.getOuterBBox().sk),((s$1&&!e$2?i$1:0)+this.font.skewIcFactor*r$1)*this.baseScale}stretchChildren(){let t$2=[];for(let e$3 of this.childNodes)e$3.canStretch(yl.Horizontal)&&t$2.push(e$3);let e$2=t$2.length,s$1=this.childNodes.length;if(e$2&&s$1>1){let i$1=0,r$1=e$2>1&&e$2===s$1;for(let t$3 of this.childNodes){let e$3=t$3.stretch.dir===yl.None;if(r$1||e$3){let{w:s$2,rscale:r$2}=t$3.getOuterBBox(e$3);s$2*r$2>i$1&&(i$1=s$2*r$2)}}for(let e$3 of t$2){let t$3=e$3.coreMO();t$3.size===null&&t$3.getStretchedVariant([i$1/e$3.coreRScale()])}}}constructor(t$2,e$2,s$1=null){super(t$2,e$2,s$1),this.baseScale=1,this.baseIc=0,this.baseRemoveIc=!1,this.baseIsChar=!1,this.baseHasAccentOver=null,this.baseHasAccentUnder=null,this.isLineAbove=!1,this.isLineBelow=!1,this.isMathAccent=!1;let i$1=this.baseCore=this.getBaseCore();i$1&&(this.setBaseAccentsFor(i$1),this.baseScale=this.getBaseScale(),this.baseIc=this.getBaseIc(),this.baseIsChar=this.isCharBase(),this.isMathAccent=this.baseIsChar&&this.scriptChild&&this.scriptChild.coreMO().node.getProperty(`mathaccent`)!==void 0,this.checkLineAccents(),this.baseRemoveIc=!this.isLineAbove&&!this.isLineBelow&&(!this.constructor.useIC||this.isMathAccent))}computeBBox(t$2,e$2=!1){t$2.empty(),t$2.append(this.baseChild.getOuterBBox()),this.appendScripts(t$2),t$2.clean(),this.setChildPWidths(e$2)}appendScripts(t$2){let e$2=this.getBaseWidth(),[s$1,i$1]=this.getOffset();return t$2.combine(this.scriptChild.getOuterBBox(),e$2+s$1,i$1),t$2.w+=this.font.params.scriptspace,t$2}get breakCount(){return this._breakCount<0&&(this._breakCount=this.node.isEmbellished?this.coreMO().embellishedBreakCount:this.node.linebreakContainer?0:this.childNodes[0].breakCount),this._breakCount}breakTop(t$2,e$2){return this.node.linebreakContainer||!this.parent||this.node.childIndex(e$2.node)?t$2:this.parent.breakTop(t$2,this)}computeLineBBox(t$2){let e$2=this.breakCount;if(!e$2)return kl.from(this.getOuterBBox(),this.linebreakOptions.lineleading);let s$1=this.baseChild.getLineBBox(t$2).copy();return t$2<e$2?(t$2===0&&this.addLeftBorders(s$1),this.addMiddleBorders(s$1)):(this.appendScripts(s$1),this.addMiddleBorders(s$1),this.addRightBorders(s$1)),s$1}},e$1.useIC=!0,e$1}let td=function(){var t$1;let e$1=Zh(Ul);return(t$1=class extends e$1{toCHTML(t$2){if(this.toEmbellishedCHTML(t$2))return;this.dom=this.standardChtmlNodes(t$2);let[e$2,s$1]=this.getOffset(),i$1=e$2-(this.baseRemoveIc?this.baseIc:0),r$1={"vertical-align":this.em(s$1)};i$1&&(r$1[`margin-left`]=this.em(i$1)),this.baseChild.toCHTML(this.dom);let n$1=this.dom[this.dom.length-1];this.scriptChild.toCHTML([this.adaptor.append(n$1,this.html(`mjx-script`,{style:r$1}))])}markUsed(){super.markUsed(),this.jax.wrapperUsage.add(id.kind)}setDeltaW(t$2,e$2){for(let s$1=0;s$1<e$2.length;s$1++)e$2[s$1]&&this.adaptor.setStyle(t$2[s$1],`paddingLeft`,this.em(e$2[s$1]))}adjustOverDepth(t$2,e$2){e$2.d>=0||this.adaptor.setStyle(t$2,`marginBottom`,this.em(e$2.d*e$2.rscale))}adjustUnderDepth(t$2,e$2){if(e$2.d>=0)return;let s$1=this.adaptor,i$1=this.em(e$2.d),r$1=this.html(`mjx-box`,{style:{"margin-bottom":i$1,"vertical-align":i$1}});for(let e$3 of s$1.childNodes(s$1.firstChild(t$2)))s$1.append(r$1,e$3);s$1.append(s$1.firstChild(t$2),r$1)}adjustBaseHeight(t$2,e$2){if(this.node.attributes.get(`accent`)){let s$1=this.font.params.x_height*this.baseScale;e$2.h<s$1&&(this.adaptor.setStyle(t$2,`paddingTop`,this.em(s$1-e$2.h)),e$2.h=s$1)}}}).kind=`scriptbase`,t$1}(),ed=function(){var t$1;let e$1=$h(td);return(t$1=class extends e$1{}).kind=on.prototype.kind,t$1}(),sd=function(){var t$1;let e$1=Yh(td);return(t$1=class extends e$1{}).kind=an.prototype.kind,t$1}(),id=function(){var t$1;let e$1=Qh(td);return(t$1=class extends e$1{toCHTML(t$2){if(this.toEmbellishedCHTML(t$2))return;let e$2=this.adaptor,s$1=this.standardChtmlNodes(t$2),[i$1,r$1,n$1]=[this.baseChild,this.supChild,this.subChild],[,o$1,a$1]=this.getUVQ(),c$1={"vertical-align":this.em(o$1)};i$1.toCHTML(s$1);let l$1=e$2.append(s$1[s$1.length-1],this.html(`mjx-script`,{style:c$1}));r$1.toCHTML([l$1]),e$2.append(l$1,this.html(`mjx-spacer`,{style:{"margin-top":this.em(a$1)}})),n$1.toCHTML([l$1]);let h$1=this.getAdjustedIc();h$1&&(e$2.setStyle(r$1.dom[0],`marginLeft`,this.em(h$1/r$1.bbox.rscale)),this.baseIsChar||e$2.setStyle(n$1.dom[0],`marginLeft`,this.em(h$1/r$1.bbox.rscale))),this.baseRemoveIc&&e$2.setStyle(l$1,`marginLeft`,this.em(-this.baseIc))}}).kind=nn.prototype.kind,t$1.styles={"mjx-script":{display:`inline-block`,"padding-right":`.05em`,"padding-left":`.033em`},"mjx-script > mjx-spacer":{display:`block`}},t$1}();function rd(t$1){return class extends t$1{get scriptChild(){return this.childNodes[this.node.under]}constructor(...t$2){super(...t$2),this.stretchChildren()}computeBBox(t$2,e$1=!1){if(this.hasMovableLimits())return void super.computeBBox(t$2,e$1);t$2.empty();let s$1=this.baseChild.getOuterBBox(),i$1=this.scriptChild.getOuterBBox(),r$1=this.getUnderKV(s$1,i$1)[1],n$1=this.isLineBelow?0:this.getDelta(this.scriptChild,!0),[o$1,a$1]=this.getDeltaW([s$1,i$1],[0,-n$1]);t$2.combine(s$1,o$1,0),t$2.combine(i$1,a$1,r$1),t$2.d+=this.font.params.big_op_spacing5,t$2.clean(),this.setChildPWidths(e$1)}}}function nd(t$1){return class extends t$1{get scriptChild(){return this.childNodes[this.node.over]}constructor(...t$2){super(...t$2),this.stretchChildren()}computeBBox(t$2){if(this.hasMovableLimits())return void super.computeBBox(t$2);t$2.empty();let e$1=this.baseChild.getOuterBBox(),s$1=this.scriptChild.getOuterBBox();this.node.attributes.get(`accent`)&&(e$1.h=Math.max(e$1.h,this.font.params.x_height*this.baseScale));let i$1=this.getOverKU(e$1,s$1)[1],r$1=this.isLineAbove?0:this.getDelta(this.scriptChild),[n$1,o$1]=this.getDeltaW([e$1,s$1],[0,r$1]);t$2.combine(e$1,n$1,0),t$2.combine(s$1,o$1,i$1),t$2.h+=this.font.params.big_op_spacing5,t$2.clean()}}}function od(t$1){return class extends t$1{get underChild(){return this.childNodes[this.node.under]}get overChild(){return this.childNodes[this.node.over]}get subChild(){return this.underChild}get supChild(){return this.overChild}constructor(...t$2){super(...t$2),this.stretchChildren()}computeBBox(t$2){if(this.hasMovableLimits())return void super.computeBBox(t$2);t$2.empty();let e$1=this.overChild.getOuterBBox(),s$1=this.baseChild.getOuterBBox(),i$1=this.underChild.getOuterBBox();this.node.attributes.get(`accent`)&&(s$1.h=Math.max(s$1.h,this.font.params.x_height*this.baseScale));let r$1=this.getOverKU(s$1,e$1)[1],n$1=this.getUnderKV(s$1,i$1)[1],o$1=this.getDelta(this.overChild),a$1=this.getDelta(this.underChild,!0),[c$1,l$1,h$1]=this.getDeltaW([s$1,i$1,e$1],[0,this.isLineBelow?0:-a$1,this.isLineAbove?0:o$1]);t$2.combine(s$1,c$1,0),t$2.combine(e$1,h$1,r$1),t$2.combine(i$1,l$1,n$1);let d$1=this.font.params.big_op_spacing5;t$2.h+=d$1,t$2.d+=d$1,t$2.clean()}}}let ad=function(){var t$1;let e$1=rd(ed);return(t$1=class extends e$1{toCHTML(t$2){if(this.toEmbellishedCHTML(t$2))return;if(this.hasMovableLimits())return super.toCHTML(t$2),void this.adaptor.setAttribute(this.dom[0],`limits`,`false`);this.dom=this.standardChtmlNodes(t$2);let e$2=this.adaptor.append(this.adaptor.append(this.dom[0],this.html(`mjx-row`)),this.html(`mjx-base`)),s$1=this.adaptor.append(this.adaptor.append(this.dom[0],this.html(`mjx-row`)),this.html(`mjx-under`));this.baseChild.toCHTML([e$2]),this.scriptChild.toCHTML([s$1]);let i$1=this.baseChild.getOuterBBox(),r$1=this.scriptChild.getOuterBBox(),n$1=this.getUnderKV(i$1,r$1)[0],o$1=this.isLineBelow?0:this.getDelta(this.scriptChild,!0);this.adaptor.setStyle(s$1,`paddingTop`,this.em(n$1)),this.setDeltaW([e$2,s$1],this.getDeltaW([i$1,r$1],[0,-o$1])),this.adjustUnderDepth(s$1,r$1)}}).kind=ln.prototype.kind,t$1.styles={"mjx-over":{"text-align":`left`},'mjx-munder:not([limits="false"])':{display:`inline-table`},"mjx-munder > mjx-row":{"text-align":`left`},"mjx-under":{"padding-bottom":`.1em`}},t$1}(),cd=function(){var t$1;let e$1=nd(sd);return(t$1=class extends e$1{toCHTML(t$2){if(this.toEmbellishedCHTML(t$2))return;if(this.hasMovableLimits())return super.toCHTML(t$2),void this.adaptor.setAttribute(this.dom[0],`limits`,`false`);this.dom=this.standardChtmlNodes(t$2);let e$2=this.adaptor.append(this.dom[0],this.html(`mjx-over`)),s$1=this.adaptor.append(this.dom[0],this.html(`mjx-base`));this.scriptChild.toCHTML([e$2]),this.baseChild.toCHTML([s$1]);let i$1=this.scriptChild.getOuterBBox(),r$1=this.baseChild.getOuterBBox();this.adjustBaseHeight(s$1,r$1);let n$1=this.getOverKU(r$1,i$1)[0],o$1=this.isLineAbove?0:this.getDelta(this.scriptChild);this.adaptor.setStyle(e$2,`paddingBottom`,this.em(n$1)),this.setDeltaW([s$1,e$2],this.getDeltaW([r$1,i$1],[0,o$1])),this.adjustOverDepth(e$2,i$1)}}).kind=hn.prototype.kind,t$1.styles={'mjx-mover:not([limits="false"])':{"padding-top":`.1em`},'mjx-mover:not([limits="false"]) > *':{display:`block`,"text-align":`left`}},t$1}(),ld=function(){var t$1;let e$1=od(id);return(t$1=class extends e$1{toCHTML(t$2){if(this.toEmbellishedCHTML(t$2))return;if(this.hasMovableLimits())return super.toCHTML(t$2),void this.adaptor.setAttribute(this.dom[0],`limits`,`false`);this.dom=this.standardChtmlNodes(t$2);let e$2=this.adaptor.append(this.dom[0],this.html(`mjx-over`)),s$1=this.adaptor.append(this.adaptor.append(this.dom[0],this.html(`mjx-box`)),this.html(`mjx-munder`)),i$1=this.adaptor.append(this.adaptor.append(s$1,this.html(`mjx-row`)),this.html(`mjx-base`)),r$1=this.adaptor.append(this.adaptor.append(s$1,this.html(`mjx-row`)),this.html(`mjx-under`));this.overChild.toCHTML([e$2]),this.baseChild.toCHTML([i$1]),this.underChild.toCHTML([r$1]);let n$1=this.overChild.getOuterBBox(),o$1=this.baseChild.getOuterBBox(),a$1=this.underChild.getOuterBBox();this.adjustBaseHeight(i$1,o$1);let c$1=this.getOverKU(o$1,n$1)[0],l$1=this.getUnderKV(o$1,a$1)[0],h$1=this.getDelta(this.overChild),d$1=this.getDelta(this.underChild,!0);this.adaptor.setStyle(e$2,`paddingBottom`,this.em(c$1)),this.adaptor.setStyle(r$1,`paddingTop`,this.em(l$1)),this.setDeltaW([i$1,r$1,e$2],this.getDeltaW([o$1,a$1,n$1],[0,this.isLineBelow?0:-d$1,this.isLineAbove?0:h$1])),this.adjustOverDepth(e$2,n$1),this.adjustUnderDepth(r$1,a$1)}}).kind=cn.prototype.kind,t$1.styles={'mjx-munderover:not([limits="false"])':{"padding-top":`.1em`},'mjx-munderover:not([limits="false"]) > *':{display:`block`}},t$1}(),hd={base:`subList`,subList:`supList`,supList:`subList`,psubList:`psupList`,psupList:`psubList`},dd=[`sup`,`sup`,`psup`,`psub`];function ud(t$1){return class extends t$1{combinePrePost(t$2,e$1){let s$1=new mo(t$2);return s$1.combine(e$1,0,0),s$1}getScriptData(){let t$2=this.scriptData={base:null,sub:mo.empty(),sup:mo.empty(),psub:mo.empty(),psup:mo.empty(),numPrescripts:0,numScripts:0},e$1=this.getScriptBBoxLists();this.combineBBoxLists(t$2.sub,t$2.sup,e$1.subList,e$1.supList),this.combineBBoxLists(t$2.psub,t$2.psup,e$1.psubList,e$1.psupList),t$2.base=e$1.base[0],t$2.numPrescripts=e$1.psubList.length,t$2.numScripts=e$1.subList.length}getScriptBBoxLists(){let t$2={base:[],subList:[],supList:[],psubList:[],psupList:[]},e$1=`base`;for(let s$1 of this.childNodes)s$1.node.isKind(`mprescripts`)?e$1=`psubList`:(t$2[e$1].push(s$1.getOuterBBox()),e$1=hd[e$1]);return this.firstPrescript=t$2.subList.length+t$2.supList.length+2,this.padLists(t$2.subList,t$2.supList),this.padLists(t$2.psubList,t$2.psupList),t$2}padLists(t$2,e$1){t$2.length>e$1.length&&e$1.push(mo.empty())}combineBBoxLists(t$2,e$1,s$1,i$1){for(let r$1=0;r$1<s$1.length;r$1++){let[n$1,o$1,a$1]=this.getScaledWHD(s$1[r$1]),[c$1,l$1,h$1]=this.getScaledWHD(i$1[r$1]),d$1=Math.max(n$1,c$1);t$2.w+=d$1,e$1.w+=d$1,o$1>t$2.h&&(t$2.h=o$1),a$1>t$2.d&&(t$2.d=a$1),l$1>e$1.h&&(e$1.h=l$1),h$1>e$1.d&&(e$1.d=h$1)}}getScaledWHD(t$2){let{w:e$1,h:s$1,d:i$1,rscale:r$1}=t$2;return[e$1*r$1,s$1*r$1,i$1*r$1]}getCombinedUV(){let t$2=this.scriptData,e$1=this.combinePrePost(t$2.sub,t$2.psub),s$1=this.combinePrePost(t$2.sup,t$2.psup);return this.getUVQ(e$1,s$1)}addPrescripts(t$2,e$1,s$1){let i$1=this.scriptData;if(i$1.numPrescripts){let r$1=this.font.params.scriptspace;t$2.combine(i$1.psup,r$1,e$1),t$2.combine(i$1.psub,r$1,s$1)}return t$2}addPostscripts(t$2,e$1,s$1){let i$1=this.scriptData;if(i$1.numScripts){let r$1=t$2.w;t$2.combine(i$1.sup,r$1,e$1),t$2.combine(i$1.sub,r$1,s$1),t$2.w+=this.font.params.scriptspace}return t$2}constructor(...t$2){super(...t$2),this.scriptData=null,this.firstPrescript=0,this.getScriptData()}appendScripts(t$2){t$2.empty();let[e$1,s$1]=this.getCombinedUV();return this.addPrescripts(t$2,e$1,s$1),t$2.append(this.scriptData.base),this.addPostscripts(t$2,e$1,s$1),t$2.clean(),t$2}computeLineBBox(t$2){let e$1=this.baseChild.breakCount,s$1=this.baseChild.getLineBBox(t$2).copy(),i$1=s$1,[r$1,n$1]=this.getCombinedUV();return t$2===0?(i$1=kl.from(this.addPrescripts(mo.zero(),r$1,n$1),this.linebreakOptions.lineleading),i$1.append(s$1),this.addLeftBorders(i$1),i$1.L=this.bbox.L):t$2===e$1&&(i$1=this.addPostscripts(i$1,r$1,n$1),this.addRightBorders(i$1),i$1.R=this.bbox.R),this.addMiddleBorders(i$1),i$1}getUVQ(t$2,e$1){if(!this.UVQ){let[s$1,i$1,r$1]=[0,0,0];t$2.w===0?s$1=this.getU():e$1.w===0?s$1=-this.getV():[s$1,i$1,r$1]=super.getUVQ(t$2,e$1),this.UVQ=[s$1,i$1,r$1]}return this.UVQ}}}let pd=function(){var t$1;let e$1=ud(id);return(t$1=class extends e$1{toCHTML(t$2){if(this.toEmbellishedCHTML(t$2))return;let e$2=this.standardChtmlNodes(t$2),s$1=this.scriptData,i$1=this.node.getProperty(`scriptalign`)||`right left`,[r$1,n$1]=jr(i$1+` `+i$1),[o$1,a$1]=this.getCombinedUV();if(s$1.numPrescripts){let t$3=this.addScripts(this.dom[0],o$1,-a$1,!0,s$1.psub,s$1.psup,this.firstPrescript,s$1.numPrescripts);r$1!==`right`&&this.adaptor.setAttribute(t$3,`script-align`,r$1)}if(this.childNodes[0].toCHTML(e$2),s$1.numScripts){let t$3=this.addScripts(this.dom[this.dom.length-1],o$1,-a$1,!1,s$1.sub,s$1.sup,1,s$1.numScripts);n$1!==`left`&&this.adaptor.setAttribute(t$3,`script-align`,n$1)}}addScripts(t$2,e$2,s$1,i$1,r$1,n$1,o$1,a$1){let c$1=this.adaptor,l$1=e$2-n$1.d+(s$1-r$1.h),h$1=e$2<0&&s$1===0?r$1.h+e$2:e$2,d$1=l$1>0?{style:{height:this.em(l$1)}}:{},u$1=h$1?{style:{"vertical-align":this.em(h$1)}}:{},p$1=this.html(`mjx-row`),m$1=this.html(`mjx-row`,d$1),f$1=this.html(`mjx-row`),g$1=`mjx-`+(i$1?`pre`:``)+`scripts`,b$1=o$1+2*a$1;for(;o$1<b$1;)this.childNodes[o$1++].toCHTML([c$1.append(f$1,this.html(`mjx-cell`))]),this.childNodes[o$1++].toCHTML([c$1.append(p$1,this.html(`mjx-cell`))]);return c$1.append(t$2,this.html(g$1,u$1,[p$1,m$1,f$1]))}}).kind=dn.prototype.kind,t$1.styles={"mjx-prescripts":{display:`inline-table`,"padding-left":`.05em`},"mjx-scripts":{display:`inline-table`,"padding-right":`.05em`},"mjx-prescripts > mjx-row > mjx-cell":{"text-align":`right`},'[script-align="left"] > mjx-row > mjx-cell':{"text-align":`left`},'[script-align="center"] > mjx-row > mjx-cell':{"text-align":`center`},'[script-align="right"] > mjx-row > mjx-cell':{"text-align":`right`},"mjx-none":{display:`inline-block`,height:`1px`}},t$1}(),md=.333;function fd(t$1){return class extends t$1{get tableRows(){return this.childNodes}findContainer(){let t$2=this,e$1=t$2.parent;for(;e$1&&(e$1.node.notParent||e$1.node.isKind(`mrow`));)t$2=e$1,e$1=e$1.parent;this.container=e$1,this.containerI=t$2.node.childPosition()}getPercentageWidth(){if(this.hasLabels)this.bbox.pwidth=mo.fullWidth;else{let t$2=this.node.attributes.get(`width`);Fr(t$2)&&(this.bbox.pwidth=t$2)}}stretchRows(){let t$2=this.node.attributes.get(`equalrows`),e$1=t$2?this.getEqualRowHeight():0,{H:s$1,D:i$1}=t$2?this.getTableData():{H:[0],D:[0]},r$1=this.tableRows;for(let n$1=0;n$1<this.numRows;n$1++){let o$1=t$2?[(e$1+s$1[n$1]-i$1[n$1])/2,(e$1-s$1[n$1]+i$1[n$1])/2]:null;r$1[n$1].stretchChildren(o$1)}}stretchColumns(){let t$2=this.getColumnAttributes(`columnwidth`,0);for(let e$1=0;e$1<this.numCols;e$1++){let s$1=typeof this.cWidths[e$1]==`number`?this.cWidths[e$1]:null;this.stretchColumn(e$1,s$1),s$1!==null&&this.breakColumn(e$1,s$1,t$2[e$1])}}stretchColumn(t$2,e$1){let s$1=[];for(let e$2 of this.tableRows){let i$2=e$2.getChild(t$2);if(i$2){let t$3=i$2.childNodes[0];t$3.stretch.dir===yl.None&&t$3.canStretch(yl.Horizontal)&&s$1.push(t$3)}}let i$1=s$1.length,r$1=this.childNodes.length;if(i$1&&r$1>1&&e$1===null){e$1=0;let s$2=i$1>1&&i$1===r$1;for(let i$2 of this.tableRows){let r$2=i$2.getChild(t$2);if(r$2){let t$3=r$2.childNodes[0],i$3=t$3.stretch.dir===yl.None;if(s$2||i$3){let{w:s$3}=t$3.getBBox(i$3);s$3>e$1&&(e$1=s$3)}}}}if(e$1!==null)for(let t$3 of s$1)t$3.coreMO().getStretchedVariant([Math.max(e$1,t$3.getBBox().w)/t$3.coreRScale()])}breakColumn(t$2,e$1,s$1){if(this.jax.math.root.attributes.get(`overflow`)!==`linebreak`||!this.jax.math.display)return;let{D:i$1}=this.getTableData(),r$1=0,n$1=0;for(let s$2 of this.tableRows){let o$1=s$2.getChild(t$2);if(o$1&&o$1.getBBox().w>e$1){o$1.childNodes[0].breakToWidth(e$1);let t$3=o$1.getBBox();i$1[r$1]=Math.max(i$1[r$1],t$3.d),t$3.w>n$1&&(n$1=t$3.w)}r$1++}(s$1===`fit`||s$1===`auto`||Fr(s$1)||n$1>this.cWidths[t$2])&&(this.cWidths[t$2]=n$1)}getTableData(){if(this.data)return this.data;let t$2=Array(this.numRows).fill(0),e$1=Array(this.numRows).fill(0),s$1=Array(this.numCols).fill(0),i$1=Array(this.numRows),r$1=Array(this.numRows),n$1=[0],o$1=this.tableRows;for(let a$1=0;a$1<o$1.length;a$1++){let c$1=0,l$1=o$1[a$1],h$1=l$1.node.attributes.get(`rowalign`);for(let i$2=0;i$2<l$1.numCells;i$2++){let r$2=l$1.getChild(i$2);c$1=this.updateHDW(r$2,i$2,a$1,h$1,t$2,e$1,s$1,c$1),this.recordPWidthCell(r$2,i$2)}i$1[a$1]=t$2[a$1],r$1[a$1]=e$1[a$1],l$1.labeled&&(c$1=this.updateHDW(l$1.childNodes[0],0,a$1,h$1,t$2,e$1,n$1,c$1)),this.extendHD(a$1,t$2,e$1,c$1),this.extendHD(a$1,i$1,r$1,c$1)}return this.data={H:t$2,D:e$1,W:s$1,NH:i$1,ND:r$1,L:n$1[0]},this.data}updateHDW(t$2,e$1,s$1,i$1,r$1,n$1,o$1,a$1){let{h:c$1,d:l$1,w:h$1}=t$2.getBBox(),d$1=t$2.parent.bbox.rscale;t$2.parent.bbox.rscale!==1&&(c$1*=d$1,l$1*=d$1,h$1*=d$1),this.node.getProperty(`useHeight`)&&(c$1<.75&&(c$1=.75),l$1<.25&&(l$1=.25));let u$1=0;return(i$1=t$2.node.attributes.get(`rowalign`)||i$1)!==`baseline`&&i$1!==`axis`&&(u$1=c$1+l$1,c$1=l$1=0),c$1>r$1[s$1]&&(r$1[s$1]=c$1),l$1>n$1[s$1]&&(n$1[s$1]=l$1),u$1>a$1&&(a$1=u$1),o$1&&h$1>o$1[e$1]&&(o$1[e$1]=h$1),a$1}extendHD(t$2,e$1,s$1,i$1){let r$1=(i$1-(e$1[t$2]+s$1[t$2]))/2;r$1<1e-5||(e$1[t$2]+=r$1,s$1[t$2]+=r$1)}recordPWidthCell(t$2,e$1){t$2.childNodes[0]&&t$2.childNodes[0].getBBox().pwidth&&this.pwidthCells.push([t$2,e$1])}setColumnPWidths(){let t$2=this.cWidths;for(let[e$1,s$1]of this.pwidthCells)e$1.setChildPWidths(!1,t$2[s$1])&&(e$1.invalidateBBox(),e$1.getBBox())}getBBoxHD(t$2){let[e$1,s$1]=this.getAlignmentRow();if(s$1===null){let s$2=this.font.params.axis_height,i$1=t$2/2;return{top:[0,t$2],center:[i$1,i$1],bottom:[t$2,0],baseline:[i$1,i$1],axis:[i$1+s$2,i$1-s$2]}[e$1]||[i$1,i$1]}{let i$1=this.getVerticalPosition(s$1,e$1);return[i$1,t$2-i$1]}}getBBoxLR(){var t$2;if(this.hasLabels){let t$3=this.node.attributes,e$1=t$3.get(`side`),[s$1,i$1]=this.getPadAlignShift(e$1),r$1=this.hasLabels&&!!t$3.get(`data-width-includes-label`);return r$1&&this.frame&&this.fSpace[0]&&(s$1-=this.fSpace[0]),i$1!==`center`||r$1?e$1===`left`?[s$1,0]:[0,s$1]:[s$1,s$1]}return[this.bbox?.L||0,0]}getPadAlignShift(t$2){let{L:e$1}=this.getTableData(),s$1=e$1+this.length2em(this.node.attributes.get(`minlabelspacing`)),[i$1,r$1]=this.styles==null?[``,``]:[this.styles.get(`padding-left`),this.styles.get(`padding-right`)];(i$1||r$1)&&(s$1=Math.max(s$1,this.length2em(i$1||`0`),this.length2em(r$1||`0`)));let[n$1,o$1]=this.getAlignShift();return n$1===t$2&&(o$1=t$2===`left`?Math.max(s$1,o$1)-s$1:Math.min(-s$1,o$1)+s$1),[s$1,n$1,o$1]}getWidth(){return this.pWidth||this.getBBox().w}adjustWideTable(){let t$2=this.node.attributes;if(t$2.get(`width`)!==`auto`)return;let[e$1,s$1]=this.getPadAlignShift(t$2.get(`side`)),i$1=Math.max(this.containerWidth/10,this.containerWidth-e$1-(s$1===`center`?e$1:0));this.naturalWidth()>i$1&&this.adjustColumnWidths(i$1)}naturalWidth(){return Do(this.getComputedWidths().concat(this.cLines,this.cSpace))+2*this.fLine+this.fSpace[0]+this.fSpace[2]}getEqualRowHeight(){let{H:t$2,D:e$1}=this.getTableData(),s$1=Array.from(t$2.keys()).map((s$2=>t$2[s$2]+e$1[s$2]));return Math.max(...s$1)}getComputedWidths(){let t$2=this.getTableData().W,e$1=Array.from(t$2.keys()).map((e$2=>typeof this.cWidths[e$2]==`number`?this.cWidths[e$2]:t$2[e$2]));return this.node.attributes.get(`equalcolumns`)&&(e$1=Array(e$1.length).fill(Po(e$1))),e$1}getColumnWidths(){let t$2=this.node.attributes.get(`width`);if(this.node.attributes.get(`equalcolumns`))return this.getEqualColumns(t$2);let e$1=this.getColumnAttributes(`columnwidth`,0);return t$2===`auto`?this.getColumnWidthsAuto(e$1):Fr(t$2)?this.getColumnWidthsPercent(e$1):this.getColumnWidthsFixed(e$1,this.length2em(t$2))}getEqualColumns(t$2){let e$1=Math.max(1,this.numCols),s$1;if(t$2===`auto`){let{W:t$3}=this.getTableData();s$1=Po(t$3)}else if(Fr(t$2))s$1=this.percent(1/e$1);else{let i$1=Do([].concat(this.cLines,this.cSpace))+this.fSpace[0]+this.fSpace[2];s$1=Math.max(0,this.length2em(t$2)-i$1)/e$1}return Array(this.numCols).fill(s$1)}getColumnWidthsAuto(t$2){return t$2.map((t$3=>t$3===`auto`||t$3===`fit`?null:Fr(t$3)?t$3:this.length2em(t$3)))}getColumnWidthsPercent(t$2){let e$1=t$2.includes(`fit`),{W:s$1}=e$1?this.getTableData():{W:null};return Array.from(t$2.keys()).map((i$1=>{let r$1=t$2[i$1];return r$1===`fit`?null:r$1===`auto`?e$1?s$1[i$1]:null:Fr(r$1)?r$1:this.length2em(r$1)}))}getColumnWidthsFixed(t$2,e$1){let s$1=Array.from(t$2.keys()),i$1=s$1.filter((e$2=>t$2[e$2]===`fit`)),r$1=s$1.filter((e$2=>t$2[e$2]===`auto`)),n$1=i$1.length||r$1.length,{W:o$1}=n$1?this.getTableData():{W:null},a$1=e$1-Do([].concat(this.cLines,this.cSpace))-this.fSpace[0]-this.fSpace[2],c$1=a$1;s$1.forEach((e$2=>{let s$2=t$2[e$2];c$1-=s$2===`fit`||s$2===`auto`?o$1[e$2]:this.length2em(s$2,a$1)}));let l$1=n$1&&c$1>0?c$1/n$1:0;return s$1.map((e$2=>{let s$2=t$2[e$2];return s$2===`fit`?o$1[e$2]+l$1:s$2===`auto`?o$1[e$2]+(i$1.length===0?l$1:0):this.length2em(s$2,a$1)}))}adjustColumnWidths(t$2){let{W:e$1}=this.getTableData(),s$1=this.getColumnAttributes(`columnwidth`,0),i$1=Array.from(s$1.keys()),r$1=[...i$1.filter((t$3=>s$1[t$3]===`fit`)).sort(((t$3,s$2)=>e$1[s$2]-e$1[t$3])),...i$1.filter((t$3=>s$1[t$3]===`auto`)).sort(((t$3,s$2)=>e$1[s$2]-e$1[t$3])),...i$1.filter((t$3=>Fr(s$1[t$3]))).sort(((t$3,s$2)=>e$1[s$2]-e$1[t$3])),...i$1.filter((t$3=>s$1[t$3]!==`fit`&&s$1[t$3]!==`auto`&&!Fr(s$1[t$3]))).sort(((t$3,s$2)=>e$1[s$2]-e$1[t$3]))];if(!r$1.length)return;this.cWidths=i$1.map((t$3=>typeof this.cWidths[t$3]==`number`?this.cWidths[t$3]:e$1[t$3]));let n$1=t$2-Do([].concat(this.cLines,this.cSpace))-this.fSpace[0]-this.fSpace[2],o$1=Do(this.cWidths)-n$1,a$1=0,c$1=0;for(;c$1<r$1.length&&(a$1+=e$1[r$1[c$1++]],!(a$1&&o$1/a$1<md)););o$1=1-o$1/a$1,r$1.slice(0,c$1).forEach((t$3=>this.cWidths[t$3]*=o$1))}getVerticalPosition(t$2,e$1){let s$1=this.node.attributes.get(`equalrows`),{H:i$1,D:r$1}=this.getTableData(),n$1=s$1?this.getEqualRowHeight():0,o$1=this.getRowHalfSpacing(),a$1=this.fLine;for(let e$2=0;e$2<t$2;e$2++)a$1+=o$1[e$2]+(s$1?n$1:i$1[e$2]+r$1[e$2])+o$1[e$2+1]+this.rLines[e$2];let[c$1,l$1]=s$1?[(n$1+i$1[t$2]-r$1[t$2])/2,(n$1-i$1[t$2]+r$1[t$2])/2]:[i$1[t$2],r$1[t$2]];return a$1+={top:0,center:o$1[t$2]+(c$1+l$1)/2,bottom:o$1[t$2]+c$1+l$1+o$1[t$2+1],baseline:o$1[t$2]+c$1,axis:o$1[t$2]+c$1-.25}[e$1]||0,a$1}getFrameSpacing(){let t$2=this.fframe?this.convertLengths(this.getAttributeArray(`framespacing`)):[0,0];t$2[2]=t$2[0];let e$1=this.node.attributes.get(`data-array-padding`);if(e$1){let[s$1,i$1]=this.convertLengths(jr(e$1));t$2[0]=s$1,t$2[2]=i$1}return t$2}getEmHalfSpacing(t$2,e$1,s$1=1){let i$1=this.addEm(e$1,2/s$1);return i$1.unshift(this.em(t$2[0]*s$1)),i$1.push(this.em(t$2[1]*s$1)),i$1}getRowHalfSpacing(){let t$2=this.rSpace.map((t$3=>t$3/2));return t$2.unshift(this.fSpace[1]),t$2.push(this.fSpace[1]),t$2}getColumnHalfSpacing(){let t$2=this.cSpace.map((t$3=>t$3/2));return t$2.unshift(this.fSpace[0]),t$2.push(this.fSpace[2]),t$2}getAlignmentRow(){let[t$2,e$1]=jr(this.node.attributes.get(`align`));if(e$1==null)return[t$2,null];let s$1=parseInt(e$1);return s$1<0&&(s$1+=this.numRows+1),[t$2,s$1<1||s$1>this.numRows?null:s$1-1]}getColumnAttributes(t$2,e$1=1){let s$1=this.numCols-e$1,i$1=this.getAttributeArray(t$2);if(i$1.length===0)return null;for(;i$1.length<s$1;)i$1.push(i$1[i$1.length-1]);return i$1.length>s$1&&i$1.splice(s$1),i$1}getRowAttributes(t$2,e$1=1){let s$1=this.numRows-e$1,i$1=this.getAttributeArray(t$2);if(i$1.length===0)return null;for(;i$1.length<s$1;)i$1.push(i$1[i$1.length-1]);return i$1.length>s$1&&i$1.splice(s$1),i$1}getAttributeArray(t$2){let e$1=this.node.attributes.get(t$2);return e$1?jr(e$1):[this.node.attributes.getDefault(t$2)]}addEm(t$2,e$1=1){return t$2?t$2.map((t$3=>this.em(t$3/e$1))):null}convertLengths(t$2){return t$2?t$2.map((t$3=>this.length2em(t$3))):null}constructor(t$2,e$1,s$1=null){super(t$2,e$1,s$1),this.numCols=0,this.numRows=0,this.data=null,this.pwidthCells=[],this.pWidth=0,this.numCols=Po(this.tableRows.map((t$3=>t$3.numCells))),this.numRows=this.childNodes.length,this.hasLabels=this.childNodes.reduce(((t$3,e$2)=>t$3||e$2.node.isKind(`mlabeledtr`)),!1),this.findContainer(),this.isTop=!this.container||this.container.node.isKind(`math`)&&!this.container.parent,this.isTop&&(this.jax.table=this),this.getPercentageWidth();let i$1=this.node.attributes;this.frame=i$1.get(`frame`)!==`none`,this.fframe=this.frame||i$1.get(`data-frame-styles`)!==void 0,this.fLine=this.frame?.07:0,this.fSpace=this.getFrameSpacing(),this.cSpace=this.convertLengths(this.getColumnAttributes(`columnspacing`)),this.rSpace=this.convertLengths(this.getRowAttributes(`rowspacing`)),this.cLines=this.getColumnAttributes(`columnlines`).map((t$3=>t$3===`none`?0:.07)),this.rLines=this.getRowAttributes(`rowlines`).map((t$3=>t$3===`none`?0:.07)),this.cWidths=this.getColumnWidths(),this.adjustWideTable(),this.stretchColumns(),this.stretchRows()}getStyles(){super.getStyles();let t$2=this.node.attributes.get(`data-frame-styles`);if(!t$2)return;this.styles||=new Oo(``);let e$1=t$2.split(/ /);for(let t$3 of To.keys()){let s$1=e$1[t$3];s$1!==`none`&&this.styles.set(`border-${To[t$3]}`,`.07em ${s$1}`)}}computeBBox(t$2,e$1=!1){let{H:s$1,D:i$1}=this.getTableData(),r$1,n$1;if(this.node.attributes.get(`equalrows`)){let t$3=this.getEqualRowHeight();r$1=Do([].concat(this.rLines,this.rSpace))+t$3*this.numRows}else r$1=Do(s$1.concat(i$1,this.rLines,this.rSpace));r$1+=2*(this.fLine+this.fSpace[1]),n$1=this.naturalWidth();let o$1=this.node.attributes.get(`width`);o$1!==`auto`&&(n$1=Math.max(this.length2em(o$1,0)+2*this.fLine,n$1));let[a$1,c$1]=this.getBBoxHD(r$1);t$2.h=a$1,t$2.d=c$1,t$2.w=n$1;let[l$1,h$1]=this.getBBoxLR();t$2.L=l$1,t$2.R=h$1,Fr(o$1)||this.setColumnPWidths()}setChildPWidths(t$2,e$1,s$1){let i$1=this.node.attributes.get(`width`);if(!Fr(i$1))return!1;this.hasLabels||(this.bbox.pwidth=``,this.container.bbox.pwidth=``);let{w:r$1,L:n$1,R:o$1}=this.bbox,a$1=this.node.attributes.get(`data-width-includes-label`),c$1=Math.max(r$1,this.length2em(i$1,Math.max(e$1,n$1+r$1+o$1)))-(a$1?n$1+o$1:0),l$1=this.node.attributes.get(`equalcolumns`)?Array(this.numCols).fill(this.percent(1/Math.max(1,this.numCols))):this.getColumnAttributes(`columnwidth`,0);return this.cWidths=this.getColumnWidthsFixed(l$1,c$1),this.pWidth=this.naturalWidth(),this.isTop&&(this.bbox.w=this.pWidth),this.setColumnPWidths(),this.pWidth!==r$1&&this.parent.invalidateBBox(),this.pWidth!==r$1}getAlignShift(){return this.isTop?super.getAlignShift():[this.container.getChildAlign(this.containerI),0]}}}let gd=function(){var t$1;let e$1=fd(Ul);return t$1=class extends e$1{constructor(t$2,e$2,s$1=null){super(t$2,e$2,s$1),this.itable=this.html(`mjx-itable`),this.labels=this.html(`mjx-itable`)}getAlignShift(){let t$2=super.getAlignShift();return this.isTop||(t$2[1]=0),t$2}toCHTML(t$2){let e$2=this.standardChtmlNodes(t$2);this.adaptor.append(e$2[0],this.html(`mjx-table`,{},[this.itable]));for(let t$3 of this.childNodes)t$3.toCHTML([this.itable]);this.padRows(),this.handleColumnSpacing(),this.handleColumnLines(),this.handleColumnWidths(),this.handleRowSpacing(),this.handleRowLines(),this.handleRowHeights(),this.handleFrame(),this.handleWidth(),this.handleLabels(),this.handleAlign(),this.handleJustify(),this.shiftColor()}shiftColor(){let t$2=this.adaptor,e$2=t$2.getStyle(this.dom[0],`backgroundColor`);e$2&&(t$2.setStyle(this.dom[0],`backgroundColor`,``),t$2.setStyle(this.itable,`backgroundColor`,e$2))}padRows(){let t$2=this.adaptor;for(let e$2 of t$2.childNodes(this.itable))for(;t$2.childNodes(e$2).length<this.numCols;)t$2.append(e$2,this.html(`mjx-mtd`,{extra:!0}))}handleColumnSpacing(){let t$2=this.childNodes[0]?1/this.childNodes[0].getBBox().rscale:1,e$2=this.getEmHalfSpacing([this.fSpace[0],this.fSpace[2]],this.cSpace,t$2);for(let t$3 of this.tableRows){let s$1=0;for(let i$1 of t$3.tableCells){let r$1=e$2[s$1++],n$1=e$2[s$1],o$1=i$1?i$1.dom[0]:this.adaptor.childNodes(t$3.dom[0])[s$1];(s$1>1&&r$1!==`0.4em`||r$1!==`0`&&s$1===1)&&this.adaptor.setStyle(o$1,`paddingLeft`,r$1),(s$1<this.numCols&&n$1!==`0.4em`||n$1!==`0`&&s$1===this.numCols)&&this.adaptor.setStyle(o$1,`paddingRight`,n$1)}}}handleColumnLines(){if(this.node.attributes.get(`columnlines`)===`none`)return;let t$2=this.getColumnAttributes(`columnlines`);for(let e$2 of this.childNodes){let s$1=0,i$1=this.adaptor.childNodes(e$2.dom[0]).slice(1);for(let e$3 of i$1){let i$2=t$2[s$1++];i$2!==`none`&&this.adaptor.setStyle(e$3,`borderLeft`,`.07em `+i$2)}}}handleColumnWidths(){for(let t$2 of this.childNodes){let e$2=0;for(let s$1 of this.adaptor.childNodes(t$2.dom[0])){let t$3=this.cWidths[e$2++];if(t$3!==null){let e$3=typeof t$3==`number`?this.em(t$3):t$3;this.adaptor.setStyle(s$1,`width`,e$3),this.adaptor.setStyle(s$1,`maxWidth`,e$3),this.adaptor.setStyle(s$1,`minWidth`,e$3)}}}}handleRowSpacing(){let t$2=this.childNodes[0]?1/this.childNodes[0].getBBox().rscale:1,e$2=this.getEmHalfSpacing([this.fSpace[1],this.fSpace[1]],this.rSpace,t$2),s$1=this.fframe,i$1=0;for(let t$3 of this.childNodes){let r$1=e$2[i$1++],n$1=e$2[i$1];for(let e$3 of t$3.childNodes)(i$1>1&&r$1!==`0.215em`||s$1&&i$1===1)&&this.adaptor.setStyle(e$3.dom[0],`paddingTop`,r$1),(i$1<this.numRows&&n$1!==`0.215em`||s$1&&i$1===this.numRows)&&this.adaptor.setStyle(e$3.dom[0],`paddingBottom`,n$1)}}handleRowLines(){if(this.node.attributes.get(`rowlines`)===`none`)return;let t$2=this.getRowAttributes(`rowlines`),e$2=0;for(let s$1 of this.childNodes.slice(1)){let i$1=t$2[e$2++];if(i$1!==`none`)for(let t$3 of this.adaptor.childNodes(s$1.dom[0]))this.adaptor.setStyle(t$3,`borderTop`,`.07em `+i$1)}}handleRowHeights(){this.node.attributes.get(`equalrows`)&&this.handleEqualRows()}handleEqualRows(){let t$2=this.getRowHalfSpacing(),{H:e$2,D:s$1,NH:i$1,ND:r$1}=this.getTableData(),n$1=this.getEqualRowHeight();for(let o$1=0;o$1<this.numRows;o$1++){let a$1=this.childNodes[o$1];this.setRowHeight(a$1,n$1+t$2[o$1]+t$2[o$1+1]+this.rLines[o$1]),n$1!==i$1[o$1]+r$1[o$1]&&this.setRowBaseline(a$1,n$1,(n$1-e$2[o$1]+s$1[o$1])/2)}}setRowHeight(t$2,e$2){this.adaptor.setStyle(t$2.dom[0],`height`,this.em(e$2))}setRowBaseline(t$2,e$2,s$1){let i$1=t$2.node.attributes.get(`rowalign`);for(let r$1 of t$2.childNodes)if(this.setCellBaseline(r$1,i$1,e$2,s$1))break}setCellBaseline(t$2,e$2,s$1,i$1){let r$1=t$2.node.attributes.get(`rowalign`);if(r$1===`baseline`||r$1===`axis`){let r$2=this.adaptor,n$1=r$2.lastChild(t$2.dom[0]);r$2.setStyle(n$1,`height`,this.em(s$1)),r$2.setStyle(n$1,`verticalAlign`,this.em(-i$1));let o$1=t$2.parent;if(!(o$1.node.isKind(`mlabeledtr`)&&t$2===o$1.childNodes[0]||e$2!==`baseline`&&e$2!==`axis`))return!0}return!1}handleFrame(){if(this.frame&&this.fLine){let t$2=this.node.attributes.get(`frame`);this.adaptor.setStyle(this.itable,`border`,`${this.em(this.fLine)} ${t$2}`)}}handleWidth(){let t$2=this.adaptor,e$2=this.dom[0],{w:s$1,L:i$1,R:r$1}=this.getBBox();t$2.setStyle(e$2,`minWidth`,this.em(i$1+s$1+r$1));let n$1=this.node.attributes.get(`width`);if(Fr(n$1))t$2.setStyle(e$2,`width`,``),t$2.setAttribute(e$2,`width`,`full`);else if(!this.hasLabels){if(n$1===`auto`)return;n$1=this.em(this.length2em(n$1)+2*this.fLine)}let o$1=t$2.firstChild(e$2);if(t$2.setStyle(o$1,`width`,n$1),t$2.setStyle(o$1,`minWidth`,this.em(s$1)),i$1||r$1){t$2.setStyle(e$2,`margin`,``);let s$2=this.node.attributes.get(`data-width-includes-label`)?`padding`:`margin`;i$1===r$1?t$2.setStyle(o$1,s$2,`0 `+this.em(r$1)):t$2.setStyle(o$1,s$2,`0 `+this.em(r$1)+` 0 `+this.em(i$1))}t$2.setAttribute(this.itable,`width`,`full`)}handleAlign(){let[t$2,e$2]=this.getAlignmentRow(),s$1=this.dom[0];if(e$2===null)t$2!==`axis`&&this.adaptor.setAttribute(s$1,`align`,t$2);else{let i$1=this.getVerticalPosition(e$2,t$2);this.adaptor.setAttribute(s$1,`align`,`top`),this.adaptor.setStyle(s$1,`verticalAlign`,this.em(i$1))}}handleJustify(){let t$2=this.getAlignShift()[0];t$2!==`center`&&this.adaptor.setAttribute(this.dom[0],`justify`,t$2)}handleLabels(){if(!this.hasLabels)return;let t$2=this.labels,e$2=this.node.attributes,s$1=this.adaptor,i$1=e$2.get(`side`);s$1.setAttribute(this.dom[0],`side`,i$1),s$1.setAttribute(t$2,`align`,i$1),s$1.setStyle(t$2,i$1,`0`);let[r$1,n$1]=this.addLabelPadding(i$1);if(n$1){let t$3=s$1.firstChild(this.dom[0]);this.setIndent(t$3,r$1,n$1)}this.updateRowHeights(),this.addLabelSpacing()}addLabelPadding(t$2){let[,e$2,s$1]=this.getPadAlignShift(t$2),i$1={};if(t$2===`right`&&!this.node.attributes.get(`data-width-includes-label`)){let t$3=this.node.attributes.get(`width`),{w:e$3,L:s$2,R:r$1}=this.getBBox();i$1.style={width:Fr(t$3)?`calc(`+t$3+` + `+this.em(s$2+r$1)+`)`:this.em(s$2+e$3+r$1)}}return this.adaptor.append(this.dom[0],this.html(`mjx-labels`,i$1,[this.labels])),[e$2,s$1]}updateRowHeights(){let{H:t$2,D:e$2,NH:s$1,ND:i$1}=this.getTableData(),r$1=this.getRowHalfSpacing();for(let n$1=0;n$1<this.numRows;n$1++){let o$1=this.childNodes[n$1];this.setRowHeight(o$1,t$2[n$1]+e$2[n$1]+r$1[n$1]+r$1[n$1+1]+this.rLines[n$1]),t$2[n$1]!==s$1[n$1]||e$2[n$1]!==i$1[n$1]?this.setRowBaseline(o$1,t$2[n$1]+e$2[n$1],e$2[n$1]):o$1.node.isKind(`mlabeledtr`)&&this.setCellBaseline(o$1.childNodes[0],``,t$2[n$1]+e$2[n$1],e$2[n$1])}}addLabelSpacing(){let t$2=this.adaptor,e$2=this.node.attributes.get(`equalrows`),{H:s$1,D:i$1}=this.getTableData(),r$1=e$2?this.getEqualRowHeight():0,n$1=this.getRowHalfSpacing(),o$1=this.fLine,a$1=t$2.firstChild(this.labels);for(let c$1=0;c$1<this.numRows;c$1++)this.childNodes[c$1].node.isKind(`mlabeledtr`)?(o$1&&t$2.insert(this.html(`mjx-mtr`,{style:{height:this.em(o$1)}}),a$1),t$2.setStyle(a$1,`height`,this.em((e$2?r$1:s$1[c$1]+i$1[c$1])+n$1[c$1]+n$1[c$1+1])),a$1=t$2.next(a$1),o$1=this.rLines[c$1]):o$1+=n$1[c$1]+(e$2?r$1:s$1[c$1]+i$1[c$1])+n$1[c$1+1]+this.rLines[c$1]}},t$1.kind=mn.prototype.kind,t$1.styles={"mjx-mtable":{"vertical-align":`.25em`,"text-align":`center`,position:`relative`,"box-sizing":`border-box`,"border-spacing":0,"border-collapse":`collapse`},'mjx-mstyle[size="s"] mjx-mtable':{"vertical-align":`.354em`},"mjx-labels":{position:`absolute`,left:0,top:0},"mjx-table":{display:`inline-block`,"vertical-align":`-.5ex`,"box-sizing":`border-box`},"mjx-table > mjx-itable":{"vertical-align":`middle`,"text-align":`left`,"box-sizing":`border-box`},"mjx-labels > mjx-itable":{position:`absolute`,top:0},'mjx-mtable[justify="left"]':{"text-align":`left`},'mjx-mtable[justify="right"]':{"text-align":`right`},'mjx-mtable[justify="left"][side="left"]':{"padding-right":`0 ! important`},'mjx-mtable[justify="left"][side="right"]':{"padding-left":`0 ! important`},'mjx-mtable[justify="right"][side="left"]':{"padding-right":`0 ! important`},'mjx-mtable[justify="right"][side="right"]':{"padding-left":`0 ! important`},"mjx-mtable[align]":{"vertical-align":`baseline`},'mjx-mtable[align="top"] > mjx-table':{"vertical-align":`top`},'mjx-mtable[align="bottom"] > mjx-table':{"vertical-align":`bottom`},'mjx-mtable[side="right"] mjx-labels':{"min-width":`100%`}},t$1}();function bd(t$1){return class extends t$1{get numCells(){return this.childNodes.length}get labeled(){return!1}get tableCells(){return this.childNodes}getChild(t$2){return this.childNodes[t$2]}getChildBBoxes(){return this.childNodes.map((t$2=>t$2.getBBox()))}stretchChildren(t$2=null){let e$1=[],s$1=this.labeled?this.childNodes.slice(1):this.childNodes;for(let t$3 of s$1){let s$2=t$3.childNodes[0];s$2.canStretch(yl.Vertical)&&e$1.push(s$2)}let i$1=e$1.length,r$1=this.childNodes.length;if(i$1&&r$1>1&&!t$2){let e$2=0,n$1=0,o$1=i$1>1&&i$1===r$1;for(let t$3 of s$1){let s$2=t$3.childNodes[0],i$2=s$2.stretch.dir===yl.None;if(o$1||i$2){let{h:t$4,d:r$2}=s$2.getBBox(i$2);t$4>e$2&&(e$2=t$4),r$2>n$1&&(n$1=r$2)}}t$2=[e$2,n$1]}if(t$2)for(let s$2 of e$1){let e$2=s$2.coreRScale();s$2.coreMO().getStretchedVariant(t$2.map((t$3=>t$3*e$2)))}}get fixesPWidth(){return!1}}}function Ed(t$1){return class extends t$1{get numCells(){return Math.max(0,this.childNodes.length-1)}get labeled(){return!0}get tableCells(){return this.childNodes.slice(1)}getChild(t$2){return this.childNodes[t$2+1]}getChildBBoxes(){return this.childNodes.slice(1).map((t$2=>t$2.getBBox()))}}}let Nd=function(){var t$1;let e$1=bd(Ul);return(t$1=class extends e$1{toCHTML(t$2){super.toCHTML(t$2);let e$2=this.node.attributes.get(`rowalign`);e$2!==`baseline`&&this.adaptor.setAttribute(this.dom[0],`rowalign`,e$2)}}).kind=fn.prototype.kind,t$1.styles={"mjx-mtr":{display:`table-row`},'mjx-mtr[rowalign="top"] > mjx-mtd':{"vertical-align":`top`},'mjx-mtr[rowalign="center"] > mjx-mtd':{"vertical-align":`middle`},'mjx-mtr[rowalign="bottom"] > mjx-mtd':{"vertical-align":`bottom`},'mjx-mtr[rowalign="baseline"] > mjx-mtd':{"vertical-align":`baseline`},'mjx-mtr[rowalign="axis"] > mjx-mtd':{"vertical-align":`.25em`}},t$1}(),yd=function(){var t$1;let e$1=Ed(Nd);return(t$1=class extends e$1{toCHTML(t$2){super.toCHTML(t$2);let e$2=this.adaptor.firstChild(this.dom[0]);if(e$2){this.adaptor.remove(e$2);let t$3=this.node.attributes.get(`rowalign`),s$1=t$3!==`baseline`&&t$3!==`axis`?{rowalign:t$3}:{},i$1=this.html(`mjx-mtr`,s$1,[e$2]);this.adaptor.append(this.parent.labels,i$1)}}markUsed(){super.markUsed(),this.jax.wrapperUsage.add(Nd.kind)}}).kind=gn.prototype.kind,t$1.styles={"mjx-mlabeledtr":{display:`table-row`},'mjx-mlabeledtr[rowalign="top"] > mjx-mtd':{"vertical-align":`top`},'mjx-mlabeledtr[rowalign="center"] > mjx-mtd':{"vertical-align":`middle`},'mjx-mlabeledtr[rowalign="bottom"] > mjx-mtd':{"vertical-align":`bottom`},'mjx-mlabeledtr[rowalign="baseline"] > mjx-mtd':{"vertical-align":`baseline`},'mjx-mlabeledtr[rowalign="axis"] > mjx-mtd':{"vertical-align":`.25em`}},t$1}();function xd(t$1){return class extends t$1{get fixesPWidth(){return!1}invalidateBBox(){this.bboxComputed=!1,this.lineBBox=[]}getWrapWidth(t$2){let e$1=this.parent.parent,s$1=this.parent,i$1=this.node.childPosition()-(s$1.labeled?1:0);return typeof e$1.cWidths[i$1]==`number`?e$1.cWidths[i$1]:e$1.getTableData().W[i$1]}getChildAlign(t$2){return this.node.attributes.get(`columnalign`)}}}let vd=function(){var t$1;let e$1=xd(Ul);return(t$1=class extends e$1{toCHTML(t$2){super.toCHTML(t$2);let e$2=this.node.attributes.get(`rowalign`),s$1=this.node.attributes.get(`columnalign`);e$2!==this.parent.node.attributes.get(`rowalign`)&&this.adaptor.setAttribute(this.dom[0],`rowalign`,e$2),s$1===`center`||this.parent.kind===`mlabeledtr`&&this===this.parent.childNodes[0]&&s$1===this.parent.parent.node.attributes.get(`side`)||this.adaptor.setStyle(this.dom[0],`textAlign`,s$1),this.parent.parent.node.getProperty(`useHeight`)&&this.adaptor.append(this.dom[0],this.html(`mjx-tstrut`))}}).kind=bn.prototype.kind,t$1.styles={"mjx-mtd":{display:`table-cell`,"text-align":`center`,padding:`.215em .4em`},"mjx-mtd:first-child":{"padding-left":0},"mjx-mtd:last-child":{"padding-right":0},"mjx-mtable > * > mjx-itable > *:first-child > mjx-mtd":{"padding-top":0},"mjx-mtable > * > mjx-itable > *:last-child > mjx-mtd":{"padding-bottom":0},"mjx-tstrut":{display:`inline-block`,height:`1em`,"vertical-align":`-.25em`},'mjx-labels[align="left"] > mjx-mtr > mjx-mtd':{"text-align":`left`},'mjx-labels[align="right"] > mjx-mtr > mjx-mtd':{"text-align":`right`},"mjx-mtd[extra]":{padding:0},'mjx-mtd[rowalign="top"]':{"vertical-align":`top`},'mjx-mtd[rowalign="center"]':{"vertical-align":`middle`},'mjx-mtd[rowalign="bottom"]':{"vertical-align":`bottom`},'mjx-mtd[rowalign="baseline"]':{"vertical-align":`baseline`},'mjx-mtd[rowalign="axis"]':{"vertical-align":`.25em`}},t$1}(),Cd={dx:`.2em`,dy:`.1em`,postDelay:600,clearDelay:100,hoverTimer:new Map,clearTimer:new Map,stopTimers:(t$1,e$1)=>{e$1.clearTimer.has(t$1)&&(clearTimeout(e$1.clearTimer.get(t$1)),e$1.clearTimer.delete(t$1)),e$1.hoverTimer.has(t$1)&&(clearTimeout(e$1.hoverTimer.get(t$1)),e$1.hoverTimer.delete(t$1))}};function Td(t$1){return class extends t$1{get selected(){let t$2=this.node.attributes.get(`selection`),e$1=Math.max(1,Math.min(this.childNodes.length,t$2))-1;return this.childNodes[e$1]||this.wrap(this.node.selected)}getParameters(){let[e$1,s$1]=jr(this.node.attributes.get(`data-offsets`)||``);this.tipDx=this.length2em(e$1||Cd.dx),this.tipDy=this.length2em(s$1||Cd.dy)}constructor(t$2,e$1,s$1=null){super(t$2,e$1,s$1);let i$1=this.constructor.actions,r$1=this.node.attributes.get(`actiontype`),[n$1,o$1]=i$1.get(r$1)||[(t$3,e$2)=>{},{}];this.action=n$1,this.data=o$1,this.getParameters()}computeBBox(t$2,e$1=!1){t$2.updateFrom(this.selected.getOuterBBox()),this.selected.setChildPWidths(e$1)}get breakCount(){return this.node.isEmbellished?this.selected.coreMO().embellishedBreakCount:this.selected.breakCount}computeLineBBox(t$2){return this.getChildLineBBox(this.selected,t$2)}}}let wd=function(){var t$1;let e$1=Td(Ul);return(t$1=class extends e$1{setEventHandler(t$2,e$2,s$1=null){(s$1?[s$1]:this.dom).forEach((s$2=>s$2.addEventListener(t$2,e$2)))}Em(t$2){return this.em(t$2)}toCHTML(t$2){if(this.toEmbellishedCHTML(t$2))return;let e$2=this.standardChtmlNodes(t$2);this.selected.toCHTML(e$2),this.action(this,this.data)}}).kind=rn.prototype.kind,t$1.styles={"mjx-maction":{position:`relative`},"mjx-maction > mjx-tool":{display:`none`,position:`absolute`,bottom:0,right:0,width:0,height:0,"z-index":500},"mjx-tool > mjx-tip":{display:`inline-block`,"line-height":0,padding:`.2em`,border:`1px solid #888`,"background-color":`#F8F8F8`,color:`black`,"box-shadow":`2px 2px 5px #AAAAAA`},"mjx-maction[toggle]":{cursor:`pointer`},"mjx-status":{display:`block`,position:`fixed`,left:`1em`,bottom:`1em`,"min-width":`25%`,padding:`.2em .4em`,border:`1px solid #888`,"font-size":`90%`,"background-color":`#F8F8F8`,color:`black`}},t$1.actions=new Map([[`toggle`,[(t$2,e$2)=>{t$2.dom.forEach((e$3=>{t$2.adaptor.setAttribute(e$3,`toggle`,t$2.node.attributes.get(`selection`))}));let s$1=t$2.factory.jax.math,i$1=t$2.factory.jax.document,r$1=t$2.node;t$2.setEventHandler(`click`,(t$3=>{s$1.end.node||(s$1.start.node=s$1.end.node=s$1.typesetRoot,s$1.start.n=s$1.end.n=0),r$1.nextToggleSelection(),s$1.rerender(i$1,r$1.attributes.get(`data-maction-id`)?rr.ENRICHED:rr.RERENDER),t$3.stopPropagation()}))},{}]],[`tooltip`,[(t$2,e$2)=>{let s$1=t$2.childNodes[1];if(s$1)if(s$1.node.isKind(`mtext`)){let e$3=s$1.node.getText();t$2.dom.forEach((s$2=>t$2.adaptor.setAttribute(s$2,`title`,e$3)))}else{let i$1=t$2.adaptor;for(let r$1 of t$2.dom){let n$1=i$1.append(r$1,t$2.html(`mjx-tool`,{style:{bottom:t$2.Em(-t$2.tipDy),right:t$2.Em(-t$2.tipDx)}},[t$2.html(`mjx-tip`)]));s$1.toCHTML([i$1.firstChild(n$1)]),t$2.setEventHandler(`mouseover`,(t$3=>{e$2.stopTimers(r$1,e$2);let s$2=setTimeout((()=>i$1.setStyle(n$1,`display`,`block`)),e$2.postDelay);e$2.hoverTimer.set(r$1,s$2),t$3.stopPropagation()}),r$1),t$2.setEventHandler(`mouseout`,(t$3=>{e$2.stopTimers(r$1,e$2);let s$2=setTimeout((()=>i$1.setStyle(n$1,`display`,``)),e$2.clearDelay);e$2.clearTimer.set(r$1,s$2),t$3.stopPropagation()}),r$1)}}},Cd]],[`statusline`,[(t$2,e$2)=>{let s$1=t$2.childNodes[1];if(s$1&&s$1.node.isKind(`mtext`)){let i$1=t$2.adaptor,r$1=s$1.node.getText();t$2.dom.forEach((t$3=>i$1.setAttribute(t$3,`statusline`,r$1))),t$2.setEventHandler(`mouseover`,(s$2=>{if(e$2.status===null){let s$3=i$1.body(i$1.document);e$2.status=i$1.append(s$3,t$2.html(`mjx-status`,{},[t$2.text(r$1)]))}s$2.stopPropagation()})),t$2.setEventHandler(`mouseout`,(t$3=>{e$2.status&&=(i$1.remove(e$2.status),null),t$3.stopPropagation()}))}},{status:null}]]]),t$1}();function _d(t$1){return class extends t$1{constructor(t$2,e$1,s$1=null){super(t$2,e$1,s$1),this.getParameters()}getParameters(){let{width:t$2,height:e$1,valign:s$1,src:i$1,index:r$1}=this.node.attributes.getList(`width`,`height`,`valign`,`src`,`index`);if(i$1)this.width=t$2===`auto`?1:this.length2em(t$2),this.height=e$1===`auto`?1:this.length2em(e$1),this.valign=this.length2em(s$1||`0`);else{let t$3=String.fromCodePoint(parseInt(r$1)),e$2=this.node.factory;this.charWrapper=this.wrap(e$2.create(`text`).setText(t$3)),this.charWrapper.parent=this}}computeBBox(t$2,e$1=!1){this.charWrapper?t$2.updateFrom(this.charWrapper.getBBox()):(t$2.w=this.width,t$2.h=this.height+this.valign,t$2.d=-this.valign)}}}let kd=function(){var t$1;let e$1=_d(Ul);return(t$1=class extends e$1{toCHTML(t$2){let e$2=this.standardChtmlNodes(t$2);if(this.charWrapper)return void this.charWrapper.toCHTML(e$2);let{src:s$1,alt:i$1}=this.node.attributes.getList(`src`,`alt`),r$1={width:this.em(this.width),height:this.em(this.height)};this.valign&&(r$1.verticalAlign=this.em(this.valign));let n$1=this.html(`img`,{src:s$1,style:r$1,alt:i$1,title:i$1});this.adaptor.append(e$2[0],n$1)}}).kind=yn.prototype.kind,t$1.styles={"mjx-mglyph > img":{display:`inline-block`,border:0,padding:0}},t$1}();function Ad(t$1){return class extends t$1{computeBBox(t$2,e$1=!1){if(this.childNodes.length){let{w:e$2,h:s$1,d:i$1}=this.childNodes[0].getBBox();t$2.w=e$2,t$2.h=s$1,t$2.d=i$1}}get breakCount(){return this.node.isEmbellished?this.coreMO().embellishedBreakCount:this.childNodes[0].breakCount}}}function Ld(t$1){class e$1 extends t$1{constructor(t$2,e$2,s$1=null){super(t$2,e$2,s$1),this.rscale=this.getRScale()}computeBBox(t$2,e$2=!1){let s$1=this.node.getXML(),i$1=this.getHDW(s$1,`use`,`force`),{h:r$1,d:n$1,w:o$1}=i$1?this.splitHDW(i$1):this.measureXmlNode(s$1);t$2.w=o$1,t$2.h=r$1,t$2.d=n$1}getHTML(){let t$2=this.adaptor.clone(this.node.getXML()),e$2=this.getFontStyles();return(this.getHDW(t$2,`force`)||this.jax.options.scale!==1)&&(t$2=this.addHDW(t$2,e$2)),this.html(`mjx-html`,{variant:this.parent.variant,style:e$2},[t$2])}getHDW(t$2,e$2,s$1=e$2){let i$1=this.jax.options.htmlHDW,r$1=this.adaptor.getAttribute(t$2,`data-mjx-hdw`);return!r$1||i$1!==e$2&&i$1!==s$1?null:r$1}splitHDW(t$2){let e$2=1/this.metrics.scale,[s$1,i$1,r$1]=jr(t$2).map((t$3=>this.length2em(t$3||`0`)*e$2));return{h:s$1,d:i$1,w:r$1}}getFontStyles(){var t$2;let e$2=this.adaptor,s$1=this.metrics;return{"font-family":this.parent.styles?.get(`font-family`)||s$1.family||e$2.fontFamily(e$2.parent(this.jax.math.start.node))||`initial`,"font-size":this.jax.fixed(s$1.em*this.rscale)+`px`}}measureXmlNode(t$2){let e$2=this.adaptor,s$1=this.html(`mjx-xml-block`,{style:{display:`inline-block`}},[e$2.clone(t$2)]),i$1=this.html(`mjx-baseline`,{style:{display:`inline-block`,width:0,height:0}}),r$1=this.getFontStyles(),n$1=this.html(`mjx-measure-xml`,{style:r$1},[i$1,s$1]),o$1=this.jax.container;e$2.append(e$2.parent(this.jax.math.start.node),o$1),e$2.append(o$1,n$1);let a$1=this.metrics,c$1=a$1.em*a$1.scale*this.rscale,{left:l$1,right:h$1,bottom:d$1,top:u$1}=e$2.nodeBBox(s$1),p$1=(h$1-l$1)/c$1,m$1=(e$2.nodeBBox(i$1).top-u$1)/c$1,f$1=(d$1-u$1)/c$1-m$1;return e$2.remove(o$1),e$2.remove(n$1),{w:p$1,h:m$1,d:f$1}}getStyles(){}getScale(){}getVariant(){}}return e$1.autoStyle=!1,e$1.styles={"mjx-measure-xml":{position:`absolute`,left:0,top:0,display:`inline-block`,"line-height":`normal`,"white-space":`normal`},"mjx-html":{display:`inline-block`,"line-height":`normal`,"text-align":`initial`,"white-space":`initial`},"mjx-html-holder":{display:`block`,position:`absolute`,top:0,left:0,bottom:0,right:0}},e$1}let Md=function(){var t$1;let e$1=Ad(Ul);return(t$1=class extends e$1{toCHTML(t$2){if(this.toEmbellishedCHTML(t$2))return;let e$2=this.standardChtmlNodes(t$2);this.childNodes.length&&this.childNodes[0].toCHTML(e$2)}}).kind=xn.prototype.kind,t$1}(),Id=((Sd=class extends Ul{toCHTML(t$1){super.toCHTML(t$1)}computeBBox(){return this.bbox}}).kind=Cn.prototype.kind,Sd);var Sd;let Rd=function(){var t$1;return(t$1=class extends Ul{}).kind=vn.prototype.kind,t$1.styles={"mjx-annotation-xml":{"font-family":`initial`,"line-height":`normal`}},t$1}(),Od=function(){var t$1;let e$1=Ld(Ul);return(t$1=class extends e$1{toCHTML(t$2){this.markUsed(),this.dom=[this.adaptor.append(t$2[0],this.getHTML())]}addHDW(t$2,e$2){let s$1=this.jax.options.scale,{h:i$1,d:r$1,w:n$1}=this.bbox,o$1=s$1*this.metrics.scale;return e$2.width=this.em(n$1*o$1),e$2.height=this.em((i$1+r$1)*o$1),e$2[`vertical-align`]=this.em(-r$1*o$1),e$2.position=`relative`,this.html(`mjx-html-holder`,{style:{transform:`scale(${this.jax.fixed(s$1)})`,"transform-origin":`top left`}},[t$2])}}).kind=Tr.prototype.kind,t$1}();function Dd(t$1){return class extends t$1{computeBBox(t$2,e$1=!1){super.computeBBox(t$2,e$1),this.childNodes[0]&&this.childNodes[0].bbox.ic&&(t$2.ic=this.childNodes[0].bbox.ic)}}}let Pd=function(){var t$1;let e$1=Dd(Ul);return(t$1=class extends e$1{toCHTML(t$2){super.toCHTML(t$2),this.dom.forEach((t$3=>this.adaptor.setAttribute(t$3,`texclass`,pr[this.node.texClass])))}}).kind=Tn.prototype.kind,t$1}();function Bd(t$1){return class extends t$1{remappedText(t$2,e$1){let s$1=this.parent.stretch.c;return s$1?[s$1]:this.parent.remapChars(this.unicodeChars(t$2,e$1))}computeBBox(t$2,e$1=!1){let s$1=this.parent.variant,i$1=this.node.getText();if(s$1===`-explicitFont`){let e$2=this.jax.getFontData(this.parent.styles),{w:r$1,h:n$1,d:o$1}=this.jax.measureText(i$1,s$1,e$2);t$2.h=n$1,t$2.d=o$1,t$2.w=r$1}else{let e$2=this.remappedText(i$1,s$1),r$1=``;t$2.empty();for(let i$2=0;i$2<e$2.length;i$2++){let[n$1,o$1,a$1,c$1]=this.getVariantChar(s$1,e$2[i$2]);if(c$1.unknown)r$1+=String.fromCodePoint(e$2[i$2]);else{if(r$1=this.addUtextBBox(t$2,r$1,s$1),this.updateBBox(t$2,n$1,o$1,a$1),t$2.ic=c$1.ic||0,t$2.sk=c$1.sk||0,t$2.dx=c$1.dx||0,!c$1.oc||i$2<e$2.length-1)continue;let l$1=this.parent.childNodes;if(this.node!==l$1[l$1.length-1].node)continue;let h$1=this.parent.parent.node,d$1=h$1.isKind(`mrow`)||h$1.isInferred?h$1.childNodes[h$1.childIndex(this.parent.node)+1]:null;d$1!=null&&d$1.isKind(`mo`)&&d$1.getText()===``&&(d$1=h$1.childNodes[h$1.childIndex(d$1)+1]),d$1&&d$1.attributes.get(`mathvariant`)===s$1?t$2.oc=c$1.oc:t$2.ic=c$1.oc}}this.addUtextBBox(t$2,r$1,s$1),e$2.length>1&&(t$2.sk=0),t$2.clean()}}addUtextBBox(t$2,e$1,s$1){if(e$1){let{h:i$1,d:r$1,w:n$1}=this.jax.measureText(e$1,s$1);this.updateBBox(t$2,i$1,r$1,n$1)}return``}updateBBox(t$2,e$1,s$1,i$1){t$2.w+=i$1,e$1>t$2.h&&(t$2.h=e$1),s$1>t$2.d&&(t$2.d=s$1)}getStyles(){}getVariant(){}getScale(){}getSpace(){}}}let Fd=function(){var t$1;let e$1=Bd(Ul);return t$1=class extends e$1{toCHTML(t$2){this.markUsed();let e$2=t$2[0],s$1=this.adaptor,i$1=this.parent.variant,r$1=this.node.getText();if(r$1.length===0)return;let n$1=this.getBBox();if(i$1===`-explicitFont`)s$1.append(e$2,this.jax.unknownText(r$1,i$1,n$1.w));else{let t$3=``,o$1=this.remappedText(r$1,i$1),a$1=o$1.length>1?this.em(this.parent.getBBox().h):``,c$1=o$1.length;for(let r$2=0;r$2<c$1;r$2++){let l$1=o$1[r$2],h$1=this.getVariantChar(i$1,l$1)[3];if(h$1.unknown)t$3+=String.fromCodePoint(l$1);else{t$3=this.addUtext(t$3,i$1,e$2);let o$2=h$1.ff||(h$1.f?`${this.font.cssFontPrefix}-${h$1.f}`:``),d$1=s$1.append(e$2,this.html(`mjx-c`,{class:this.char(l$1)+(o$2?` `+o$2:``)},[this.text(h$1.c||String.fromCodePoint(l$1))]));(r$2<c$1-1||n$1.oc)&&s$1.setAttribute(d$1,`noic`,`true`),a$1&&s$1.setStyle(d$1,`padding-top`,a$1),this.font.charUsage.add([i$1,l$1])}}this.addUtext(t$3,i$1,e$2)}}addUtext(t$2,e$2,s$1){return t$2&&this.adaptor.append(s$1,this.jax.unknownText(t$2,e$2)),``}},t$1.kind=Cr.prototype.kind,t$1.autoStyle=!1,t$1.styles={"mjx-c":{display:`inline-block`,width:0,"text-align":`right`},"mjx-utext":{display:`inline-block`,padding:`.75em 0 .2em 0`}},t$1}(),jd=function(){var t$1;return(t$1=class extends Od{}).kind=_n.prototype.kind,t$1}(),Ud={[Hl.kind]:Hl,[Uh.kind]:Uh,[qh.kind]:qh,[zl.kind]:zl,[Kl.kind]:Kl,[Yl.kind]:Yl,[Zl.kind]:Zl,[eh.kind]:eh,[ih.kind]:ih,[nh.kind]:nh,[Bh.kind]:Bh,[Xh.kind]:Xh,[Gh.kind]:Gh,[Kh.kind]:Kh,[ed.kind]:ed,[sd.kind]:sd,[id.kind]:id,[ad.kind]:ad,[cd.kind]:cd,[ld.kind]:ld,[pd.kind]:pd,[Wh.kind]:Wh,[gd.kind]:gd,[Nd.kind]:Nd,[yd.kind]:yd,[vd.kind]:vd,[wd.kind]:wd,[kd.kind]:kd,[Md.kind]:Md,[Id.kind]:Id,[Rd.kind]:Rd,[Od.kind]:Od,[Pd.kind]:Pd,[Fd.kind]:Fd,[jd.kind]:jd,[Ul.kind]:Ul};class qd extends Rl{}qd.defaultNodes=Ud;let Hd={40:{dir:xl,sizes:[.997,1.095,1.195,1.445,1.793,2.093,2.393,2.991],stretch:[9115,9116,9117],HDW:[.748,.248,.875]},41:{dir:xl,sizes:[.997,1.095,1.195,1.445,1.793,2.093,2.393,2.991],stretch:[9118,9119,9120],HDW:[.748,.248,.875]},45:{c:8722,dir:vl,stretch:[0,8722],HDW:[.583,.083,.778],ext:.112,hd:[.583,.083]},47:{dir:xl,sizes:[1.001,1.311,1.717,2.249,2.945,3.859,5.055,6.621]},61:{dir:vl,stretch:[0,61],HDW:[.367,-.133,.778],ext:.112,hd:[.367,-.133]},91:{dir:xl,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[9121,9122,9123],HDW:[.75,.25,.667]},92:{dir:xl,sizes:[1.001,1.311,1.717,2.249,2.945,3.859,5.055,6.621]},93:{dir:xl,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[9124,9125,9126],HDW:[.75,.25,.667]},94:{c:770,dir:vl,sizes:[.5,.644,.768,.919,1.1,1.32,1.581,1.896]},95:{c:8211,dir:vl,stretch:[0,8211],HDW:[.277,-.255,.5],ext:.001,hd:[.277,-.255]},123:{dir:xl,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[9127,123,9129,9128],stretchv:[0,1,0,0],HDW:[.75,.25,.902]},124:{dir:xl,sizes:[1.001,1.203,1.443,1.735,2.085,2.505,3.005,3.605],schar:[124,8739],stretch:[0,8739],stretchv:[0,2],HDW:[.75,.25,.333]},125:{dir:xl,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[9131,123,9133,9132],stretchv:[0,1,0,0],HDW:[.75,.25,.902]},126:{c:771,dir:vl,sizes:[.5,.652,.778,.931,1.115,1.335,1.599,1.915]},175:{c:773,dir:vl,sizes:[.392,.568],stretch:[0,773],stretchv:[0,1],HDW:[.67,-.63,0],hd:[.67,-.63]},710:{c:770,dir:vl,sizes:[.5,.644,.768,.919,1.1,1.32,1.581,1.896]},711:{c:780,dir:vl,sizes:[.366,.644,.768,.919,1.1,1.32,1.581,1.896]},713:{c:773,dir:vl,sizes:[.392,.568],stretch:[0,773],stretchv:[0,1],HDW:[.67,-.63,0],hd:[.67,-.63]},728:{c:774,dir:vl,sizes:[.376,.658,.784,.937,1.12,1.341,1.604,1.92]},732:{c:771,dir:vl,sizes:[.5,.652,.778,.931,1.115,1.335,1.599,1.915]},770:{dir:vl,sizes:[.5,.644,.768,.919,1.1,1.32,1.581,1.896]},771:{dir:vl,sizes:[.5,.652,.778,.931,1.115,1.335,1.599,1.915]},773:{dir:vl,sizes:[.392,.568],stretch:[0,773],stretchv:[0,1],HDW:[.67,-.63,0],hd:[.67,-.63]},774:{dir:vl,sizes:[.376,.658,.784,.937,1.12,1.341,1.604,1.92]},780:{dir:vl,sizes:[.366,.644,.768,.919,1.1,1.32,1.581,1.896]},8211:{dir:vl,stretch:[0,8211],HDW:[.277,-.255,.5],ext:.001,hd:[.277,-.255]},8212:{dir:vl,stretch:[0,8212],HDW:[.277,-.255,1],ext:.001,hd:[.277,-.255]},8213:{dir:vl,stretch:[0,8213],HDW:[.27,-.23,1.152],ext:.112,hd:[.27,-.23]},8214:{dir:xl,sizes:[1.001,1.203,1.443,1.735,2.085,2.503,3.004,3.607],schar:[8214,8741],stretch:[0,8741],stretchv:[0,2],HDW:[.75,.25,.555]},8254:{c:175,dir:vl,sizes:[.392,.568],stretch:[0,773],stretchv:[0,1],HDW:[.67,-.63,0],hd:[.67,-.63]},8260:{dir:xl,sizes:[1.001,1.311,1.717,2.249,2.945,3.859,5.055,6.621]},8400:{dir:vl,sizes:[.422,.667],stretch:[8400,8400],stretchv:[3,1],HDW:[.711,-.601,0],hd:[.631,-.601]},8401:{dir:vl,sizes:[.422,.667],stretch:[0,8400,8401],stretchv:[0,1,4],HDW:[.711,-.601,0],hd:[.631,-.601]},8406:{dir:vl,sizes:[.416,.659],stretch:[8406,8400],stretchv:[3,1],HDW:[.711,-.521,0],hd:[.631,-.601]},8407:{dir:vl,sizes:[.416,.659],stretch:[0,8400,8407],stretchv:[0,1,4],HDW:[.711,-.521,0],hd:[.631,-.601]},8417:{dir:vl,sizes:[.47,.715],stretch:[8406,8400,8407],stretchv:[3,1,4],HDW:[.711,-.521,0],hd:[.631,-.601]},8428:{dir:vl,sizes:[.422,.667],stretch:[0,845,8428],stretchv:[0,1,4],HDW:[-.171,.281,0],hd:[-.171,.201]},8429:{dir:vl,sizes:[.422,.667],stretch:[8429,845],stretchv:[3,1],HDW:[-.171,.281,0],hd:[-.171,.201]},8430:{dir:vl,sizes:[.416,.659],stretch:[8430,845],stretchv:[3,1],HDW:[-.091,.281,0],hd:[-.171,.201]},8431:{dir:vl,sizes:[.416,.659],stretch:[0,845,8431],stretchv:[0,1,4],HDW:[-.091,.281,0],hd:[-.171,.201]},8512:{dir:xl,sizes:[.684,1.401],variants:[0,2]},8592:{dir:vl,sizes:[1,1.463],variants:[0,0],schar:[8592,10229],stretch:[8592,8592],stretchv:[3,1],HDW:[.51,.01,1],hd:[.274,-.226]},8593:{dir:xl,sizes:[.883,1.349],variants:[0,2],stretch:[8593,8593],stretchv:[3,1],HDW:[.679,.203,.5]},8594:{dir:vl,sizes:[1,1.463],variants:[0,0],schar:[8594,10230],stretch:[0,8592,8594],stretchv:[0,1,4],HDW:[.51,.01,1],hd:[.274,-.226]},8595:{dir:xl,sizes:[.883,1.349],variants:[0,2],stretch:[0,8593,8595],stretchv:[0,1,4],HDW:[.703,.179,.5]},8596:{dir:vl,sizes:[1,1.442],variants:[0,0],schar:[8596,10231],stretch:[8592,8592,8594],stretchv:[3,1,4],HDW:[.51,.01,1],hd:[.274,-.226]},8597:{dir:xl,sizes:[1.015,1.015],variants:[0,2],stretch:[8593,8593,8595],stretchv:[3,1,4],HDW:[.757,.257,.5]},8598:{dir:xl,sizes:[.918,1.384],variants:[0,2]},8599:{dir:xl,sizes:[.918,1.384],variants:[0,2]},8600:{dir:xl,sizes:[.918,1.384],variants:[0,2]},8601:{dir:xl,sizes:[.918,1.384],variants:[0,2]},8602:{dir:vl,sizes:[.997,1.463],variants:[0,2],stretch:[8602,8592,0,8602],stretchv:[3,1,0,1],HDW:[.51,.01,.997],hd:[.274,-.226]},8603:{dir:vl,sizes:[.997,1.463],variants:[0,2],stretch:[0,8592,8603,8602],stretchv:[0,1,4,1],HDW:[.51,.01,.997],hd:[.274,-.226]},8606:{dir:vl,sizes:[1.017,1.463],variants:[0,2],stretch:[8606,8592],stretchv:[3,1],HDW:[.51,.01,1.017],hd:[.274,-.226]},8608:{dir:vl,sizes:[1.017,1.463],variants:[0,2],stretch:[0,8592,8608],stretchv:[0,1,4],HDW:[.51,.01,1.017],hd:[.274,-.226]},8610:{dir:vl,sizes:[1.192,1.658],variants:[0,2],stretch:[8592,8592,8610],stretchv:[3,1,4],HDW:[.51,.01,1.192],hd:[.274,-.226]},8611:{dir:vl,sizes:[1.192,1.658],variants:[0,2],stretch:[8611,8592,8594],stretchv:[3,1,4],HDW:[.51,.01,1.192],hd:[.274,-.226]},8612:{dir:vl,sizes:[.977,1.443],variants:[0,0],schar:[8612,10235],stretch:[8592,8592,8612],stretchv:[3,1,4],HDW:[.51,.011,.977],hd:[.274,-.226]},8614:{dir:vl,sizes:[.977,1.443],variants:[0,0],schar:[8614,10236],stretch:[8614,8592,8594],stretchv:[3,1,4],HDW:[.51,.011,.977],hd:[.274,-.226]},8617:{dir:vl,sizes:[.997,1.463],variants:[0,2],stretch:[8592,8617,8617],stretchv:[3,1,4],HDW:[.546,.01,.997],hd:[.274,-.226]},8618:{dir:vl,sizes:[.997,1.463],variants:[0,2],stretch:[8618,8617,8594],stretchv:[3,1,4],HDW:[.546,.01,.997],hd:[.274,-.226]},8619:{dir:vl,sizes:[.997,1.463],variants:[0,2],stretch:[8592,8617,8619],stretchv:[3,1,4],HDW:[.55,.05,.997],hd:[.274,-.226]},8620:{dir:vl,sizes:[.997,1.463],variants:[0,2],stretch:[8620,8617,8594],stretchv:[3,1,4],HDW:[.55,.05,.997],hd:[.274,-.226]},8630:{dir:vl,sizes:[.98,1.33],variants:[0,2]},8631:{dir:vl,sizes:[.98,1.33],variants:[0,2]},8636:{dir:vl,sizes:[1,1.478],variants:[0,2],stretch:[8636,8636],stretchv:[3,1],HDW:[.499,-.226,1],hd:[.273,-.226]},8637:{dir:vl,sizes:[1.012,1.478],variants:[0,2],stretch:[8637,8636],stretchv:[3,1],HDW:[.273,0,1.012],hd:[.273,-.226]},8638:{dir:xl,sizes:[.901,1.367],variants:[0,2],stretch:[8638,8638],stretchv:[3,1],HDW:[.697,.203,.441]},8639:{dir:xl,sizes:[.901,1.367],variants:[0,2],stretch:[8639,8639],stretchv:[3,1],HDW:[.697,.203,.441]},8640:{dir:vl,sizes:[1,1.478],variants:[0,2],stretch:[0,8636,8640],stretchv:[0,1,4],HDW:[.499,-.226,1],hd:[.273,-.226]},8641:{dir:vl,sizes:[1.012,1.478],variants:[0,2],stretch:[0,8636,8641],stretchv:[0,1,4],HDW:[.273,0,1.012],hd:[.273,-.226]},8642:{dir:xl,sizes:[.901,1.367],variants:[0,2],stretch:[0,8638,8642],stretchv:[0,1,4],HDW:[.703,.197,.441]},8643:{dir:xl,sizes:[.901,1.367],variants:[0,2],stretch:[0,8639,8643],stretchv:[0,1,4],HDW:[.703,.197,.441]},8644:{dir:vl,sizes:[1.018,1.484],variants:[0,2],stretch:[8644,8644,8644],stretchv:[3,1,4],HDW:[.669,.172,1.018],hd:[.432,-.065]},8645:{dir:xl,sizes:[.907,1.373],variants:[0,2],stretch:[8645,8645,8645],stretchv:[3,1,4],HDW:[.703,.203,.896]},8646:{dir:vl,sizes:[1.018,1.484],variants:[0,2],stretch:[8646,8644,8646],stretchv:[3,1,4],HDW:[.669,.172,1.018],hd:[.432,-.065]},8647:{dir:vl,sizes:[.997,1.463],variants:[0,2],stretch:[8647,8647],stretchv:[3,1],HDW:[.75,.25,.997],hd:[.512,.012]},8648:{dir:xl,sizes:[.883,1.349],variants:[0,2],stretch:[8648,8648],stretchv:[3,1],HDW:[.679,.203,.992]},8649:{dir:vl,sizes:[.997,1.463],variants:[0,2],stretch:[0,8647,8649],stretchv:[0,1,4],HDW:[.75,.25,.997],hd:[.512,.012]},8650:{dir:xl,sizes:[.883,1.349],variants:[0,2],stretch:[0,8648,8650],stretchv:[0,1,4],HDW:[.703,.179,.992]},8651:{dir:vl,sizes:[1.018,1.484],variants:[0,2],stretch:[8651,8651,8651],stretchv:[3,1,4],HDW:[.598,.098,1.018],hd:[.369,-.131]},8652:{dir:vl,sizes:[1.018,1.484],variants:[0,2],stretch:[8652,8651,8652],stretchv:[3,1,4],HDW:[.598,.098,1.018],hd:[.369,-.131]},8653:{dir:vl,sizes:[.991,1.457],variants:[0,2],stretch:[8653,8654,0,8653],stretchv:[3,1,0,1],HDW:[.52,.02,.991],hd:[.369,-.131]},8654:{dir:vl,sizes:[1.068,1.534],variants:[0,2],stretch:[8656,8654,8658,8653],stretchv:[3,1,4,1],HDW:[.52,.02,1.068],hd:[.369,-.131]},8655:{dir:vl,sizes:[.991,1.457],variants:[0,2],stretch:[0,8654,8658,8653],stretchv:[0,1,4,1],HDW:[.52,.02,.991],hd:[.369,-.131]},8656:{dir:vl,sizes:[1,1.457],variants:[0,0],schar:[8656,10232],stretch:[8656,8656],stretchv:[3,1],HDW:[.52,.02,1],hd:[.369,-.131]},8657:{dir:xl,sizes:[.88,1.346],variants:[0,2],stretch:[8657,8657],stretchv:[3,1],HDW:[.676,.203,.652]},8658:{dir:vl,sizes:[1,1.457],variants:[0,0],schar:[8658,10233],stretch:[0,8656,8658],stretchv:[0,1,4],HDW:[.52,.02,1],hd:[.369,-.131]},8659:{dir:xl,sizes:[.88,1.346],variants:[0,2],stretch:[0,8657,8659],stretchv:[0,1,4],HDW:[.703,.176,.652]},8660:{dir:vl,sizes:[1,1.534],variants:[0,0],schar:[8660,10234],stretch:[8656,8656,8658],stretchv:[3,1,4],HDW:[.52,.02,1],hd:[.369,-.131]},8661:{dir:xl,sizes:[.957,1.423],variants:[0,2],stretch:[8657,8657,8659],stretchv:[3,1,4],HDW:[.728,.228,.652]},8666:{dir:vl,sizes:[1.015,1.461],variants:[0,2],stretch:[8666,8666],stretchv:[3,1],HDW:[.617,.117,1.015],hd:[.466,-.034]},8667:{dir:vl,sizes:[1.015,1.461],variants:[0,2],stretch:[0,8666,8667],stretchv:[0,1,4],HDW:[.617,.117,1.015],hd:[.466,-.034]},8693:{dir:xl,sizes:[.907,1.373],variants:[0,2],stretch:[8693,8645,8693],stretchv:[3,1,4],HDW:[.703,.203,.896]},8694:{dir:vl,sizes:[.997,1.463],variants:[0,2],stretch:[0,8694,8694],stretchv:[0,1,4],HDW:[.99,.49,.997],hd:[.751,.251]},8719:{dir:xl,sizes:[1.001,1.401],variants:[0,2]},8720:{dir:xl,sizes:[1.001,1.401],variants:[0,2]},8721:{dir:xl,sizes:[1.001,1.401],variants:[0,2]},8722:{dir:vl,stretch:[0,8722],HDW:[.583,.083,.778],ext:.112,hd:[.583,.083]},8725:{c:47,dir:xl,sizes:[1.001,1.311,1.717,2.249,2.945,3.859,5.055,6.621]},8730:{dir:xl,sizes:[1.001,1.201,1.801,2.401,3.001],stretch:[8730,8730,9143],stretchv:[3,1,0],HDW:[.04,.96,1.056],fullExt:[.64,2.44]},8739:{dir:xl,sizes:[1.001,1.203,1.443,1.735,2.085,2.505,3.005,3.605],stretch:[0,8739],stretchv:[0,2],HDW:[.75,.25,.333]},8741:{dir:xl,sizes:[1.001,1.203,1.443,1.735,2.085,2.503,3.004,3.607],stretch:[0,8741],stretchv:[0,2],HDW:[.75,.25,.555]},8747:{dir:xl,sizes:[1.112,2.223],variants:[0,2],stretch:[8992,9134,8993],HDW:[.805,.306,1.185]},8748:{dir:xl,sizes:[1.112,2.223],variants:[0,2]},8749:{dir:xl,sizes:[1.112,2.223],variants:[0,2]},8750:{dir:xl,sizes:[1.112,2.223],variants:[0,2]},8751:{dir:xl,sizes:[1.112,2.223],variants:[0,2]},8752:{dir:xl,sizes:[1.112,2.223],variants:[0,2]},8753:{dir:xl,sizes:[1.112,2.223],variants:[0,2]},8754:{dir:xl,sizes:[1.112,2.223],variants:[0,2]},8755:{dir:xl,sizes:[1.112,2.223],variants:[0,2]},8801:{dir:vl,stretch:[0,8801],HDW:[.464,-.036,.778],ext:.112,hd:[.464,-.036]},8803:{dir:vl,stretch:[0,8803],HDW:[.561,.061,.778],ext:.112,hd:[.561,.061]},8866:{dir:xl,sizes:[.685,.869],variants:[0,0],schar:[8866,10205]},8867:{dir:xl,sizes:[.685,.869],variants:[0,0],schar:[8867,10206]},8868:{dir:xl,sizes:[.685,.869],variants:[0,0],schar:[8868,10201]},8869:{dir:xl,sizes:[.685,.869],variants:[0,0],schar:[8869,10200]},8896:{dir:xl,sizes:[1.045,1.394],variants:[0,2]},8897:{dir:xl,sizes:[1.045,1.394],variants:[0,2]},8898:{dir:xl,sizes:[1.023,1.357],variants:[0,2]},8899:{dir:xl,sizes:[1.023,1.357],variants:[0,2]},8968:{dir:xl,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[9121,9122],HDW:[.75,.25,.667]},8969:{dir:xl,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[9124,9125],HDW:[.75,.25,.667]},8970:{dir:xl,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[0,9122,9123],HDW:[.75,.25,.667]},8971:{dir:xl,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[0,9125,9126],HDW:[.75,.25,.667]},8978:{c:9180,dir:vl,sizes:[.504,1.006,1.508,2.012,2.516,3.02,3.524,4.032],stretch:[9180,9180,9180],stretchv:[3,1,4],HDW:[.796,-.502,.504],hd:[.796,-.689]},8994:{c:9180,dir:vl,sizes:[.504,1.006,1.508,2.012,2.516,3.02,3.524,4.032],stretch:[9180,9180,9180],stretchv:[3,1,4],HDW:[.796,-.502,.504],hd:[.796,-.689]},8995:{c:9181,dir:vl,sizes:[.504,1.006,1.508,2.012,2.516,3.02,3.524,4.032],stretch:[9181,9181,9181],stretchv:[3,1,4],HDW:[-.072,.366,.504],hd:[-.259,.366]},9001:{dir:xl,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],schar:[9001,10216]},9002:{dir:xl,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],schar:[9002,10217]},9130:{dir:xl,sizes:[.748],stretch:[0,9130],HDW:[.748,0,.902]},9135:{c:8211,dir:vl,stretch:[0,8211],HDW:[.277,-.255,.5],ext:.001,hd:[.277,-.255]},9136:{dir:xl,sizes:[1.125],stretch:[9127,9130,9133],HDW:[.75,.375,.902]},9137:{dir:xl,sizes:[1.125],stretch:[9131,9130,9129],HDW:[.75,.375,.902]},9140:{dir:vl,sizes:[.36,.735,1.11,1.485,1.86,2.235,2.61,2.985],stretch:[9140,9140,9140],stretchv:[3,1,4],HDW:[.772,-.504,.36],hd:[.772,-.706]},9141:{dir:vl,sizes:[.36,.735,1.11,1.485,1.86,2.235,2.61,2.985],stretch:[9141,9141,9141],stretchv:[3,1,4],HDW:[-.074,.342,.36],hd:[-.276,.342]},9168:{dir:xl,sizes:[.642],stretch:[0,9168],HDW:[.642,0,.333]},9180:{dir:vl,sizes:[.504,1.006,1.508,2.012,2.516,3.02,3.524,4.032],stretch:[9180,9180,9180],stretchv:[3,1,4],HDW:[.796,-.502,.504],hd:[.796,-.689]},9181:{dir:vl,sizes:[.504,1.006,1.508,2.012,2.516,3.02,3.524,4.032],stretch:[9181,9181,9181],stretchv:[3,1,4],HDW:[-.072,.366,.504],hd:[-.259,.366]},9182:{dir:vl,sizes:[.492,.993,1.494,1.996,2.498,3,3.502,4.006],stretch:[9182,175,9182,9182],stretchv:[3,1,4,1],HDW:[.85,-.493,.492],hd:[.724,-.618]},9183:{dir:vl,sizes:[.492,.993,1.494,1.996,2.498,3,3.502,4.006],stretch:[9183,95,9183,9183],stretchv:[3,1,4,1],HDW:[-.062,.419,.492],hd:[-.188,.294]},9184:{dir:vl,sizes:[.546,1.048,1.55,2.056,2.564,3.068,3.574,4.082],stretch:[9184,9184,9184],stretchv:[3,1,4],HDW:[.873,-.605,.546],hd:[.873,-.766]},9185:{dir:vl,sizes:[.546,1.048,1.55,2.056,2.564,3.068,3.574,4.082],stretch:[9185,9185,9185],stretchv:[3,1,4],HDW:[-.175,.443,.546],hd:[-.336,.443]},9472:{c:8211,dir:vl,stretch:[0,8211],HDW:[.277,-.255,.5],ext:.001,hd:[.277,-.255]},10072:{c:8739,dir:xl,sizes:[1.001,1.203,1.443,1.735,2.085,2.505,3.005,3.605],stretch:[0,8739],stretchv:[0,2],HDW:[.75,.25,.333]},10197:{dir:xl,sizes:[.511,.628],variants:[0,2]},10198:{dir:xl,sizes:[.511,.628],variants:[0,2]},10199:{dir:xl,sizes:[.511,.628],variants:[0,2]},10214:{dir:xl,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[10214,10214,10214],stretchv:[3,1,4],HDW:[.75,.25,1.007]},10215:{dir:xl,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[10215,10215,10215],stretchv:[3,1,4],HDW:[.75,.25,1.007]},10216:{dir:xl,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},10217:{dir:xl,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},10218:{dir:xl,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},10219:{dir:xl,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},10222:{dir:xl,sizes:[1.025,1.127,1.229,1.483,1.837,2.141,2.445,3.053],stretch:[10222,10222,10222],stretchv:[3,1,4],HDW:[.762,.262,.647]},10223:{dir:xl,sizes:[1.025,1.127,1.229,1.483,1.837,2.141,2.445,3.053],stretch:[10223,10223,10223],stretchv:[3,1,4],HDW:[.762,.262,.647]},10229:{c:8592,dir:vl,sizes:[1,1.463],variants:[0,0],schar:[8592,10229],stretch:[8592,8592],stretchv:[3,1],HDW:[.51,.01,1],hd:[.274,-.226]},10230:{c:8594,dir:vl,sizes:[1,1.463],variants:[0,0],schar:[8594,10230],stretch:[0,8592,8594],stretchv:[0,1,4],HDW:[.51,.01,1],hd:[.274,-.226]},10231:{c:8596,dir:vl,sizes:[1,1.442],variants:[0,0],schar:[8596,10231],stretch:[8592,8592,8594],stretchv:[3,1,4],HDW:[.51,.01,1],hd:[.274,-.226]},10232:{c:8656,dir:vl,sizes:[1,1.457],variants:[0,0],schar:[8656,10232],stretch:[8656,8656],stretchv:[3,1],HDW:[.52,.02,1],hd:[.369,-.131]},10233:{c:8658,dir:vl,sizes:[1,1.457],variants:[0,0],schar:[8658,10233],stretch:[0,8656,8658],stretchv:[0,1,4],HDW:[.52,.02,1],hd:[.369,-.131]},10234:{c:8660,dir:vl,sizes:[1,1.534],variants:[0,0],schar:[8660,10234],stretch:[8656,8656,8658],stretchv:[3,1,4],HDW:[.52,.02,1],hd:[.369,-.131]},10235:{c:8612,dir:vl,sizes:[.977,1.443],variants:[0,0],schar:[8612,10235],stretch:[8592,8592,8612],stretchv:[3,1,4],HDW:[.51,.011,.977],hd:[.274,-.226]},10236:{c:8614,dir:vl,sizes:[.977,1.443],variants:[0,0],schar:[8614,10236],stretch:[8614,8592,8594],stretchv:[3,1,4],HDW:[.51,.011,.977],hd:[.274,-.226]},10570:{dir:vl,sizes:[1.012],stretch:[8636,8636,8641],stretchv:[3,1,4],HDW:[.499,0,1.012],hd:[.273,-.226]},10571:{dir:vl,sizes:[1.012],stretch:[8637,8636,8640],stretchv:[3,1,4],HDW:[.499,0,1.012],hd:[.273,-.226]},10574:{dir:vl,sizes:[1],stretch:[8636,8636,8640],stretchv:[3,1,4],HDW:[.499,-.226,1],hd:[.273,-.226]},10576:{dir:vl,sizes:[1],stretch:[8637,8636,8641],stretchv:[3,1,4],HDW:[.273,0,1],hd:[.273,-.226]},10586:{dir:vl,sizes:[1],stretch:[8636,8636,8612],stretchv:[3,1,4],HDW:[.51,.011,1],hd:[.273,-.226]},10587:{dir:vl,sizes:[1],stretch:[8614,8636,8640],stretchv:[3,1,4],HDW:[.51,.011,1],hd:[.273,-.226]},10590:{dir:vl,sizes:[1],stretch:[8637,8636,8612],stretchv:[3,1,4],HDW:[.51,.011,1],hd:[.273,-.226]},10591:{dir:vl,sizes:[1],stretch:[8614,8636,8641],stretchv:[3,1,4],HDW:[.51,.011,1],hd:[.273,-.226]},10627:{dir:xl,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},10628:{dir:xl,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},10629:{dir:xl,sizes:[.997,1.095,1.195,1.445,1.793,2.093,2.393,2.991]},10630:{dir:xl,sizes:[.997,1.095,1.195,1.445,1.793,2.093,2.393,2.991]},10744:{dir:xl,sizes:[1.076,1.917],variants:[0,2]},10745:{dir:xl,sizes:[1.076,1.917],variants:[0,2]},10748:{dir:xl,sizes:[1.001,1.083,1.185,1.433,1.793,2.093,2.383,2.997]},10749:{dir:xl,sizes:[1.001,1.083,1.185,1.433,1.793,2.093,2.383,2.997]},10752:{dir:xl,sizes:[.987,1.305],variants:[0,2]},10753:{dir:xl,sizes:[.987,1.305],variants:[0,2]},10754:{dir:xl,sizes:[.987,1.305],variants:[0,2]},10755:{dir:xl,sizes:[1.023,1.357],variants:[0,2]},10756:{dir:xl,sizes:[1.023,1.357],variants:[0,2]},10757:{dir:xl,sizes:[1.029,1.373],variants:[0,2]},10758:{dir:xl,sizes:[1.029,1.373],variants:[0,2]},10759:{dir:xl,sizes:[1.045,1.907],variants:[0,2]},10760:{dir:xl,sizes:[1.045,1.907],variants:[0,2]},10761:{dir:xl,sizes:[.981,1.261],variants:[0,2]},10762:{dir:xl,sizes:[1.001,1.401],variants:[0,2]},10763:{dir:xl,sizes:[1.112,2.223],variants:[0,2]},10764:{dir:xl,sizes:[1.112,2.223],variants:[0,2]},10765:{dir:xl,sizes:[1.112,2.223],variants:[0,2]},10766:{dir:xl,sizes:[1.112,2.223],variants:[0,2]},10767:{dir:xl,sizes:[1.112,2.223],variants:[0,2]},10768:{dir:xl,sizes:[1.112,2.223],variants:[0,2]},10769:{dir:xl,sizes:[1.112,2.223],variants:[0,2]},10770:{dir:xl,sizes:[1.112,2.223],variants:[0,2]},10771:{dir:xl,sizes:[1.112,2.223],variants:[0,2]},10772:{dir:xl,sizes:[1.112,2.223],variants:[0,2]},10773:{dir:xl,sizes:[1.112,2.223],variants:[0,2]},10774:{dir:xl,sizes:[1.112,2.223],variants:[0,2]},10775:{dir:xl,sizes:[1.112,2.223],variants:[0,2]},10776:{dir:xl,sizes:[1.112,2.223],variants:[0,2]},10777:{dir:xl,sizes:[1.112,2.223],variants:[0,2]},10778:{dir:xl,sizes:[1.112,2.223],variants:[0,2]},10779:{dir:xl,sizes:[1.274,2.464],variants:[0,2]},10780:{dir:xl,sizes:[1.274,2.486],variants:[0,2]},10781:{dir:xl,sizes:[.767,1.073],variants:[0,2]},10782:{dir:xl,sizes:[.767,1.074],variants:[0,2]},10784:{dir:xl,sizes:[.595,.835],variants:[0,2]},10785:{dir:xl,sizes:[.901,1.261],variants:[0,2]},11004:{dir:xl,sizes:[1.001,1.915],variants:[0,2]},11007:{dir:xl,sizes:[1.241,1.915],variants:[0,2]},12296:{c:10216,dir:xl,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},12297:{c:10217,dir:xl,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},65079:{c:9182,dir:vl,sizes:[.492,.993,1.494,1.996,2.498,3,3.502,4.006],stretch:[9182,175,9182,9182],stretchv:[3,1,4,1],HDW:[.85,-.493,.492],hd:[.724,-.618]},65080:{c:9183,dir:vl,sizes:[.492,.993,1.494,1.996,2.498,3,3.502,4.006],stretch:[9183,95,9183,9183],stretchv:[3,1,4,1],HDW:[-.062,.419,.492],hd:[-.188,.294]},126704:{dir:xl,sizes:[.527,.738]},126705:{dir:xl,sizes:[.531,.744]}},Wd=function(t$1){var e$1;return(e$1=class extends t$1{}).defaultVariants=[..._l.defaultVariants,[`-size3`,`normal`],[`-size4`,`normal`],[`-size5`,`normal`],[`-size6`,`normal`],[`-size7`,`normal`],[`-lf-tp`,`normal`],[`-rt-bt`,`normal`],[`-ex-md`,`normal`],[`-bbold`,`normal`],[`-upsmall`,`normal`],[`-uplarge`,`normal`]],e$1.VariantSmp=Object.assign(Object.assign({},_l.VariantSmp),{"-bbold":[120120,120146,,,120792]}),e$1.defaultCssFonts=Object.assign(Object.assign({},_l.defaultCssFonts),{"-size3":[`serif`,!1,!1],"-size4":[`serif`,!1,!1],"-size5":[`serif`,!1,!1],"-size6":[`serif`,!1,!1],"-size7":[`serif`,!1,!1],"-lf-tp":[`serif`,!1,!1],"-rt-bt":[`serif`,!1,!1],"-ex-md":[`serif`,!1,!1],"-bbold":[`serif`,!1,!1],"-upsmall":[`serif`,!1,!1],"-uplarge":[`serif`,!1,!1]}),e$1.defaultAccentMap={94:``,126:``,768:``,769:``,770:``,771:``,772:``,774:``,775:``,776:``,778:``,780:``,8594:``},e$1.defaultParams=Object.assign(Object.assign({},_l.defaultParams),{x_height:.442}),e$1.defaultSizeVariants=[`normal`,`-smallop`,`-largeop`,`-size3`,`-size4`,`-size5`,`-size6`,`-size7`],e$1.defaultStretchVariants=[`normal`,`-ex-md`,`-size3`,`-lf-tp`,`-rt-bt`],e$1}(Gl);class zd extends Wd{constructor(){super(...arguments),this.cssFontPrefix=`NCM`}}zd.NAME=`MathJaxNewcm`,zd.OPTIONS=Object.assign(Object.assign({},Wd.OPTIONS),{fontURL:`@mathjax/mathjax-newcm-font/js/chtml/woff2`,dynamicPrefix:`@mathjax/mathjax-newcm-font/js/chtml/dynamic`}),zd.defaultCssFamilyPrefix=`MJX-NCM-ZERO`,zd.defaultVariantLetters={normal:``,bold:`B`,italic:`I`,"bold-italic":`BI`,"double-struck":`DS`,fraktur:`F`,"bold-fraktur":`FB`,"sans-serif":`SS`,"bold-sans-serif":`SSB`,"sans-serif-italic":`SSI`,"sans-serif-bold-italic":`SSBI`,monospace:`M`,"-smallop":`SO`,"-largeop":`LO`,"-size3":`S3`,"-size4":`S4`,"-size5":`S5`,"-size6":`S6`,"-size7":`S7`,"-tex-mathit":`MI`,"-tex-calligraphic":`C`,"-tex-bold-calligraphic":`CB`,"-tex-oldstyle":`OS`,"-tex-bold-oldstyle":`OB`,"-tex-variant":`V`,"-lf-tp":`LT`,"-rt-bt":`RB`,"-ex-md":`EM`,"-bbold":`Be`,"-upsmall":`U`,"-uplarge":`Ue`,script:`S`,"bold-script":`SB`},zd.defaultDelimiters=Hd,zd.defaultChars={normal:{32:[0,0,.332],33:[.716,0,.278],34:[.705,-.423,.374],35:[.694,.194,.833],36:[.75,.056,.5],37:[.75,.056,.833],38:[.716,.022,.778],39:[.705,-.423,.278],40:[.748,.248,.389],41:[.748,.248,.389],42:[.75,-.32,.5],43:[.583,.083,.778],44:[.106,.193,.278],45:[.245,-.187,.333],46:[.106,0,.278],47:[.75,.25,.5],48:[.666,.022,.5],49:[.666,0,.5],50:[.666,0,.5,{sk:-.01}],51:[.666,.022,.5],52:[.677,0,.5,{sk:.103}],53:[.666,.022,.5],54:[.666,.022,.5,{sk:.068}],55:[.676,.022,.5,{sk:-.147}],56:[.666,.022,.5,{sk:.011}],57:[.666,.022,.5],58:[.431,0,.278],59:[.431,.193,.278],60:[.547,.052,.778],61:[.367,-.133,.778],62:[.547,.047,.778],63:[.705,0,.472],64:[.705,.011,.778],65:[.716,0,.75],66:[.683,0,.708,{sk:-.014}],67:[.705,.022,.722,{sk:.044}],68:[.683,0,.764],69:[.68,0,.681,{sk:.013}],70:[.68,0,.653],71:[.705,.022,.785,{sk:.013}],72:[.683,0,.75],73:[.683,0,.361],74:[.683,.022,.514,{sk:.06}],75:[.683,0,.778,{sk:-.011}],76:[.683,0,.625,{sk:-.119}],77:[.683,0,.917],78:[.683,0,.75],79:[.705,.022,.778],80:[.683,0,.681],81:[.705,.194,.778],82:[.683,.022,.736,{sk:-.026}],83:[.705,.022,.556],84:[.677,0,.722],85:[.683,.022,.75,{sk:.02}],86:[.683,.022,.75],87:[.683,.022,1.028],88:[.683,0,.75],89:[.683,0,.75],90:[.683,0,.611,{sk:.011}],91:[.75,.25,.278],92:[.75,.25,.5],93:[.75,.25,.278],94:[.745,-.561,.556,{ic:.006}],95:[-.1,.14,.333],96:[.698,-.509,.5,{sk:-.031}],97:[.448,.011,.5,{sk:-.036}],98:[.694,.011,.556,{sk:-.142}],99:[.448,.011,.444,{sk:.027}],100:[.694,.011,.556,{sk:.109}],101:[.448,.011,.444,{sk:.014}],102:[.705,0,.306,{ic:.051,sk:.043}],103:[.453,.206,.5,{sk:-.024}],104:[.694,0,.556,{sk:-.132}],105:[.657,0,.278],106:[.657,.205,.306],107:[.694,0,.528,{sk:-.128}],108:[.694,0,.278],109:[.442,0,.833],110:[.442,0,.556,{sk:.013}],111:[.448,.011,.5],112:[.442,.194,.556,{sk:.032}],113:[.442,.194,.528],114:[.442,0,.392,{sk:-.015}],115:[.448,.011,.394],116:[.615,.011,.389,{sk:-.034}],117:[.442,.011,.556,{sk:-.017}],118:[.431,.011,.528,{sk:.014}],119:[.431,.011,.722],120:[.431,0,.528],121:[.431,.205,.528],122:[.431,0,.444],123:[.75,.25,.5],124:[.75,.25,.278],125:[.75,.25,.5],126:[.309,-.191,.556,{ic:.001}],160:[0,0,.332],163:[.683,.035,.75],165:[.683,0,.75],167:[.705,.205,.444],168:[.652,-.557,.5],172:[.367,-.133,.667],175:[.62,-.589,.5],176:[.683,-.406,.375],177:[.583,.084,.778],180:[.698,-.509,.5,{sk:.031}],181:[.441,.194,.556],182:[.694,.194,.611],183:[.303,-.197,.278],215:[.491,-.009,.778],240:[.696,.011,.5],247:[.504,.004,.778],305:[.442,0,.278],567:[.442,.205,.306],710:[.694,-.515,.5],711:[.693,-.514,.5],713:[.62,-.589,.5],714:[.698,-.509,.5,{sk:.031}],715:[.698,-.509,.5,{sk:-.031}],717:[-.193,.233,.333,{ic:.018}],728:[.69,-.518,.5],729:[.657,-.551,.278],730:[.705,-.529,.75],732:[.653,-.556,.5],767:[-.025,.275,0,{dx:.274}],768:[.733,-.544,0,{dx:.294}],769:[.733,-.544,0,{dx:.234}],770:[.694,-.515,.5],771:[.653,-.556,.5,{sk:.016}],772:[.64,-.609,0,{dx:.264}],773:[.67,-.63,0,{dx:.264}],774:[.73,-.592,0,{dx:.264}],775:[.677,-.571,0,{dx:.265}],776:[.672,-.577,0,{dx:.264}],778:[.725,-.549,0,{dx:.264}],780:[.726,-.577,0,{dx:.264}],824:[.75,.25,0,{sk:-.263}],913:[.716,0,.75],914:[.683,0,.708,{sk:-.068}],915:[.68,0,.625,{sk:-.015}],916:[.716,0,.833],917:[.68,0,.681,{sk:-.022}],918:[.683,0,.611,{sk:.011}],919:[.683,0,.75],920:[.705,.022,.778],921:[.683,0,.361],922:[.683,0,.778,{sk:-.011}],923:[.716,0,.694],924:[.683,0,.917],925:[.683,0,.75],926:[.677,0,.667],927:[.705,.022,.778],928:[.68,0,.75],929:[.683,0,.681,{sk:-.058}],931:[.683,0,.722,{sk:-.011}],932:[.677,0,.722],933:[.705,0,.778],934:[.683,0,.722],935:[.683,0,.75,{sk:-.014}],936:[.683,0,.778],937:[.705,0,.722],945:[.442,.011,.641,{ic:.006,sk:.031}],946:[.706,.194,.558],947:[.442,.215,.586],948:[.712,.011,.474],949:[.453,.022,.535,{sk:-.024}],950:[.697,.205,.53,{sk:-.041}],951:[.442,.216,.53,{sk:-.047}],952:[.705,.011,.488],953:[.442,.011,.308,{sk:-.056}],954:[.442,.011,.53,{sk:-.018}],955:[.694,.013,.537,{ic:.029,sk:-.204}],956:[.442,.216,.53,{sk:-.028}],957:[.442,0,.502,{sk:-.042}],958:[.697,.205,.53,{sk:-.069}],959:[.448,.011,.5],960:[.431,.011,.586,{sk:-.014}],961:[.442,.216,.488],962:[.442,.108,.474],963:[.431,.011,.599],964:[.431,.012,.53,{sk:-.033}],965:[.442,.011,.53,{sk:-.014}],966:[.442,.218,.641,{sk:-.018}],967:[.442,.205,.641,{ic:.004,sk:-.057}],968:[.694,.205,.641,{sk:.028}],969:[.442,.011,.641],977:[.705,.011,.53,{sk:.026}],978:[.715,0,.778],981:[.694,.205,.641],982:[.431,.011,.836,{sk:-.014}],1008:[.442,.012,.624,{sk:-.015}],1009:[.442,.194,.488],1012:[.705,.022,.778],1013:[.431,.011,.414,{ic:.015,sk:.024}],1014:[.431,.011,.414,{ic:.058}],8192:[0,0,.5],8193:[0,0,1],8194:[0,0,.5],8195:[0,0,1],8196:[0,0,.333],8197:[0,0,.25],8198:[0,0,.167],8199:[0,0,.5],8200:[0,0,.25],8201:[0,0,.2],8202:[0,0,.1],8203:[0,0,0],8208:[.245,-.187,.333],8209:[.245,-.187,.333],8210:[.342,-.302,.68],8211:[.277,-.255,.5],8212:[.277,-.255,1],8213:[.27,-.23,1.152],8214:[.75,.25,.398],8216:[.693,-.394,.278],8217:[.694,-.395,.278],8220:[.693,-.394,.472],8221:[.694,-.395,.472],8224:[.705,.216,.444],8225:[.705,.205,.444],8230:[.106,0,.837],8231:[.266,-.16,.276],8239:[0,0,.2],8242:[.748,-.43,.311],8243:[.748,-.43,.511],8244:[.748,-.43,.711],8245:[.748,-.43,.311],8246:[.748,-.43,.511],8247:[.748,-.43,.711],8260:[.75,.25,.5],8279:[.748,-.43,.911],8287:[0,0,.222],8288:[0,0,0],8289:[0,0,0],8290:[0,0,0],8291:[0,0,0],8292:[0,0,0],8356:[.683,.035,.75],8364:[.705,.022,.627],8400:[.711,-.601,0,{dx:.264}],8401:[.711,-.601,0,{dx:.264}],8402:[.75,.25,0,{sk:-.264}],8406:[.711,-.521,0,{dx:.264}],8407:[.711,-.521,0,{dx:.264}],8411:[.696,-.604,0,{dx:.264}],8412:[.696,-.604,0,{dx:.264}],8417:[.711,-.521,0,{dx:.264}],8428:[-.171,.281,0,{dx:.264}],8429:[-.171,.281,0,{dx:.264}],8430:[-.091,.281,0,{dx:.264}],8431:[-.091,.281,0,{dx:.264}],8455:[.705,.022,.53],8462:[.694,.011,.576,{sk:-.033}],8463:[.694,.011,.576],8486:[.705,0,.722],8487:[.684,.021,.722],8490:[.683,0,.778,{sk:-.011}],8491:[.892,0,.75],8498:[.68,0,.653],8501:[.693,0,.611],8502:[.723,.04,.604],8503:[.721,.03,.528],8504:[.71,.035,.574],8592:[.51,.01,1],8593:[.679,.203,.5],8594:[.51,.01,1],8595:[.703,.179,.5],8596:[.51,.01,1],8597:[.757,.257,.5],8598:[.714,.203,1],8599:[.714,.203,1],8600:[.703,.214,1],8601:[.703,.214,1],8602:[.51,.01,.997],8603:[.51,.01,.997],8606:[.51,.01,1.017],8608:[.51,.01,1.017],8610:[.51,.01,1.192],8611:[.51,.01,1.192],8612:[.51,.011,.977],8614:[.51,.011,.977],8617:[.55,.01,.997],8618:[.55,.01,.997],8619:[.55,.05,.997],8620:[.55,.05,.997],8622:[.51,.01,.996],8630:[.562,-.229,.98],8631:[.562,-.229,.98],8634:[.68,.06,.771],8635:[.68,.06,.771],8636:[.503,-.23,1],8637:[.27,.003,1.012],8638:[.697,.203,.441],8639:[.697,.203,.441],8640:[.503,-.23,1],8641:[.27,.003,1.012],8642:[.703,.197,.441],8643:[.703,.197,.441],8644:[.672,.172,1.018],8645:[.703,.203,.896],8646:[.672,.172,1.018],8647:[.75,.25,.997],8648:[.679,.203,.992],8649:[.75,.25,.997],8650:[.703,.179,.992],8651:[.6,.1,1.018],8652:[.6,.1,1.018],8653:[.52,.02,.991],8654:[.52,.02,1.068],8655:[.52,.02,.991],8656:[.52,.02,1],8657:[.676,.203,.611],8658:[.52,.02,1],8659:[.703,.176,.611],8660:[.52,.02,1],8661:[.728,.228,.611],8666:[.617,.117,1.015],8667:[.617,.117,1.015],8672:[.51,.01,1],8673:[.692,.192,.684],8674:[.51,.01,1],8675:[.692,.192,.684],8676:[.51,.01,1.018],8677:[.51,.01,1.018],8693:[.703,.203,.896],8694:[.99,.49,.997],8704:[.688,-.002,.666],8705:[.684,0,.556],8706:[.716,.022,.586],8707:[.684,0,.556],8708:[.789,.105,.556],8709:[.772,.078,.5],8710:[.716,0,.833],8711:[.683,.033,.833],8712:[.543,.043,.667],8713:[.73,.23,.667],8715:[.543,.043,.667],8716:[.73,.23,.667],8718:[.554,0,.666],8719:[.75,.25,.944],8720:[.75,.25,.944],8721:[.75,.25,1.056],8722:[.583,.083,.778],8723:[.584,.083,.778],8724:[.785,.083,.778],8725:[.603,.103,.568],8726:[.603,.103,.568],8727:[.462,-.039,.5],8728:[.4,-.1,.412],8729:[.445,-.055,.5],8730:[.04,.96,.833,{ic:.02}],8733:[.442,.011,.778],8734:[.442,.011,1],8735:[.679,-.013,.778],8736:[.724,-.013,.778],8737:[.724,.109,.778],8738:[.562,.062,.778],8739:[.75,.25,.278],8740:[.75,.25,.388],8741:[.75,.25,.5],8742:[.75,.25,.556],8743:[.602,.02,.667],8744:[.601,.02,.667],8745:[.604,.02,.667],8746:[.604,.02,.667],8747:[.805,.306,.545,{ic:.12}],8748:[.805,.306,.915,{ic:.12}],8749:[.805,.306,1.285,{ic:.12}],8750:[.805,.306,.615,{ic:.05}],8751:[.805,.306,.985,{ic:.05}],8752:[.805,.306,1.355,{ic:.05}],8753:[.805,.306,.675,{ic:.02}],8754:[.805,.306,.662,{ic:.02}],8755:[.805,.306,.662,{ic:.02}],8756:[.416,-.084,.516],8757:[.416,-.084,.516],8758:[.422,-.078,.278],8759:[.422,-.078,.516],8760:[.504,-.23,.778],8761:[.422,-.078,.906],8764:[.366,-.134,.773],8765:[.366,-.134,.773],8766:[.466,-.034,.901],8767:[.492,-.008,.778],8768:[.583,.083,.28],8769:[.482,-.018,.773],8770:[.38,-.032,.778],8771:[.468,-.12,.778],8772:[.603,.103,.778],8773:[.552,-.036,.778],8774:[.614,.048,.778],8775:[.603,.103,.778],8776:[.457,-.043,.773],8777:[.603,.103,.773],8778:[.541,-.036,.778],8779:[.541,.041,.773],8780:[.541,-.036,.778],8781:[.498,-.002,.778],8784:[.601,-.133,.778],8788:[.422,-.078,.906],8789:[.422,-.078,.906],8797:[.793,-.133,.778],8799:[.803,-.133,.778],8800:[.73,.23,.778],8801:[.464,-.036,.778],8802:[.73,.23,.778],8803:[.561,.061,.778],8804:[.631,.119,.778],8805:[.631,.119,.778],8806:[.715,.203,.778],8807:[.715,.203,.778],8808:[.715,.287,.778],8809:[.715,.287,.778],8810:[.554,.047,1],8811:[.546,.054,1],8812:[.77,.27,.434],8813:[.73,.23,.778],8814:[.73,.23,.778],8815:[.73,.23,.778],8816:[.73,.23,.778],8817:[.73,.23,.778],8818:[.636,.125,.776],8819:[.636,.125,.776],8820:[.691,.191,.776],8821:[.691,.191,.776],8822:[.741,.241,.778],8823:[.741,.241,.778],8824:[.776,.276,.778],8825:[.776,.276,.778],8826:[.547,.047,.778],8827:[.547,.047,.778],8828:[.639,.139,.738],8829:[.639,.139,.738],8830:[.682,.17,.773],8831:[.682,.17,.773],8832:[.73,.23,.778],8833:[.73,.23,.778],8834:[.543,.043,.778],8835:[.543,.043,.778],8836:[.73,.23,.778],8837:[.73,.23,.778],8838:[.627,.127,.778],8839:[.627,.127,.778],8840:[.73,.23,.778],8841:[.73,.23,.778],8842:[.627,.211,.778],8843:[.627,.211,.778],8845:[.604,.02,.667],8846:[.604,.02,.667],8847:[.543,.043,.778],8848:[.543,.043,.778],8849:[.627,.127,.778],8850:[.627,.127,.778],8851:[.604,.02,.667],8852:[.604,.02,.667],8853:[.591,.093,.782],8854:[.591,.093,.782],8855:[.591,.093,.782],8856:[.591,.093,.782],8857:[.591,.093,.782],8858:[.591,.093,.782],8859:[.591,.093,.782],8860:[.591,.093,.782],8861:[.591,.093,.782],8862:[.583,.083,.778],8863:[.583,.083,.778],8864:[.583,.083,.778],8865:[.583,.083,.778],8866:[.684,0,.611],8867:[.684,0,.611],8868:[.664,.02,.778],8869:[.684,0,.778],8870:[.684,0,.445],8871:[.684,0,.445],8872:[.684,0,.612],8873:[.684,0,.673],8874:[.684,0,.841],8875:[.684,0,.653],8876:[.684,0,.565],8877:[.684,0,.732],8878:[.684,0,.793],8879:[.684,0,.773],8880:[.563,.063,.778],8881:[.563,.063,.778],8882:[.547,.047,.738],8883:[.547,.047,.738],8884:[.605,.105,.738],8885:[.605,.105,.738],8890:[.664,.02,.778],8896:[.78,.282,.833],8897:[.783,.28,.833],8898:[.772,.25,.833],8899:[.75,.272,.833],8900:[.48,-.02,.5],8901:[.303,-.197,.278],8902:[.486,-.008,.5],8904:[.505,.005,.623],8905:[.505,.005,.623],8906:[.505,.005,.623],8907:[.505,.005,.623],8908:[.505,.005,.623],8909:[.468,-.12,.778],8910:[.584,.02,.733],8911:[.584,.02,.733],8930:[.73,.23,.778],8931:[.73,.23,.778],8938:[.73,.23,.738],8939:[.73,.23,.738],8940:[.73,.23,.738],8941:[.73,.23,.738],8942:[.582,.082,.218],8943:[.303,-.197,.776],8944:[.5,0,.613],8945:[.5,0,.613],8967:[.783,.313,.28],8968:[.75,.25,.444],8969:[.75,.25,.444],8970:[.75,.25,.444],8971:[.75,.25,.444],8972:[.274,.103,.818],8973:[.274,.103,.818],8974:[.603,-.226,.818],8975:[.603,-.226,.818],8976:[.367,-.133,.667],8985:[.367,-.133,.667],8988:[.77,-.49,.392],8989:[.77,-.49,.392],8990:[.01,.27,.392],8991:[.01,.27,.392],8992:[1.344,0,1.185],8993:[.806,.538,1.185],8994:[.381,-.13,1],8995:[.371,-.133,1],9001:[.75,.25,.389],9002:[.75,.25,.389],9115:[1.495,0,.875],9116:[.498,0,.875],9117:[1.495,0,.875],9118:[1.495,0,.875],9119:[.498,0,.875],9120:[1.495,0,.875],9121:[1.5,0,.667],9122:[1,0,.667],9123:[1.5,0,.667],9124:[1.5,0,.667],9125:[1,0,.667],9126:[1.5,0,.667],9127:[.75,0,.902],9128:[1.5,0,.902],9129:[.75,0,.902],9130:[.748,0,.902],9131:[.75,0,.902],9132:[1.5,0,.902],9133:[.75,0,.902],9134:[.806,0,1.185],9135:[.27,-.23,.396],9136:[.75,.375,.752],9137:[.75,.375,.752],9138:[.846,0,1.576],9139:[.847,0,1.576],9140:[.726,-.552,.36],9141:[-.122,.296,.36],9143:[1.82,0,1.056],9144:[1.765,.235,.659],9145:[1.765,.235,.659],9168:[.642,0,.333],9180:[.727,-.572,.504],9181:[-.142,.297,.504],9182:[.783,-.539,.492],9183:[-.109,.353,.492],9184:[.829,-.657,.546,{ic:.006}],9185:[-.227,.399,.546,{ic:.006}],9204:[.422,-.082,.356],9205:[.422,-.078,.356],9206:[.38,-.12,.356],9207:[.38,-.12,.356],9632:[.583,.083,.778],9633:[.583,.083,.778],9642:[.358,-.142,.328],9643:[.358,-.142,.328],9650:[.741,.005,.968],9651:[.741,.005,.968],9652:[.592,-.144,.626],9653:[.592,-.144,.626],9654:[.678,.178,.858],9655:[.678,.178,.858],9656:[.625,-.111,.626],9657:[.625,-.111,.626],9658:[.625,-.111,.866],9659:[.625,-.111,.866],9660:[.505,.241,.968],9661:[.505,.241,.968],9662:[.592,-.144,.626],9663:[.592,-.144,.626],9664:[.678,.178,.858],9665:[.678,.178,.858],9666:[.625,-.111,.626],9667:[.625,-.111,.626],9668:[.625,-.111,.866],9669:[.625,-.111,.866],9670:[.713,.213,1.025],9671:[.713,.213,1.025],9674:[.61,.11,.572],9675:[.592,.092,.796],9679:[.592,.092,.796],9702:[.445,-.055,.5],9711:[.701,.201,1.013],9720:[.679,-.013,.778],9721:[.679,-.013,.778],9722:[.679,-.013,.778],9723:[.533,.033,.706],9724:[.533,.033,.706],9725:[.483,-.017,.566],9726:[.483,-.017,.566],9727:[.679,-.013,.778],10072:[.694,.083,.525],10200:[.684,.184,.946],10201:[.684,.184,.986],10205:[.684,.184,.946],10206:[.684,.184,.946],10214:[.75,.25,.41],10215:[.75,.25,.41],10216:[.75,.25,.389],10217:[.75,.25,.389],10218:[.75,.25,.57],10219:[.75,.25,.57],10220:[.748,.248,.389],10221:[.748,.248,.389],10222:[.762,.262,.287],10223:[.762,.262,.287],10229:[.51,.01,1.463],10230:[.51,.01,1.463],10231:[.51,.01,1.442],10232:[.52,.02,1.457],10233:[.52,.02,1.457],10234:[.52,.02,1.534],10235:[.51,.011,1.443],10236:[.51,.011,1.443],10237:[.52,.021,1.437],10238:[.52,.021,1.437],10506:[.702,.202,.846],10507:[.702,.202,.846],10570:[.503,.003,1.012],10571:[.503,.003,1.012],10574:[.503,-.23,1],10576:[.27,.003,1],10578:[.503,.019,1.088],10579:[.503,.019,1.088],10582:[.502,.019,1.088],10583:[.502,.019,1.088],10586:[.51,.011,1],10587:[.51,.011,1],10590:[.51,.011,1],10591:[.51,.011,1],10602:[.6,-.133,1.018],10603:[.368,.099,1.018],10604:[.6,-.133,1.018],10605:[.368,.099,1.018],10606:[.703,.203,.8],10607:[.703,.203,.8],10620:[.563,.063,.778],10621:[.563,.063,.778],10622:[.546,.046,.726],10623:[.546,.046,.726],10624:[.75,.25,.694],10647:[.748,.248,.278],10648:[.748,.248,.278],10741:[.603,.103,.556],10743:[.603,.103,.556],10744:[.75,.325,.5],10745:[.75,.325,.5],10752:[.743,.243,1.111],10753:[.743,.243,1.111],10754:[.743,.243,1.111],10755:[.75,.272,.833],10756:[.75,.272,.833],10757:[.764,.264,.833],10758:[.764,.264,.833],10759:[.78,.282,1.082],10760:[.799,.264,1.082],10761:[.74,.24,1.092],10764:[.805,.306,1.655,{ic:.12}],10765:[.805,.306,.615,{ic:.05}],10766:[.805,.306,.615,{ic:.05}],10767:[.805,.306,.615,{ic:.05}],10768:[.805,.306,.615,{ic:.05}],10769:[.805,.306,.675,{ic:.02}],10770:[.805,.306,.615,{ic:.05}],10771:[.805,.306,.615,{ic:.05}],10772:[.805,.306,.615,{ic:.05}],10773:[.805,.306,.545,{ic:.12}],10774:[.805,.306,.545,{ic:.12}],10775:[.805,.306,.794],10776:[.805,.306,.665],10777:[.805,.306,.665],10778:[.805,.306,.645,{ic:.02}],10779:[.967,.306,.545,{ic:.12}],10780:[.805,.468,.645,{ic:.02}],10799:[.496,-.004,.778],10815:[.683,0,.75],10877:[.634,.134,.778],10878:[.634,.134,.778],10885:[.721,.205,.776],10886:[.721,.205,.776],10887:[.667,.167,.778],10888:[.667,.167,.778],10889:[.753,.321,.776],10890:[.721,.289,.776],10891:[.977,.477,.778],10892:[.977,.477,.778],10901:[.629,.134,.778],10902:[.629,.129,.778],10927:[.631,.119,.778],10928:[.631,.119,.778],10929:[.631,.203,.778],10930:[.631,.203,.778],10931:[.716,.203,.778],10932:[.716,.203,.778],10933:[.716,.287,.778],10934:[.716,.287,.778],10935:[.816,.205,.776],10936:[.816,.205,.776],10937:[.816,.321,.776],10938:[.816,.321,.776],10949:[.543,.203,.698],10950:[.543,.203,.698],10955:[.543,.287,.698],10956:[.543,.287,.698],10974:[.684,0,.381],10975:[.342,.02,.778],10976:[.342,.02,.778],10977:[.684,0,.778],10978:[.684,0,.612],10979:[.684,0,.673],10980:[.684,0,.612],10981:[.684,0,.653],10982:[.684,0,.673],10983:[.622,-.062,.784],10984:[.622,-.062,.784],10985:[.812,.02,.778],10986:[.592,-.092,.784],10987:[.592,-.092,.784],10994:[.75,.25,.62],10995:[.75,.25,.773],10996:[.75,.25,.694],10997:[.75,.25,.694],11004:[.75,.25,.694],119808:[.698,0,.869],119809:[.686,0,.818,{sk:-.026}],119810:[.697,.011,.831,{sk:.051}],119811:[.686,0,.882,{sk:-.04}],119812:[.68,0,.756],119813:[.68,0,.724,{sk:-.02}],119814:[.697,.011,.904,{sk:.015}],119815:[.686,0,.9],119816:[.686,0,.436],119817:[.686,.011,.594,{sk:.051}],119818:[.686,0,.901,{sk:-.013}],119819:[.686,0,.692,{sk:-.114}],119820:[.686,0,1.092],119821:[.686,0,.9],119822:[.697,.011,.864],119823:[.686,0,.786,{sk:-.021}],119824:[.697,.194,.864],119825:[.686,.011,.863,{sk:-.044}],119826:[.697,.011,.639,{sk:-.025}],119827:[.675,0,.8],119828:[.686,.011,.885],119829:[.686,.008,.869],119830:[.686,.008,1.189],119831:[.686,0,.869,{sk:-.017}],119832:[.686,0,.869],119833:[.686,0,.703,{sk:.013}],119834:[.453,.006,.559,{sk:-.049}],119835:[.694,.006,.639,{sk:-.194}],119836:[.453,.006,.511,{sk:.043}],119837:[.694,.006,.639,{sk:.124}],119838:[.453,.006,.527,{sk:.018}],119839:[.7,0,.351,{ic:.086,sk:.033}],119840:[.455,.201,.575,{sk:-.032}],119841:[.694,0,.639,{sk:-.172}],119842:[.685,0,.319],119843:[.685,.2,.351,{sk:.013}],119844:[.694,0,.607,{sk:-.177}],119845:[.694,0,.319,{sk:-.024}],119846:[.45,0,.958,{sk:.012}],119847:[.45,0,.639],119848:[.453,.006,.575],119849:[.45,.194,.639,{sk:.043}],119850:[.45,.194,.607,{sk:-.013}],119851:[.45,0,.474,{sk:-.021}],119852:[.453,.006,.454],119853:[.635,.006,.447,{sk:-.029}],119854:[.45,.006,.639,{sk:-.024}],119855:[.444,.004,.607],119856:[.444,.004,.831],119857:[.444,0,.607],119858:[.444,.2,.607],119859:[.444,0,.511],119860:[.716,0,.75,{sk:.175}],119861:[.683,0,.759,{sk:.115}],119862:[.705,.022,.715,{ic:.045,sk:.105}],119863:[.683,0,.828,{sk:.088}],119864:[.68,0,.738,{ic:.028,sk:.115}],119865:[.68,0,.643,{ic:.108,sk:.102}],119866:[.705,.022,.786,{sk:.093}],119867:[.683,0,.831,{ic:.05,sk:.089}],119868:[.684,.001,.44,{ic:.057,sk:.084}],119869:[.683,.022,.555,{ic:.078,sk:.151}],119870:[.684,0,.849,{ic:.04,sk:.09}],119871:[.684,0,.681,{sk:.019}],119872:[.683,0,.97,{ic:.074,sk:.085}],119873:[.683,0,.803,{ic:.078,sk:.082}],119874:[.705,.022,.763,{sk:.114}],119875:[.683,0,.642,{ic:.112,sk:.072}],119876:[.705,.194,.791,{sk:.1}],119877:[.683,.022,.759,{sk:.084}],119878:[.705,.022,.613,{ic:.032,sk:.093}],119879:[.677,0,.584,{ic:.12,sk:.016}],119880:[.683,.022,.683,{ic:.077,sk:.022}],119881:[.683,.022,.583,{ic:.187,sk:-.019}],119882:[.683,.022,.944,{ic:.104}],119883:[.683,0,.828,{ic:.023,sk:.097}],119884:[.683,.001,.581,{ic:.181,sk:-.027}],119885:[.683,0,.683,{ic:.04,sk:.114}],119886:[.442,.011,.529,{sk:.022}],119887:[.694,.011,.429,{sk:-.011}],119888:[.442,.011,.433,{sk:.101}],119889:[.694,.011,.52,{sk:.182}],119890:[.442,.011,.466,{sk:.067}],119891:[.705,.205,.49,{ic:.062,sk:.172}],119892:[.442,.205,.477,{sk:.077}],119894:[.661,.011,.345,{sk:.074}],119895:[.661,.205,.412,{sk:.153}],119896:[.694,.011,.521,{sk:-.011}],119897:[.694,.011,.298,{sk:.055}],119898:[.442,.011,.878,{sk:.017}],119899:[.442,.011,.6,{sk:.025}],119900:[.442,.011,.485,{sk:.072}],119901:[.442,.194,.503,{sk:.092}],119902:[.442,.194,.446,{ic:.006,sk:.053}],119903:[.442,.011,.451,{sk:.021}],119904:[.442,.011,.469,{sk:.061}],119905:[.626,.011,.361,{sk:.044}],119906:[.442,.011,.572,{sk:.019}],119907:[.442,.011,.485,{sk:.051}],119908:[.442,.011,.716,{sk:.047}],119909:[.442,.011,.572,{sk:.043}],119910:[.442,.205,.49,{sk:.059}],119911:[.442,.011,.465,{ic:.002,sk:.102}],119912:[.711,0,.869,{sk:.173}],119913:[.686,0,.866,{sk:.11}],119914:[.703,.017,.817,{ic:.038,sk:.113}],119915:[.686,0,.938,{sk:.063}],119916:[.68,0,.81,{ic:.015,sk:.124}],119917:[.68,0,.689,{ic:.12,sk:.104}],119918:[.703,.017,.887,{sk:.102}],119919:[.686,0,.982,{ic:.045,sk:.091}],119920:[.686,0,.511,{ic:.055,sk:.086}],119921:[.686,.017,.631,{ic:.063,sk:.176}],119922:[.686,0,.971,{ic:.032,sk:.137}],119923:[.686,0,.756,{sk:.018}],119924:[.686,0,1.142,{ic:.074,sk:.086}],119925:[.686,0,.95,{ic:.077,sk:.083}],119926:[.703,.017,.837,{sk:.11}],119927:[.686,0,.723,{ic:.126,sk:.07}],119928:[.703,.194,.869,{sk:.093}],119929:[.686,.017,.872,{ic:.009,sk:.1}],119930:[.703,.017,.693,{ic:.021,sk:.097}],119931:[.675,0,.637,{ic:.135,sk:.014}],119932:[.686,.017,.8,{ic:.077,sk:.06}],119933:[.686,.017,.678,{ic:.207,sk:.016}],119934:[.686,.017,1.093,{ic:.114}],119935:[.686,0,.947,{ic:.006,sk:.132}],119936:[.686,0,.675,{ic:.2,sk:.022}],119937:[.686,0,.773,{ic:.032,sk:.122}],119938:[.452,.008,.633,{sk:.019}],119939:[.694,.008,.521,{sk:-.035}],119940:[.452,.008,.513,{sk:.101}],119941:[.694,.008,.61,{sk:.219}],119942:[.452,.008,.554,{sk:.063}],119943:[.702,.202,.568,{ic:.058,sk:.169}],119944:[.452,.202,.545,{sk:.067}],119945:[.694,.008,.668,{sk:-.078}],119946:[.694,.008,.405,{sk:.08}],119947:[.694,.202,.471,{sk:.163}],119948:[.694,.008,.604,{sk:-.026}],119949:[.694,.008,.348,{sk:.074}],119950:[.452,.008,1.032,{sk:.06}],119951:[.452,.008,.713,{sk:.032}],119952:[.452,.008,.585,{sk:.074}],119953:[.452,.194,.601,{sk:.112}],119954:[.452,.194,.542,{ic:.001,sk:.059}],119955:[.452,.008,.529,{sk:.018}],119956:[.452,.008,.531,{sk:.059}],119957:[.643,.008,.415,{sk:.063}],119958:[.452,.008,.681,{sk:.038}],119959:[.453,.008,.567,{sk:.069}],119960:[.453,.008,.831,{sk:.101}],119961:[.452,.008,.659,{sk:.029}],119962:[.452,.202,.59,{sk:.078}],119963:[.452,.008,.555,{sk:.076}],120484:[.442,.011,.322],120485:[.442,.205,.384,{sk:.083}],120488:[.698,0,.869],120489:[.686,0,.818,{sk:-.075}],120490:[.68,0,.692,{sk:-.019}],120491:[.698,0,.958],120492:[.68,0,.756,{sk:-.027}],120493:[.686,0,.703,{sk:.013}],120494:[.686,0,.9],120495:[.697,.011,.894],120496:[.686,0,.436],120497:[.686,0,.901,{sk:-.013}],120498:[.698,0,.806],120499:[.686,0,1.092],120500:[.686,0,.9],120501:[.675,0,.767],120502:[.697,.011,.864],120503:[.68,0,.9],120504:[.686,0,.786,{sk:-.063}],120505:[.697,.011,.894],120506:[.686,0,.831,{sk:-.015}],120507:[.675,0,.8],120508:[.697,0,.894],120509:[.686,0,.831],120510:[.686,0,.869,{sk:-.017}],120511:[.686,0,.894],120512:[.697,0,.831],120513:[.686,.025,.958],120514:[.452,.008,.743,{ic:.007,sk:.015}],120515:[.703,.194,.647],120516:[.452,.211,.679],120517:[.718,.008,.551,{sk:-.011}],120518:[.461,.017,.597,{sk:-.025}],120519:[.703,.202,.615,{sk:-.041}],120520:[.452,.211,.615,{sk:-.051}],120521:[.702,.008,.567],120522:[.452,.008,.359,{ic:.004,sk:-.068}],120523:[.452,.008,.615,{ic:.004,sk:-.034}],120524:[.694,.012,.618,{ic:.048,sk:-.227}],120525:[.452,.211,.615,{ic:.004,sk:-.036}],120526:[.453,0,.583,{sk:-.04}],120527:[.703,.202,.615,{sk:-.072}],120528:[.453,.006,.575],120529:[.444,.009,.679,{sk:-.011}],120530:[.452,.211,.567],120531:[.452,.105,.551],120532:[.444,.008,.695],120533:[.444,.012,.615,{sk:-.035}],120534:[.453,.008,.615,{sk:-.019}],120535:[.452,.216,.743,{sk:-.015}],120536:[.452,.202,.743,{ic:.003,sk:-.063}],120537:[.694,.202,.743,{sk:.032}],120538:[.453,.008,.743],120539:[.711,.017,.679],120540:[.444,.008,.506,{ic:.003,sk:.04}],120541:[.702,.008,.615,{sk:.033}],120542:[.452,.01,.724,{sk:-.018}],120543:[.694,.202,.743],120544:[.452,.194,.567],120545:[.444,.008,.966,{sk:-.01}],120546:[.716,0,.75,{sk:.177}],120547:[.683,0,.759,{sk:.077}],120548:[.68,0,.615,{ic:.108,sk:.072}],120549:[.716,0,.833,{sk:.17}],120550:[.68,0,.738,{ic:.028,sk:.092}],120551:[.683,0,.683,{ic:.04,sk:.11}],120552:[.683,0,.831,{ic:.05,sk:.089}],120553:[.705,.022,.763,{sk:.117}],120554:[.684,.001,.44,{ic:.057,sk:.084}],120555:[.684,0,.849,{ic:.04,sk:.09}],120556:[.716,0,.694,{sk:.17}],120557:[.683,0,.97,{ic:.074,sk:.085}],120558:[.683,0,.803,{ic:.078,sk:.082}],120559:[.677,0,.742,{ic:.035,sk:.097}],120560:[.705,.022,.763,{sk:.117}],120561:[.68,0,.831,{ic:.049,sk:.089}],120562:[.683,0,.642,{ic:.112,sk:.049}],120563:[.705,.022,.763,{sk:.117}],120564:[.683,0,.78,{ic:.026,sk:.104}],120565:[.677,0,.584,{ic:.12,sk:.012}],120566:[.705,0,.583,{ic:.118}],120567:[.683,0,.667,{sk:.082}],120568:[.683,0,.828,{ic:.023,sk:.097}],120569:[.683,0,.612,{ic:.081,sk:.025}],120570:[.705,0,.772,{ic:.014,sk:.137}],120571:[.683,.033,.833],120572:[.442,.011,.64,{sk:.072}],120573:[.706,.194,.566,{ic:.008,sk:.148}],120574:[.442,.215,.518,{ic:.025,sk:.111}],120575:[.712,.011,.444,{ic:.008,sk:.107}],120576:[.453,.022,.466,{sk:.051}],120577:[.697,.205,.438,{ic:.036,sk:.067}],120578:[.442,.216,.497,{sk:.1}],120579:[.705,.011,.469,{sk:.075}],120580:[.442,.011,.354],120581:[.442,.011,.576,{sk:.043}],120582:[.694,.013,.583,{sk:-.053}],120583:[.442,.216,.603,{sk:.048}],120584:[.442,0,.494,{ic:.03,sk:.028}],120585:[.697,.205,.438,{ic:.008,sk:.06}],120586:[.442,.011,.485],120587:[.431,.011,.57,{sk:.043}],120588:[.442,.216,.517,{sk:.096}],120589:[.442,.108,.363,{ic:.046,sk:.044}],120590:[.431,.011,.571],120591:[.431,.012,.437,{ic:.074}],120592:[.442,.011,.54,{sk:.036}],120593:[.442,.218,.654,{sk:.028}],120594:[.442,.205,.626,{sk:.018}],120595:[.694,.205,.651,{sk:.143}],120596:[.442,.011,.622,{sk:.034}],120597:[.716,.022,.531,{ic:.035,sk:.069}],120598:[.431,.011,.406,{sk:.066}],120599:[.705,.011,.591,{sk:.116}],120600:[.442,.012,.624,{sk:.053}],120601:[.694,.205,.596,{sk:.125}],120602:[.442,.194,.517,{sk:.102}],120603:[.431,.011,.828,{sk:.039}],120604:[.711,0,.869,{sk:.174}],120605:[.686,0,.866,{sk:.069}],120606:[.68,0,.657,{ic:.12,sk:.071}],120607:[.711,0,.958,{sk:.168}],120608:[.68,0,.81,{ic:.015,sk:.098}],120609:[.686,0,.773,{ic:.032,sk:.117}],120610:[.686,0,.982,{ic:.045,sk:.09}],120611:[.703,.017,.867,{sk:.108}],120612:[.686,0,.511,{ic:.055,sk:.085}],120613:[.686,0,.971,{ic:.032,sk:.093}],120614:[.711,0,.806,{sk:.167}],120615:[.686,0,1.142,{ic:.074,sk:.085}],120616:[.686,0,.95,{ic:.077,sk:.082}],120617:[.675,0,.841,{ic:.026,sk:.104}],120618:[.703,.017,.837,{sk:.111}],120619:[.68,0,.982,{ic:.044,sk:.09}],120620:[.686,0,.723,{ic:.126,sk:.039}],120621:[.703,.017,.867,{sk:.108}],120622:[.686,0,.885,{ic:.019,sk:.108}],120623:[.675,0,.637,{ic:.135,sk:.01}],120624:[.703,0,.671,{ic:.131}],120625:[.686,0,.767,{sk:.08}],120626:[.686,0,.947,{ic:.006,sk:.106}],120627:[.686,0,.714,{ic:.078,sk:.029}],120628:[.703,0,.879,{ic:.007,sk:.135}],120629:[.686,.025,.958],120630:[.452,.008,.761,{sk:.059}],120631:[.703,.194,.66,{sk:.153}],120632:[.452,.211,.59,{ic:.027,sk:-.02}],120633:[.718,.008,.522,{sk:.115}],120634:[.461,.017,.529,{sk:.058}],120635:[.703,.202,.508,{ic:.014,sk:.083}],120636:[.452,.211,.6,{sk:.019}],120637:[.702,.008,.562,{sk:.062}],120638:[.452,.008,.412],120639:[.452,.008,.668,{sk:.025}],120640:[.694,.012,.671,{sk:-.072}],120641:[.452,.211,.708,{sk:.042}],120642:[.453,0,.577,{ic:.026,sk:.028}],120643:[.703,.202,.508,{sk:.061}],120644:[.452,.008,.585],120645:[.444,.009,.682,{sk:.046}],120646:[.452,.211,.612,{sk:.1}],120647:[.452,.105,.424,{ic:.038,sk:-.029}],120648:[.444,.008,.686],120649:[.444,.012,.521,{ic:.083}],120650:[.453,.008,.631,{sk:.037}],120651:[.452,.216,.747,{sk:.033}],120652:[.452,.202,.718,{sk:.011}],120653:[.694,.202,.758,{sk:.151}],120654:[.453,.008,.718,{sk:.039}],120655:[.711,.017,.628,{ic:.029,sk:.079}],120656:[.444,.008,.483,{sk:.074}],120657:[.702,.008,.692,{sk:.119}],120658:[.452,.01,.724,{sk:.053}],120659:[.694,.202,.713,{sk:.126}],120660:[.452,.194,.612,{sk:.094}],120661:[.444,.008,.975,{sk:.043}],120778:[.68,0,.783],120779:[.445,.267,.628],120782:[.655,.011,.575],120783:[.655,0,.575],120784:[.655,0,.575,{sk:-.011}],120785:[.655,.011,.575],120786:[.656,0,.575,{sk:.127}],120787:[.655,.011,.575],120788:[.655,.011,.575,{sk:.048}],120789:[.676,.011,.575,{sk:-.164}],120790:[.655,.011,.575,{sk:.011}],120791:[.655,.011,.575]},bold:{32:[0,0,.383],33:[.705,0,.35],34:[.697,-.418,.481],35:[.694,.194,.958],36:[.75,.056,.575],37:[.75,.056,.958],38:[.705,.011,.894],39:[.697,-.418,.319],40:[.75,.249,.447],41:[.75,.249,.447],42:[.75,-.306,.575],43:[.633,.132,.894],44:[.156,.194,.319],45:[.271,-.174,.383],46:[.156,0,.319],47:[.75,.25,.575],58:[.444,0,.319],59:[.444,.194,.319],60:[.587,.086,.894],61:[.393,-.108,.894],62:[.587,.086,.894],63:[.7,0,.543],64:[.7,.006,.894],91:[.75,.25,.319],92:[.75,.25,.575],93:[.75,.25,.319],94:[.744,-.562,.556,{ic:.005}],95:[-.101,.189,.869],96:[.704,-.509,.575],123:[.75,.25,.575],124:[.76,.26,.319],125:[.75,.25,.575],126:[.311,-.189,.556,{ic:.001}],160:[0,0,.575],163:[.686,.031,.869],165:[.686,0,.869],167:[.712,.212,.695],168:[.677,-.537,.575],172:[.403,-.098,.894],175:[.633,-.581,.575],176:[.686,-.367,.431],177:[.693,0,.894],180:[.704,-.509,.575],181:[.45,.194,.639],182:[.694,.194,.703],183:[.396,-.24,.278],215:[.543,.042,.894],240:[.702,.006,.575],247:[.582,.08,.894],305:[.45,0,.319],567:[.45,.2,.351],710:[.71,-.503,.575],711:[.71,-.503,.575],713:[.633,-.581,.575],714:[.704,-.509,.575],715:[.704,-.509,.575],717:[-.247,.307,.383,{ic:.029}],728:[.7,-.513,.575],729:[.685,-.529,.319],730:[.714,-.492,.338],732:[.661,-.553,.575],767:[-.035,.286,0,{dx:.287}],768:[.704,-.509,0,{dx:.317}],769:[.704,-.509,0,{dx:.242}],770:[.71,-.503,0,{dx:.279}],771:[.661,-.553,0,{dx:.279}],772:[.633,-.581,0,{dx:.279}],773:[.697,-.636,.894],774:[.7,-.513,0,{dx:.279}],775:[.685,-.529,0,{dx:.279}],776:[.677,-.537,0,{dx:.28}],778:[.764,-.542,0,{dx:.28}],780:[.71,-.503,0,{dx:.279}],824:[.748,.249,0],978:[.697,0,.87],1014:[.442,.011,.43],8192:[0,0,.575],8193:[0,0,1.15],8194:[0,0,.575],8195:[0,0,1.15],8196:[0,0,.383],8197:[0,0,.288],8198:[0,0,.192],8199:[0,0,.575],8200:[0,0,.319],8201:[0,0,.23],8202:[0,0,.032],8203:[0,0,0],8208:[.271,-.174,.383],8209:[.271,-.174,.383],8210:[.312,-.236,.575],8211:[.312,-.236,.575],8212:[.312,-.236,1.15],8214:[.75,.25,.499],8216:[.694,-.344,.319],8217:[.694,-.344,.319],8220:[.694,-.344,.571],8221:[.694,-.344,.571],8224:[.702,.211,.511],8225:[.702,.202,.511],8230:[.156,0,.838],8260:[.696,.01,.648],8356:[.686,.031,.869],8364:[.697,.011,.72],8486:[.697,0,.831],8487:[.686,.011,.831],8592:[.5,0,1.15],8593:[.694,.204,.575],8594:[.5,0,1.15],8595:[.704,.194,.575],8599:[.725,0,.894],8600:[.694,.031,.894],8710:[.698,0,1.028],8722:[.281,-.22,.894],8730:[.757,.094,.543,{ic:.064}],8734:[.47,.026,1.15],8738:[.634,.132,.894],8902:[.501,-.001,.575],8994:[.365,-.15,.894],9001:[.751,.25,.447],9002:[.751,.25,.447],9675:[.761,.261,1.277],9702:[.381,-.077,.894],10214:[.751,.249,.463],10215:[.751,.249,.463]},italic:{32:[0,0,.358],33:[.716,0,.307,{ic:.068}],34:[.705,-.423,.401,{ic:.048}],35:[.694,.194,.818,{ic:.01}],36:[.75,.056,.5,{ic:.091}],37:[.75,.056,.818,{ic:.028}],38:[.716,.022,.767,{ic:.037}],39:[.705,-.423,.307,{ic:.048}],40:[.75,.25,.409,{ic:.107}],41:[.75,.25,.409],42:[.75,-.319,.511,{ic:.072}],43:[.557,.057,.767],44:[.106,.193,.307],45:[.243,-.187,.358],46:[.106,0,.307],47:[.75,.25,.511,{ic:.105}],48:[.666,.022,.511,{ic:.044}],49:[.666,0,.511],50:[.666,.022,.511,{ic:.04}],51:[.666,.022,.511,{ic:.051}],52:[.666,.194,.511],53:[.665,.022,.511,{ic:.056}],54:[.666,.022,.511,{ic:.057}],55:[.666,.022,.511,{ic:.114}],56:[.666,.022,.511,{ic:.043}],57:[.666,.022,.511,{ic:.042}],58:[.431,0,.307],59:[.431,.193,.307],60:[.54,.04,.778,{ic:.049}],61:[.367,-.133,.767,{ic:.01}],62:[.54,.04,.778],63:[.716,0,.511,{ic:.04}],64:[.705,.011,.767,{ic:.022}],91:[.75,.25,.307,{ic:.139}],92:[.75,.25,.5],93:[.75,.25,.307,{ic:.052}],94:[.745,-.561,.556,{ic:.153}],95:[-.11,.14,.743],96:[.696,-.505,.511],123:[.75,.25,.5,{ic:.113}],124:[.75,.25,.278,{ic:.066}],125:[.75,.25,.5],126:[.309,-.191,.556,{ic:.072}],160:[0,0,.511],168:[.649,-.553,.511,{ic:.032}],175:[.616,-.586,.511,{ic:.061}],176:[.683,-.428,.383,{ic:.079}],180:[.696,-.505,.511,{ic:.028}],305:[.442,.011,.322],567:[.442,.205,.384,{sk:.083}],710:[.686,-.509,.511,{ic:.024}],711:[.692,-.515,.511,{ic:.061}],713:[.616,-.586,.511,{ic:.061}],714:[.696,-.505,.511,{ic:.028}],715:[.696,-.505,.511],728:[.686,-.516,.511,{ic:.052}],729:[.654,-.548,.307,{ic:.051}],730:[.705,-.529,.831],732:[.651,-.55,.511,{ic:.057}],767:[-.025,.275,0,{dx:.275}],768:[.696,-.505,0,{dx:.136}],769:[.696,-.505,0,{dx:.077}],770:[.686,-.509,0,{dx:.123}],771:[.651,-.55,0,{dx:.105}],772:[.616,-.586,0,{dx:.105}],773:[.681,-.641,.766,{ic:.062}],774:[.686,-.516,0,{dx:.089}],775:[.654,-.548,0,{dx:.105}],776:[.649,-.553,0,{dx:.096}],778:[.705,-.529,0,{dx:.101}],780:[.692,-.515,0,{dx:.086}],824:[.748,.248,0],978:[.722,0,.778,{ic:.007}],1014:[.442,.011,.43],8192:[0,0,.511],8193:[0,0,1.022],8194:[0,0,.511],8195:[0,0,1.022],8196:[0,0,.341],8197:[0,0,.256],8198:[0,0,.17],8199:[0,0,.511],8200:[0,0,.307],8201:[0,0,.204],8202:[0,0,.026],8203:[0,0,0],8208:[.243,-.187,.358,{ic:.001}],8209:[.243,-.187,.358,{ic:.001}],8210:[.277,-.255,.511,{ic:.04}],8211:[.277,-.255,.511,{ic:.04}],8212:[.277,-.255,1.022,{ic:.014}],8214:[.75,.25,.398,{ic:.066}],8216:[.693,-.394,.307,{ic:.053}],8217:[.694,-.395,.307,{ic:.066}],8220:[.693,-.394,.49,{ic:.053}],8221:[.694,-.395,.49,{ic:.064}],8230:[.106,0,.684],8260:[.683,0,.603,{ic:.093}],8356:[.683,.032,.743,{ic:.003}],8364:[.705,.022,.576,{ic:.126}],8486:[.705,0,.716,{ic:.043}],8487:[.684,.021,.716,{ic:.071}],8592:[.512,.011,.971],8593:[.694,.195,.512,{ic:.07}],8594:[.513,.01,.971],8595:[.695,.194,.512],8710:[.716,0,.833],8722:[.27,-.23,.767],8730:[.735,.104,.46,{ic:.226}],8734:[.456,.025,.92,{ic:.022}],8738:[.557,.057,.767,{ic:.047}],8902:[.483,-.019,.511,{ic:.063}],9001:[.751,.249,.409,{ic:.105}],9002:[.751,.249,.409],9675:[.772,.272,1.073,{ic:.003}],9702:[.379,-.081,.767],10214:[.751,.249,.422,{ic:.138}],10215:[.751,.249,.422,{ic:.052}]},"bold-italic":{32:[0,0,.414],33:[.711,0,.386,{ic:.044}],34:[.703,-.422,.518,{ic:.048}],35:[.694,.194,.944],36:[.75,.056,.575,{ic:.079}],37:[.75,.056,.944,{ic:.002}],38:[.711,.017,.886,{ic:.011}],39:[.703,-.422,.356,{ic:.048}],40:[.75,.249,.473,{ic:.094}],41:[.75,.249,.473],42:[.75,-.306,.591,{ic:.057}],43:[.603,.102,.886],44:[.147,.194,.356],45:[.269,-.175,.414],46:[.147,0,.356],47:[.75,.25,.591,{ic:.09}],48:[.661,.017,.591,{ic:.045}],49:[.661,0,.591],50:[.661,.017,.591,{ic:.027}],51:[.661,.017,.591,{ic:.037}],52:[.661,.194,.591],53:[.661,.017,.591,{ic:.037}],54:[.661,.017,.591,{ic:.037}],55:[.661,.017,.591,{ic:.115}],56:[.661,.017,.591,{ic:.027}],57:[.661,.017,.591,{ic:.03}],58:[.444,0,.356],59:[.444,.194,.356],60:[.587,.086,.894,{ic:.046}],61:[.393,-.108,.886],62:[.587,.086,.894],63:[.711,0,.591,{ic:.023}],64:[.702,.008,.886,{ic:.01}],91:[.75,.25,.356,{ic:.129}],92:[.75,.25,.575],93:[.75,.25,.356,{ic:.036}],94:[.744,-.562,.556,{ic:.151}],95:[-.097,.153,.866],96:[.699,-.502,.591],123:[.75,.25,.575,{ic:.109}],124:[.75,.25,.319,{ic:.059}],125:[.75,.25,.575],126:[.307,-.193,.556,{ic:.071}],160:[0,0,.591],168:[.667,-.535,.591,{ic:.045}],175:[.626,-.576,.591,{ic:.047}],176:[.686,-.392,.443,{ic:.081}],180:[.699,-.502,.591,{ic:.005}],305:[.452,.008,.394,{sk:-.012}],567:[.452,.202,.439,{sk:.063}],710:[.704,-.497,.591,{ic:.012}],711:[.704,-.497,.591,{ic:.052}],713:[.626,-.576,.591,{ic:.047}],714:[.699,-.502,.591,{ic:.005}],715:[.699,-.502,.591],717:[-.247,.307,.383,{ic:.032}],728:[.69,-.511,.591,{ic:.037}],729:[.674,-.527,.356,{ic:.048}],730:[.702,-.534,.949],732:[.66,-.541,.591,{ic:.042}],767:[-.035,.286,0,{dx:.272}],768:[.699,-.502,0,{dx:.188}],769:[.699,-.502,0,{dx:.113}],770:[.704,-.497,0,{dx:.165}],771:[.66,-.541,0,{dx:.145}],772:[.626,-.576,0,{dx:.145}],773:[.708,-.647,.885,{ic:.049}],774:[.69,-.511,0,{dx:.13}],775:[.674,-.527,0,{dx:.144}],776:[.667,-.535,0,{dx:.145}],778:[.702,-.534,0,{dx:.141}],780:[.704,-.497,0,{dx:.124}],824:[.749,.249,0],978:[.697,0,.87,{ic:.103}],1014:[.442,.011,.43,{ic:.04}],8192:[0,0,.591],8193:[0,0,1.182],8194:[0,0,.591],8195:[0,0,1.182],8196:[0,0,.394],8197:[0,0,.296],8198:[0,0,.197],8199:[0,0,.591],8200:[0,0,.355],8201:[0,0,.236],8202:[0,0,.029],8203:[0,0,0],8208:[.269,-.175,.414],8209:[.269,-.175,.414],8210:[.293,-.257,.591,{ic:.036}],8211:[.292,-.256,.591,{ic:.037}],8212:[.292,-.256,1.182,{ic:.006}],8214:[.75,.25,.499,{ic:.059}],8216:[.694,-.353,.356,{ic:.037}],8217:[.694,-.353,.356,{ic:.059}],8220:[.694,-.353,.59,{ic:.038}],8221:[.694,-.353,.59,{ic:.059}],8230:[.147,0,.842],8260:[.696,.01,.713,{ic:.08}],8356:[.686,.031,.866,{ic:.008}],8364:[.703,.017,.664,{ic:.115}],8486:[.703,0,.827,{ic:.031}],8487:[.686,.017,.827,{ic:.056}],8592:[.518,.017,1.121],8593:[.694,.204,.592,{ic:.069}],8594:[.518,.017,1.121],8595:[.704,.194,.592],8710:[.699,0,1.028],8722:[.281,-.22,.886],8730:[.757,.094,.531,{ic:.243}],8734:[.473,.029,1.06,{ic:.044}],8738:[.604,.102,.886,{ic:.035}],8902:[.501,-.001,.591,{ic:.048}],9001:[.75,.25,.473,{ic:.09}],9002:[.751,.25,.473],9675:[.772,.272,1.239],9702:[.386,-.072,.886],10214:[.751,.249,.488,{ic:.129}],10215:[.751,.249,.488,{ic:.037}]},"double-struck":{},fraktur:{},"bold-fraktur":{},"sans-serif":{717:[-.208,.286,.333,{ic:.038}],767:[-.023,.277,0,{dx:.274}],824:[.749,.25,0],8192:[0,0,.5],8193:[0,0,1],8194:[0,0,.5],8195:[0,0,1],8196:[0,0,.333],8197:[0,0,.25],8198:[0,0,.167],8199:[0,0,.5],8200:[0,0,.278],8201:[0,0,.2],8202:[0,0,.028],8203:[0,0,0],8356:[.694,.022,.667],8599:[.718,-.001,.778],8600:[.694,.024,.778],8710:[.694,0,.833],8902:[.491,.006,.5,{ic:.023}],8994:[.363,-.133,.778],9675:[.772,.272,1.111]},"bold-sans-serif":{717:[-.253,.389,.367,{ic:.067}],767:[-.025,.319,0,{dx:.294}],824:[.759,.257,0],8192:[0,0,.55],8193:[0,0,1.1],8194:[0,0,.55],8195:[0,0,1.1],8196:[0,0,.367],8197:[0,0,.275],8198:[0,0,.183],8199:[0,0,.55],8200:[0,0,.305],8201:[0,0,.22],8202:[0,0,.031],8203:[0,0,0],8356:[.694,.047,.733],8599:[.734,.023,.856],8600:[.72,.037,.856],8710:[.694,0,.916],8902:[.519,.031,.55,{ic:.015}],8994:[.381,-.095,.856],9675:[.772,.272,1.222]},"sans-serif-italic":{717:[-.208,.286,.333],767:[-.023,.277,0,{dx:.272}],824:[.749,.25,0],8192:[0,0,.5],8193:[0,0,.5],8194:[0,0,.333],8195:[0,0,.25],8196:[0,0,.167],8197:[0,0,.5],8198:[0,0,.278],8199:[0,0,.2],8200:[0,0,.028],8201:[0,0,0],8202:[0,0,0],8203:[0,0,0],8356:[.694,.022,.667],8599:[.718,-.001,.778,{ic:.095}],8600:[.694,.025,.778,{ic:.029}],8710:[.694,0,.833],8902:[.515,.008,.5,{ic:.09}],8994:[.364,-.133,.778],9675:[.772,.272,1.111,{ic:.008}]},"sans-serif-bold-italic":{717:[-.253,.389,.367,{ic:.003}],767:[-.025,.319,0,{dx:.327}],824:[.759,.257,0],8192:[0,0,.55],8193:[0,0,1.1],8194:[0,0,.55],8195:[0,0,1.1],8196:[0,0,.367],8197:[0,0,.275],8198:[0,0,.183],8199:[0,0,.55],8200:[0,0,.305],8201:[0,0,.22],8202:[0,0,.031],8203:[0,0,0],8356:[.694,.047,.733],8599:[.734,.023,.856,{ic:.086}],8600:[.72,.037,.856,{ic:.049}],8710:[.694,0,.916],8902:[.519,.031,.55,{ic:.076}],8994:[.381,-.095,.856],9675:[.772,.272,1.222,{ic:.046}]},monospace:{717:[-.025,.095,.525,{ic:.035}],767:[-.008,.359,.525],824:[.694,.083,.525],8193:[0,0,.525],8195:[0,0,.525],8199:[0,0,.525],8200:[0,0,.525],8356:[.611,.011,.525],8599:[.619,0,.525,{ic:.035}],8600:[.611,.008,.525,{ic:.035}],8710:[.651,0,.525],8902:[.555,-.057,.525],8994:[.414,-.195,.525],9675:[.705,.233,.525,{ic:.075}],64263:[0,0,.525]},"-smallop":{40:[.797,.297,.422],41:[.797,.297,.422],47:[.905,.405,.617],91:[.8,.3,.34],92:[.905,.405,.617],93:[.8,.3,.34],123:[.801,.301,.54],125:[.801,.301,.54],770:[.746,-.571,.644,{ic:.001}],771:[.751,-.55,.652],773:[.67,-.63,.568],774:[.743,-.578,.658,{ic:.001}],780:[.741,-.566,.644,{ic:.001}],8260:[.905,.405,.617],8400:[.711,-.601,.667],8401:[.711,-.601,.667],8406:[.711,-.521,.659],8407:[.711,-.521,.659],8417:[.711,-.521,.715],8428:[-.171,.281,.667],8429:[-.171,.281,.667],8430:[-.091,.281,.659],8431:[-.091,.281,.659],8725:[.605,.105,.572],8726:[.605,.105,.572],8730:[.85,.35,1,{ic:.02}],8739:[.851,.351,.333],8741:[.851,.351,.555],8968:[.8,.3,.458],8969:[.8,.3,.458],8970:[.8,.3,.458],8971:[.8,.3,.458],9140:[.73,-.546,.735],9141:[-.116,.3,.735],9180:[.745,-.54,1.006],9181:[-.11,.315,1.006],9182:[.815,-.509,.993,{ic:.001}],9183:[-.079,.385,.993],9184:[.853,-.613,1.048,{ic:.006}],9185:[-.183,.423,1.048,{ic:.006}],10214:[.8,.3,.444],10215:[.8,.3,.444],10216:[.8,.3,.428],10217:[.8,.3,.428],10218:[.8,.3,.623],10219:[.8,.3,.623],10222:[.813,.313,.305],10223:[.813,.313,.305],10627:[.801,.301,.54],10628:[.801,.301,.54],10629:[.797,.297,.422],10630:[.797,.297,.422],10748:[.791,.291,.422],10749:[.791,.291,.422],126704:[.72,.017,1.953,{sk:-.102}],126705:[.708,.035,2.524]},"-largeop":{40:[.847,.347,.458],41:[.847,.347,.458],47:[1.108,.608,.768],91:[.85,.35,.417],92:[1.108,.608,.768],93:[.85,.35,.417],123:[.85,.35,.583],125:[.85,.35,.583],770:[.746,-.571,.768,{ic:.001}],771:[.753,-.548,.778],774:[.743,-.578,.784,{ic:.001}],780:[.741,-.566,.768,{ic:.001}],8260:[1.108,.608,.768],8512:[.95,.45,1.353,{sk:.067}],8719:[.95,.45,1.278],8720:[.95,.45,1.278],8721:[.95,.45,1.444],8725:[.608,.107,.577],8726:[.608,.107,.577],8730:[1.15,.651,1,{ic:.02}],8739:[.971,.471,.333],8741:[.971,.471,.555],8747:[1.361,.861,.669,{ic:.33}],8748:[1.361,.861,1.089,{ic:.33}],8749:[1.361,.861,1.509,{ic:.33}],8750:[1.361,.861,.669,{ic:.33}],8751:[1.361,.861,1.089,{ic:.33}],8752:[1.361,.861,1.509,{ic:.33}],8753:[1.361,.861,.669,{ic:.33}],8754:[1.361,.861,.669,{ic:.33}],8755:[1.361,.861,.669,{ic:.33}],8896:[.958,.456,1.111],8897:[.956,.458,1.111],8898:[.939,.417,1.111],8899:[.917,.439,1.111],8968:[.85,.35,.472],8969:[.85,.35,.472],8970:[.85,.35,.472],8971:[.85,.35,.472],9140:[.735,-.541,1.11],9141:[-.111,.305,1.11],9180:[.761,-.511,1.508],9181:[-.081,.331,1.508],9182:[.818,-.509,1.494],9183:[-.078,.387,1.494],9184:[.854,-.612,1.55,{ic:.006}],9185:[-.182,.424,1.55,{ic:.006}],10145:[.469,-.031,1.423],10197:[.621,.006,.888,{sk:.09}],10198:[.621,.006,.888,{sk:-.07}],10199:[.621,.006,1.03],10214:[.85,.35,.48],10215:[.85,.35,.48],10216:[.85,.35,.472],10217:[.85,.35,.472],10218:[.85,.35,.682],10219:[.85,.35,.682],10222:[.864,.364,.323],10223:[.864,.364,.323],10627:[.85,.35,.583],10628:[.85,.35,.583],10629:[.847,.347,.458],10630:[.847,.347,.458],10744:[1.239,.677,.597,{ic:.053}],10745:[1.239,.677,.5,{ic:.15}],10748:[.842,.342,.422],10749:[.842,.342,.422],10752:[.902,.402,1.511],10753:[.902,.402,1.511],10754:[.902,.402,1.511],10755:[.917,.439,1.111],10756:[.917,.439,1.111],10757:[.936,.436,1.111],10758:[.936,.436,1.111],10759:[1.225,.693,1.945,{sk:.015}],10760:[1.23,.681,1.945],10761:[.88,.38,1.371],10762:[.95,.45,1.474,{sk:-.011}],10763:[1.361,.861,1.056],10764:[1.361,.861,1.929,{ic:.33}],10765:[1.361,.861,.669,{ic:.33}],10766:[1.361,.861,.669,{ic:.33}],10767:[1.361,.861,.669,{ic:.33}],10768:[1.361,.861,.669,{ic:.33}],10769:[1.361,.861,.669,{ic:.33}],10770:[1.361,.861,.669,{ic:.33}],10771:[1.361,.861,.669,{ic:.33}],10772:[1.361,.861,.669,{ic:.33}],10773:[1.361,.861,.669,{ic:.33}],10774:[1.361,.861,.669,{ic:.33}],10775:[1.361,.861,.669,{ic:.33}],10776:[1.361,.861,.669,{ic:.33}],10777:[1.361,.861,.849,{ic:.15}],10778:[1.361,.861,.849,{ic:.15}],10779:[1.602,.861,.763,{ic:.44}],10780:[1.361,1.124,.789,{ic:.33}],10781:[.921,.151,1.291],10782:[.885,.188,1.046,{sk:.083}],10784:[.774,.081,1.52],10785:[.976,.284,.784],11004:[1.237,.677,.694],11007:[1.237,.677,.478]},"-size3":{40:[.972,.472,.523],41:[.972,.472,.523],47:[1.374,.874,.964],91:[.975,.475,.444],92:[1.374,.874,.964],93:[.975,.475,.444],123:[.975,.475,.624],125:[.975,.475,.624],770:[.747,-.571,.919,{ic:.001}],771:[.757,-.543,.931],774:[.743,-.577,.937,{ic:.001}],780:[.741,-.565,.919,{ic:.001}],8260:[1.374,.874,.964],8725:[.61,.109,.581],8726:[.61,.109,.581],8730:[1.45,.951,1,{ic:.02}],8739:[1.117,.617,.333],8741:[1.117,.617,.555],8968:[.975,.475,.499],8969:[.975,.475,.499],8970:[.975,.475,.499],8971:[.975,.475,.499],9140:[.742,-.535,1.485],9141:[-.105,.312,1.485],9180:[.767,-.509,2.012],9181:[-.079,.337,2.012],9182:[.825,-.506,1.996],9183:[-.075,.394,1.996],9184:[.858,-.61,2.056,{ic:.006}],9185:[-.18,.428,2.056,{ic:.006}],10214:[.975,.475,.555],10215:[.975,.475,.555],10216:[.975,.475,.537],10217:[.975,.475,.537],10218:[.975,.475,.781],10219:[.975,.475,.781],10222:[.991,.491,.37],10223:[.991,.491,.37],10627:[.975,.475,.624],10628:[.975,.475,.624],10629:[.972,.472,.523],10630:[.972,.472,.523],10748:[.966,.466,.467],10749:[.966,.466,.467]},"-size4":{40:[1.146,.646,.597],41:[1.146,.646,.597],47:[1.722,1.222,1.222],91:[1.15,.65,.472],92:[1.722,1.222,1.222],93:[1.15,.65,.472],123:[1.15,.65,.667],125:[1.15,.65,.667],770:[.747,-.57,1.1,{ic:.001}],771:[.762,-.539,1.115],774:[.743,-.576,1.12,{ic:.001}],780:[.742,-.565,1.1,{ic:.001}],8260:[1.722,1.222,1.222],8725:[.613,.113,.588],8726:[.613,.113,.588],8730:[1.75,1.25,1,{ic:.02}],8739:[1.292,.792,.333],8741:[1.292,.792,.555],8968:[1.15,.65,.528],8969:[1.15,.65,.528],8970:[1.15,.65,.528],8971:[1.15,.65,.528],9140:[.75,-.527,1.86],9141:[-.097,.32,1.86],9180:[.774,-.506,2.516],9181:[-.076,.344,2.516],9182:[.833,-.502,2.498],9183:[-.071,.402,2.498],9184:[.863,-.607,2.564,{ic:.006}],9185:[-.177,.433,2.564,{ic:.006}],10214:[1.15,.65,.66],10215:[1.15,.65,.66],10216:[1.15,.65,.611],10217:[1.15,.65,.611],10218:[1.15,.65,.905],10219:[1.15,.65,.905],10222:[1.168,.668,.432],10223:[1.168,.668,.432],10627:[1.15,.65,.667],10628:[1.15,.65,.667],10629:[1.146,.646,.597],10630:[1.146,.646,.597],10748:[1.146,.646,.467,{ic:.023}],10749:[1.146,.646,.467,{ic:.023}]},"-size5":{40:[1.296,.796,.663],41:[1.296,.796,.663],47:[2.179,1.679,1.557],91:[1.3,.8,.499],92:[2.179,1.679,1.557],93:[1.3,.8,.499],123:[1.3,.8,.707],125:[1.3,.8,.707],770:[.748,-.569,1.32,{ic:.001}],771:[.766,-.534,1.335],774:[.743,-.575,1.341,{ic:.001}],780:[.743,-.564,1.32,{ic:.001}],8260:[2.179,1.679,1.557],8725:[.616,.115,.593],8726:[.616,.115,.593],8739:[1.502,1.002,.333],8741:[1.501,1.001,.555],8968:[1.3,.8,.555],8969:[1.3,.8,.555],8970:[1.3,.8,.555],8971:[1.3,.8,.555],9140:[.757,-.521,2.235],9141:[-.091,.327,2.235],9180:[.78,-.506,3.02],9181:[-.076,.35,3.02],9182:[.838,-.5,3],9183:[-.07,.408,3],9184:[.866,-.607,3.068,{ic:.006}],9185:[-.177,.436,3.068,{ic:.006}],10214:[1.3,.8,.75],10215:[1.3,.8,.75],10216:[1.3,.8,.677],10217:[1.3,.8,.677],10218:[1.3,.8,1.011],10219:[1.3,.8,1.011],10222:[1.32,.82,.485],10223:[1.32,.82,.485],10627:[1.3,.8,.707],10628:[1.3,.8,.707],10629:[1.296,.796,.663],10630:[1.296,.796,.663],10748:[1.296,.796,.467,{ic:.077}],10749:[1.296,.796,.467,{ic:.077}]},"-size6":{40:[1.446,.946,.736],41:[1.446,.946,.736],47:[2.777,2.277,1.997],91:[1.45,.95,.528],92:[2.777,2.277,1.997],93:[1.45,.95,.528],123:[1.45,.95,.75],125:[1.45,.95,.75],770:[.748,-.57,1.581,{ic:.001}],771:[.769,-.532,1.599],774:[.744,-.574,1.604,{ic:.001}],780:[.742,-.564,1.581,{ic:.001}],8260:[2.777,2.277,1.997],8725:[.619,.119,.6],8726:[.619,.119,.6],8739:[1.752,1.252,.333],8741:[1.751,1.252,.555],8968:[1.45,.95,.583],8969:[1.45,.95,.583],8970:[1.45,.95,.583],8971:[1.45,.95,.583],9140:[.764,-.513,2.61],9141:[-.083,.334,2.61],9180:[.787,-.505,3.524],9181:[-.075,.357,3.524],9182:[.845,-.498,3.502],9183:[-.067,.414,3.502],9184:[.869,-.606,3.574,{ic:.006}],9185:[-.176,.439,3.574,{ic:.006}],10214:[1.45,.95,.838],10215:[1.45,.95,.838],10216:[1.45,.95,.75],10217:[1.45,.95,.75],10218:[1.45,.95,1.124],10219:[1.45,.95,1.124],10222:[1.472,.972,.541],10223:[1.472,.972,.541],10627:[1.45,.95,.75],10628:[1.45,.95,.75],10629:[1.446,.946,.736],10630:[1.446,.946,.736],10748:[1.447,.936,.467,{ic:.131}],10749:[1.447,.936,.467,{ic:.131}]},"-size7":{40:[1.745,1.245,.875],41:[1.745,1.245,.875],47:[3.56,3.06,2.572],91:[1.75,1.25,.667],92:[3.56,3.06,2.572],93:[1.75,1.25,.667],123:[1.75,1.25,.902],125:[1.75,1.25,.902],770:[.749,-.569,1.896],771:[.773,-.527,1.915],774:[.744,-.573,1.92,{ic:.001}],780:[.743,-.563,1.896],8260:[3.56,3.06,2.572],8725:[.623,.122,.607],8726:[.623,.122,.607],8739:[2.052,1.552,.333],8741:[2.053,1.553,.555],8968:[1.75,1.25,.623],8969:[1.75,1.25,.623],8970:[1.75,1.25,.623],8971:[1.75,1.25,.623],9140:[.772,-.504,2.985],9141:[-.074,.342,2.985],9180:[.796,-.502,4.032],9181:[-.072,.366,4.032],9182:[.854,-.493,4.006],9183:[-.062,.423,4.006],9184:[.873,-.605,4.082,{ic:.006}],9185:[-.175,.443,4.082,{ic:.006}],10214:[1.75,1.25,1.007],10215:[1.75,1.25,1.007],10216:[1.75,1.25,.908],10217:[1.75,1.25,.908],10218:[1.75,1.25,1.362],10219:[1.75,1.25,1.362],10222:[1.776,1.276,.647],10223:[1.776,1.276,.647],10627:[1.75,1.25,.902],10628:[1.75,1.25,.902],10629:[1.745,1.245,.875],10630:[1.745,1.245,.875],10748:[1.751,1.251,.467,{ic:.257}],10749:[1.751,1.251,.467,{ic:.592}]},"-tex-mathit":{65:[.716,0,.743],66:[.683,0,.704,{oc:.03}],67:[.705,.022,.716,{oc:.096}],68:[.683,0,.755,{oc:.02}],69:[.68,0,.678,{oc:.069}],70:[.68,0,.653,{oc:.082}],71:[.705,.022,.774,{oc:.038}],72:[.683,0,.743,{oc:.109}],73:[.683,0,.386,{oc:.115}],74:[.683,.022,.525,{oc:.097}],75:[.683,0,.769,{oc:.09}],76:[.683,0,.627],77:[.683,0,.897,{oc:.105}],78:[.683,0,.743,{oc:.109}],79:[.705,.022,.767,{oc:.021}],80:[.683,0,.678,{oc:.052}],81:[.705,.194,.767,{oc:.021}],82:[.683,.022,.729],83:[.705,.022,.562,{oc:.07}],84:[.677,0,.716,{oc:.09}],85:[.683,.022,.743,{oc:.109}],86:[.683,.022,.743,{oc:.125}],87:[.683,.022,.999,{oc:.125}],88:[.683,0,.743,{oc:.082}],89:[.683,0,.743,{oc:.131}],90:[.683,0,.613,{oc:.091}],97:[.442,.011,.511,{oc:.014}],98:[.694,.011,.46],99:[.442,.011,.46,{oc:.01}],100:[.694,.011,.511,{oc:.049}],101:[.442,.011,.46,{oc:.008}],102:[.705,.205,.307,{oc:.145}],103:[.442,.205,.46,{oc:.027}],104:[.694,.011,.511,{oc:.024}],105:[.654,.011,.307,{oc:.051}],106:[.654,.205,.307,{oc:.051}],107:[.694,.011,.46,{oc:.042}],108:[.694,.011,.256,{oc:.05}],109:[.442,.011,.818,{oc:.024}],110:[.442,.011,.562,{oc:.024}],111:[.442,.011,.511],112:[.442,.194,.511],113:[.442,.194,.46,{oc:.037}],114:[.442,.011,.422,{oc:.067}],115:[.442,.011,.409,{oc:.01}],116:[.626,.011,.332,{oc:.041}],117:[.442,.011,.537,{oc:.024}],118:[.442,.011,.46,{oc:.033}],119:[.442,.011,.664,{oc:.033}],120:[.442,.011,.464,{oc:.054}],121:[.442,.205,.486,{oc:.03}],122:[.442,.011,.409,{oc:.055}]},"-tex-calligraphic":{},"-tex-bold-calligraphic":{},"-tex-oldstyle":{48:[.472,.022,.57],49:[.472,0,.404],50:[.472,0,.554],51:[.472,.216,.563],52:[.485,.194,.517],53:[.472,.216,.547],54:[.666,.022,.563],55:[.485,.213,.503],56:[.666,.022,.563],57:[.472,.216,.563]},"-tex-bold-oldstyle":{48:[.461,.011,.654],49:[.461,0,.494],50:[.461,0,.636],51:[.461,.205,.648],52:[.488,.194,.595],53:[.461,.205,.63],54:[.655,.011,.648],55:[.488,.199,.579],56:[.655,.011,.648],57:[.461,.205,.648]},"-tex-variant":{8216:[.549,-.096,.407],8217:[.549,-.096,.407],8218:[.549,-.096,.407],8219:[.549,-.096,.407],8220:[.549,-.096,.647],8221:[.549,-.096,.647],8222:[.549,-.096,.647],8223:[.549,-.096,.647],8242:[.549,-.096,.407],8243:[.549,-.096,.647],8244:[.549,-.096,.887],8245:[.549,-.096,.407],8246:[.549,-.096,.647],8247:[.549,-.096,.887],8279:[.549,-.096,1.127],8463:[.694,.011,.511,{ic:.024}],8592:[.437,-.063,.5],8594:[.437,-.063,.5],8709:[.597,.097,.778],8722:[.27,-.23,.5],8726:[.431,.022,.777],8730:[.75,.25,.833,{ic:.02}],8733:[.472,-.028,.777],8739:[.431,.022,.222],8740:[.431,.022,.222,{ic:.019}],8741:[.431,.022,.388],8742:[.431,.022,.388,{ic:.02}],8764:[.367,-.133,.777],8776:[.483,-.056,.777],8808:[.753,.276,.777],8809:[.753,.276,.777],8816:[.92,.42,.777],8817:[.92,.42,.777],8840:[.828,.328,.777],8841:[.828,.328,.777],8842:[.636,.248,.777],8843:[.636,.248,.777],8902:[.485,-.019,.5],8994:[.378,-.122,.777],8995:[.378,-.142,.777],10887:[.803,.303,.777],10888:[.803,.303,.777],10955:[.753,.325,.777],10956:[.753,.325,.777]},"-lf-tp":{8400:[.711,-.601,.208],8406:[.711,-.521,.205],8429:[-.171,.281,.208],8430:[-.091,.281,.205],8592:[.51,.01,.507],8593:[.505,0,.5],8602:[.51,.01,.386],8606:[.51,.01,.507],8607:[.505,0,.572],8611:[.51,.01,.58],8614:[.51,.011,.499],8615:[.498,0,.632],8618:[.546,-.226,.507],8620:[.55,.05,.507],8636:[.499,-.226,.513],8637:[.273,0,.512],8638:[.513,0,.441],8639:[.513,0,.441],8644:[.432,.172,.515],8645:[.514,0,.896],8646:[.669,-.065,.514],8647:[.75,.25,.507],8648:[.505,0,.992],8651:[.598,-.131,.515],8652:[.369,.098,.514],8653:[.52,.02,.384],8656:[.52,.02,.504],8657:[.504,0,.652],8666:[.617,.117,.506],8693:[.515,0,.896],8730:[.62,0,1.056,{ic:.013}],9140:[.772,-.504,1.493],9141:[-.074,.342,1.493],9180:[.796,-.502,2.016],9181:[-.072,.366,2.016],9182:[.724,-.493,1.002],9183:[-.062,.294,1.002],9184:[.873,-.605,2.041],9185:[-.175,.443,2.041],10214:[1,0,1.007],10215:[1,0,1.007],10222:[1.526,0,.647],10223:[1.526,0,.647],10572:[.513,0,.616],10573:[.513,0,.616],11057:[.99,.49,.507]},"-rt-bt":{8401:[.711,-.601,.208],8407:[.711,-.521,.205],8428:[-.171,.281,.208],8431:[-.091,.281,.205],8594:[.51,.01,.507],8595:[.505,0,.5],8603:[.51,.01,.386],8608:[.51,.01,.507],8609:[.505,0,.572],8610:[.51,.01,.58],8612:[.51,.011,.499],8613:[.498,0,.632],8617:[.546,-.226,.507],8619:[.55,.05,.507],8640:[.499,-.226,.513],8641:[.273,0,.513],8642:[.513,0,.441],8643:[.513,0,.441],8644:[.669,-.065,.514],8645:[.515,0,.896],8646:[.432,.172,.515],8649:[.75,.25,.507],8650:[.505,0,.992],8651:[.369,.098,.514],8652:[.598,-.131,.515],8654:[.52,.02,.406],8658:[.52,.02,.504],8659:[.504,0,.652],8667:[.617,.117,.506],8693:[.514,0,.896],8694:[.99,.49,.507],9140:[.772,-.504,1.492],9141:[-.074,.342,1.492],9180:[.796,-.502,2.016],9181:[-.072,.366,2.016],9182:[.724,-.493,1.001],9183:[-.062,.294,1.001],9184:[.873,-.605,2.041,{ic:.006}],9185:[-.175,.443,2.041,{ic:.006}],10214:[1,0,1.007],10215:[1,0,1.007],10222:[1.526,0,.647],10223:[1.526,0,.647],10572:[.513,0,.616],10573:[.513,0,.616]},"-ex-md":{95:[-.188,.294,.994],123:[.748,0,.902],175:[.724,-.618,.994],773:[.67,-.63,.19],8400:[.631,-.601,.139],8592:[.274,-.226,.337],8593:[.337,0,.5],8602:[.51,.01,.386],8617:[.274,-.226,.337],8636:[.273,-.226,.341],8638:[.341,0,.441],8639:[.341,0,.441],8644:[.432,-.065,.343],8645:[.343,0,.896],8647:[.512,.012,.337],8648:[.337,0,.992],8651:[.369,-.131,.343],8653:[.52,.02,.384],8654:[.369,-.131,.102],8656:[.369,-.131,.336],8657:[.336,0,.652],8666:[.466,-.034,.337],8694:[.751,.251,.337],8730:[.64,0,1.056],9140:[.772,-.706,.995],9141:[-.276,.342,.995],9180:[.796,-.689,.994],9181:[-.259,.366,.994],9182:[.85,-.618,2.003],9183:[-.188,.419,2.003],9184:[.873,-.766,1.36],9185:[-.336,.443,1.36],10214:[1,0,1.007],10215:[1,0,1.007],10222:[.998,0,.647],10223:[.998,0,.647],10572:[.337,0,.616]},"-bbold":{8450:[.705,.022,.722,{sk:.042}],8461:[.683,0,.833,{sk:.052}],8469:[.683,0,.833],8473:[.683,0,.736],8474:[.705,.194,.778],8477:[.683,.022,.792],8484:[.683,0,.75,{sk:.021}],8508:[.431,.011,.687,{sk:.085}],8509:[.442,.215,.518,{ic:.025,sk:.098}],8510:[.68,0,.737,{sk:.026}],8511:[.68,0,.862,{sk:.056}],8512:[.683,0,.839,{sk:.048}],8517:[.683,0,.794,{ic:.023,sk:.115}],8518:[.694,.011,.673,{ic:.042,sk:.245}],8519:[.448,.011,.444,{ic:.03,sk:.082}],8520:[.691,0,.395,{ic:.028,sk:.119}],8521:[.691,.205,.423,{ic:.038,sk:.12}],120120:[.683,0,.863,{sk:-.025}],120121:[.683,0,.764],120123:[.683,0,.794,{sk:-.043}],120124:[.68,0,.736,{sk:.03}],120125:[.68,0,.709,{sk:.013}],120126:[.705,.022,.785],120128:[.683,0,.467,{sk:.015}],120129:[.683,.022,.597,{sk:.065}],120130:[.683,0,.833,{sk:.022}],120131:[.683,0,.68,{sk:-.08}],120132:[.684,0,1,{sk:.051}],120134:[.705,.022,.778],120138:[.705,.022,.556,{sk:-.018}],120139:[.677,0,.754,{sk:.023}],120140:[.683,.022,.806,{sk:.045}],120141:[.683,.008,.804,{sk:.059}],120142:[.683,.022,1.058,{sk:.015}],120143:[.683,0,.866,{sk:.043}],120144:[.683,0,.868,{sk:.057}],120146:[.448,.011,.614,{sk:-.013}],120147:[.694,.011,.673,{sk:-.126}],120148:[.448,.011,.444,{sk:.026}],120149:[.694,.011,.673,{sk:.152}],120150:[.448,.011,.444,{sk:.014}],120151:[.705,0,.423,{ic:.051,sk:-.028}],120152:[.453,.206,.5,{sk:-.026}],120153:[.694,0,.676,{sk:-.117}],120154:[.691,0,.395],120155:[.691,.205,.423,{sk:.015}],120156:[.694,0,.648,{sk:-.109}],120157:[.694,0,.394,{sk:.018}],120158:[.442,0,.95,{sk:-.037}],120159:[.442,0,.673],120160:[.448,.011,.5],120161:[.442,.194,.673],120162:[.442,.194,.645,{sk:.019}],120163:[.442,0,.509,{sk:-.051}],120164:[.448,.011,.394],120165:[.615,.011,.506,{sk:-.037}],120166:[.442,.011,.673,{sk:.024}],120167:[.431,.011,.635,{sk:.053}],120168:[.431,.011,.635,{ic:.155,sk:.012}],120169:[.431,0,.645,{sk:.049}],120170:[.431,.205,.635,{sk:.05}],120171:[.431,0,.561,{sk:.046}],120792:[.666,.022,.5],120793:[.666,0,.624,{sk:.025}],120794:[.666,0,.5],120795:[.666,.022,.5],120796:[.677,0,.627,{sk:.11}],120797:[.666,.022,.5,{sk:.011}],120798:[.666,.022,.5,{sk:.013}],120799:[.676,.022,.55,{sk:.038}],120800:[.666,.022,.5],120801:[.666,.022,.5]},"-upsmall":{8747:[.805,.306,.665],8748:[.805,.306,1.035],8749:[.805,.306,1.405],8750:[.81,.312,.665],8751:[.805,.306,1.035],8752:[.805,.306,1.405],8753:[.805,.306,.695],8754:[.805,.306,.665],8755:[.805,.306,.665],10764:[.805,.306,1.775],10765:[.805,.306,.665],10766:[.805,.306,.665],10776:[.805,.306,.665],10777:[.805,.306,.665],10778:[.805,.306,.665],10779:[.967,.306,.665,{ic:.002}],10780:[.805,.468,.665],58230:[.805,.306,.665],58231:[.805,.306,.665],58261:[.805,.306,.665],58263:[.805,.306,.665],58264:[.805,.306,.665],58265:[.805,.306,.665],58266:[.805,.306,.665,{ic:.085}],58267:[.798,.299,.695],58323:[.805,.306,.665],59991:[.805,.306,.707]},"-uplarge":{8747:[1.361,.861,.763],8748:[1.361,.861,1.175],8749:[1.361,.861,1.623],8750:[1.363,.861,.899],8751:[1.361,.861,1.295],8752:[1.361,.861,1.699],8753:[1.361,.861,.999],8754:[1.361,.861,.999],8755:[1.361,.861,.999],10763:[1.361,.861,1.056],10764:[1.361,.861,2.019],10765:[1.361,.861,.999],10766:[1.361,.861,.999],10767:[1.361,.861,.999],10768:[1.361,.861,.999],10769:[1.361,.861,.999],10770:[1.361,.861,.895],10771:[1.361,.861,.871],10772:[1.361,.861,.831,{ic:.077}],10773:[1.361,.861,.903],10774:[1.361,.861,.883],10775:[1.361,.861,.967],10776:[1.361,.861,.875],10777:[1.361,.861,.955],10778:[1.361,.861,.967],10779:[1.602,.861,.999],10780:[1.361,1.124,.807]},script:{},"bold-script":{}},zd.defaultStyles=Object.assign(Object.assign({},Gl.defaultStyles),{'mjx-container[jax="CHTML"] > mjx-math.NCM-N[breakable] > *':{"font-family":`MJX-NCM-ZERO, MJX-NCM-N`},".NCM-N":{"font-family":`MJX-NCM-ZERO, MJX-NCM-N`},".NCM-B":{"font-family":`MJX-NCM-ZERO, MJX-NCM-B`},".NCM-I":{"font-family":`MJX-NCM-ZERO, MJX-NCM-I`},".NCM-BI":{"font-family":`MJX-NCM-ZERO, MJX-NCM-BI`},".NCM-DS":{"font-family":`MJX-NCM-ZERO, MJX-NCM-DS`},".NCM-F":{"font-family":`MJX-NCM-ZERO, MJX-NCM-F`},".NCM-FB":{"font-family":`MJX-NCM-ZERO, MJX-NCM-FB`},".NCM-SS":{"font-family":`MJX-NCM-ZERO, MJX-NCM-SS`},".NCM-SSB":{"font-family":`MJX-NCM-ZERO, MJX-NCM-SSB`},".NCM-SSI":{"font-family":`MJX-NCM-ZERO, MJX-NCM-SSI`},".NCM-SSBI":{"font-family":`MJX-NCM-ZERO, MJX-NCM-SSBI`},".NCM-M":{"font-family":`MJX-NCM-ZERO, MJX-NCM-M`},".NCM-SO":{"font-family":`MJX-NCM-ZERO, MJX-NCM-SO`},".NCM-LO":{"font-family":`MJX-NCM-ZERO, MJX-NCM-LO`},".NCM-S3":{"font-family":`MJX-NCM-ZERO, MJX-NCM-S3`},".NCM-S4":{"font-family":`MJX-NCM-ZERO, MJX-NCM-S4`},".NCM-S5":{"font-family":`MJX-NCM-ZERO, MJX-NCM-S5`},".NCM-S6":{"font-family":`MJX-NCM-ZERO, MJX-NCM-S6`},".NCM-S7":{"font-family":`MJX-NCM-ZERO, MJX-NCM-S7`},".NCM-MI":{"font-family":`MJX-NCM-ZERO, MJX-NCM-MI`},".NCM-C":{"font-family":`MJX-NCM-ZERO, MJX-NCM-C`},".NCM-CB":{"font-family":`MJX-NCM-ZERO, MJX-NCM-CB`},".NCM-OS":{"font-family":`MJX-NCM-ZERO, MJX-NCM-OS`},".NCM-OB":{"font-family":`MJX-NCM-ZERO, MJX-NCM-OB`},".NCM-V":{"font-family":`MJX-NCM-ZERO, MJX-NCM-V`},".NCM-LT":{"font-family":`MJX-NCM-ZERO, MJX-NCM-LT`},".NCM-RB":{"font-family":`MJX-NCM-ZERO, MJX-NCM-RB`},".NCM-EM":{"font-family":`MJX-NCM-ZERO, MJX-NCM-EM`},".NCM-Be":{"font-family":`MJX-NCM-ZERO, MJX-NCM-Be`},".NCM-U":{"font-family":`MJX-NCM-ZERO, MJX-NCM-U`},".NCM-Ue":{"font-family":`MJX-NCM-ZERO, MJX-NCM-Ue`},".NCM-S":{"font-family":`MJX-NCM-ZERO, MJX-NCM-S`},".NCM-SB":{"font-family":`MJX-NCM-ZERO, MJX-NCM-SB`}}),zd.defaultFonts=Object.assign(Object.assign({},Gl.defaultFonts),{"@font-face /* MJX-NCM-ZERO */":{"font-family":`MJX-NCM-ZERO`,src:`url("%%URL%%/mjx-ncm-zero.woff2") format("woff2")`},"@font-face /* MJX-BRK */":{"font-family":`MJX-BRK`,src:`url("%%URL%%/mjx-ncm-brk.woff2") format("woff2")`},"@font-face /* MJX-NCM-N */":{"font-family":`MJX-NCM-N`,src:`url("%%URL%%/mjx-ncm-n.woff2") format("woff2")`},"@font-face /* MJX-NCM-B */":{"font-family":`MJX-NCM-B`,src:`url("%%URL%%/mjx-ncm-b.woff2") format("woff2")`},"@font-face /* MJX-NCM-I */":{"font-family":`MJX-NCM-I`,src:`url("%%URL%%/mjx-ncm-i.woff2") format("woff2")`},"@font-face /* MJX-NCM-BI */":{"font-family":`MJX-NCM-BI`,src:`url("%%URL%%/mjx-ncm-bi.woff2") format("woff2")`},"@font-face /* MJX-NCM-DS */":{"font-family":`MJX-NCM-DS`,src:`url("%%URL%%/mjx-ncm-ds.woff2") format("woff2")`},"@font-face /* MJX-NCM-F */":{"font-family":`MJX-NCM-F`,src:`url("%%URL%%/mjx-ncm-f.woff2") format("woff2")`},"@font-face /* MJX-NCM-FB */":{"font-family":`MJX-NCM-FB`,src:`url("%%URL%%/mjx-ncm-fb.woff2") format("woff2")`},"@font-face /* MJX-NCM-SS */":{"font-family":`MJX-NCM-SS`,src:`url("%%URL%%/mjx-ncm-ss.woff2") format("woff2")`},"@font-face /* MJX-NCM-SSB */":{"font-family":`MJX-NCM-SSB`,src:`url("%%URL%%/mjx-ncm-ssb.woff2") format("woff2")`},"@font-face /* MJX-NCM-SSI */":{"font-family":`MJX-NCM-SSI`,src:`url("%%URL%%/mjx-ncm-ssi.woff2") format("woff2")`},"@font-face /* MJX-NCM-SSBI */":{"font-family":`MJX-NCM-SSBI`,src:`url("%%URL%%/mjx-ncm-ssbi.woff2") format("woff2")`},"@font-face /* MJX-NCM-M */":{"font-family":`MJX-NCM-M`,src:`url("%%URL%%/mjx-ncm-m.woff2") format("woff2")`},"@font-face /* MJX-NCM-SO */":{"font-family":`MJX-NCM-SO`,src:`url("%%URL%%/mjx-ncm-so.woff2") format("woff2")`},"@font-face /* MJX-NCM-LO */":{"font-family":`MJX-NCM-LO`,src:`url("%%URL%%/mjx-ncm-lo.woff2") format("woff2")`},"@font-face /* MJX-NCM-S3 */":{"font-family":`MJX-NCM-S3`,src:`url("%%URL%%/mjx-ncm-s3.woff2") format("woff2")`},"@font-face /* MJX-NCM-S4 */":{"font-family":`MJX-NCM-S4`,src:`url("%%URL%%/mjx-ncm-s4.woff2") format("woff2")`},"@font-face /* MJX-NCM-S5 */":{"font-family":`MJX-NCM-S5`,src:`url("%%URL%%/mjx-ncm-s5.woff2") format("woff2")`},"@font-face /* MJX-NCM-S6 */":{"font-family":`MJX-NCM-S6`,src:`url("%%URL%%/mjx-ncm-s6.woff2") format("woff2")`},"@font-face /* MJX-NCM-S7 */":{"font-family":`MJX-NCM-S7`,src:`url("%%URL%%/mjx-ncm-s7.woff2") format("woff2")`},"@font-face /* MJX-NCM-MI */":{"font-family":`MJX-NCM-MI`,src:`url("%%URL%%/mjx-ncm-mi.woff2") format("woff2")`},"@font-face /* MJX-NCM-C */":{"font-family":`MJX-NCM-C`,src:`url("%%URL%%/mjx-ncm-c.woff2") format("woff2")`},"@font-face /* MJX-NCM-CB */":{"font-family":`MJX-NCM-CB`,src:`url("%%URL%%/mjx-ncm-cb.woff2") format("woff2")`},"@font-face /* MJX-NCM-OS */":{"font-family":`MJX-NCM-OS`,src:`url("%%URL%%/mjx-ncm-os.woff2") format("woff2")`},"@font-face /* MJX-NCM-OB */":{"font-family":`MJX-NCM-OB`,src:`url("%%URL%%/mjx-ncm-ob.woff2") format("woff2")`},"@font-face /* MJX-NCM-V */":{"font-family":`MJX-NCM-V`,src:`url("%%URL%%/mjx-ncm-v.woff2") format("woff2")`},"@font-face /* MJX-NCM-LT */":{"font-family":`MJX-NCM-LT`,src:`url("%%URL%%/mjx-ncm-lt.woff2") format("woff2")`},"@font-face /* MJX-NCM-RB */":{"font-family":`MJX-NCM-RB`,src:`url("%%URL%%/mjx-ncm-rb.woff2") format("woff2")`},"@font-face /* MJX-NCM-EM */":{"font-family":`MJX-NCM-EM`,src:`url("%%URL%%/mjx-ncm-em.woff2") format("woff2")`},"@font-face /* MJX-NCM-Be */":{"font-family":`MJX-NCM-Be`,src:`url("%%URL%%/mjx-ncm-be.woff2") format("woff2")`},"@font-face /* MJX-NCM-U */":{"font-family":`MJX-NCM-U`,src:`url("%%URL%%/mjx-ncm-u.woff2") format("woff2")`},"@font-face /* MJX-NCM-Ue */":{"font-family":`MJX-NCM-Ue`,src:`url("%%URL%%/mjx-ncm-ue.woff2") format("woff2")`},"@font-face /* MJX-NCM-S */":{"font-family":`MJX-NCM-S`,src:`url("%%URL%%/mjx-ncm-s.woff2") format("woff2")`},"@font-face /* MJX-NCM-SB */":{"font-family":`MJX-NCM-SB`,src:`url("%%URL%%/mjx-ncm-sb.woff2") format("woff2")`}}),zd.dynamicFiles=Gl.defineDynamicFiles([[`latin`,{normal:[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7835],7838,[7840,7929],11377]}],[`latin-b`,{bold:[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929],11377]}],[`latin-i`,{italic:[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929]]}],[`latin-bi`,{"bold-italic":[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929]]}],[`double-struck`,{normal:[8450,8461,8469,8473,8474,8477,8484,[8508,8512],[8517,8521],120120,120121,[120123,120126],[120128,120132],120134,[120138,120144],[120146,120171],[120792,120801]],"double-struck":[305,567]}],[`fraktur`,{normal:[8460,8465,8476,8488,8493,120068,120069,[120071,120074],[120077,120084],[120086,120092],[120094,120119],[120172,120223]],fraktur:[305,567],"bold-fraktur":[305,567]}],[`script`,{normal:[8458,8459,8464,8466,8467,8472,8475,8492,[8495,8497],8499,8500,119964,119966,119967,119970,119973,119974,[119977,119980],[119982,119993],119995,[119997,120003],[120005,120067]],script:[],"bold-script":[]}],[`sans-serif`,{normal:[[8513,8516],[120224,120431],[120662,120777],[120802,120821]],"sans-serif":[[32,47],[58,64],[91,96],[123,126],160,163,165,167,168,172,[175,177],[180,183],215,240,247,305,567,710,711,[713,715],[728,730],732,[768,776],778,780,[913,929],[931,937],[945,969],977,978,981,982,1008,1009,[1012,1014],[8208,8212],8214,8216,8217,8220,8221,8224,8225,8230,8260,8364,8486,8487,[8592,8595],8722,8734],"bold-sans-serif":[32,33,[35,47],58,59,61,63,64,[91,96],[123,126],160,163,165,167,168,172,[175,177],[180,183],215,240,247,305,567,710,711,[713,715],[728,730],732,[768,776],778,780,978,1014,[8208,8212],8214,8216,8217,8220,8221,8224,8225,8230,8260,8364,8486,8487,[8592,8595],8722,8734],"sans-serif-italic":[[32,64],[91,96],[123,126],160,163,165,167,168,172,[175,177],[180,183],215,240,247,305,567,710,711,[713,715],[728,730],732,[768,776],778,780,[913,929],[931,937],[945,969],977,978,981,982,1008,1009,[1012,1014],[8208,8212],8214,8216,8217,8220,8221,8224,8225,8230,8260,8364,8486,8487,[8592,8595],8722,8734],"sans-serif-bold-italic":[32,33,[35,59],61,63,64,[91,96],[123,126],160,163,165,167,168,172,[175,177],[180,183],215,240,247,305,567,710,711,[713,715],[728,730],732,[768,776],778,780,978,1014,[8208,8212],8214,8216,8217,8220,8221,8224,8225,8230,8260,8364,8486,8487,[8592,8595],8722,8734]}],[`sans-serif-r`,{"sans-serif":[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929],11377]}],[`sans-serif-b`,{"bold-sans-serif":[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929],11377]}],[`sans-serif-i`,{"sans-serif-italic":[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929],11377]}],[`sans-serif-bi`,{"sans-serif-bold-italic":[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929],11377]}],[`sans-serif-ex`,{"sans-serif":[161,162,164,166,[169,171],173,174,184,[186,191],[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,846],[848,879],3647,7620,7621,7624,7625,8204,8205,8218,8219,8222,8223,8226,8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8319,8320,8353,8358,8361,8363,8369,8370,8451,8470,8471,8478,8480,8482,8494,[8592,8595],8730,8738,8960,9001,9002,9250,9251,9474,9553,9702,9773,9792,9834,9901,9902,9906,10013,10214,10215,11800,59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59959,59962,59966,59970,59973,60163,60164,60168,60175,60177,60178,60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198,[64256,64260],65126],"bold-sans-serif":[161,162,164,166,[169,171],173,174,184,[186,191],[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,846],[848,879],3647,7620,7621,7624,7625,8204,8205,8218,8219,8222,8223,8226,8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8319,8320,8353,8358,8361,8363,8369,8370,8451,8470,8471,8478,8480,8482,8494,[8592,8595],8730,8738,8960,9001,9002,9250,9251,9474,9553,9702,9773,9792,9834,9901,9902,9906,10013,10214,10215,11800,59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198,[64256,64260],65126],"sans-serif-italic":[161,162,164,166,[169,171],173,174,184,[186,191],[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,846],[848,879],3647,7620,7621,7624,7625,8204,8205,8218,8219,8222,8223,8226,8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8319,8320,8353,8358,8361,8363,8369,8370,8451,8470,8471,8478,8480,8482,8494,[8592,8595],8730,8738,8960,9001,9002,9250,9251,9474,9553,9702,9773,9792,9834,9901,9902,9906,10013,10214,10215,11800,59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198,[64256,64260],65126],"sans-serif-bold-italic":[161,162,164,166,[169,171],173,174,184,[186,191],[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,879],3647,7620,7621,7624,7625,8204,8205,8218,8219,8222,8223,8226,8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8319,8320,8353,8358,8361,8363,8369,8370,8451,8470,8471,8478,8480,8482,8494,[8592,8595],8730,8738,8960,9001,9002,9250,9251,9474,9553,9702,9773,9792,9834,9901,9902,9906,10013,10214,10215,11800,59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198,[64256,64260],65126]}],[`monospace`,{normal:[[120432,120483],[120822,120831]],monospace:[[32,47],[58,64],[91,96],[123,126],160,163,165,167,168,172,[175,177],[180,183],215,240,247,305,567,710,711,[728,730],732,[768,776],778,780,[913,929],[931,937],[945,969],977,978,981,982,1008,1009,[1012,1014],[8208,8212],8214,8216,8217,8220,8221,8224,8225,8230,8260,8364,8486,8487,[8592,8595],8722,8734]}],[`monospace-l`,{monospace:[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929],11377]}],[`monospace-ex`,{monospace:[161,162,164,166,[169,171],173,174,184,[186,191],[592,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,995],1010,1011,[1015,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309],3647,7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575,7620,7621,7624,7625,[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],8218,8219,8222,8223,8226,8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8319,8320,8353,8358,8361,8363,8369,8370,8451,8470,8471,8478,8480,8482,8494,[8592,8595],8730,8738,8960,9001,9002,9250,9251,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,[9552,9579],9702,9773,9792,9834,9901,9902,9906,10013,10214,10215,11800,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198,[64256,64262],65126]}],[`calligraphic`,{"-tex-calligraphic":[[65,90]],"-tex-bold-calligraphic":[[65,90]]}],[`math`,{normal:[8714,8717,8731,8732,8762,8763,8782,8783,[8785,8787],[8790,8796],8798,8844,[8886,8889],[8891,8895],8903,[8912,8929],[8932,8937],[8946,8959],[10176,10199],[10202,10204],[10207,10213],[10625,10646],[10649,10740],10742,[10746,10751],10762,10763,[10781,10798],[10800,10814],[10816,10876],[10879,10884],[10893,10900],[10903,10926],[10939,10948],[10951,10954],[10957,10973],[10988,10993],[10998,11003],[11005,11007]]}],[`symbols`,{normal:[127,161,162,164,166,[169,171],173,174,178,179,[185,191],3647,8204,8205,8215,8218,8219,8222,8223,[8226,8229],8233,8240,8241,[8248,8259],[8261,8278],[8280,8286],8319,8320,8353,8358,[8361,8363],8369,8370,8448,8449,[8451,8454],8456,8457,8468,8470,8471,[8478,8483],8485,8489,8494,[8505,8507],[8522,8527],[8960,8966],[8977,8984],8986,8987,[8996,9e3],[9003,9114],9142,[9146,9165],9167,[9169,9179],[9186,9203],[9208,9215],9250,9251,11159,11193,11209,[11216,11241],[11248,11263],11800,12306,12310,12311,12336,[64256,64262],65126,65279]},[8215]],[`symbols-b-i`,{bold:[161,162,164,166,[169,171],173,174,[186,191],3647,8204,8205,8218,8219,8222,8223,8226,8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8319,8320,8353,8358,[8361,8363],8369,8370,8451,8470,8471,8478,8480,8482,8494,8960,9250,9251,11800,[64256,64262],65126],italic:[[161,167],[169,174],177,[181,183],[186,191],215,240,247,3647,8204,8205,8218,8219,[8222,8226],8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8320,8353,8358,8361,8363,8369,8370,8451,8470,8471,8478,8480,8482,8494,8960,9250,9251,11800,[64256,64262],65126],"bold-italic":[[161,167],[169,174],177,[181,183],[186,191],215,240,247,3647,8204,8205,8218,8219,[8222,8226],8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8320,8353,8358,[8361,8363],8369,8370,8451,8470,8471,8478,8480,8482,8494,8960,9250,9251,11800,[64256,64262],65126]}],[`greek`,{normal:[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],[11392,11507],[11513,11519]],bold:[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,987],[990,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],[11392,11507],[11513,11519]],italic:[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],[11392,11507],[11513,11519]],"bold-italic":[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],[11392,11507],[11513,11519]]}],[`greek-ss`,{"sans-serif":[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190]],"bold-sans-serif":[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8121],[8123,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190]],"sans-serif-italic":[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190]],"sans-serif-bold-italic":[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8121],[8123,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190]]}],[`cyrillic`,{normal:[[1024,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]],bold:[[1024,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]],italic:[[1024,1143],[1146,1158],[1160,1225],[1227,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]],"bold-italic":[[1024,1143],[1146,1158],[1160,1225],[1227,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]]}],[`cyrillic-ss`,{"sans-serif":[[1024,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]],"bold-sans-serif":[[1024,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]],"sans-serif-italic":[[1024,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]],"sans-serif-bold-italic":[[1024,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]]}],[`phonetics`,{normal:[[592,687],7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575],bold:[[592,687],7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575],italic:[[592,685],687],"bold-italic":[[592,687]]}],[`phonetics-ss`,{"sans-serif":[[592,687],7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575],"bold-sans-serif":[[592,687],7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575],"sans-serif-italic":[[592,687],7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575],"sans-serif-bold-italic":[[592,687],7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575]}],[`hebrew`,{normal:[[1425,1479],[1488,1514],[1519,1525],1527,[64285,64335]],bold:[[1425,1479],[1488,1515],[1519,1525],1527,[64285,64335]],italic:[[1425,1479],[1488,1514],[1519,1525],1527,[64285,64335]],"bold-italic":[[1425,1479],[1488,1515],[1519,1525],1527,[64285,64335]]}],[`devanagari`,{normal:[[2304,2431]],bold:[],italic:[],"bold-italic":[]}],[`cherokee`,{normal:[[5024,5109],[5112,5117]],bold:[[5024,5109],[5112,5117]],italic:[[5024,5115]],"bold-italic":[[5024,5115]]}],[`arabic`,{normal:[[126464,126498],126500,126503,[126505,126514],[126516,126519],126521,126523,126530,126535,126537,126539,[126541,126543],126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],126704,126705],bold:[],italic:[],"bold-italic":[]}],[`braille-d`,{normal:[[10240,10495]]}],[`braille`,{"sans-serif":[[10240,10495]]}],[`arrows`,{normal:[8604,8605,8607,8609,8613,8615,8616,8621,[8623,8629],8632,8633,[8662,8665],[8668,8671],[8678,8692],[8695,8703],9166,10145,[10224,10228],10239,[10496,10505],[10508,10569],10572,10573,10575,10577,10580,10581,10584,10585,10588,10589,[10592,10601],[10608,10619],[11008,11026],[11056,11087],[11098,11123],[11126,11157],[11160,11192],[11244,11247]],"-largeop":[8593,8595,[8597,8603],[8606,8611],8613,8615,[8617,8622],[8624,8627],8630,8631,[8636,8655],8657,8659,[8661,8667],[8678,8681],8691,8693,8694,[11012,11015],11020,11021,11057],"-lf-tp":[[8678,8681],10503,11013,11014],"-rt-bt":[[8678,8681],10502,11015,11020],"-ex-md":[8678,8679,11013,11014]},[8607,8609,8613,8615,8621,8622,[8624,8627],[8662,8665],8668,8669,[8678,8681],8691,10145,10237,10238,10502,10503,10572,10573,10575,10577,10588,10589,10592,10593,[11012,11015],11020,11021,11057]],[`marrows`,{normal:[[129024,129035],[129040,129095],[129104,129113],[129120,129159],[129168,129197],129200,129201]}],[`accents`,{normal:[184,[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,879],7620,7621,7624,7625,[8403,8405],8408,[8413,8415],[8420,8427],8432],"-smallop":[785,[812,816],818,819,831,845],"-largeop":[785,[812,816]],"-size3":[785,[812,816]],"-size4":[785,[812,816]],"-size5":[785,[812,816]],"-size6":[785,[812,816]],"-size7":[785,[812,816]],"-ex-md":[818,819,831,845]},[785,[812,816],818,819,831,845,8425]],[`accents-b-i`,{bold:[184,[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,846],[848,879],7620,7621,7624,7625],italic:[184,[688,700],[702,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,846],[848,879]],"bold-italic":[184,[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,846],[848,879]]}],[`shapes`,{normal:[8962,[8998,9e3],9003,[9211,9214],[9472,9631],[9634,9641],[9644,9649],9672,9673,[9676,9678],[9680,9701],[9703,9710],[9712,9719],9728,9733,9734,9737,9761,9773,[9785,9790],9792,9794,[9824,9831],[9833,9835],[9837,9839],9854,[9856,9865],9893,[9898,9902],9906,10003,10013,10016,10026,10038,10045,10098,10099,10139,10145,[11026,11055],[11088,11097],[11194,11208],[11210,11215],11242,11243],bold:[9474,9553,9773,9792,9834,9901,9902,9906,10013],italic:[9773,9834,9901,9902,10013],"bold-italic":[9773,9834,9901,9902,10013]}],[`mshapes`,{normal:[[128896,128984],[128992,129003]]}],[`variants`,{"-tex-variant":[34,39,42,96,126,170,176,178,179,185,186,8212,8289,8304,8305,[8308,8334]]}],[`PUA`,{normal:[[57344,57395],[57409,57458],[59264,59274],59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198],bold:[59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198],italic:[59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,61867,61868,[61873,61877],62082,62083,62110,62113,62116,62119,62120,[62560,62568],[62570,62578],63166,63172,[63174,63176],[63187,63190],63198],"bold-italic":[59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,61867,61868,[61873,61877],62082,62083,62110,62113,62116,62119,62120,[62560,62568],[62570,62578],63166,63172,[63174,63176],[63187,63190],63198]}]]);let Xd={fontName:`mathjax-newcm`,DefaultFont:zd},Vd=Xd.fontName,Gd=Xd.DefaultFont;class Jd extends Sl{constructor(t$1={}){super(t$1,qd,Gd),this.chtmlStyles=null,this.font.adaptiveCSS(this.options.adaptiveCSS),this.wrapperUsage=new Vl}addExtension(t$1,e$1=``){let s$1=super.addExtension(t$1,e$1);return s$1.length&&this.options.adaptiveCSS&&this.chtmlStyles&&this.adaptor.insertRules(this.chtmlStyles,s$1),[]}escaped(t$1,e$1){return this.setDocument(e$1),this.html(`span`,{},[this.text(t$1.math)])}styleSheet(t$1){if(this.chtmlStyles){let t$2=new Co;return this.options.adaptiveCSS&&(this.addWrapperStyles(t$2),this.updateFontStyles(t$2)),t$2.addStyles(this.font.updateDynamicStyles()),this.adaptor.insertRules(this.chtmlStyles,t$2.getStyleRules()),this.chtmlStyles}let e$1=this.chtmlStyles=super.styleSheet(t$1);return this.adaptor.setAttribute(e$1,`id`,Jd.STYLESHEETID),this.wrapperUsage.update(),e$1}updateFontStyles(t$1){t$1.addStyles(this.font.updateStyles({}))}addWrapperStyles(t$1){if(this.options.adaptiveCSS)for(let e$1 of this.wrapperUsage.update()){let s$1=this.factory.getNodeClass(e$1);s$1&&this.addClassStyles(s$1,t$1)}else super.addWrapperStyles(t$1)}addClassStyles(t$1,e$1){let s$1=t$1;s$1.autoStyle&&s$1.kind!==`unknown`&&e$1.addStyles({[`mjx-`+s$1.kind]:{display:`inline-block`,"text-align":`left`}}),this.wrapperUsage.add(s$1.kind),super.addClassStyles(t$1,e$1)}insertStyles(t$1){this.chtmlStyles&&this.adaptor.insertRules(this.chtmlStyles,new Co(t$1).getStyleRules())}processMath(t$1,e$1){t$1.toCHTML([e$1])}clearCache(){this.styleJson.clear(),this.font.clearCache(),this.wrapperUsage.clear(),this.chtmlStyles=null}reset(){this.clearCache()}unknownText(t$1,e$1,s$1=null){let i$1={},r$1=100/this.math.metrics.scale;if(r$1!==100&&(i$1[`font-size`]=this.fixed(r$1,1)+`%`,i$1.padding=uo(75/r$1)+` 0 `+uo(20/r$1)+` 0`),e$1!==`-explicitFont`){let s$2=Pr(t$1);(s$2.length!==1||s$2[0]<119808||s$2[0]>120831)&&this.cssFontStyles(this.font.getCssFont(e$1),i$1)}return s$1!==null&&(i$1.width=this.fixed(s$1*this.math.metrics.scale)+`em`),this.html(`mjx-utext`,{variant:e$1,style:i$1},[this.text(t$1)])}measureTextNode(t$1){let e$1=this.adaptor,s$1=e$1.clone(t$1);e$1.setStyle(s$1,`font-family`,e$1.getStyle(s$1,`font-family`).replace(/MJXZERO, /g,``));let i$1=this.math.metrics.em,r$1={position:`absolute`,top:0,left:0,"white-space":`nowrap`,"font-size":this.fixed(i$1,3)+`px`},n$1=this.html(`mjx-measure-text`,{style:r$1},[s$1]);e$1.append(e$1.parent(this.math.start.node),this.container),e$1.append(this.container,n$1);let o$1=e$1.nodeSize(s$1,i$1)[0];return e$1.remove(this.container),e$1.remove(n$1),{w:o$1,h:.75,d:.2}}}function Kd(t$1,e$1){let s$1={};for(let i$1 of Object.keys(t$1)){let r$1=t$1[i$1];for(let t$2 of Object.keys(r$1)){s$1[t$2]||(s$1[t$2]={});let n$1=r$1[t$2];if(i$1)for(let t$3 of Object.keys(n$1)){let s$2=n$1[parseInt(t$3)];s$2[3]||={},e$1?s$2[3].ff=e$1+`-`+i$1:s$2[3].f=i$1}Object.assign(s$1[t$2],n$1)}}return s$1}Jd.NAME=`CHTML`,Jd.OPTIONS=Object.assign(Object.assign({},Sl.OPTIONS),{adaptiveCSS:!0,matchFontHeight:!0}),Jd.commonStyles=Object.assign(Object.assign({},Sl.commonStyles),{'mjx-container[jax="CHTML"]':{"white-space":`nowrap`},[[`mjx-mo > mjx-c`,`mjx-mi > mjx-c`,`mjx-mn > mjx-c`,`mjx-ms > mjx-c`,`mjx-mtext > mjx-c`].join(`, `)]:{"clip-path":`padding-box xywh(-1em -2px calc(100% + 2em) calc(100% + 4px))`},"mjx-stretchy-h":{"clip-path":`padding-box xywh(0 -2px 100% calc(100% + 4px))`},"mjx-stretchy-v":{"clip-path":`padding-box xywh(-2px 0 calc(100% + 4px) 100%)`},'mjx-container [space="1"]':{"margin-left":`.111em`},'mjx-container [space="2"]':{"margin-left":`.167em`},'mjx-container [space="3"]':{"margin-left":`.222em`},'mjx-container [space="4"]':{"margin-left":`.278em`},'mjx-container [space="5"]':{"margin-left":`.333em`},'mjx-container [rspace="1"]':{"margin-right":`.111em`},'mjx-container [rspace="2"]':{"margin-right":`.167em`},'mjx-container [rspace="3"]':{"margin-right":`.222em`},'mjx-container [rspace="4"]':{"margin-right":`.278em`},'mjx-container [rspace="5"]':{"margin-right":`.333em`},'mjx-container [size="s"]':{"font-size":`70.7%`},'mjx-container [size="ss"]':{"font-size":`50%`},'mjx-container [size="Tn"]':{"font-size":`60%`},'mjx-container [size="sm"]':{"font-size":`85%`},'mjx-container [size="lg"]':{"font-size":`120%`},'mjx-container [size="Lg"]':{"font-size":`144%`},'mjx-container [size="LG"]':{"font-size":`173%`},'mjx-container [size="hg"]':{"font-size":`207%`},'mjx-container [size="HG"]':{"font-size":`249%`},'mjx-container [width="full"]':{width:`100%`},"mjx-box":{display:`inline-block`},"mjx-block":{display:`block`},"mjx-itable":{display:`inline-table`},"mjx-row":{display:`table-row`},"mjx-row > *":{display:`table-cell`},"mjx-container [inline-breaks]":{display:`inline`},"mjx-mtext":{display:`inline-block`},"mjx-mstyle":{display:`inline-block`},"mjx-merror":{display:`inline-block`,color:`red`,"background-color":`yellow`},"mjx-mphantom":{visibility:`hidden`}}),Jd.STYLESHEETID=`MJX-CHTML-styles`,MathJax.loader&&MathJax.loader.checkVersion(`output/chtml`,si,`output`),ai({_:{output:{chtml_ts:Is,chtml:{DefaultFont:Ms,DynamicFonts:Ss,FontData:Me,Notation:ze,Usage:Le,Wrapper:Ce,WrapperFactory:Ls,Wrappers_ts:As,Wrappers:{HtmlNode:ks,TeXAtom:Ts,TextNode:_s,maction:bs,math:we,menclose:Xe,mfenced:Ke,mfrac:Ye,mglyph:Ns,mi:ke,mmultiscripts:ls,mn:Re,mo:Ie,mpadded:qe,mroot:es,mrow:Ge,ms:De,mspace:je,msqrt:Ze,msubsup:ns,mtable:ds,mtd:fs,mtext:Be,mtr:ps,munderover:as,scriptbase:rs,semantics:vs}},common_ts:ye,common:{Direction:ge,FontData:be,LineBBox:Ee,LinebreakVisitor:Ne,Notation:He,Wrapper:ve,WrapperFactory:xe,Wrappers:{TeXAtom:Cs,TextNode:ws,XmlNode:xs,maction:gs,math:Te,menclose:We,mfenced:Je,mfrac:$e,mglyph:Es,mi:_e,mmultiscripts:cs,mn:Se,mo:Ae,mpadded:Ue,mroot:ts,mrow:Ve,ms:Oe,mspace:Fe,msqrt:Qe,msubsup:ss,mtable:hs,mtd:ms,mtext:Pe,mtr:us,munderover:os,scriptbase:is,semantics:ys}}}}});let $d=li?`https://cdn.jsdelivr.net/npm/@mathjax/%%FONT%%-font`:`@mathjax/%%FONT%%-font`,Yd={config(t$1,e$1,s$1,i$1){if(MathJax.loader){oi(MathJax.config,t$1,MathJax.config.output||{});let e$2=MathJax.config[t$1],r$1=e$2.font||e$2.fontData||s$1;if(typeof r$1!=`string`&&(e$2.fontData=r$1,e$2.font=r$1=r$1.NAME),r$1.charAt(0)!==`[`){let s$2=e$2.fontPath||$d,i$2=r$1.match(/^[a-z]+:/)?(r$1.match(/[^/:\\]*$/)||[t$1])[0]:r$1;oi(MathJax.config.loader,`paths`,{[i$2]:i$2===r$1?s$2.replace(/%%FONT%%/g,r$1):r$1}),r$1=`[${i$2}]`}let n$1=r$1.substring(1,r$1.length-1);if(n$1===s$1&&i$1){let e$3=MathJax.config.loader[`${r$1}/${t$1}`]?.extraLoads;e$3&&MathJax.loader.addPackageData(`output/${t$1}`,{extraLoads:e$3}),ai({_:{output:{fonts:{[n$1]:{[t$1+`_ts`]:{[i$1.NAME+`Font`]:i$1}}}}}}),oi(MathJax,`config`,{output:{font:r$1},[t$1]:{fontData:i$1,dynamicPrefix:`${r$1}/${t$1}/dynamic`}}),t$1===`chtml`&&oi(MathJax.config,t$1,{fontURL:ui.resolvePath(`${r$1}/${t$1}/woff2`,!1)})}else MathJax.loader.addPackageData(`output/${t$1}`,{extraLoads:[`${r$1}/${t$1}`]})}MathJax.startup&&(MathJax.startup.registerConstructor(t$1,e$1),MathJax.startup.useOutput(t$1))},loadFont:(t$1,e$1,s$1,i$1)=>MathJax.loader?(i$1&&MathJax.loader.preLoaded(`[${s$1}]/${e$1}`),ui.loadPromise(`output/${e$1}`).then(t$1)):t$1};var Qd;Yd.config(`chtml`,Jd,Vd,Gd),function(t$1){t$1[t$1.RETURN=13]=`RETURN`,t$1[t$1.ESCAPE=27]=`ESCAPE`,t$1[t$1.SPACE=32]=`SPACE`,t$1[t$1.LEFT=37]=`LEFT`,t$1[t$1.UP=38]=`UP`,t$1[t$1.RIGHT=39]=`RIGHT`,t$1[t$1.DOWN=40]=`DOWN`}(Qd||={});let Zd=`click`,tu=`dblclick`,eu=`mousedown`,su=`mouseup`,iu=`mouseover`,ru=`mouseout`,nu=`selectstart`;class ou{constructor(){this.bubble=!1}bubbleKey(){this.bubble=!0}keydown(t$1){switch(t$1.keyCode){case Qd.ESCAPE:this.escape(t$1);break;case Qd.RIGHT:this.right(t$1);break;case Qd.LEFT:this.left(t$1);break;case Qd.UP:this.up(t$1);break;case Qd.DOWN:this.down(t$1);break;case Qd.RETURN:case Qd.SPACE:this.space(t$1);break;default:return}this.bubble?this.bubble=!1:this.stop(t$1)}escape(t$1){}space(t$1){}left(t$1){}right(t$1){}up(t$1){}down(t$1){}stop(t$1){t$1&&(t$1.stopPropagation(),t$1.preventDefault(),t$1.cancelBubble=!0)}mousedown(t$1){return this.stop(t$1)}mouseup(t$1){return this.stop(t$1)}mouseover(t$1){return this.stop(t$1)}mouseout(t$1){return this.stop(t$1)}click(t$1){return this.stop(t$1)}addEvents(t$1){t$1.addEventListener(`mousedown`,this.mousedown.bind(this)),t$1.addEventListener(`mouseup`,this.mouseup.bind(this)),t$1.addEventListener(`mouseover`,this.mouseover.bind(this)),t$1.addEventListener(`mouseout`,this.mouseout.bind(this)),t$1.addEventListener(`click`,this.click.bind(this)),t$1.addEventListener(`keydown`,this.keydown.bind(this)),t$1.addEventListener(`dragstart`,this.stop.bind(this)),t$1.addEventListener(`selectstart`,this.stop.bind(this)),t$1.addEventListener(`contextmenu`,this.stop.bind(this)),t$1.addEventListener(`dblclick`,this.stop.bind(this))}}class au extends ou{addAttributes(t$1){for(let e$1 in t$1)this.html.setAttribute(e$1,t$1[e$1])}get html(){return this._html||this.generateHtml(),this._html}set html(t$1){this._html=t$1,this.addEvents(t$1)}generateHtml(){let t$1=document.createElement(`div`);t$1.classList.add(this.className),t$1.setAttribute(`role`,this.role),this.html=t$1}focus(){let t$1=this.html;t$1.setAttribute(`tabindex`,`0`),t$1.focus()}unfocus(){let t$1=this.html;t$1.hasAttribute(`tabindex`)&&t$1.setAttribute(`tabindex`,`-1`);try{t$1.blur()}catch{}t$1.blur()}}class cu extends au{constructor(){super(...arguments),this.posted=!1}isPosted(){return this.posted}post(t$1,e$1){this.posted||=(t$1!==void 0&&e$1!==void 0&&this.html.setAttribute(`style`,`left: `+t$1+`px; top: `+e$1+`px;`),this.display(),!0)}unpost(){if(!this.posted)return;let t$1=this.html;t$1.parentNode&&t$1.parentNode.removeChild(t$1),this.posted=!1}}function lu(t$1){return`CtxtMenu_`+t$1}function hu(t$1){return lu(t$1)}function du(t$1){return lu(t$1)}let uu={ATTACHED:hu(`Attached`),CONTEXTMENU:hu(`ContextMenu`),MENU:hu(`Menu`),MENUARROW:hu(`MenuArrow`),MENUACTIVE:hu(`MenuActive`),MENUCHECK:hu(`MenuCheck`),MENUCLOSE:hu(`MenuClose`),MENUCOMBOBOX:hu(`MenuComboBox`),MENUDISABLED:hu(`MenuDisabled`),MENUFRAME:hu(`MenuFrame`),MENUITEM:hu(`MenuItem`),MENULABEL:hu(`MenuLabel`),MENURADIOCHECK:hu(`MenuRadioCheck`),MENUINPUTBOX:hu(`MenuInputBox`),MENURULE:hu(`MenuRule`),MENUSLIDER:hu(`MenuSlider`),MOUSEPOST:hu(`MousePost`),RTL:hu(`RTL`),INFO:hu(`Info`),INFOCLOSE:hu(`InfoClose`),INFOCONTENT:hu(`InfoContent`),INFOSIGNATURE:hu(`InfoSignature`),INFOTITLE:hu(`InfoTitle`),SLIDERVALUE:hu(`SliderValue`),SLIDERBAR:hu(`SliderBar`),SELECTION:hu(`Selection`),SELECTIONBOX:hu(`SelectionBox`),SELECTIONMENU:hu(`SelectionMenu`),SELECTIONDIVIDER:hu(`SelectionDivider`),SELECTIONITEM:hu(`SelectionItem`)},pu={COUNTER:du(`Counter`),KEYDOWNFUNC:du(`keydownFunc`),CONTEXTMENUFUNC:du(`contextmenuFunc`),OLDTAB:du(`Oldtabindex`),TOUCHFUNC:du(`TouchFunc`)};class mu extends au{constructor(t$1,e$1){super(),this._menu=t$1,this._type=e$1,this.className=uu.MENUITEM,this.role=`menuitem`,this.hidden=!1}get menu(){return this._menu}set menu(t$1){this._menu=t$1}get type(){return this._type}hide(){this.hidden=!0,this.menu.generateMenu()}show(){this.hidden=!1,this.menu.generateMenu()}isHidden(){return this.hidden}}function fu(t$1){let e$1=t$1.menu;e$1.baseMenu?e$1.baseMenu.unpost():e$1.unpost()}function gu(t$1){let e$1=t$1.menu;return(e$1.baseMenu?e$1.baseMenu:e$1).store.active}function bu(t$1,e$1){console.error(`ContextMenu Error: `+e$1)}function Eu(){return Nu++}let Nu=0;class yu extends mu{constructor(t$1,e$1,s$1,i$1){super(t$1,e$1),this._content=s$1,this.disabled=!1,this.callbacks=[],this._id=i$1||s$1}get content(){return this._content}set content(t$1){this._content=t$1,this.generateHtml(),this.menu&&this.menu.generateHtml()}get id(){return this._id}press(){this.disabled||(this.executeAction(),this.executeCallbacks_())}executeAction(){}registerCallback(t$1){this.callbacks.indexOf(t$1)===-1&&this.callbacks.push(t$1)}unregisterCallback(t$1){let e$1=this.callbacks.indexOf(t$1);e$1!==-1&&this.callbacks.splice(e$1,1)}mousedown(t$1){this.press(),this.stop(t$1)}mouseover(t$1){this.focus(),this.stop(t$1)}mouseout(t$1){this.deactivate(),this.stop(t$1)}generateHtml(){super.generateHtml();let t$1=this.html;t$1.setAttribute(`aria-disabled`,`false`),t$1.textContent=this.content}activate(){this.disabled||this.html.classList.add(uu.MENUACTIVE)}deactivate(){this.html.classList.remove(uu.MENUACTIVE)}focus(){this.menu.focused=this,super.focus(),this.activate()}unfocus(){this.deactivate(),super.unfocus()}escape(t$1){fu(this)}up(t$1){this.menu.up(t$1)}down(t$1){this.menu.down(t$1)}left(t$1){this.menu.left(t$1)}right(t$1){this.menu.right(t$1)}space(t$1){this.press()}disable(){this.disabled=!0;let t$1=this.html;t$1.classList.add(uu.MENUDISABLED),t$1.setAttribute(`aria-disabled`,`true`)}enable(){this.disabled=!1;let t$1=this.html;t$1.classList.remove(uu.MENUDISABLED),t$1.removeAttribute(`aria-disabled`)}executeCallbacks_(){for(let t$1 of this.callbacks)try{t$1(this)}catch{bu(0,`Callback for menu entry `+this.id+` failed.`)}}}class xu extends yu{static fromJson(t$1,{content:e$1,menu:s$1,id:i$1},r$1){let n$1=new this(r$1,e$1,i$1);return n$1.submenu=t$1.get(`subMenu`)(t$1,s$1,n$1),n$1}constructor(t$1,e$1,s$1){super(t$1,`submenu`,e$1,s$1),this._submenu=null}set submenu(t$1){this._submenu=t$1}get submenu(){return this._submenu}mouseover(t$1){this.focus(),this.stop(t$1)}mouseout(t$1){this.stop(t$1)}unfocus(){if(this.submenu.isPosted()){if(this.menu.focused!==this)return super.unfocus(),void this.menu.unpostSubmenus();this.html.setAttribute(`tabindex`,`-1`),this.html.blur()}else super.unfocus()}focus(){super.focus(),this.submenu.isPosted()||this.disabled||this.submenu.post()}executeAction(){this.submenu.isPosted()?this.submenu.unpost():this.submenu.post()}generateHtml(){super.generateHtml();let t$1=this.html;this.span=document.createElement(`span`),this.span.textContent=``,this.span.classList.add(uu.MENUARROW),t$1.appendChild(this.span),t$1.setAttribute(`aria-haspopup`,`true`)}left(t$1){this.submenu.isPosted()?this.submenu.unpost():super.left(t$1)}right(t$1){this.submenu.isPosted()?this.submenu.down(t$1):this.submenu.post()}toJson(){return{type:``}}}class vu extends cu{constructor(){super(...arguments),this.className=uu.CONTEXTMENU,this.role=`menu`,this._items=[],this._baseMenu=null}set baseMenu(t$1){this._baseMenu=t$1}get baseMenu(){return this._baseMenu}get items(){return this._items}set items(t$1){this._items=t$1}get pool(){return this.variablePool}get focused(){return this._focused}set focused(t$1){if(this._focused===t$1)return;this._focused||this.unfocus();let e$1=this._focused;this._focused=t$1,e$1&&e$1.unfocus()}up(t$1){let e$1=this.items.filter((t$2=>t$2 instanceof yu&&!t$2.isHidden()));if(e$1.length===0)return;if(!this.focused)return void e$1[e$1.length-1].focus();let s$1=e$1.indexOf(this.focused);s$1!==-1&&(s$1=s$1?--s$1:e$1.length-1,e$1[s$1].focus())}down(t$1){let e$1=this.items.filter((t$2=>t$2 instanceof yu&&!t$2.isHidden()));if(e$1.length===0)return;if(!this.focused)return void e$1[0].focus();let s$1=e$1.indexOf(this.focused);s$1!==-1&&(s$1++,s$1=s$1===e$1.length?0:s$1,e$1[s$1].focus())}generateHtml(){super.generateHtml(),this.generateMenu()}generateMenu(){let t$1=this.html;t$1.classList.add(uu.MENU);for(let e$1 of this.items){if(!e$1.isHidden()){t$1.appendChild(e$1.html);continue}let s$1=e$1.html;s$1.parentNode&&s$1.parentNode.removeChild(s$1)}}post(t$1,e$1){this.variablePool.update(),super.post(t$1,e$1)}unpostSubmenus(){let t$1=this.items.filter((t$2=>t$2 instanceof xu));for(let e$1 of t$1)e$1.submenu.unpost(),e$1!==this.focused&&e$1.unfocus()}unpost(){super.unpost(),this.unpostSubmenus(),this.focused=null}find(t$1){for(let e$1 of this.items)if(e$1.type!==`rule`){if(e$1.id===t$1)return e$1;if(e$1.type===`submenu`){let s$1=e$1.submenu.find(t$1);if(s$1)return s$1}}return null}}class Cu{constructor(t$1){this.menu=t$1,this.store=[],this._active=null,this.counter=0,this.attachedClass=uu.ATTACHED+`_`+Eu(),this.taborder=!0,this.attrMap={}}set active(t$1){do{if(this.store.indexOf(t$1)!==-1){this._active=t$1;break}t$1=t$1.parentNode}while(t$1)}get active(){return this._active}next(){let t$1=this.store.length;if(t$1===0)return this.active=null,null;let e$1=this.store.indexOf(this.active);return e$1=e$1===-1?0:e$1<t$1-1?e$1+1:0,this.active=this.store[e$1],this.active}previous(){let t$1=this.store.length;if(t$1===0)return this.active=null,null;let e$1=t$1-1,s$1=this.store.indexOf(this.active);return s$1=s$1===-1||s$1===0?e$1:s$1-1,this.active=this.store[s$1],this.active}clear(){this.remove(this.store)}insert(t$1){let e$1=t$1 instanceof HTMLElement?[t$1]:t$1;for(let t$2 of e$1)this.insertElement(t$2);this.sort()}remove(t$1){let e$1=t$1 instanceof HTMLElement?[t$1]:t$1;for(let t$2 of e$1)this.removeElement(t$2);this.sort()}inTaborder(t$1){this.taborder&&!t$1&&this.removeTaborder(),!this.taborder&&t$1&&this.insertTaborder(),this.taborder=t$1}insertTaborder(){this.taborder&&this.insertTaborder_()}removeTaborder(){this.taborder&&this.removeTaborder_()}insertElement(t$1){t$1.classList.contains(this.attachedClass)||(t$1.classList.add(this.attachedClass),this.taborder&&this.addTabindex(t$1),this.addEvents(t$1))}removeElement(t$1){t$1.classList.contains(this.attachedClass)&&(t$1.classList.remove(this.attachedClass),this.taborder&&this.removeTabindex(t$1),this.removeEvents(t$1))}sort(){let t$1=document.getElementsByClassName(this.attachedClass);this.store=[].slice.call(t$1)}insertTaborder_(){this.store.forEach((t$1=>t$1.setAttribute(`tabindex`,`0`)))}removeTaborder_(){this.store.forEach((t$1=>t$1.setAttribute(`tabindex`,`-1`)))}addTabindex(t$1){t$1.hasAttribute(`tabindex`)&&t$1.setAttribute(pu.OLDTAB,t$1.getAttribute(`tabindex`)),t$1.setAttribute(`tabindex`,`0`)}removeTabindex(t$1){t$1.hasAttribute(pu.OLDTAB)?(t$1.setAttribute(`tabindex`,t$1.getAttribute(pu.OLDTAB)),t$1.removeAttribute(pu.OLDTAB)):t$1.removeAttribute(`tabindex`)}addEvents(t$1){t$1.hasAttribute(pu.COUNTER)||(this.addEvent(t$1,`contextmenu`,this.menu.post.bind(this.menu)),this.addEvent(t$1,`keydown`,this.keydown.bind(this)),t$1.setAttribute(pu.COUNTER,this.counter.toString()),this.counter++)}addEvent(t$1,e$1,s$1){let i$1=pu[e$1.toUpperCase()+`FUNC`];this.attrMap[i$1+this.counter]=s$1,t$1.addEventListener(e$1,s$1)}removeEvents(t$1){if(!t$1.hasAttribute(pu.COUNTER))return;let e$1=t$1.getAttribute(pu.COUNTER);this.removeEvent(t$1,`contextmenu`,e$1),this.removeEvent(t$1,`keydown`,e$1),t$1.removeAttribute(pu.COUNTER)}removeEvent(t$1,e$1,s$1){let i$1=pu[e$1.toUpperCase()+`FUNC`],r$1=this.attrMap[i$1+s$1];t$1.removeEventListener(e$1,r$1)}keydown(t$1){t$1.keyCode===Qd.SPACE&&(this.menu.post(t$1),t$1.preventDefault(),t$1.stopImmediatePropagation())}}class Tu{constructor(){this.pool={}}insert(t$1){this.pool[t$1.name]=t$1}lookup(t$1){return this.pool[t$1]}remove(t$1){delete this.pool[t$1]}update(){for(let t$1 in this.pool)this.pool[t$1].update()}}class wu extends vu{static fromJson(t$1,{pool:e$1,items:s$1,id:i$1=``}){let r$1=new this(t$1);r$1.id=i$1;let n$1=t$1.get(`variable`);return e$1.forEach((e$2=>n$1(t$1,e$2,r$1.pool))),r$1.items=t$1.get(`items`)(t$1,s$1,r$1),r$1}constructor(t$1){super(),this.factory=t$1,this.id=``,this.moving=!1,this._store=new Cu(this),this.widgets=[],this.variablePool=new Tu}generateHtml(){this.isPosted()&&this.unpost(),super.generateHtml(),this._frame=document.createElement(`div`),this._frame.classList.add(uu.MENUFRAME);let t$1=`left: 0px; top: 0px; z-index: 200; width: 100%; height: 100%; border: 0px; padding: 0px; margin: 0px;`;this._frame.setAttribute(`style`,`position: absolute; `+t$1);let e$1=document.createElement(`div`);e$1.setAttribute(`style`,`position: fixed; `+t$1),this._frame.appendChild(e$1),e$1.addEventListener(`mousedown`,function(t$2){this.unpost(),this.unpostWidgets(),this.stop(t$2)}.bind(this))}display(){document.body.appendChild(this.frame),this.frame.appendChild(this.html),this.focus()}escape(t$1){this.unpost(),this.unpostWidgets()}unpost(){if(super.unpost(),this.widgets.length>0)return;this.frame.parentNode.removeChild(this.frame);let t$1=this.store;this.moving||t$1.insertTaborder(),t$1.active.focus()}left(t$1){this.move_(this.store.previous())}right(t$1){this.move_(this.store.next())}get frame(){return this._frame}get store(){return this._store}post(t$1,e$1){if(e$1!==void 0)return this.moving||this.store.removeTaborder(),void super.post(t$1,e$1);let s$1=t$1,i$1,r$1,n$1;if(s$1 instanceof Event?(i$1=s$1.target,this.stop(s$1)):i$1=s$1,s$1 instanceof MouseEvent&&(r$1=s$1.pageX,n$1=s$1.pageY,r$1||n$1||!s$1.clientX||(r$1=s$1.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n$1=s$1.clientY+document.body.scrollTop+document.documentElement.scrollTop)),!r$1&&!n$1&&i$1){let t$2=window.pageXOffset||document.documentElement.scrollLeft,e$2=window.pageYOffset||document.documentElement.scrollTop,s$2=i$1.getBoundingClientRect();r$1=(s$2.right+s$2.left)/2+t$2,n$1=(s$2.bottom+s$2.top)/2+e$2}this.store.active=i$1,this.anchor=this.store.active;let o$1=this.html;r$1+o$1.offsetWidth>document.body.offsetWidth-5&&(r$1=document.body.offsetWidth-o$1.offsetWidth-5),this.post(r$1,n$1)}registerWidget(t$1){this.widgets.push(t$1)}unregisterWidget(t$1){let e$1=this.widgets.indexOf(t$1);e$1>-1&&this.widgets.splice(e$1,1),this.widgets.length===0&&this.unpost()}unpostWidgets(){this.widgets.forEach((t$1=>t$1.unpost()))}toJson(){return{type:``}}move_(t$1){this.anchor&&t$1!==this.anchor&&(this.moving=!0,this.unpost(),this.post(t$1),this.moving=!1)}}class _u extends vu{static fromJson(t$1,{items:e$1},s$1){let i$1=new this(s$1);return i$1.items=t$1.get(`items`)(t$1,e$1,i$1),i$1}constructor(t$1){super(),this._anchor=t$1,this.variablePool=this.anchor.menu.pool,this.setBaseMenu()}get anchor(){return this._anchor}post(){if(!this.anchor.menu.isPosted())return;let t$1=this.anchor.html,e$1=this.html,s$1=this.baseMenu.frame,i$1=t$1.offsetWidth,r$1=i$1-2,n$1=0;for(;t$1&&t$1!==s$1;)r$1+=t$1.offsetLeft,n$1+=t$1.offsetTop,t$1=t$1.parentNode;r$1+e$1.offsetWidth>document.body.offsetWidth-5&&(r$1=Math.max(5,r$1-i$1-e$1.offsetWidth+6)),super.post(r$1,n$1)}display(){this.baseMenu.frame.appendChild(this.html)}setBaseMenu(){let t$1=this;do t$1=t$1.anchor.menu;while(t$1 instanceof _u);this.baseMenu=t$1}left(t$1){this.focused=null,this.anchor.focus()}toJson(){return{type:``}}}class ku extends cu{constructor(t$1){super(),this.element=t$1,this.className=uu.MENUCLOSE,this.role=`button`}generateHtml(){let t$1=document.createElement(`span`);t$1.classList.add(this.className),t$1.setAttribute(`role`,this.role),t$1.setAttribute(`tabindex`,`0`);let e$1=document.createElement(`span`);e$1.textContent=``,t$1.appendChild(e$1),this.html=t$1}display(){}unpost(){super.unpost(),this.element.unpost()}keydown(t$1){this.bubbleKey(),super.keydown(t$1)}space(t$1){this.unpost(),this.stop(t$1)}mousedown(t$1){this.unpost(),this.stop(t$1)}}class Au extends cu{constructor(t$1,e$1,s$1){super(),this.title=t$1,this.signature=s$1,this.className=uu.INFO,this.role=`dialog`,this.contentDiv=this.generateContent(),this.close=this.generateClose(),this.content=e$1||function(){return``}}attachMenu(t$1){this.menu=t$1}generateHtml(){super.generateHtml();let t$1=this.html;t$1.appendChild(this.generateTitle()),t$1.appendChild(this.contentDiv),t$1.appendChild(this.generateSignature()),t$1.appendChild(this.close.html),t$1.setAttribute(`tabindex`,`0`)}post(){super.post();let t$1=document.documentElement,e$1=this.html,s$1=window.innerHeight||t$1.clientHeight||t$1.scrollHeight||0,i$1=Math.floor(-e$1.offsetWidth/2),r$1=Math.floor((s$1-e$1.offsetHeight)/3);e$1.setAttribute(`style`,`margin-left: `+i$1+`px; top: `+r$1+`px;`),window.event instanceof MouseEvent&&e$1.classList.add(uu.MOUSEPOST),e$1.focus()}display(){this.menu.registerWidget(this),this.contentDiv.innerHTML=this.content();let t$1=this.menu.html;t$1.parentNode&&t$1.parentNode.removeChild(t$1),this.menu.frame.appendChild(this.html)}click(t$1){}keydown(t$1){this.bubbleKey(),super.keydown(t$1)}escape(t$1){this.unpost()}unpost(){super.unpost(),this.html.classList.remove(uu.MOUSEPOST),this.menu.unregisterWidget(this)}generateClose(){let t$1=new ku(this),e$1=t$1.html;return e$1.classList.add(uu.INFOCLOSE),e$1.setAttribute(`aria-label`,`Close Dialog Box`),t$1}generateTitle(){let t$1=document.createElement(`span`);return t$1.innerHTML=this.title,t$1.classList.add(uu.INFOTITLE),t$1}generateContent(){let t$1=document.createElement(`div`);return t$1.classList.add(uu.INFOCONTENT),t$1.setAttribute(`tabindex`,`0`),t$1}generateSignature(){let t$1=document.createElement(`span`);return t$1.innerHTML=this.signature,t$1.classList.add(uu.INFOSIGNATURE),t$1}toJson(){return{type:``}}}class Lu extends yu{generateHtml(){super.generateHtml();let t$1=this.html;this.span||this.generateSpan(),t$1.appendChild(this.span),this.update()}register(){this.variable.register(this)}unregister(){this.variable.unregister(this)}update(){this.updateAria(),this.span&&this.updateSpan()}}class Mu extends Lu{static fromJson(t$1,{content:e$1,variable:s$1,id:i$1},r$1){return new this(r$1,e$1,s$1,i$1)}constructor(t$1,e$1,s$1,i$1){super(t$1,`radio`,e$1,i$1),this.role=`menuitemradio`,this.variable=t$1.pool.lookup(s$1),this.register()}executeAction(){this.variable.setValue(this.id),fu(this)}generateSpan(){this.span=document.createElement(`span`),this.span.textContent=``,this.span.classList.add(uu.MENURADIOCHECK)}updateAria(){this.html.setAttribute(`aria-checked`,this.variable.getValue()===this.id?`true`:`false`)}updateSpan(){this.span.style.display=this.variable.getValue()===this.id?``:`none`}toJson(){return{type:``}}}class Iu extends mu{static fromJson(t$1,e$1,s$1){return new this(s$1)}constructor(t$1){super(t$1,`rule`),this.className=uu.MENUITEM,this.role=`separator`}generateHtml(){super.generateHtml();let t$1=this.html;t$1.classList.add(uu.MENURULE),t$1.setAttribute(`aria-orientation`,`vertical`)}addEvents(t$1){}toJson(){return{type:`rule`}}}class Su extends yu{static fromJson(t$1,{content:e$1,action:s$1,id:i$1},r$1){return new this(r$1,e$1,s$1,i$1)}constructor(t$1,e$1,s$1,i$1){super(t$1,`command`,e$1,i$1),this.command=s$1}executeAction(){try{this.command(gu(this))}catch{bu(0,`Illegal command callback.`)}fu(this)}toJson(){return{type:``}}}class Ru{static fromJson(t$1,{name:e$1,getter:s$1,setter:i$1},r$1){let n$1=new this(e$1,s$1,i$1);r$1.insert(n$1)}constructor(t$1,e$1,s$1){this._name=t$1,this.getter=e$1,this.setter=s$1,this.items=[]}get name(){return this._name}getValue(t$1){try{return this.getter(t$1)}catch{return bu(0,`Command of variable `+this.name+` failed.`),null}}setValue(t$1,e$1){try{this.setter(t$1,e$1)}catch{bu(0,`Command of variable `+this.name+` failed.`)}this.update()}register(t$1){this.items.indexOf(t$1)===-1&&this.items.push(t$1)}unregister(t$1){let e$1=this.items.indexOf(t$1);e$1!==-1&&this.items.splice(e$1,1)}update(){this.items.forEach((t$1=>t$1.update()))}registerCallback(t$1){this.items.forEach((e$1=>e$1.registerCallback(t$1)))}unregisterCallback(t$1){this.items.forEach((e$1=>e$1.unregisterCallback(t$1)))}toJson(){return{type:`variable`,name:this.name,getter:this.getter.toString(),setter:this.setter.toString()}}}class Ou extends Lu{static fromJson(t$1,{content:e$1,variable:s$1,id:i$1},r$1){return new this(r$1,e$1,s$1,i$1)}constructor(t$1,e$1,s$1,i$1){super(t$1,`checkbox`,e$1,i$1),this.role=`menuitemcheckbox`,this.variable=t$1.pool.lookup(s$1),this.register()}executeAction(){this.variable.setValue(!this.variable.getValue()),fu(this)}generateSpan(){this.span=document.createElement(`span`),this.span.textContent=``,this.span.classList.add(uu.MENUCHECK)}updateAria(){this.html.setAttribute(`aria-checked`,this.variable.getValue()?`true`:`false`)}updateSpan(){this.span.style.display=this.variable.getValue()?``:`none`}toJson(){return{type:``}}}class Du extends Lu{static fromJson(t$1,{content:e$1,variable:s$1,id:i$1},r$1){return new this(r$1,e$1,s$1,i$1)}constructor(t$1,e$1,s$1,i$1){super(t$1,`combobox`,e$1,i$1),this.role=`combobox`,this.inputEvent=!1,this.variable=t$1.pool.lookup(s$1),this.register()}executeAction(){this.variable.setValue(this.input.value,gu(this))}space(t$1){super.space(t$1),fu(this)}focus(){super.focus(),this.input.focus()}unfocus(){super.unfocus(),this.updateSpan()}generateHtml(){super.generateHtml(),this.html.classList.add(uu.MENUCOMBOBOX)}generateSpan(){this.span=document.createElement(`span`),this.span.classList.add(uu.MENUINPUTBOX),this.input=document.createElement(`input`),this.input.addEventListener(`keydown`,this.inputKey.bind(this)),this.input.setAttribute(`size`,`10em`),this.input.setAttribute(`type`,`text`),this.input.setAttribute(`tabindex`,`-1`),this.span.appendChild(this.input)}inputKey(t$1){this.bubbleKey(),this.inputEvent=!0}keydown(t$1){if(this.inputEvent&&t$1.keyCode!==Qd.ESCAPE&&t$1.keyCode!==Qd.RETURN)return this.inputEvent=!1,void t$1.stopPropagation();super.keydown(t$1),t$1.stopPropagation()}updateAria(){}updateSpan(){let t$1;try{t$1=this.variable.getValue(gu(this))}catch{t$1=``}this.input.value=t$1}toJson(){return{type:``}}}class Pu extends yu{static fromJson(t$1,{content:e$1,id:s$1},i$1){return new this(i$1,e$1,s$1)}constructor(t$1,e$1,s$1){super(t$1,`label`,e$1,s$1)}generateHtml(){super.generateHtml(),this.html.classList.add(uu.MENULABEL)}toJson(){return{type:``}}}class Bu extends Lu{static fromJson(t$1,{content:e$1,variable:s$1,id:i$1},r$1){return new this(r$1,e$1,s$1,i$1)}constructor(t$1,e$1,s$1,i$1){super(t$1,`slider`,e$1,i$1),this.role=`slider`,this.labelId=`ctx_slideLabel`+Eu(),this.valueId=`ctx_slideValue`+Eu(),this.inputEvent=!1,this.variable=t$1.pool.lookup(s$1),this.register()}executeAction(){this.variable.setValue(this.input.value,gu(this)),this.update()}space(t$1){super.space(t$1),fu(this)}focus(){super.focus(),this.input.focus()}unfocus(){super.unfocus(),this.updateSpan()}generateHtml(){super.generateHtml(),this.html.classList.add(uu.MENUSLIDER),this.valueSpan=document.createElement(`span`),this.valueSpan.setAttribute(`id`,this.valueId),this.valueSpan.classList.add(uu.SLIDERVALUE),this.html.appendChild(this.valueSpan)}generateSpan(){this.span=document.createElement(`span`),this.labelSpan=document.createElement(`span`),this.labelSpan.setAttribute(`id`,this.labelId),this.labelSpan.appendChild(this.html.childNodes[0]),this.html.appendChild(this.labelSpan),this.input=document.createElement(`input`),this.input.setAttribute(`type`,`range`),this.input.setAttribute(`min`,`0`),this.input.setAttribute(`max`,`100`),this.input.setAttribute(`aria-valuemin`,`0`),this.input.setAttribute(`aria-valuemax`,`100`),this.input.setAttribute(`aria-labelledby`,this.labelId),this.input.addEventListener(`keydown`,this.inputKey.bind(this)),this.input.addEventListener(`input`,this.executeAction.bind(this)),this.input.classList.add(uu.SLIDERBAR),this.span.appendChild(this.input)}inputKey(t$1){this.inputEvent=!0}mousedown(t$1){t$1.stopPropagation()}mouseup(t$1){event.stopPropagation()}keydown(t$1){let e$1=t$1.keyCode;e$1===Qd.UP||e$1===Qd.DOWN?(t$1.preventDefault(),super.keydown(t$1)):this.inputEvent&&e$1!==Qd.ESCAPE&&e$1!==Qd.RETURN?(this.inputEvent=!1,t$1.stopPropagation()):(super.keydown(t$1),t$1.stopPropagation())}updateAria(){let t$1=this.variable.getValue();t$1&&this.input&&(this.input.setAttribute(`aria-valuenow`,t$1),this.input.setAttribute(`aria-valuetext`,t$1+`%`))}updateSpan(){let t$1;try{t$1=this.variable.getValue(gu(this)),this.valueSpan.innerHTML=t$1+`%`}catch{t$1=``}this.input.value=t$1}toJson(){return{type:``}}}class Fu extends vu{static fromJson(t$1,{title:e$1,values:s$1,variable:i$1},r$1){let n$1=new this(r$1),o$1=t$1.get(`label`)(t$1,{content:e$1||``,id:e$1||`id`},n$1),a$1=t$1.get(`rule`)(t$1,{},n$1),c$1=s$1.map((e$2=>t$1.get(`radio`)(t$1,{content:e$2,variable:i$1,id:e$2},n$1)));return n$1.items=[o$1,a$1].concat(c$1),n$1}constructor(t$1){super(),this.anchor=t$1,this.className=uu.SELECTIONMENU,this.variablePool=this.anchor.menu.pool,this.baseMenu=this.anchor.menu}generateHtml(){super.generateHtml(),this.items.forEach((t$1=>t$1.html.classList.add(uu.SELECTIONITEM)))}display(){}right(t$1){this.anchor.right(t$1)}left(t$1){this.anchor.left(t$1)}}class ju extends Au{static fromJson(t$1,{title:e$1,signature:s$1,selections:i$1,order:r$1,grid:n$1},o$1){let a$1=new this(e$1,s$1,r$1,n$1);return a$1.attachMenu(o$1),a$1.selections=i$1.map((e$2=>t$1.get(`selectionMenu`)(t$1,e$2,a$1))),a$1}constructor(t$1,e$1,s$1=`none`,i$1=`vertical`){super(t$1,null,e$1),this.style=s$1,this.grid=i$1,this._selections=[],this.prefix=`ctxt-selection`,this._balanced=!0}attachMenu(t$1){this.menu=t$1}get selections(){return this._selections}set selections(t$1){this._selections=[],t$1.forEach((t$2=>this.addSelection(t$2)))}addSelection(t$1){t$1.anchor=this,this._selections.push(t$1)}rowDiv(t$1){let e$1=document.createElement(`div`);this.contentDiv.appendChild(e$1);let s$1=t$1.map((t$2=>(e$1.appendChild(t$2.html),t$2.html.id||(t$2.html.id=this.prefix+Eu()),t$2.html.getBoundingClientRect()))),i$1=s$1.map((t$2=>t$2.width)),r$1=i$1.reduce(((t$2,e$2)=>t$2+e$2),0),n$1=s$1.reduce(((t$2,e$2)=>Math.max(t$2,e$2.height)),0);return e$1.classList.add(uu.SELECTIONDIVIDER),e$1.setAttribute(`style`,`height: `+n$1+`px;`),[e$1,r$1,n$1,i$1]}display(){if(super.display(),this.order(),!this.selections.length)return;let t$1=[],e$1=0,s$1=[],i$1=this.getChunkSize(this.selections.length);for(let r$1=0;r$1<this.selections.length;r$1+=i$1){let n$1=this.selections.slice(r$1,r$1+i$1),[o$1,a$1,c$1,l$1]=this.rowDiv(n$1);t$1.push(o$1),e$1=Math.max(e$1,a$1),n$1.forEach((t$2=>t$2.html.style.height=c$1+`px`)),s$1=this.combineColumn(s$1,l$1)}this._balanced&&(this.balanceColumn(t$1,s$1),e$1=s$1.reduce(((t$2,e$2)=>t$2+e$2),20)),t$1.forEach((t$2=>t$2.style.width=e$1+`px`))}getChunkSize(t$1){switch(this.grid){case`square`:return Math.floor(Math.sqrt(t$1));case`horizontal`:return Math.floor(t$1/ju.chunkSize);default:return ju.chunkSize}}balanceColumn(t$1,e$1){t$1.forEach((t$2=>{let s$1=Array.from(t$2.children);for(let t$3,i$1=0;t$3=s$1[i$1];i$1++)t$3.style.width=e$1[i$1]+`px`}))}combineColumn(t$1,e$1){let s$1=[],i$1=0;for(;t$1[i$1]||e$1[i$1];){if(!t$1[i$1]){s$1=s$1.concat(e$1.slice(i$1));break}if(!e$1[i$1]){s$1=s$1.concat(t$1.slice(i$1));break}s$1.push(Math.max(t$1[i$1],e$1[i$1])),i$1++}return s$1}left(t$1){this.move(t$1,(t$2=>(t$2===0?this.selections.length:t$2)-1))}right(t$1){this.move(t$1,(t$2=>t$2===this.selections.length-1?0:t$2+1))}generateHtml(){super.generateHtml(),this.html.classList.add(uu.SELECTION)}generateContent(){let t$1=super.generateContent();return t$1.classList.add(uu.SELECTIONBOX),t$1.removeAttribute(`tabindex`),t$1}findSelection(t$1){let e$1=t$1.target,s$1=null;if(e$1.id&&(s$1=this.selections.find((t$2=>t$2.html.id===e$1.id))),!s$1){let t$2=e$1.parentElement.id;s$1=this.selections.find((e$2=>e$2.html.id===t$2))}return s$1}move(t$1,e$1){let s$1=this.findSelection(t$1);s$1.focused&&s$1.focused.unfocus();let i$1=e$1(this.selections.indexOf(s$1));this.selections[i$1].focus()}order(){this.selections.sort(ju.orderMethod.get(this.style))}toJson(){return{type:``}}}ju.chunkSize=4,ju.orderMethod=new Map([[`alphabetical`,(t$1,e$1)=>t$1.items[0].content.localeCompare(e$1.items[0].content)],[`none`,(t$1,e$1)=>1],[`decreasing`,(t$1,e$1)=>{let s$1=t$1.items.length,i$1=e$1.items.length;return s$1<i$1?1:i$1<s$1?-1:0}],[`increasing`,(t$1,e$1)=>{let s$1=t$1.items.length,i$1=e$1.items.length;return s$1<i$1?-1:i$1<s$1?1:0}]]);class Uu{constructor(t$1){this._parser=new Map(t$1)}get(t$1){return this._parser.get(t$1)}add(t$1,e$1){this._parser.set(t$1,e$1)}}var qu=function(t$1,e$1){var s$1={};for(var i$1 in t$1)Object.prototype.hasOwnProperty.call(t$1,i$1)&&e$1.indexOf(i$1)<0&&(s$1[i$1]=t$1[i$1]);if(t$1!=null&&typeof Object.getOwnPropertySymbols==`function`){var r$1=0;for(i$1=Object.getOwnPropertySymbols(t$1);r$1<i$1.length;r$1++)e$1.indexOf(i$1[r$1])<0&&Object.prototype.propertyIsEnumerable.call(t$1,i$1[r$1])&&(s$1[i$1[r$1]]=t$1[i$1[r$1]])}return s$1};class Hu{constructor(t$1=[]){this._initList=[[`command`,Su.fromJson.bind(Su)],[`checkbox`,Ou.fromJson.bind(Ou)],[`combo`,Du.fromJson.bind(Du)],[`slider`,Bu.fromJson.bind(Bu)],[`label`,Pu.fromJson.bind(Pu)],[`radio`,Mu.fromJson.bind(Mu)],[`rule`,Iu.fromJson.bind(Iu)],[`submenu`,xu.fromJson.bind(xu)],[`contextMenu`,wu.fromJson.bind(wu)],[`subMenu`,_u.fromJson.bind(_u)],[`variable`,Ru.fromJson.bind(Ru)],[`items`,this.items.bind(this)],[`selectionMenu`,Fu.fromJson.bind(Fu)],[`selectionBox`,ju.fromJson.bind(ju)]],this._factory=new Uu(this._initList),t$1.forEach((([t$2,e$1])=>this.factory.add(t$2,e$1)))}get factory(){return this._factory}items(t$1,e$1,s$1){let i$1=[];for(let t$2 of e$1){let e$2=this.parse(t$2,s$1);e$2&&(s$1.items.push(e$2),t$2.disabled&&e$2.disable(),t$2.hidden&&i$1.push(e$2))}return i$1.forEach((t$2=>t$2.hide())),s$1.items}parse(t$1,...e$1){var{type:s$1}=t$1,i$1=qu(t$1,[`type`]);let r$1=this.factory.get(s$1);return r$1?r$1(this.factory,i$1,...e$1):null}}function Wu(t$1){return`.`+(uu[t$1]||t$1)}let zu={};zu[Wu(`INFOCLOSE`)]=`{  top:.2em; right:.2em;}`,zu[Wu(`INFOCONTENT`)]=`{  overflow:auto; text-align:left; font-size:80%;  padding:.4em .6em; border:1px inset; margin:1em 0px;  max-height:20em; max-width:30em; background-color:#EEEEEE;  white-space:normal;}`,zu[Wu(`INFO`)+Wu(`MOUSEPOST`)]=`{outline:none;}`,zu[Wu(`INFO`)]=`{  position:fixed; left:50%; width:auto; text-align:center;  border:3px outset; padding:1em 2em; background-color:#DDDDDD;  color:black;  cursor:default; font-family:message-box; font-size:120%;  font-style:normal; text-indent:0; text-transform:none;  line-height:normal; letter-spacing:normal; word-spacing:normal;  word-wrap:normal; white-space:nowrap; float:none; z-index:201;  border-radius: 15px;                     /* Opera 10.5 and IE9 */  -webkit-border-radius:15px;               /* Safari and Chrome */  -moz-border-radius:15px;                  /* Firefox */  -khtml-border-radius:15px;                /* Konqueror */  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 & Chrome */  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */  filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color="gray", Positive="true"); /* IE */}`;let Xu={};Xu[Wu(`MENU`)]=`{  position:absolute;  background-color:white;  color:black;  width:auto; padding:5px 0px;  border:1px solid #CCCCCC; margin:0; cursor:default;  font: menu; text-align:left; text-indent:0; text-transform:none;  line-height:normal; letter-spacing:normal; word-spacing:normal;  word-wrap:normal; white-space:nowrap; float:none; z-index:201;  border-radius: 5px;                     /* Opera 10.5 and IE9 */  -webkit-border-radius: 5px;             /* Safari and Chrome */  -moz-border-radius: 5px;                /* Firefox */  -khtml-border-radius: 5px;              /* Konqueror */  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 & Chrome */  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */}`,Xu[Wu(`MENUITEM`)]=`{  padding: 1px 2em;  background:transparent;}`,Xu[Wu(`MENUARROW`)]=`{  position:absolute; right:.5em; padding-top:.25em; color:#666666;  font-family: null; font-size: .75em}`,Xu[Wu(`MENUACTIVE`)+` `+Wu(`MENUARROW`)]=`{color:white}`,Xu[Wu(`MENUARROW`)+Wu(`RTL`)]=`{left:.5em; right:auto}`,Xu[Wu(`MENUCHECK`)]=`{  position:absolute; left:.7em;  font-family: null}`,Xu[Wu(`MENUCHECK`)+Wu(`RTL`)]=`{ right:.7em; left:auto }`,Xu[Wu(`MENURADIOCHECK`)]=`{  position:absolute; left: .7em;}`,Xu[Wu(`MENURADIOCHECK`)+Wu(`RTL`)]=`{  right: .7em; left:auto}`,Xu[Wu(`MENUINPUTBOX`)]=`{  padding-left: 1em; right:.5em; color:#666666;  font-family: null;}`,Xu[Wu(`MENUINPUTBOX`)+Wu(`RTL`)]=`{  left: .1em;}`,Xu[Wu(`MENUCOMBOBOX`)]=`{  left:.1em; padding-bottom:.5em;}`,Xu[Wu(`MENUSLIDER`)]=`{  left: .1em;}`,Xu[Wu(`SLIDERVALUE`)]=`{  position:absolute; right:.1em; padding-top:.25em; color:#333333;  font-size: .75em}`,Xu[Wu(`SLIDERBAR`)]=`{  outline: none; background: #d3d3d3}`,Xu[Wu(`MENULABEL`)]=`{  padding: 1px 2em 3px 1.33em;  font-style:italic}`,Xu[Wu(`MENURULE`)]=`{  border-top: 1px solid #DDDDDD;  margin: 4px 3px;}`,Xu[Wu(`MENUDISABLED`)]=`{  color:GrayText}`,Xu[Wu(`MENUACTIVE`)]=`{  background-color: #606872;  color: white;}`,Xu[Wu(`MENUDISABLED`)+`:focus`]=`{  background-color: #E8E8E8}`,Xu[Wu(`MENULABEL`)+`:focus`]=`{  background-color: #E8E8E8}`,Xu[Wu(`CONTEXTMENU`)+`:focus`]=`{  outline:none}`,Xu[Wu(`CONTEXTMENU`)+` `+Wu(`MENUITEM`)+`:focus`]=`{  outline:none}`,Xu[Wu(`SELECTIONMENU`)]=`{  position:relative; float:left;  border-bottom: none; -webkit-box-shadow:none; -webkit-border-radius:0px; }`,Xu[Wu(`SELECTIONITEM`)]=`{  padding-right: 1em;}`,Xu[Wu(`SELECTION`)]=`{  right: 40%; width:50%; }`,Xu[Wu(`SELECTIONBOX`)]=`{  padding: 0em; max-height:20em; max-width: none;  background-color:#FFFFFF;}`,Xu[Wu(`SELECTIONDIVIDER`)]=`{  clear: both; border-top: 2px solid #000000;}`,Xu[Wu(`MENU`)+` `+Wu(`MENUCLOSE`)]=`{  top:-10px; left:-10px}`;let Vu={};Vu[Wu(`MENUCLOSE`)]=`{  position:absolute;  cursor:pointer;  display:inline-block;  border:2px solid #AAA;  border-radius:18px;  -webkit-border-radius: 18px;             /* Safari and Chrome */  -moz-border-radius: 18px;                /* Firefox */  -khtml-border-radius: 18px;              /* Konqueror */  font-family: "Courier New", Courier;  font-size:24px;  color:#F0F0F0}`,Vu[Wu(`MENUCLOSE`)+` span`]=`{  display:block; background-color:#AAA; border:1.5px solid;  border-radius:18px;  -webkit-border-radius: 18px;             /* Safari and Chrome */  -moz-border-radius: 18px;                /* Firefox */  -khtml-border-radius: 18px;              /* Konqueror */  line-height:0;  padding:8px 0 6px     /* may need to be browser-specific */}`,Vu[Wu(`MENUCLOSE`)+`:hover`]=`{  color:white!important;  border:2px solid #CCC!important}`,Vu[Wu(`MENUCLOSE`)+`:hover span`]=`{  background-color:#CCC!important}`,Vu[Wu(`MENUCLOSE`)+`:hover:focus`]=`{  outline:none}`;let Gu=!1,Ju=!1,Ku=!1;function $u(t$1){Ku||=(Yu(Vu,t$1),!0)}function Yu(t$1,e$1){let s$1=e$1||document,i$1=s$1.createElement(`style`);i$1.type=`text/css`;let r$1=``;for(let e$2 in t$1)r$1+=e$2,r$1+=` `,r$1+=t$1[e$2],r$1+=`
`;i$1.innerHTML=r$1,s$1.head.appendChild(i$1)}class Qu extends wu{constructor(){super(...arguments),this.mathItem=null,this.nofocus=!1,this.errorMsg=``}post(t$1,e$1){var s$1,i$1;if(this.mathItem){let r$1=this.mathItem?.explorers?.speech;r$1!=null&&r$1.active&&(r$1.restarted=r$1.semanticFocus()),e$1!==void 0&&(this.getOriginalMenu(),this.getSemanticsMenu(),this.getSpeechMenu(),this.getBrailleMenu(),this.getSvgMenu(),this.getErrorMessage(),this.dynamicSubmenus()),super.post(t$1,e$1)}}unpost(){super.unpost(),this.mathItem&&(this.mathItem.outputData.nofocus=this.nofocus),this.mathItem=null,this.nofocus=!1}findID(...t$1){let e$1=this,s$1=null;for(let i$1 of t$1){if(!e$1)return null;for(s$1 of e$1.items){if(s$1.id===i$1){e$1=s$1 instanceof xu?s$1.submenu:null;break}e$1=s$1=null}}return s$1}setJax(t$1){this.jax=t$1}getOriginalMenu(){let t$1=this.mathItem.inputJax.name,e$1=this.findID(`Show`,`Original`);e$1.content=t$1===`MathML`?`Original MathML`:t$1+` Commands`,this.findID(`Copy`,`Original`).content=e$1.content}getSemanticsMenu(){let t$1=this.findID(`Settings`,`MathmlIncludes`,`semantics`);this.mathItem.inputJax.name===`MathML`?t$1.disable():t$1.enable()}getSpeechMenu(){let t$1=this.mathItem.outputData.speech;this.findID(`Show`,`Speech`)[t$1?`enable`:`disable`](),this.findID(`Copy`,`Speech`)[t$1?`enable`:`disable`]()}getBrailleMenu(){let t$1=this.mathItem.outputData.braille;this.findID(`Show`,`Braille`)[t$1?`enable`:`disable`](),this.findID(`Copy`,`Braille`)[t$1?`enable`:`disable`]()}getSvgMenu(){let t$1=this.jax.SVG;this.findID(`Show`,`SVG`)[t$1?`enable`:`disable`](),this.findID(`Copy`,`SVG`)[t$1?`enable`:`disable`]()}getErrorMessage(){let t$1=this.mathItem.root.childNodes[0].childNodes,e$1=!0;if(this.errorMsg=``,t$1.length===1&&t$1[0].isKind(`merror`)){let s$1=t$1[0].attributes;this.errorMsg=s$1.get(`data-mjx-error`)||s$1.get(`data-mjx-message`)||``,e$1=!this.errorMsg}this.findID(`Show`,`Error`)[e$1?`disable`:`enable`](),this.findID(`Copy`,`Error`)[e$1?`disable`:`enable`]()}dynamicSubmenus(){for(let[t$1,[e$1,s$1]]of Qu.DynamicSubmenus){let i$1=this.find(t$1);i$1&&e$1(this,i$1,(t$2=>{var e$2;i$1.submenu=t$2,!t$2?.items?.length||s$1&&!this.settings[s$1]?i$1.disable():i$1.enable()}))}}}var Zu,tp,ep;Qu.DynamicSubmenus=new Map,function(t$1){t$1.DOMAIN=`domain`,t$1.STYLE=`style`,t$1.LOCALE=`locale`,t$1.TOPIC=`topic`,t$1.MODALITY=`modality`}(Zu||={});class sp{static createProp(...t$1){let e$1=ip.DEFAULT_ORDER,s$1={};for(let i$1=0,r$1=t$1.length,n$1=e$1.length;i$1<r$1&&i$1<n$1;i$1++)s$1[e$1[i$1]]=t$1[i$1];return new sp(s$1)}constructor(t$1,e$1=Object.keys(t$1)){this.properties=t$1,this.order=e$1}getProperties(){return this.properties}getOrder(){return this.order}getAxes(){return this.order}getProperty(t$1){return this.properties[t$1]}updateProperties(t$1){this.properties=t$1}allProperties(){let t$1=[];return this.order.forEach((e$1=>t$1.push(this.getProperty(e$1).slice()))),t$1}toString(){let t$1=[];return this.order.forEach((e$1=>t$1.push(e$1+`: `+this.getProperty(e$1).toString()))),t$1.join(`
`)}}class ip extends sp{static createCstr(...t$1){let e$1=ip.DEFAULT_ORDER,s$1={};for(let i$1=0,r$1=t$1.length,n$1=e$1.length;i$1<r$1&&i$1<n$1;i$1++)s$1[e$1[i$1]]=t$1[i$1];return new ip(s$1)}static defaultCstr(){return ip.createCstr.apply(null,ip.DEFAULT_ORDER.map((function(t$1){return ip.DEFAULT_VALUES[t$1]})))}static validOrder(t$1){let e$1=ip.DEFAULT_ORDER.slice();return t$1.every((t$2=>{let s$1=e$1.indexOf(t$2);return s$1!==-1&&e$1.splice(s$1,1)}))}constructor(t$1,e$1){let s$1={};for(let[e$2,i$1]of Object.entries(t$1))s$1[e$2]=[i$1];super(s$1,e$1),this.components=t$1}getComponents(){return this.components}getValue(t$1){return this.components[t$1]}getValues(){return this.order.map((t$1=>this.getValue(t$1)))}allProperties(){let t$1=super.allProperties();for(let e$1,s$1,i$1=0;e$1=t$1[i$1],s$1=this.order[i$1];i$1++){let t$2=this.getValue(s$1);e$1.indexOf(t$2)===-1&&e$1.unshift(t$2)}return t$1}toString(){return this.getValues().join(`.`)}equal(t$1){let e$1=t$1.getAxes();if(this.order.length!==e$1.length)return!1;for(let s$1,i$1=0;s$1=e$1[i$1];i$1++){let e$2=this.getValue(s$1);if(!e$2||t$1.getValue(s$1)!==e$2)return!1}return!0}}ip.DEFAULT_ORDER=[Zu.LOCALE,Zu.MODALITY,Zu.DOMAIN,Zu.STYLE,Zu.TOPIC],ip.BASE_LOCALE=`base`,ip.DEFAULT_VALUE=`default`,ip.DEFAULT_VALUES={[Zu.LOCALE]:`en`,[Zu.DOMAIN]:ip.DEFAULT_VALUE,[Zu.STYLE]:ip.DEFAULT_VALUE,[Zu.TOPIC]:ip.DEFAULT_VALUE,[Zu.MODALITY]:`speech`};class rp{constructor(t$1){this.order=t$1}parse(t$1){let e$1=t$1.split(`.`),s$1={};if(e$1.length>this.order.length)throw Error(`Invalid dynamic constraint: `+s$1);let i$1=0;for(let t$2,r$1=0;t$2=this.order[r$1],e$1.length;r$1++,i$1++)s$1[t$2]=e$1.shift();return new ip(s$1,this.order.slice(0,i$1))}}class np{constructor(t$1,e$1=new sp(t$1.getProperties(),t$1.getOrder())){this.reference=t$1,this.fallback=e$1,this.order=this.reference.getOrder()}getReference(){return this.reference}setReference(t$1,e$1){this.reference=t$1,this.fallback=e$1||new sp(t$1.getProperties(),t$1.getOrder()),this.order=this.reference.getOrder()}match(t$1){let e$1=t$1.getAxes();return e$1.length===this.reference.getAxes().length&&e$1.every((e$2=>{let s$1=t$1.getValue(e$2);return s$1===this.reference.getValue(e$2)||this.fallback.getProperty(e$2).indexOf(s$1)!==-1}))}compare(t$1,e$1){let s$1=!1;for(let i$1,r$1=0;i$1=this.order[r$1];r$1++){let r$2=t$1.getValue(i$1),n$1=e$1.getValue(i$1);if(!s$1){let t$2=this.reference.getValue(i$1);if(t$2===r$2&&t$2!==n$1)return-1;if(t$2===n$1&&t$2!==r$2)return 1;if(t$2===r$2&&t$2===n$1)continue;t$2!==r$2&&t$2!==n$1&&(s$1=!0)}let o$1=this.fallback.getProperty(i$1),a$1=o$1.indexOf(r$2),c$1=o$1.indexOf(n$1);if(a$1<c$1)return-1;if(c$1<a$1)return 1}return 0}toString(){return this.reference.toString()+`
`+this.fallback.toString()}}(function(t$1){t$1.SYNC=`sync`,t$1.ASYNC=`async`,t$1.HTTP=`http`})(tp||={}),function(t$1){t$1.PITCH=`pitch`,t$1.RATE=`rate`,t$1.VOLUME=`volume`,t$1.PAUSE=`pause`,t$1.JOIN=`join`,t$1.LAYOUT=`layout`}(ep||={}),ep.PITCH,ep.RATE,ep.VOLUME,ep.PAUSE,ep.JOIN;var op,ap;(function(t$1){t$1.NONE=`none`,t$1.SHALLOW=`shallow`,t$1.DEEP=`deep`})(op||={}),function(t$1){t$1.NONE=`none`,t$1.LAYOUT=`layout`,t$1.COUNTING=`counting`,t$1.PUNCTUATION=`punctuation`,t$1.SSML=`ssml`,t$1.ACSS=`acss`,t$1.SABLE=`sable`,t$1.VOICEXML=`voicexml`}(ap||={});var cp=__webpack_require__(74);function lp(t$1){return t$1.match(`/$`)?t$1:t$1+`/`}class hp{static getInstance(){return hp.instance=hp.instance||new hp,hp.instance}init(t$1){return t$1&&this.startDebugFile_(t$1),this.isActive_=!0,this.fileHandle}output(...t$1){this.isActive_&&this.output_(t$1)}generate(t$1){this.isActive_&&this.output_(t$1.apply(t$1,[]))}exit(t$1=()=>{}){this.fileHandle.then((()=>{this.isActive_&&this.stream_&&this.stream_.end(``,``,t$1)}))}constructor(){this.isActive_=!1,this.fileHandle=Promise.resolve(),this.stream_=null}startDebugFile_(t$1){this.fileHandle=cp.f.fs.promises.open(t$1,`w`),this.fileHandle=this.fileHandle.then((e$1=>{this.stream_=e$1.createWriteStream(t$1),this.outputFunction=function(...t$2){this.stream_.write(t$2.join(` `)),this.stream_.write(`
`)}.bind(this),this.stream_.on(`error`,function(t$2){console.info(`Invalid log file. Debug information sent to console.`),this.outputFunction=console.info}.bind(this)),this.stream_.on(`finish`,(function(){console.info(`Finalizing debug file.`)}))}))}output_(t$1){this.stream_?this.fileHandle.then((()=>this.outputFunction.apply(this.outputFunction,[`Speech Rule Engine Debugger:`].concat(t$1)))):console.info.apply(console,[`Speech Rule Engine Debugger:`].concat(t$1))}}var dp=__webpack_require__(714);class up{constructor(t$1={}){this.delay=!1,this.domain=`clearspeak`,this.style=ip.DEFAULT_VALUES[Zu.STYLE],this.locale=ip.DEFAULT_VALUES[Zu.LOCALE],this.subiso=``,this.modality=ip.DEFAULT_VALUES[Zu.MODALITY],this.speech=op.NONE,this.markup=ap.NONE,this.mark=!0,this.automark=!1,this.character=!0,this.cleanpause=!0,this.cayleyshort=!0,this.linebreaks=!1,this.rate=`100`,this.walker=`Table`,this.structure=!1,this.aria=!1,this.tree=!1,this.strict=!1,this.pprint=!1,this.rules=``,this.prune=``,this.set(t$1)}set(t$1){this.ensureDomain(t$1);for(let[e$1,s$1]of Object.entries(t$1))(up.BINARY_FEATURES.includes(e$1)||up.STRING_FEATURES.includes(e$1))&&(this[e$1]=s$1)}json(){let t$1={};return[].concat(up.STRING_FEATURES,up.BINARY_FEATURES).forEach((e$1=>t$1[e$1]=this[e$1])),t$1}ensureDomain(t$1){if(t$1.modality&&t$1.modality!==`speech`||!t$1.modality&&this.modality!==`speech`||!t$1.domain&&!t$1.locale)return;if(t$1.domain===`default`)return void(t$1.domain=`mathspeak`);let e$1=t$1.locale||this.locale,s$1=t$1.domain||this.domain;pp.indexOf(e$1)===-1||s$1===`mathspeak`?e$1===`en`?mp.indexOf(s$1)===-1&&(t$1.domain=`mathspeak`):s$1!==`mathspeak`&&s$1!==`clearspeak`&&(t$1.domain=`mathspeak`):t$1.domain=`mathspeak`}}up.BINARY_FEATURES=[`automark`,`mark`,`character`,`cleanpause`,`strict`,`structure`,`aria`,`pprint`,`cayleyshort`,`linebreaks`,`tree`],up.STRING_FEATURES=[`markup`,`style`,`domain`,`speech`,`walker`,`locale`,`delay`,`modality`,`rate`,`rules`,`subiso`,`prune`];let pp=[`ca`,`da`,`es`],mp=[`chromevox`,`clearspeak`,`mathspeak`,`emacspeak`,`html`];class fp extends Error{constructor(t$1=``){super(),this.message=t$1,this.name=`SRE Error`}}class gp{set defaultLocale(t$1){this._defaultLocale=dp.u.ensureLocale(t$1,this._defaultLocale)}get defaultLocale(){return this._defaultLocale}static getInstance(){return gp.instance=gp.instance||new gp,gp.instance}static defaultEvaluator(t$1,e$1){return t$1}static evaluateNode(t$1){return gp.nodeEvaluator(t$1)}getRate(){let t$1=parseInt(this.options.rate,10);return isNaN(t$1)?100:t$1}setDynamicCstr(t$1){if(this.defaultLocale&&(ip.DEFAULT_VALUES[Zu.LOCALE]=this.defaultLocale),t$1){let e$2=Object.keys(t$1);for(let s$2=0;s$2<e$2.length;s$2++){let i$2=e$2[s$2];if(ip.DEFAULT_ORDER.indexOf(i$2)!==-1){let e$3=t$1[i$2];this.options[i$2]=e$3}}}let e$1=[this.options.locale,this.options.modality,this.options.domain,this.options.style].join(`.`),s$1=sp.createProp([ip.DEFAULT_VALUES[Zu.LOCALE]],[ip.DEFAULT_VALUES[Zu.MODALITY]],[ip.DEFAULT_VALUES[Zu.DOMAIN]],[ip.DEFAULT_VALUES[Zu.STYLE]]),i$1=this.comparators[this.options.domain];this.parser=this.parsers[this.options.domain]||this.defaultParser,this.dynamicCstr=this.parser.parse(e$1),this.dynamicCstr.updateProperties(s$1.getProperties()),this.comparator=i$1?i$1():new np(this.dynamicCstr)}constructor(){this.options=new up,this.config=!1,this.customLoader=null,this.parsers={},this.comparator=null,this.mode=tp.SYNC,this.init=!0,this.comparators={},this._defaultLocale=ip.DEFAULT_VALUES[Zu.LOCALE],this.options.locale=this.defaultLocale,this.evaluator=gp.defaultEvaluator,this.defaultParser=new rp(ip.DEFAULT_ORDER),this.parser=this.defaultParser,this.dynamicCstr=ip.defaultCstr()}configurate(t$1){this.mode!==tp.HTTP||cp.f.webworker||this.config||(function(t$2){let e$1=document.documentElement.querySelectorAll(`script[type="text/x-sre-config"]`);for(let s$1=0,i$1=e$1.length;s$1<i$1;s$1++){let i$2;try{i$2=e$1[s$1].innerHTML;let r$1=JSON.parse(i$2);for(let[e$2,s$2]of Object.entries(r$1))t$2[e$2]=s$2}catch{hp.getInstance().output(`Illegal configuration `,i$2)}}}(t$1),this.config=!0),function(t$2){if(typeof SREfeature<`u`)for(let[e$1,s$1]of Object.entries(SREfeature))t$2[e$1]=s$1}(t$1)}setCustomLoader(t$1){t$1&&(this.customLoader=t$1)}setup(t$1){t$1.mode!==void 0&&(this.mode=t$1.mode),this.configurate(t$1),this.options.set(t$1),t$1.json&&(cp.f.jsonPath=lp(t$1.json)),this.setCustomLoader(t$1.custom)}json(){return Object.assign({mode:this.mode},this.options.json())}reset(){this.options=new up}}gp.nodeEvaluator=function(t$1){return[]};class bp{static get(t$1=gp.getInstance().options.locale){return bp.promises[t$1]||Promise.resolve(``)}static getall(){return Promise.all(Object.values(bp.promises))}}bp.loaded={},bp.promises={};let Ep=cp.f.xpath,Np={xhtml:`http://www.w3.org/1999/xhtml`,mathml:`http://www.w3.org/1998/Math/MathML`,mml:`http://www.w3.org/1998/Math/MathML`,svg:`http://www.w3.org/2000/svg`};function yp(t$1){return Np[t$1]||null}class xp{constructor(){this.lookupNamespaceURI=yp}}function vp(t$1,e$1,s$1){return Ep.evaluate(t$1,e$1,new xp,s$1,null)}function Cp(t$1){let e$1=[];for(let s$1=0,i$1=t$1.length;s$1<i$1;s$1++)e$1.push(t$1[s$1]);return e$1}function Tp(t$1){let e$1=new cp.f.xmldom.DOMParser,s$1=function(t$2){return(t$2=t$2.replace(/&nbsp;/g,`\xA0`)).replace(/>[ \f\n\r\t\v\u200b]+</g,`><`).trim()}(t$1),i$1=!!s$1.match(/&(?!lt|gt|amp|quot|apos)\w+;/g);if(!s$1)throw Error(`Empty input!`);try{let t$2=e$1.parseFromString(s$1,i$1?`text/html`:`text/xml`);return gp.getInstance().mode===tp.HTTP?(Ep.currentDocument=t$2,i$1?t$2.body.childNodes[0]:t$2.documentElement):t$2.documentElement}catch(t$2){throw new fp(`Illegal input: `+t$2.message)}}var wp;function _p(t$1,e$1){t$1.parentNode&&(t$1.parentNode.insertBefore(e$1,t$1),t$1.parentNode.removeChild(t$1))}function kp(t$1){return cp.f.document.createElement(t$1)}function Ap(t$1){let e$1=``,s$1=/(>)(<)(\/*)/g,i$1=0,r$1=(t$1=t$1.replace(s$1,`$1\r
$2$3`)).split(`\r
`);for(s$1=/(\.)*(<)(\/*)/g,r$1=r$1.map((t$2=>t$2.replace(s$1,`$1\r
$2$3`).split(`\r
`))).reduce(((t$2,e$2)=>t$2.concat(e$2)),[]);r$1.length;){let t$2=r$1.shift();if(!t$2)continue;let s$2=0;if(t$2.match(/^<\w[^>/]*>[^>]+$/)){let e$2=Lp(t$2,r$1[0]);e$2[0]?e$2[1]?(t$2+=r$1.shift().slice(0,-e$2[1].length),e$2[1].trim()&&r$1.unshift(e$2[1])):t$2+=r$1.shift():s$2=1}else if(t$2.match(/^<\/\w/))i$1!==0&&--i$1;else if(t$2.match(/^<\w[^>]*[^/]>.*$/))s$2=1;else if(t$2.match(/^<\w[^>]*\/>.+$/)){let e$2=t$2.indexOf(`>`)+1,s$3=t$2.slice(e$2);s$3.trim()&&r$1.unshift(),t$2=t$2.slice(0,e$2)+s$3}else s$2=0;e$1+=Array(i$1+1).join(`  `)+t$2+`\r
`,i$1+=s$2}return e$1}function Lp(t$1,e$1){if(!e$1)return[!1,``];let s$1=t$1.match(/^<([^> ]+).*>/),i$1=e$1.match(/^<\/([^>]+)>(.*)/);return s$1&&i$1&&s$1[1]===i$1[1]?[!0,i$1[2]]:[!1,``]}function Mp(t$1){return t$1.tagName.toUpperCase()}function Ip(t$1){return new cp.f.xmldom.XMLSerializer().serializeToString(t$1)}(function(t$1){t$1[t$1.ELEMENT_NODE=1]=`ELEMENT_NODE`,t$1[t$1.ATTRIBUTE_NODE=2]=`ATTRIBUTE_NODE`,t$1[t$1.TEXT_NODE=3]=`TEXT_NODE`,t$1[t$1.CDATA_SECTION_NODE=4]=`CDATA_SECTION_NODE`,t$1[t$1.ENTITY_REFERENCE_NODE=5]=`ENTITY_REFERENCE_NODE`,t$1[t$1.ENTITY_NODE=6]=`ENTITY_NODE`,t$1[t$1.PROCESSING_INSTRUCTION_NODE=7]=`PROCESSING_INSTRUCTION_NODE`,t$1[t$1.COMMENT_NODE=8]=`COMMENT_NODE`,t$1[t$1.DOCUMENT_NODE=9]=`DOCUMENT_NODE`,t$1[t$1.DOCUMENT_TYPE_NODE=10]=`DOCUMENT_TYPE_NODE`,t$1[t$1.DOCUMENT_FRAGMENT_NODE=11]=`DOCUMENT_FRAGMENT_NODE`,t$1[t$1.NOTATION_NODE=12]=`NOTATION_NODE`})(wp||={});class Sp{constructor(t$1,e$1,s$1){this.domain=t$1,this.name=e$1,this.func=s$1,this.active=!1}annotate(t$1){t$1.childNodes.forEach(this.annotate.bind(this)),t$1.contentNodes.forEach(this.annotate.bind(this)),t$1.addAnnotation(this.domain,this.func(t$1))}}class Rp{constructor(t$1,e$1,s$1,i$1={}){this.domain=t$1,this.name=e$1,this.func=s$1,this.def=i$1,this.active=!1}visit(t$1,e$1){let s$1=this.func(t$1,e$1);t$1.addAnnotation(this.domain,s$1[0]);for(let e$2,i$1=0;e$2=t$1.childNodes[i$1];i$1++)s$1=this.visit(e$2,s$1[1]);for(let e$2,i$1=0;e$2=t$1.contentNodes[i$1];i$1++)s$1=this.visit(e$2,s$1[1]);return s$1}}let Op=new Map,Dp=new Map;function Pp(t$1){let e$1=t$1.domain+`:`+t$1.name;t$1 instanceof Sp?Op.set(e$1,t$1):Dp.set(e$1,t$1)}function Bp(t$1,e$1){let s$1=t$1+`:`+e$1,i$1=Op.get(s$1)||Dp.get(s$1);i$1&&(i$1.active=!0)}var Fp,jp,Up;function qp(t$1){let e$1=t$1.toString(16).toUpperCase();return e$1.length>3?e$1:(`000`+e$1).slice(-4)}function Hp([t$1,e$1],s$1){let i$1=parseInt(t$1,16),r$1=parseInt(e$1,16),n$1=[];for(let t$2=i$1;t$2<=r$1;t$2++){let e$2=qp(t$2);!1!==s$1[e$2]&&(e$2=s$1[e$2]||e$2,n$1.push(e$2))}return n$1}function Wp(t$1,e$1={}){return Hp(t$1,e$1).map((t$2=>String.fromCodePoint(parseInt(t$2,16))))}(function(t$1){t$1.BOLD=`bold`,t$1.BOLDFRAKTUR=`bold-fraktur`,t$1.BOLDITALIC=`bold-italic`,t$1.BOLDSCRIPT=`bold-script`,t$1.DOUBLESTRUCK=`double-struck`,t$1.DOUBLESTRUCKITALIC=`double-struck-italic`,t$1.FULLWIDTH=`fullwidth`,t$1.FRAKTUR=`fraktur`,t$1.ITALIC=`italic`,t$1.MONOSPACE=`monospace`,t$1.NORMAL=`normal`,t$1.SCRIPT=`script`,t$1.SANSSERIF=`sans-serif`,t$1.SANSSERIFITALIC=`sans-serif-italic`,t$1.SANSSERIFBOLD=`sans-serif-bold`,t$1.SANSSERIFBOLDITALIC=`sans-serif-bold-italic`})(Fp||={}),function(t$1){t$1.SUPER=`super`,t$1.SUB=`sub`,t$1.CIRCLED=`circled`,t$1.PARENTHESIZED=`parenthesized`,t$1.PERIOD=`period`,t$1.NEGATIVECIRCLED=`negative-circled`,t$1.DOUBLECIRCLED=`double-circled`,t$1.CIRCLEDSANSSERIF=`circled-sans-serif`,t$1.NEGATIVECIRCLEDSANSSERIF=`negative-circled-sans-serif`,t$1.COMMA=`comma`,t$1.SQUARED=`squared`,t$1.NEGATIVESQUARED=`negative-squared`}(jp||={}),function(t$1){t$1.LATINCAP=`latinCap`,t$1.LATINSMALL=`latinSmall`,t$1.GREEKCAP=`greekCap`,t$1.GREEKSMALL=`greekSmall`,t$1.DIGIT=`digit`}(Up||={});let zp=[{interval:[`1D400`,`1D419`],base:Up.LATINCAP,subst:{},capital:!0,category:`Lu`,font:Fp.BOLD},{interval:[`1D41A`,`1D433`],base:Up.LATINSMALL,subst:{},capital:!1,category:`Ll`,font:Fp.BOLD},{interval:[`1D56C`,`1D585`],base:Up.LATINCAP,subst:{},capital:!0,category:`Lu`,font:Fp.BOLDFRAKTUR},{interval:[`1D586`,`1D59F`],base:Up.LATINSMALL,subst:{},capital:!1,category:`Ll`,font:Fp.BOLDFRAKTUR},{interval:[`1D468`,`1D481`],base:Up.LATINCAP,subst:{},capital:!0,category:`Lu`,font:Fp.BOLDITALIC},{interval:[`1D482`,`1D49B`],base:Up.LATINSMALL,subst:{},capital:!1,category:`Ll`,font:Fp.BOLDITALIC},{interval:[`1D4D0`,`1D4E9`],base:Up.LATINCAP,subst:{},capital:!0,category:`Lu`,font:Fp.BOLDSCRIPT},{interval:[`1D4EA`,`1D503`],base:Up.LATINSMALL,subst:{},capital:!1,category:`Ll`,font:Fp.BOLDSCRIPT},{interval:[`1D538`,`1D551`],base:Up.LATINCAP,subst:{"1D53A":`2102`,"1D53F":`210D`,"1D545":`2115`,"1D547":`2119`,"1D548":`211A`,"1D549":`211D`,"1D551":`2124`},capital:!0,category:`Lu`,font:Fp.DOUBLESTRUCK},{interval:[`1D552`,`1D56B`],base:Up.LATINSMALL,subst:{},capital:!1,category:`Ll`,font:Fp.DOUBLESTRUCK},{interval:[`1D504`,`1D51D`],base:Up.LATINCAP,subst:{"1D506":`212D`,"1D50B":`210C`,"1D50C":`2111`,"1D515":`211C`,"1D51D":`2128`},capital:!0,category:`Lu`,font:Fp.FRAKTUR},{interval:[`1D51E`,`1D537`],base:Up.LATINSMALL,subst:{},capital:!1,category:`Ll`,font:Fp.FRAKTUR},{interval:[`FF21`,`FF3A`],base:Up.LATINCAP,subst:{},capital:!0,category:`Lu`,font:Fp.FULLWIDTH},{interval:[`FF41`,`FF5A`],base:Up.LATINSMALL,subst:{},capital:!1,category:`Ll`,font:Fp.FULLWIDTH},{interval:[`1D434`,`1D44D`],base:Up.LATINCAP,subst:{},capital:!0,category:`Lu`,font:Fp.ITALIC},{interval:[`1D44E`,`1D467`],base:Up.LATINSMALL,subst:{"1D455":`210E`},capital:!1,category:`Ll`,font:Fp.ITALIC},{interval:[`1D670`,`1D689`],base:Up.LATINCAP,subst:{},capital:!0,category:`Lu`,font:Fp.MONOSPACE},{interval:[`1D68A`,`1D6A3`],base:Up.LATINSMALL,subst:{},capital:!1,category:`Ll`,font:Fp.MONOSPACE},{interval:[`0041`,`005A`],base:Up.LATINCAP,subst:{},capital:!0,category:`Lu`,font:Fp.NORMAL},{interval:[`0061`,`007A`],base:Up.LATINSMALL,subst:{},capital:!1,category:`Ll`,font:Fp.NORMAL},{interval:[`1D49C`,`1D4B5`],base:Up.LATINCAP,subst:{"1D49D":`212C`,"1D4A0":`2130`,"1D4A1":`2131`,"1D4A3":`210B`,"1D4A4":`2110`,"1D4A7":`2112`,"1D4A8":`2133`,"1D4AD":`211B`},capital:!0,category:`Lu`,font:Fp.SCRIPT},{interval:[`1D4B6`,`1D4CF`],base:Up.LATINSMALL,subst:{"1D4BA":`212F`,"1D4BC":`210A`,"1D4C4":`2134`},capital:!1,category:`Ll`,font:Fp.SCRIPT},{interval:[`1D5A0`,`1D5B9`],base:Up.LATINCAP,subst:{},capital:!0,category:`Lu`,font:Fp.SANSSERIF},{interval:[`1D5BA`,`1D5D3`],base:Up.LATINSMALL,subst:{},capital:!1,category:`Ll`,font:Fp.SANSSERIF},{interval:[`1D608`,`1D621`],base:Up.LATINCAP,subst:{},capital:!0,category:`Lu`,font:Fp.SANSSERIFITALIC},{interval:[`1D622`,`1D63B`],base:Up.LATINSMALL,subst:{},capital:!1,category:`Ll`,font:Fp.SANSSERIFITALIC},{interval:[`1D5D4`,`1D5ED`],base:Up.LATINCAP,subst:{},capital:!0,category:`Lu`,font:Fp.SANSSERIFBOLD},{interval:[`1D5EE`,`1D607`],base:Up.LATINSMALL,subst:{},capital:!1,category:`Ll`,font:Fp.SANSSERIFBOLD},{interval:[`1D63C`,`1D655`],base:Up.LATINCAP,subst:{},capital:!0,category:`Lu`,font:Fp.SANSSERIFBOLDITALIC},{interval:[`1D656`,`1D66F`],base:Up.LATINSMALL,subst:{},capital:!1,category:`Ll`,font:Fp.SANSSERIFBOLDITALIC},{interval:[`0391`,`03A9`],base:Up.GREEKCAP,subst:{"03A2":`03F4`},capital:!0,category:`Lu`,font:Fp.NORMAL},{interval:[`03B0`,`03D0`],base:Up.GREEKSMALL,subst:{"03B0":`2207`,"03CA":`2202`,"03CB":`03F5`,"03CC":`03D1`,"03CD":`03F0`,"03CE":`03D5`,"03CF":`03F1`,"03D0":`03D6`},capital:!1,category:`Ll`,font:Fp.NORMAL},{interval:[`1D6A8`,`1D6C0`],base:Up.GREEKCAP,subst:{},capital:!0,category:`Lu`,font:Fp.BOLD},{interval:[`1D6C1`,`1D6E1`],base:Up.GREEKSMALL,subst:{},capital:!1,category:`Ll`,font:Fp.BOLD},{interval:[`1D6E2`,`1D6FA`],base:Up.GREEKCAP,subst:{},capital:!0,category:`Lu`,font:Fp.ITALIC},{interval:[`1D6FB`,`1D71B`],base:Up.GREEKSMALL,subst:{},capital:!1,category:`Ll`,font:Fp.ITALIC},{interval:[`1D71C`,`1D734`],base:Up.GREEKCAP,subst:{},capital:!0,category:`Lu`,font:Fp.BOLDITALIC},{interval:[`1D735`,`1D755`],base:Up.GREEKSMALL,subst:{},capital:!1,category:`Ll`,font:Fp.BOLDITALIC},{interval:[`1D756`,`1D76E`],base:Up.GREEKCAP,subst:{},capital:!0,category:`Lu`,font:Fp.SANSSERIFBOLD},{interval:[`1D76F`,`1D78F`],base:Up.GREEKSMALL,subst:{},capital:!1,category:`Ll`,font:Fp.SANSSERIFBOLD},{interval:[`1D790`,`1D7A8`],base:Up.GREEKCAP,subst:{},capital:!0,category:`Lu`,font:Fp.SANSSERIFBOLDITALIC},{interval:[`1D7A9`,`1D7C9`],base:Up.GREEKSMALL,subst:{},capital:!1,category:`Ll`,font:Fp.SANSSERIFBOLDITALIC},{interval:[`0030`,`0039`],base:Up.DIGIT,subst:{},offset:0,category:`Nd`,font:Fp.NORMAL},{interval:[`2070`,`2079`],base:Up.DIGIT,subst:{2071:`00B9`,2072:`00B2`,2073:`00B3`},offset:0,category:`No`,font:jp.SUPER},{interval:[`2080`,`2089`],base:Up.DIGIT,subst:{},offset:0,category:`No`,font:jp.SUB},{interval:[`245F`,`2473`],base:Up.DIGIT,subst:{"245F":`24EA`},offset:0,category:`No`,font:jp.CIRCLED},{interval:[`3251`,`325F`],base:Up.DIGIT,subst:{},offset:21,category:`No`,font:jp.CIRCLED},{interval:[`32B1`,`32BF`],base:Up.DIGIT,subst:{},offset:36,category:`No`,font:jp.CIRCLED},{interval:[`2474`,`2487`],base:Up.DIGIT,subst:{},offset:1,category:`No`,font:jp.PARENTHESIZED},{interval:[`2487`,`249B`],base:Up.DIGIT,subst:{2487:`1F100`},offset:0,category:`No`,font:jp.PERIOD},{interval:[`2775`,`277F`],base:Up.DIGIT,subst:{2775:`24FF`},offset:0,category:`No`,font:jp.NEGATIVECIRCLED},{interval:[`24EB`,`24F4`],base:Up.DIGIT,subst:{},offset:11,category:`No`,font:jp.NEGATIVECIRCLED},{interval:[`24F5`,`24FE`],base:Up.DIGIT,subst:{},offset:1,category:`No`,font:jp.DOUBLECIRCLED},{interval:[`277F`,`2789`],base:Up.DIGIT,subst:{"277F":`1F10B`},offset:0,category:`No`,font:jp.CIRCLEDSANSSERIF},{interval:[`2789`,`2793`],base:Up.DIGIT,subst:{2789:`1F10C`},offset:0,category:`No`,font:jp.NEGATIVECIRCLEDSANSSERIF},{interval:[`FF10`,`FF19`],base:Up.DIGIT,subst:{},offset:0,category:`Nd`,font:Fp.FULLWIDTH},{interval:[`1D7CE`,`1D7D7`],base:Up.DIGIT,subst:{},offset:0,category:`Nd`,font:Fp.BOLD},{interval:[`1D7D8`,`1D7E1`],base:Up.DIGIT,subst:{},offset:0,category:`Nd`,font:Fp.DOUBLESTRUCK},{interval:[`1D7E2`,`1D7EB`],base:Up.DIGIT,subst:{},offset:0,category:`Nd`,font:Fp.SANSSERIF},{interval:[`1D7EC`,`1D7F5`],base:Up.DIGIT,subst:{},offset:0,category:`Nd`,font:Fp.SANSSERIFBOLD},{interval:[`1D7F6`,`1D7FF`],base:Up.DIGIT,subst:{},offset:0,category:`Nd`,font:Fp.MONOSPACE},{interval:[`1F101`,`1F10A`],base:Up.DIGIT,subst:{},offset:0,category:`No`,font:jp.COMMA},{interval:[`24B6`,`24CF`],base:Up.LATINCAP,subst:{},capital:!0,category:`So`,font:jp.CIRCLED},{interval:[`24D0`,`24E9`],base:Up.LATINSMALL,subst:{},capital:!1,category:`So`,font:jp.CIRCLED},{interval:[`1F110`,`1F129`],base:Up.LATINCAP,subst:{},capital:!0,category:`So`,font:jp.PARENTHESIZED},{interval:[`249C`,`24B5`],base:Up.LATINSMALL,subst:{},capital:!1,category:`So`,font:jp.PARENTHESIZED},{interval:[`1F130`,`1F149`],base:Up.LATINCAP,subst:{},capital:!0,category:`So`,font:jp.SQUARED},{interval:[`1F170`,`1F189`],base:Up.LATINCAP,subst:{},capital:!0,category:`So`,font:jp.NEGATIVESQUARED},{interval:[`1F150`,`1F169`],base:Up.LATINCAP,subst:{},capital:!0,category:`So`,font:jp.NEGATIVECIRCLED}],Xp=new Map;function Vp(t$1,e$1){return t$1+e$1.split(`-`).map((t$2=>t$2[0].toUpperCase()+t$2.slice(1))).join(``)}for(let t$1 of zp){let e$1=Vp(t$1.base,t$1.font),s$1=Wp(t$1.interval,t$1.subst),i$1=Xp.get(e$1);i$1?i$1.unicode=i$1.unicode.concat(s$1):(i$1=t$1,i$1.unicode=s$1,Xp.set(e$1,i$1))}var Gp;(function(t$1){t$1.PUNCTUATION=`punctuation`,t$1.FENCE=`fence`,t$1.NUMBER=`number`,t$1.IDENTIFIER=`identifier`,t$1.TEXT=`text`,t$1.OPERATOR=`operator`,t$1.RELATION=`relation`,t$1.LARGEOP=`largeop`,t$1.FUNCTION=`function`,t$1.ACCENT=`accent`,t$1.FENCED=`fenced`,t$1.FRACTION=`fraction`,t$1.PUNCTUATED=`punctuated`,t$1.RELSEQ=`relseq`,t$1.MULTIREL=`multirel`,t$1.INFIXOP=`infixop`,t$1.PREFIXOP=`prefixop`,t$1.POSTFIXOP=`postfixop`,t$1.APPL=`appl`,t$1.INTEGRAL=`integral`,t$1.BIGOP=`bigop`,t$1.SQRT=`sqrt`,t$1.ROOT=`root`,t$1.LIMUPPER=`limupper`,t$1.LIMLOWER=`limlower`,t$1.LIMBOTH=`limboth`,t$1.SUBSCRIPT=`subscript`,t$1.SUPERSCRIPT=`superscript`,t$1.UNDERSCORE=`underscore`,t$1.OVERSCORE=`overscore`,t$1.TENSOR=`tensor`,t$1.TABLE=`table`,t$1.MULTILINE=`multiline`,t$1.MATRIX=`matrix`,t$1.VECTOR=`vector`,t$1.CASES=`cases`,t$1.ROW=`row`,t$1.LINE=`line`,t$1.CELL=`cell`,t$1.ENCLOSE=`enclose`,t$1.INFERENCE=`inference`,t$1.RULELABEL=`rulelabel`,t$1.CONCLUSION=`conclusion`,t$1.PREMISES=`premises`,t$1.UNKNOWN=`unknown`,t$1.EMPTY=`empty`})(Gp||={});let Jp=Object.assign({},Gp);var Kp;(function(t$1){t$1.COMMA=`comma`,t$1.SEMICOLON=`semicolon`,t$1.ELLIPSIS=`ellipsis`,t$1.FULLSTOP=`fullstop`,t$1.QUESTION=`question`,t$1.EXCLAMATION=`exclamation`,t$1.QUOTES=`quotes`,t$1.DASH=`dash`,t$1.TILDE=`tilde`,t$1.PRIME=`prime`,t$1.DEGREE=`degree`,t$1.VBAR=`vbar`,t$1.COLON=`colon`,t$1.OPENFENCE=`openfence`,t$1.CLOSEFENCE=`closefence`,t$1.APPLICATION=`application`,t$1.DUMMY=`dummy`,t$1.UNIT=`unit`,t$1.LABEL=`label`,t$1.OPEN=`open`,t$1.CLOSE=`close`,t$1.TOP=`top`,t$1.BOTTOM=`bottom`,t$1.NEUTRAL=`neutral`,t$1.METRIC=`metric`,t$1.LATINLETTER=`latinletter`,t$1.GREEKLETTER=`greekletter`,t$1.OTHERLETTER=`otherletter`,t$1.NUMBERSET=`numbersetletter`,t$1.INTEGER=`integer`,t$1.FLOAT=`float`,t$1.OTHERNUMBER=`othernumber`,t$1.INFTY=`infty`,t$1.MIXED=`mixed`,t$1.MULTIACCENT=`multiaccent`,t$1.OVERACCENT=`overaccent`,t$1.UNDERACCENT=`underaccent`,t$1.UNDEROVER=`underover`,t$1.SUBSUP=`subsup`,t$1.LEFTSUB=`leftsub`,t$1.LEFTSUPER=`leftsuper`,t$1.RIGHTSUB=`rightsub`,t$1.RIGHTSUPER=`rightsuper`,t$1.LEFTRIGHT=`leftright`,t$1.ABOVEBELOW=`abovebelow`,t$1.INTERVAL=`interval`,t$1.SETEMPTY=`set empty`,t$1.SETEXT=`set extended`,t$1.SETSINGLE=`set singleton`,t$1.SETCOLLECT=`set collection`,t$1.STRING=`string`,t$1.SPACE=`space`,t$1.ANNOTATION=`annotation`,t$1.TEXT=`text`,t$1.SEQUENCE=`sequence`,t$1.ENDPUNCT=`endpunct`,t$1.STARTPUNCT=`startpunct`,t$1.NEGATIVE=`negative`,t$1.POSITIVE=`positive`,t$1.NEGATION=`negation`,t$1.MULTIOP=`multiop`,t$1.PREFIXOP=`prefix operator`,t$1.POSTFIXOP=`postfix operator`,t$1.LIMFUNC=`limit function`,t$1.INFIXFUNC=`infix function`,t$1.PREFIXFUNC=`prefix function`,t$1.POSTFIXFUNC=`postfix function`,t$1.SIMPLEFUNC=`simple function`,t$1.COMPFUNC=`composed function`,t$1.SUM=`sum`,t$1.INTEGRAL=`integral`,t$1.GEOMETRY=`geometry`,t$1.BOX=`box`,t$1.BLOCK=`block`,t$1.ADDITION=`addition`,t$1.MULTIPLICATION=`multiplication`,t$1.SUBTRACTION=`subtraction`,t$1.IMPLICIT=`implicit`,t$1.DIVISION=`division`,t$1.VULGAR=`vulgar`,t$1.EQUALITY=`equality`,t$1.INEQUALITY=`inequality`,t$1.ARROW=`arrow`,t$1.ELEMENT=`element`,t$1.NONELEMENT=`nonelement`,t$1.REELEMENT=`reelement`,t$1.RENONELEMENT=`renonelement`,t$1.SET=`set`,t$1.DETERMINANT=`determinant`,t$1.ROWVECTOR=`rowvector`,t$1.BINOMIAL=`binomial`,t$1.SQUAREMATRIX=`squarematrix`,t$1.CYCLE=`cycle`,t$1.MULTILINE=`multiline`,t$1.MATRIX=`matrix`,t$1.VECTOR=`vector`,t$1.CASES=`cases`,t$1.TABLE=`table`,t$1.CAYLEY=`cayley`,t$1.PROOF=`proof`,t$1.LEFT=`left`,t$1.RIGHT=`right`,t$1.UP=`up`,t$1.DOWN=`down`,t$1.FINAL=`final`,t$1.SINGLE=`single`,t$1.HYP=`hyp`,t$1.AXIOM=`axiom`,t$1.LOGIC=`logic`,t$1.UNKNOWN=`unknown`,t$1.MGLYPH=`mglyph`})(Kp||={});let $p=Object.assign({},Kp);var Yp;(function(t$1){t$1.CALIGRAPHIC=`caligraphic`,t$1.CALIGRAPHICBOLD=`caligraphic-bold`,t$1.OLDSTYLE=`oldstyle`,t$1.OLDSTYLEBOLD=`oldstyle-bold`,t$1.UNKNOWN=`unknown`})(Yp||={});let Qp=Object.assign(Object.assign(Object.assign({},Fp),Yp),jp);var Zp;(function(t$1){t$1.ALLLETTERS=`allLetters`,t$1.D=`d`,t$1.BAR=`bar`,t$1.TILDE=`tilde`})(Zp||={});let tm=Object.assign(Object.assign({},Up),Zp);var em=function(t$1,e$1){var s$1={};for(var i$1 in t$1)Object.prototype.hasOwnProperty.call(t$1,i$1)&&e$1.indexOf(i$1)<0&&(s$1[i$1]=t$1[i$1]);if(t$1!=null&&typeof Object.getOwnPropertySymbols==`function`){var r$1=0;for(i$1=Object.getOwnPropertySymbols(t$1);r$1<i$1.length;r$1++)e$1.indexOf(i$1[r$1])<0&&Object.prototype.propertyIsEnumerable.call(t$1,i$1[r$1])&&(s$1[i$1[r$1]]=t$1[i$1[r$1]])}return s$1};let sm={functionApplication:String.fromCodePoint(8289),invisibleTimes:String.fromCodePoint(8290),invisibleComma:String.fromCodePoint(8291),invisiblePlus:String.fromCodePoint(8292)};class im extends Map{get(t$1){return super.get(t$1)||{role:$p.UNKNOWN,type:Jp.UNKNOWN,font:Qp.UNKNOWN}}}class rm extends Map{set(t$1,e$1,s$1=``){return super.set(this.secKey(e$1,t$1),s$1||e$1),this}has(t$1,e$1){return super.has(this.secKey(e$1,t$1))}get(t$1,e$1){return super.get(this.secKey(e$1,t$1))}secKey(t$1,e$1){return e$1?`${t$1} ${e$1}`:`${t$1}`}}let nm={Meaning:new im,Secondary:new rm,FencesHoriz:new Map,FencesVert:new Map,LatexCommands:new Map};function om(t$1,e$1){for(let s$1 of t$1)nm.Meaning.set(s$1,{role:e$1.role||$p.UNKNOWN,type:e$1.type||Jp.UNKNOWN,font:e$1.font||Qp.UNKNOWN}),e$1.secondary&&nm.Secondary.set(s$1,e$1.secondary)}function am(t$1,e$1,s$1=1){let i$1={},r$1=function(t$2){let e$2=[];for(let s$2 of t$2)Array.isArray(s$2)?e$2=e$2.concat(Hp(s$2,{}).map((t$3=>parseInt(t$3,16)))):e$2.push(parseInt(s$2,16));return e$2}(e$1);for(let e$2 of r$1)i$1[e$2]||(t$1.set(String.fromCodePoint(e$2),String.fromCodePoint(e$2+s$1)),i$1[e$2]=!0,i$1[e$2+s$1]=!0)}let cm=`cos.cot.csc.sec.sin.tan.arccos.arccot.arccsc.arcsec.arcsin.arctan.cosh.coth.csch.sech.sinh.tanh.arcosh.arcoth.arcsch.arsech.arsinh.artanh.deg.det.dim.hom.ker.Tr.log.ln.lg.exp.gcd.lcm.arg.im.re.Pr`.split(`.`);function lm(t$1,e$1,s$1,i$1,r$1,n$1=[],o$1={},a$1={}){let c$1=Xp.get(Vp(t$1,i$1));c$1&&(c$1.unicode.forEach((t$2=>{nm.Meaning.set(t$2,{type:e$1,role:s$1,font:r$1}),n$1.forEach((e$2=>nm.Secondary.set(t$2,e$2)))})),function(t$2,e$2){for(let[s$2,i$2]of Object.entries(e$2)){let e$3=t$2[s$2];e$3!==void 0&&nm.Meaning.set(e$3,i$2)}}(c$1.unicode,o$1),function(t$2,e$2){for(let[s$2,i$2]of Object.entries(e$2)){let e$3=t$2[s$2];e$3!==void 0&&nm.Secondary.set(e$3,i$2)}}(c$1.unicode,a$1))}[{set:[`23`,`26`,`40`,`5c`,`a1`,`a7`,`b6`,`bf`,`2017`,[`2022`,`2025`],`2027`,`203b`,`203c`,[`2041`,`2043`],[`2047`,`2049`],[`204b`,`204d`],`2050`,`2055`,`2056`,[`2058`,`205e`],`2234`,`2235`,`fe45`,`fe46`,`fe5f`,`fe60`,`fe68`,`fe6b`,`ff03`,`ff06`,`ff0f`,`ff20`,`ff3c`],type:Jp.PUNCTUATION,role:$p.UNKNOWN},{set:[`22`,`ab`,`bb`,`2dd`,[`2018`,`201f`],`2039`,`203a`,[`301d`,`301f`],`fe10`,`ff02`,`ff07`],type:Jp.PUNCTUATION,role:$p.QUOTES},{set:[`3b`,`204f`,`2a1f`,`2a3e`,`fe14`,`fe54`,`ff1b`],type:Jp.PUNCTUATION,role:$p.SEMICOLON},{set:[`3f`,`203d`,`fe16`,`fe56`,`ff1f`],type:Jp.PUNCTUATION,role:$p.QUESTION},{set:[`21`,`fe15`,`fe57`,`ff01`],type:Jp.PUNCTUATION,role:$p.EXCLAMATION},{set:[`5e`,`60`,`a8`,`aa`,`b4`,`ba`,`2c7`,[`2d8`,`2da`],`2040`,`207a`,`207d`,`207e`,`ff3e`,`ff40`],type:Jp.PUNCTUATION,role:$p.OVERACCENT},{set:[`b8`,`2db`,`2038`,`203f`,`2054`,`208a`,`208d`,`208e`],type:Jp.PUNCTUATION,role:$p.UNDERACCENT},{set:[`3a`,`2982`,`fe13`,`fe30`,`fe55`,`ff1a`],type:Jp.PUNCTUATION,role:$p.COLON},{set:[`2c`,`2063`,`fe50`,`ff0c`],type:Jp.PUNCTUATION,role:$p.COMMA},{set:[`2026`,[`22ee`,`22f1`],`fe19`],type:Jp.PUNCTUATION,role:$p.ELLIPSIS},{set:[`2e`,`fe52`,`ff0e`],type:Jp.PUNCTUATION,role:$p.FULLSTOP},{set:[`2d`,`207b`,`208b`,`2212`,`2796`,`fe63`,`ff0d`],type:Jp.OPERATOR,role:$p.DASH,secondary:tm.BAR},{set:[`5f`,`af`,[`2010`,`2015`],`203e`,`208b`,[`fe49`,`fe4f`],`fe58`,`ff3f`,`ffe3`],type:Jp.PUNCTUATION,role:$p.DASH,secondary:tm.BAR},{set:[`7e`,`2dc`,`2f7`,`303`,`330`,`334`,`2053`,`223c`,`223d`,`301c`,`ff5e`],type:Jp.OPERATOR,role:$p.TILDE,secondary:tm.TILDE},{set:[`27`,`2b9`,`2ba`,[`2032`,`2037`],`2057`],type:Jp.PUNCTUATION,role:$p.PRIME},{set:[`b0`],type:Jp.PUNCTUATION,role:$p.DEGREE},{set:[`2b`,`b1`,`2064`,`2213`,`2214`,`2228`,`222a`,[`228c`,`228e`],`2294`,`2295`,`229d`,`229e`,`22bb`,`22bd`,`22c4`,`22ce`,`22d3`,`2304`,`271b`,`271c`,`2795`,`27cf`,`29fa`,`29fb`,`29fe`,[`2a22`,`2a28`],`2a2d`,`2a2e`,`2a39`,`2a42`,`2a45`,`2a46`,`2a48`,`2a4a`,`2a4c`,`2a4f`,`2a50`,`2a52`,`2a54`,`2a56`,`2a57`,`2a59`,`2a5b`,`2a5d`,[`2a61`,`2a63`],`2adc`,`2add`,`fe62`,`ff0b`],type:Jp.OPERATOR,role:$p.ADDITION},{set:[`2a`,`b7`,`d7`,`2020`,`2021`,`204e`,`2051`,`2062`,[`2217`,`2219`],`2227`,`2229`,`2240`,`2293`,`2297`,[`2299`,`229b`],`22a0`,`22a1`,`22b9`,`22bc`,[`22c5`,`22cc`],`22cf`,`22d2`,`22d4`,`2303`,`2305`,`2306`,`25cb`,`2715`,`2716`,`27ce`,`27d1`,[`29d1`,`29d7`],`29e2`,`2a1d`,[`2a2f`,`2a37`],[`2a3b`,`2a3d`],`2a40`,`2a43`,`2a44`,`2a47`,`2a49`,`2a4b`,`2a4d`,`2a4e`,`2a51`,`2a53`,`2a55`,`2a58`,`2a5a`,`2a5c`,[`2a5e`,`2a60`],`2ada`,`2adb`,`fe61`,`ff0a`],type:Jp.OPERATOR,role:$p.MULTIPLICATION},{set:[`2d`,`af`,`2010`,`2011`,`2052`,`207b`,`208b`,`2212`,`2216`,`2238`,`2242`,`2296`,`229f`,`2796`,`29ff`,[`2a29`,`2a2c`],`2a3a`,`2a41`,`fe63`,`ff0d`],type:Jp.OPERATOR,role:$p.SUBTRACTION},{set:[`2f`,`f7`,`2044`,`2215`,`2298`,`2797`,`27cc`,`29bc`,[`29f5`,`29f9`],`2a38`],type:Jp.OPERATOR,role:$p.DIVISION},{set:[`25`,`2030`,`2031`,`ff05`,`fe6a`],type:Jp.OPERATOR,role:$p.POSTFIXOP},{set:[`ac`,`2200`,`2201`,`2203`,`2204`,`2206`,[`221a`,`221c`],`2310`,`ffe2`],type:Jp.OPERATOR,role:$p.PREFIXOP},{set:[`2320`,`2321`,`23aa`,`23ae`,`23af`,`23b2`,`23b3`,`23b6`,`23b7`],type:Jp.OPERATOR,role:$p.PREFIXOP},{set:[`1d7ca`,`1d7cb`],type:Jp.OPERATOR,role:$p.PREFIXOP,font:Qp.BOLD},{set:[`3d`,`7e`,`207c`,`208c`,`221d`,`2237`,[`223a`,`223f`],`2243`,`2245`,`2248`,[`224a`,`224e`],[`2251`,`225f`],`2261`,`2263`,`229c`,`22cd`,`22d5`,`29e4`,`29e6`,`2a66`,`2a67`,[`2a6a`,`2a6c`],[`2a6c`,`2a78`],`fe66`,`ff1d`],type:Jp.RELATION,role:$p.EQUALITY},{set:[`3c`,`3e`,`2241`,`2242`,`2244`,`2246`,`2247`,`2249`,`224f`,`2250`,`2260`,`2262`,[`2264`,`2281`],`22b0`,`22b1`,[`22d6`,`22e1`],[`22e6`,`22e9`],[`2976`,`2978`],`29c0`,`29c1`,`29e1`,`29e3`,`29e5`,[`2a79`,`2abc`],[`2af7`,`2afa`],`fe64`,`fe65`,`ff1c`,`ff1e`],type:Jp.RELATION,role:$p.INEQUALITY},{set:[[`2282`,`228b`],[`228f`,`2292`],[`22b2`,`22b8`],`22d0`,`22d1`,[`22e2`,`22e5`],[`22ea`,`22ed`],`27c3`,`27c4`,[`27c7`,`27c9`],[`27d5`,`27d7`],`27dc`,[`2979`,`297b`],`29df`,[`2abd`,`2ad8`]],type:Jp.RELATION,role:$p.SET},{set:[`2236`,[`27e0`,`27e5`],`292b`,`292c`,[`29b5`,`29bb`],`29be`,`29bf`,[`29c2`,`29d0`]],type:Jp.RELATION,role:$p.UNKNOWN},{set:[`2205`,[`29b0`,`29b4`]],type:Jp.IDENTIFIER,role:$p.SETEMPTY},{set:[`1ab2`,`221e`,[`29dc`,`29de`]],type:Jp.IDENTIFIER,role:$p.INFTY},{set:[`22a2`,`22a3`,[`22a6`,`22af`],`27da`,`27db`,`27dd`,`27de`,`2ade`,[`2ae2`,`2ae6`],`2aec`,`2aed`],type:Jp.RELATION,role:$p.LOGIC},{set:[`22a4`,`22a5`,`22ba`,`27d8`,`27d9`,`27df`,`2adf`,`2ae0`,[`2ae7`,`2aeb`],`2af1`],type:Jp.IDENTIFIER,role:$p.LOGIC},{set:[[`2190`,`21ff`],`2301`,`2324`,`238b`,`2794`,[`2798`,`27af`],[`27b1`,`27be`],[`27f0`,`27ff`],[`2900`,`292a`],[`292d`,`2975`],[`297c`,`297f`],[`2b00`,`2b11`],[`2b30`,`2b4c`],[`ffe9`,`ffec`]],type:Jp.RELATION,role:$p.ARROW},{set:[`2208`,`220a`,[`22f2`,`22f9`],`22ff`,`27d2`,`2ad9`],type:Jp.OPERATOR,role:$p.ELEMENT},{set:[`2209`],type:Jp.OPERATOR,role:$p.NONELEMENT},{set:[`220b`,`220d`,[`22fa`,`22fe`]],type:Jp.OPERATOR,role:$p.REELEMENT},{set:[`220c`],type:Jp.OPERATOR,role:$p.RENONELEMENT},{set:[[`220f`,`2211`],[`22c0`,`22c3`],[`2a00`,`2a0b`],`2a3f`,`2afc`,`2aff`],type:Jp.LARGEOP,role:$p.SUM},{set:[`2140`],type:Jp.LARGEOP,role:$p.SUM,font:Qp.DOUBLESTRUCK},{set:[[`222b`,`2233`],[`2a0c`,`2a17`],[`2a17`,`2a1c`]],type:Jp.LARGEOP,role:$p.INTEGRAL},{set:[[`2500`,`257F`]],type:Jp.RELATION,role:$p.BOX},{set:[[`2580`,`259F`]],type:Jp.IDENTIFIER,role:$p.BLOCK},{set:[[`25A0`,`25FF`],[`2B12`,`2B2F`],[`2B50`,`2B59`]],type:Jp.RELATION,role:$p.GEOMETRY},{set:[`220e`,`2300`,`2302`,`2311`,`29bd`,`29e0`,[`29e8`,`29f3`],`2a1e`,`2afe`,`ffed`,`ffee`],type:Jp.OPERATOR,role:$p.GEOMETRY},{set:[[`221f`,`2222`],`22be`,`22bf`,[`2312`,`2314`],`237c`,`27c0`,[`299b`,`29af`]],type:Jp.OPERATOR,role:$p.GEOMETRY},{set:[`24`,[`a2`,`a5`],`b5`,`2123`,[`2125`,`2127`],`212a`,`212b`,`fe69`,`ff04`,`ffe0`,`ffe1`,`ffe5`,`ffe6`],type:Jp.IDENTIFIER,role:$p.UNKNOWN},{set:[`a9`,`ae`,`210f`,`2114`,`2116`,`2117`,[`211e`,`2122`],`212e`,`2132`,[`2139`,`213b`],[`2141`,`2144`],`214d`,`214e`,[`1f12a`,`1f12c`],`1f18a`],type:Jp.IDENTIFIER,role:$p.OTHERLETTER},{set:[`2224`,`2226`,`2239`,`2307`,`27b0`,`27bf`,`27c1`,`27c2`,`27ca`,`27cb`,`27cd`,`27d0`,`27d3`,`27d4`,`2981`,`2999`,`299a`,`29e7`,`29f4`,`2a20`,`2a21`,`2a64`,`2a65`,`2a68`,`2a69`,`2ae1`,[`2aee`,`2af0`],`2af2`,`2af3`,`2af5`,`2af6`,`2afb`,`2afd`],type:Jp.OPERATOR,role:$p.UNKNOWN},{set:[`2605`,`2606`,`26aa`,`26ab`,[`2720`,`274d`]],type:Jp.OPERATOR,role:$p.UNKNOWN},{set:[[`2145`,`2149`]],type:Jp.IDENTIFIER,role:$p.LATINLETTER,font:Qp.DOUBLESTRUCKITALIC,secondary:tm.ALLLETTERS},{set:[[`213c`,`213f`]],type:Jp.IDENTIFIER,role:$p.GREEKLETTER,font:Qp.DOUBLESTRUCK,secondary:tm.ALLLETTERS},{set:[`3d0`,`3d7`,`3f6`,[`1d26`,`1d2a`],`1d5e`,`1d60`,[`1d66`,`1d6a`]],type:Jp.IDENTIFIER,role:$p.GREEKLETTER,font:Qp.NORMAL,secondary:tm.ALLLETTERS},{set:[[`2135`,`2138`]],type:Jp.IDENTIFIER,role:$p.OTHERLETTER,font:Qp.NORMAL,secondary:tm.ALLLETTERS},{set:[`131`,`237`],type:Jp.IDENTIFIER,role:$p.LATINLETTER,font:Qp.NORMAL},{set:[`1d6a4`,`1d6a5`],type:Jp.IDENTIFIER,role:$p.LATINLETTER,font:Qp.ITALIC},{set:[`2113`,`2118`],type:Jp.IDENTIFIER,role:$p.LATINLETTER,font:Qp.SCRIPT},{set:[[`c0`,`d6`],[`d8`,`f6`],[`f8`,`1bf`],[`1c4`,`2af`],[`1d00`,`1d25`],[`1d6b`,`1d9a`],[`1e00`,`1ef9`],[`363`,`36f`],[`1dd3`,`1de6`],[`1d62`,`1d65`],`1dca`,`2071`,`207f`,[`2090`,`209c`],`2c7c`],type:Jp.IDENTIFIER,role:$p.LATINLETTER,font:Qp.NORMAL},{set:[[`00bc`,`00be`],[`2150`,`215f`],`2189`],type:Jp.NUMBER,role:$p.FLOAT},{set:[`23E8`,[`3248`,`324f`]],type:Jp.NUMBER,role:$p.INTEGER},{set:[[`214A`,`214C`],`2705`,`2713`,`2714`,`2717`,`2718`],type:Jp.IDENTIFIER,role:$p.UNKNOWN},{set:[`20`,`a0`,`ad`,[`2000`,`200f`],[`2028`,`202f`],[`205f`,`2060`],`206a`,`206b`,`206e`,`206f`,`feff`,[`fff9`,`fffb`]],type:Jp.TEXT,role:$p.SPACE},{set:[`7c`,`a6`,`2223`,`23b8`,`23b9`,`23d0`,`2758`,[`fe31`,`fe34`],`ff5c`,`ffe4`,`ffe8`],type:Jp.FENCE,role:$p.NEUTRAL},{set:[`2016`,`2225`,`2980`,`2af4`],type:Jp.FENCE,role:$p.METRIC}].forEach((t$1=>{var{set:e$1}=t$1,s$1=em(t$1,[`set`]);return om(function(t$2){let e$2=[];for(let s$2 of t$2)Array.isArray(s$2)?e$2=e$2.concat(Wp(s$2)):e$2.push(String.fromCodePoint(parseInt(s$2,16)));return e$2}(e$1),s$1)})),am(nm.FencesVert,[`23b4`,[`23dc`,`23e1`],[`fe35`,`fe44`],`fe47`]),am(nm.FencesHoriz,[`28`,`2045`,`207D`,`208D`,[`2308`,`230f`],[`231c`,`231f`],`2329`,`23b0`,[`2768`,`2775`],`27c5`,[`27e6`,`27ef`],[`2983`,`2998`],[`29d8`,`29db`],`29fc`,[`2e22`,`2e29`],[`3008`,`3011`],[`3014`,`301b`],`fd3e`,`fe17`,[`fe59`,`fe5e`],`ff08`,`ff5f`,`ff62`]),am(nm.FencesHoriz,[`5b`,`7b`,`ff3b`,`ff5b`],2),am(nm.FencesHoriz,[[`239b`,`23a6`]],3),am(nm.FencesHoriz,[[`23a7`,`23a9`]],4),om([...nm.FencesHoriz.keys()],{type:Jp.FENCE,role:$p.OPEN}),om([...nm.FencesHoriz.values()],{type:Jp.FENCE,role:$p.CLOSE}),om([...nm.FencesVert.keys()],{type:Jp.FENCE,role:$p.TOP}),om([...nm.FencesVert.values()],{type:Jp.FENCE,role:$p.BOTTOM}),function(){for(let[t$1,e$1]of Object.entries(Qp)){let s$1=jp[t$1]?Qp.UNKNOWN:e$1===Qp.FULLWIDTH?Qp.NORMAL:e$1;lm(Up.LATINCAP,Jp.IDENTIFIER,$p.LATINLETTER,e$1,s$1,[tm.ALLLETTERS]),lm(Up.LATINSMALL,Jp.IDENTIFIER,$p.LATINLETTER,e$1,s$1,[tm.ALLLETTERS],{},{3:tm.D}),lm(Up.GREEKCAP,Jp.IDENTIFIER,$p.GREEKLETTER,e$1,s$1,[tm.ALLLETTERS]),lm(Up.GREEKSMALL,Jp.IDENTIFIER,$p.GREEKLETTER,e$1,s$1,[tm.ALLLETTERS],{0:{type:Jp.OPERATOR,role:$p.PREFIXOP,font:s$1},26:{type:Jp.OPERATOR,role:$p.PREFIXOP,font:s$1}}),lm(Up.DIGIT,Jp.NUMBER,$p.INTEGER,e$1,s$1)}}(),om([`inf`,`lim`,`liminf`,`limsup`,`max`,`min`,`sup`,`injlim`,`projlim`],{type:Jp.FUNCTION,role:$p.LIMFUNC}),om(cm,{type:Jp.FUNCTION,role:$p.PREFIXFUNC}),om([`mod`,`rem`],{type:Jp.OPERATOR,role:$p.PREFIXFUNC});let hm=[];function dm(t$1,e$1){for(let s$1,i$1=0;s$1=hm[i$1];i$1++){let i$2=s$1.compare(t$1,e$1);if(i$2!==0)return i$2}return 0}function um(t$1){if(t$1.length<=1)return t$1;let e$1=t$1.slice();(function(t$2){t$2.sort(dm)})(e$1);let s$1=[],i$1;do i$1=e$1.pop(),s$1.push(i$1);while(i$1&&e$1.length&&dm(e$1[e$1.length-1],i$1)===0);return s$1}function pm(t$1,e$1){return t$1.match(/^.+:.+$/)||!e$1?t$1:t$1+`:`+e$1}new class{constructor(t$1,e$1=null){this.comparator=t$1,this.type=e$1,function(t$2){hm.push(t$2)}(this)}compare(t$1,e$1){return this.type&&this.type===t$1.type&&this.type===e$1.type?this.comparator(t$1,e$1):0}}((function(t$1,e$1){return t$1.role===$p.SIMPLEFUNC?1:e$1.role===$p.SIMPLEFUNC?-1:0}),Jp.IDENTIFIER);class mm extends Map{set(t$1,e$1){return super.set(pm(t$1,e$1.font),e$1),this}setNode(t$1){this.set(t$1.textContent,t$1.meaning())}get(t$1,e$1=null){return super.get(pm(t$1,e$1))}getNode(t$1){return this.get(t$1.textContent,t$1.font)}}class fm extends Map{add(t$1,e$1){let s$1=this.get(t$1);s$1?s$1.push(e$1):super.set(t$1,[e$1])}get(t$1,e$1=null){return super.get(pm(t$1,e$1))}getNode(t$1){return this.get(t$1.textContent,t$1.font)}minimize(){for(let[t$1,e$1]of this)e$1.length===1&&this.delete(t$1)}isMultiValued(){for(let t$1 of this.values())if(t$1.length>1)return!0;return!1}}class gm extends fm{add(t$1,e$1){super.add(pm(t$1,e$1.font),e$1)}addNode(t$1){this.add(t$1.textContent,t$1)}toString(){let t$1=[];for(let[e$1,s$1]of this){let i$1=Array(e$1.length+3).join(` `),r$1=s$1.map((t$2=>t$2.toString())).join(`
`+i$1);t$1.push(e$1+`: `+r$1)}return t$1.join(`
`)}collateMeaning(){let t$1=new bm;for(let[e$1,s$1]of this)t$1.set(e$1,s$1.map((t$2=>t$2.meaning())));return t$1}}class bm extends fm{add(t$1,e$1){let s$1=this.get(t$1,e$1.font);s$1&&s$1.find((function(t$2){return i$1=e$1,(s$2=t$2).type===i$1.type&&s$2.role===i$1.role&&s$2.font===i$1.font;var s$2,i$1}))||super.add(pm(t$1,e$1.font),e$1)}addNode(t$1){this.add(t$1.textContent,t$1.meaning())}toString(){let t$1=[];for(let[e$1,s$1]of this){let i$1=Array(e$1.length+3).join(` `),r$1=s$1.map((t$2=>`{type: ${t$2.type}, role: ${t$2.role}, font: ${t$2.font}}`)).join(`
`+i$1);t$1.push(e$1+`: `+r$1)}return t$1.join(`
`)}reduce(){for(let[t$1,e$1]of this)e$1.length!==1&&this.set(t$1,um(e$1))}default(){let t$1=new mm;for(let[e$1,s$1]of this)s$1.length===1&&t$1.set(e$1,s$1[0]);return t$1}newDefault(){let t$1=this.default();this.reduce();let e$1=this.default();return t$1.size===e$1.size?null:e$1}}var Em;(function(t$1){t$1.ANNOTATION=`ANNOTATION`,t$1.ANNOTATIONXML=`ANNOTATION-XML`,t$1.MACTION=`MACTION`,t$1.MALIGNGROUP=`MALIGNGROUP`,t$1.MALIGNMARK=`MALIGNMARK`,t$1.MATH=`MATH`,t$1.MENCLOSE=`MENCLOSE`,t$1.MERROR=`MERROR`,t$1.MFENCED=`MFENCED`,t$1.MFRAC=`MFRAC`,t$1.MGLYPH=`MGLYPH`,t$1.MI=`MI`,t$1.MLABELEDTR=`MLABELEDTR`,t$1.MMULTISCRIPTS=`MMULTISCRIPTS`,t$1.MN=`MN`,t$1.MO=`MO`,t$1.MOVER=`MOVER`,t$1.MPADDED=`MPADDED`,t$1.MPHANTOM=`MPHANTOM`,t$1.MPRESCRIPTS=`MPRESCRIPTS`,t$1.MROOT=`MROOT`,t$1.MROW=`MROW`,t$1.MS=`MS`,t$1.MSPACE=`MSPACE`,t$1.MSQRT=`MSQRT`,t$1.MSTYLE=`MSTYLE`,t$1.MSUB=`MSUB`,t$1.MSUBSUP=`MSUBSUP`,t$1.MSUP=`MSUP`,t$1.MTABLE=`MTABLE`,t$1.MTD=`MTD`,t$1.MTEXT=`MTEXT`,t$1.MTR=`MTR`,t$1.MUNDER=`MUNDER`,t$1.MUNDEROVER=`MUNDEROVER`,t$1.NONE=`NONE`,t$1.SEMANTICS=`SEMANTICS`})(Em||={});let Nm=Object.values(Em),ym=[Em.MO,Em.MI,Em.MN,Em.MTEXT,Em.MS,Em.MSPACE],xm=[Em.MERROR,Em.MPHANTOM,Em.MALIGNGROUP,Em.MALIGNMARK,Em.MPRESCRIPTS,Em.ANNOTATION,Em.ANNOTATIONXML],vm=[Em.MATH,Em.MROW,Em.MPADDED,Em.MACTION,Em.NONE,Em.MSTYLE,Em.SEMANTICS],Cm=[Em.MROOT,Em.MSQRT],Tm=[`aria-label`,`exact-speech`,`alt`];function wm(t$1){return!!t$1&&Mp(t$1)===Em.MATH}function _m(t$1){return!!t$1&&(xm.includes(Mp(t$1))||!Nm.includes(Mp(t$1)))}function km(t$1){return!!t$1&&vm.includes(Mp(t$1))}function Am(t$1){return!!t$1&&Mp(t$1)===Em.MGLYPH&&!function(t$2){return!!t$2&&ym.includes(Mp(t$2))}(t$1.parentNode)}function Lm(t$1){let e$1=[];for(let s$1,i$1=0;s$1=t$1[i$1];i$1++){if(s$1.nodeType!==wp.ELEMENT_NODE)continue;let t$2=Mp(s$1);xm.includes(t$2)||vm.includes(t$2)&&s$1.childNodes.length===0||e$1.push(s$1)}return e$1}function Mm(t$1,e$1){var s$1;if(e$1.attributes?.length){let s$2=e$1.attributes;for(let e$2=s$2.length-1;e$2>=0;e$2--){let i$1=s$2[e$2].name;i$1.match(/^ext/)&&(t$1.attributes[i$1]=s$2[e$2].value,t$1.nobreaking=!0),Tm.includes(i$1)&&(t$1.attributes[`ext-speech`]=s$2[e$2].value,t$1.nobreaking=!0),i$1.match(/texclass$/)&&(t$1.attributes.texclass=s$2[e$2].value),i$1.toLowerCase()===`data-latex`&&(t$1.attributes.latex=s$2[e$2].value),i$1===`href`&&(t$1.attributes.href=s$2[e$2].value,t$1.nobreaking=!0)}}}function Im(t$1){return t$1&&t$1.embellished&&t$1.childNodes.length>0?Im(t$1.childNodes[0]):t$1}function Sm(t$1,e$1,s$1){s$1&&t$1.reverse();let i$1=[];for(let r$1,n$1=0;r$1=t$1[n$1];n$1++){if(e$1(r$1))return s$1?{head:t$1.slice(n$1+1).reverse(),div:r$1,tail:i$1.reverse()}:{head:i$1,div:r$1,tail:t$1.slice(n$1+1)};i$1.push(r$1)}return s$1?{head:[],div:null,tail:i$1.reverse()}:{head:i$1,div:null,tail:[]}}function Rm(t$1,e$1){let s$1=t$1,i$1=[],r$1=[],n$1=null;do n$1=Sm(s$1,e$1),r$1.push(n$1.head),i$1.push(n$1.div),s$1=n$1.tail;while(n$1.div);return i$1.pop(),{rel:i$1,comp:r$1}}var Om;(function(t$1){t$1.EMBELLISHED=`embellished`,t$1.FENCEPOINTER=`fencepointer`,t$1.FONT=`font`,t$1.ID=`id`,t$1.ANNOTATION=`annotation`,t$1.ROLE=`role`,t$1.TYPE=`type`,t$1.CHILDREN=`children`,t$1.CONTENT=`content`,t$1.TEXT=`$t`})(Om||={});class Dm{static fromXml(t$1){let s$1=new Dm(parseInt(t$1.getAttribute(`id`),10));return s$1.type=t$1.tagName,Dm.setAttribute(s$1,t$1,`role`),Dm.setAttribute(s$1,t$1,`font`),Dm.setAttribute(s$1,t$1,`embellished`),Dm.setAttribute(s$1,t$1,`fencepointer`,`fencePointer`),t$1.getAttribute(`annotation`)&&s$1.parseAnnotation(t$1.getAttribute(`annotation`)),Mm(s$1,t$1),Dm.processChildren(s$1,t$1),s$1}static setAttribute(t$1,e$1,s$1,i$1){i$1||=s$1;let r$1=e$1.getAttribute(s$1);r$1&&(t$1[i$1]=r$1)}static processChildren(t$1,e$1){for(let s$1 of Cp(e$1.childNodes)){if(s$1.nodeType===wp.TEXT_NODE){t$1.textContent=s$1.textContent;continue}let e$2=Cp(s$1.childNodes).map(Dm.fromXml);e$2.forEach((e$3=>e$3.parent=t$1)),Mp(s$1)===`CONTENT`?t$1.contentNodes=e$2:t$1.childNodes=e$2}}constructor(t$1){this.id=t$1,this.mathml=[],this.parent=null,this.type=Jp.UNKNOWN,this.role=$p.UNKNOWN,this.font=Qp.UNKNOWN,this.embellished=null,this.fencePointer=``,this.childNodes=[],this.textContent=``,this.mathmlTree=null,this.contentNodes=[],this.annotation={},this.attributes={},this.nobreaking=!1}querySelectorAll(t$1){let e$1=[];for(let s$1,i$1=0;s$1=this.childNodes[i$1];i$1++)e$1=e$1.concat(s$1.querySelectorAll(t$1));for(let s$1,i$1=0;s$1=this.contentNodes[i$1];i$1++)e$1=e$1.concat(s$1.querySelectorAll(t$1));return t$1(this)&&e$1.unshift(this),e$1}xml(t$1,e$1){let s$1=function(s$2,i$2){let r$1=i$2.map((function(s$3){return s$3.xml(t$1,e$1)})),n$1=t$1.createElementNS(``,s$2);for(let t$2,e$2=0;t$2=r$1[e$2];e$2++)n$1.appendChild(t$2);return n$1},i$1=t$1.createElementNS(``,this.type);return e$1||this.xmlAttributes(i$1),i$1.textContent=this.textContent,this.contentNodes.length>0&&i$1.appendChild(s$1(Om.CONTENT,this.contentNodes)),this.childNodes.length>0&&i$1.appendChild(s$1(Om.CHILDREN,this.childNodes)),i$1}toString(t$1=!1){let e$1=Tp(`<snode/>`);return Ip(this.xml(e$1.ownerDocument,t$1))}allAttributes(){let t$1=[];return t$1.push([Om.ROLE,this.role]),this.font!==Qp.UNKNOWN&&t$1.push([Om.FONT,this.font]),Object.keys(this.annotation).length&&t$1.push([Om.ANNOTATION,this.annotationXml()]),this.embellished&&t$1.push([Om.EMBELLISHED,this.embellished]),this.fencePointer&&t$1.push([Om.FENCEPOINTER,this.fencePointer]),t$1.push([Om.ID,this.id.toString()]),t$1}annotationXml(){let t$1=[];for(let[e$1,s$1]of Object.entries(this.annotation))s$1.forEach((s$2=>t$1.push(e$1+`:`+s$2)));return t$1.join(`;`)}attributesXml(){let t$1=[];for(let[e$1,s$1]of Object.entries(this.attributes))t$1.push(e$1+`:`+Dm.escapeValue(s$1));return t$1.join(`;`)}toJson(){let t$1={};t$1[Om.TYPE]=this.type;let e$1=this.allAttributes();for(let s$1,i$1=0;s$1=e$1[i$1];i$1++)t$1[s$1[0]]=s$1[1].toString();return this.textContent&&(t$1[Om.TEXT]=this.textContent),this.childNodes.length&&(t$1[Om.CHILDREN]=this.childNodes.map((function(t$2){return t$2.toJson()}))),this.contentNodes.length&&(t$1[Om.CONTENT]=this.contentNodes.map((function(t$2){return t$2.toJson()}))),t$1}updateContent(t$1,e$1){let s$1=e$1?t$1.replace(/^[ \f\n\r\t\v\u200b]*/,``).replace(/[ \f\n\r\t\v\u200b]*$/,``):t$1.trim();if(t$1=t$1&&!s$1?t$1:s$1,this.textContent===t$1)return;let i$1=nm.Meaning.get(t$1.replace(/\s/g,` `));this.textContent=t$1,this.role=i$1.role,this.type=i$1.type,this.font=i$1.font}addMathmlNodes(t$1){for(let e$1,s$1=0;e$1=t$1[s$1];s$1++)this.mathml.indexOf(e$1)===-1&&this.mathml.push(e$1)}appendChild(t$1){this.childNodes.push(t$1),this.addMathmlNodes(t$1.mathml),t$1.parent=this}replaceChild(t$1,e$1){let s$1=this.childNodes.indexOf(t$1);if(s$1===-1)return;t$1.parent=null,e$1.parent=this,this.childNodes[s$1]=e$1;let i$1=t$1.mathml.filter((function(t$2){return e$1.mathml.indexOf(t$2)===-1})),r$1=e$1.mathml.filter((function(e$2){return t$1.mathml.indexOf(e$2)===-1}));this.removeMathmlNodes(i$1),this.addMathmlNodes(r$1)}appendContentNode(t$1){t$1&&(this.contentNodes.push(t$1),this.addMathmlNodes(t$1.mathml),t$1.parent=this)}removeContentNode(t$1){if(t$1){let e$1=this.contentNodes.indexOf(t$1);e$1!==-1&&this.contentNodes.slice(e$1,1)}}equals(t$1){if(!t$1||this.type!==t$1.type||this.role!==t$1.role||this.textContent!==t$1.textContent||this.childNodes.length!==t$1.childNodes.length||this.contentNodes.length!==t$1.contentNodes.length)return!1;for(let e$1,s$1,i$1=0;e$1=this.childNodes[i$1],s$1=t$1.childNodes[i$1];i$1++)if(!e$1.equals(s$1))return!1;for(let e$1,s$1,i$1=0;e$1=this.contentNodes[i$1],s$1=t$1.contentNodes[i$1];i$1++)if(!e$1.equals(s$1))return!1;return!0}displayTree(){console.info(this.displayTree_(0))}addAnnotation(t$1,e$1){e$1&&this.addAnnotation_(t$1,e$1)}getAnnotation(t$1){return this.annotation[t$1]||[]}hasAnnotation(t$1,e$1){let s$1=this.annotation[t$1];return!!s$1&&s$1.indexOf(e$1)!==-1}parseAnnotation(t$1){let e$1=t$1.split(`;`);for(let t$2=0,s$1=e$1.length;t$2<s$1;t$2++){let s$2=e$1[t$2].split(`:`);this.addAnnotation(s$2[0],s$2[1])}}meaning(){return{type:this.type,role:this.role,font:this.font}}xmlAttributes(t$1){let e$1=this.allAttributes();for(let s$1,i$1=0;s$1=e$1[i$1];i$1++)t$1.setAttribute(s$1[0],s$1[1]);this.addExternalAttributes(t$1)}addExternalAttributes(t$1){for(let[e$1,s$1]of Object.entries(this.attributes))t$1.setAttribute(e$1,s$1)}static escapeValue(t$1){return t$1.replace(/;/g,`\\0003B`)}parseAttributes(t$1){if(!t$1)return;let e$1=t$1.split(`;`);for(let t$2=0,s$1=e$1.length;t$2<s$1;t$2++){let[s$2,...i$1]=e$1[t$2].split(`:`);s$2&&(this.attributes[s$2]=i$1.join(``).replace(/\\0003B/g,`;`))}}removeMathmlNodes(t$1){let e$1=this.mathml;for(let s$1,i$1=0;s$1=t$1[i$1];i$1++){let t$2=e$1.indexOf(s$1);t$2!==-1&&e$1.splice(t$2,1)}this.mathml=e$1}displayTree_(t$1){t$1++;let e$1=Array(t$1).join(`  `),s$1=``;s$1+=`
`+e$1+this.toString(),s$1+=`
`+e$1+`MathmlTree:`,s$1+=`
`+e$1+this.mathmlTreeString(),s$1+=`
`+e$1+`MathML:`;for(let t$2,i$1=0;t$2=this.mathml[i$1];i$1++)s$1+=`
`+e$1+t$2.toString();return s$1+=`
`+e$1+`Begin Content`,this.contentNodes.forEach((function(e$2){s$1+=e$2.displayTree_(t$1)})),s$1+=`
`+e$1+`End Content`,s$1+=`
`+e$1+`Begin Children`,this.childNodes.forEach((function(e$2){s$1+=e$2.displayTree_(t$1)})),s$1+=`
`+e$1+`End Children`,s$1}mathmlTreeString(){return this.mathmlTree?this.mathmlTree.toString():`EMPTY`}addAnnotation_(t$1,e$1){let s$1=this.annotation[t$1];s$1&&!s$1.includes(e$1)?s$1.push(e$1):this.annotation[t$1]=[e$1]}}class Pm{constructor(){this.leafMap=new gm,this.defaultMap=new mm,this.idCounter_=-1}makeNode(t$1){return this.createNode_(t$1)}makeUnprocessed(t$1){let e$1=this.createNode_();return e$1.mathml=[t$1],e$1.mathmlTree=t$1,e$1}makeEmptyNode(){let t$1=this.createNode_();return t$1.type=Jp.EMPTY,t$1}makeContentNode(t$1){let e$1=this.createNode_();return e$1.updateContent(t$1),e$1}makeMultipleContentNodes(t$1,e$1){let s$1=[];for(let i$1=0;i$1<t$1;i$1++)s$1.push(this.makeContentNode(e$1));return s$1}makeLeafNode(t$1,e$1){if(!t$1)return this.makeEmptyNode();let s$1=this.makeContentNode(t$1);s$1.font=e$1||s$1.font;let i$1=this.defaultMap.getNode(s$1);return i$1&&(s$1.type=i$1.type,s$1.role=i$1.role,s$1.font=i$1.font),this.leafMap.addNode(s$1),s$1}makeBranchNode(t$1,e$1,s$1,i$1){let r$1=this.createNode_();return i$1&&r$1.updateContent(i$1),r$1.type=t$1,r$1.childNodes=e$1,r$1.contentNodes=s$1,e$1.concat(s$1).forEach((function(t$2){t$2.parent=r$1,r$1.addMathmlNodes(t$2.mathml)})),r$1}createNode_(t$1){return t$1===void 0?t$1=++this.idCounter_:this.idCounter_=Math.max(this.idCounter_,t$1),new Dm(t$1)}}class Bm{constructor(t$1){this.type=t$1,this.factory_=new Pm}getFactory(){return this.factory_}setFactory(t$1){this.factory_=t$1}getType(){return this.type}parseList(t$1){let e$1=[];for(let s$1,i$1=0;s$1=t$1[i$1];i$1++)e$1.push(this.parse(s$1));return e$1}}function Fm(t$1,e$1){return t$1.type===e$1}function jm(t$1,e$1){return t$1.embellished===e$1}function Um(t$1,e$1){return t$1.role===e$1}function qm(t$1){return Fm(t$1,Jp.FENCE)||Fm(t$1,Jp.PUNCTUATION)||Fm(t$1,Jp.OPERATOR)||Fm(t$1,Jp.RELATION)}function Hm(t$1){return Jm(t$1)&&!Um(t$1,$p.DIVISION)||Fm(t$1,Jp.APPL)||Vm(t$1)}function Wm(t$1){return Jm(t$1)||Vm(t$1)}function zm(t$1,e$1){return!!e$1&&Fm(e$1,Jp.IDENTIFIER)&&nm.Secondary.has(t$1.textContent,tm.D)}function Xm(t$1){if(Fm(t$1,Jp.IDENTIFIER)){let e$1=t$1.textContent[0];return e$1&&t$1.textContent[1]&&nm.Secondary.has(e$1,tm.D)}return!1}function Vm(t$1){return Km(t$1)||$m(t$1)}function Gm(t$1){return t$1.embellished?t$1.embellished:(e$1=t$1.type)===Jp.OPERATOR||e$1===Jp.RELATION||e$1===Jp.FENCE||e$1===Jp.PUNCTUATION?t$1.type:null;var e$1}function Jm(t$1){return Fm(t$1,Jp.OPERATOR)||jm(t$1,Jp.OPERATOR)}function Km(t$1){return Fm(t$1,Jp.RELATION)||jm(t$1,Jp.RELATION)}function $m(t$1){return Fm(t$1,Jp.PUNCTUATION)||jm(t$1,Jp.PUNCTUATION)}function Ym(t$1){return Fm(t$1,Jp.FENCE)||jm(t$1,Jp.FENCE)}function Qm(t$1){return!(!t$1||!Ym(t$1))&&(!t$1.embellished||Zm(t$1))}function Zm(t$1){return!t$1.embellished||!function(t$2){return Fm(t$2,Jp.TENSOR)&&(!Fm(t$2.childNodes[1],Jp.EMPTY)||!Fm(t$2.childNodes[2],Jp.EMPTY))&&(!Fm(t$2.childNodes[3],Jp.EMPTY)||!Fm(t$2.childNodes[4],Jp.EMPTY))}(t$1)&&(!Um(t$1,$p.CLOSE)||!Fm(t$1,Jp.TENSOR))&&(!Um(t$1,$p.OPEN)||!Fm(t$1,Jp.SUBSCRIPT)&&!Fm(t$1,Jp.SUPERSCRIPT))&&Zm(t$1.childNodes[0])}function tf(t$1){return!!t$1&&(Fm(t$1,Jp.TABLE)||Fm(t$1,Jp.MULTILINE))}function ef(t$1){return!!t$1&&sf(t$1)&&tf(t$1.childNodes[0])}function sf(t$1){return!!t$1&&Fm(t$1,Jp.FENCED)&&(Um(t$1,$p.LEFTRIGHT)||bf(t$1))&&t$1.childNodes.length===1}function rf(t$1,e$1){return e$1.length>0&&Um(e$1[e$1.length-1],$p.OPENFENCE)}function nf(t$1){return t$1.childNodes.every((function(t$2){return t$2.childNodes.length<=1}))}function of(t$1){return Fm(t$1,Jp.LARGEOP)||Fm(t$1,Jp.LIMBOTH)||Fm(t$1,Jp.LIMLOWER)||Fm(t$1,Jp.LIMUPPER)||Fm(t$1,Jp.FUNCTION)&&Um(t$1,$p.LIMFUNC)||(Fm(t$1,Jp.OVERSCORE)||Fm(t$1,Jp.UNDERSCORE))&&of(t$1.childNodes[0])}function af(t$1,e$1,s$1){return e$1.length===1&&(t$1[s$1].type===Jp.PUNCTUATION||t$1[s$1].embellished===Jp.PUNCTUATION)&&t$1[s$1]===e$1[0]}function cf(t$1){return Fm(t$1,Jp.IDENTIFIER)&&Um(t$1,$p.SIMPLEFUNC)}let lf=[Jp.PUNCTUATION,Jp.PUNCTUATED,Jp.RELSEQ,Jp.MULTIREL,Jp.TABLE,Jp.MULTILINE,Jp.CASES,Jp.INFERENCE],hf=[Jp.LIMUPPER,Jp.LIMLOWER,Jp.LIMBOTH,Jp.SUBSCRIPT,Jp.SUPERSCRIPT,Jp.UNDERSCORE,Jp.OVERSCORE,Jp.TENSOR];function df(t$1){let e$1=t$1.type;return lf.indexOf(e$1)===-1&&(e$1!==Jp.INFIXOP||t$1.role===$p.IMPLICIT)&&(e$1===Jp.FENCED?t$1.role!==$p.LEFTRIGHT||df(t$1.childNodes[0]):hf.indexOf(e$1)===-1||df(t$1.childNodes[0]))}function uf(t$1){return function(t$2){return t$2.type===Jp.NUMBER&&(t$2.role===$p.INTEGER||t$2.role===$p.FLOAT)}(t$1)||t$1.role===$p.VULGAR||t$1.role===$p.MIXED}function pf(t$1){let e$1=t$1.childNodes;return t$1.role===$p.UNIT&&(!e$1.length||e$1[0].role===$p.UNIT)}function mf(t$1){let e$1=t$1.childNodes;return t$1.type===Jp.INFIXOP&&(t$1.role===$p.MULTIPLICATION||t$1.role===$p.IMPLICIT)&&e$1.length&&(pf(e$1[0])||uf(e$1[0]))&&t$1.childNodes.slice(1).every(pf)}function ff(t$1){return t$1.type===Jp.INFIXOP&&(t$1.role===$p.IMPLICIT||t$1.role===$p.UNIT&&!!t$1.contentNodes.length&&t$1.contentNodes[0].textContent===sm.invisibleTimes)}function gf(t$1){return t$1.type===Jp.INFIXOP&&t$1.role===$p.IMPLICIT}function bf(t$1){return t$1.role===$p.NEUTRAL||t$1.role===$p.METRIC}function Ef(t$1,e$1){return bf(t$1)&&bf(e$1)&&Im(t$1).textContent===Im(e$1).textContent}function Nf(t$1){return!!bf(t$1)&&(!t$1.embellished||t$1.type!==Jp.SUPERSCRIPT&&t$1.type!==Jp.SUBSCRIPT&&(t$1.type!==Jp.TENSOR||t$1.childNodes[3].type===Jp.EMPTY&&t$1.childNodes[4].type===Jp.EMPTY))}function yf(t$1){return!!bf(t$1)&&(!t$1.embellished||t$1.type!==Jp.TENSOR||t$1.childNodes[1].type===Jp.EMPTY&&t$1.childNodes[2].type===Jp.EMPTY)}function xf(t$1){return[$p.ELEMENT,$p.NONELEMENT,$p.REELEMENT,$p.RENONELEMENT].includes(t$1.role)}let vf={factory:null,options:new up,updateFactory:function(t$1){vf.factory=t$1},heuristics:new Map,flags:{combine_juxtaposition:!0,convert_juxtaposition:!0,multioperator:!0},blacklist:{},add:function(t$1){let e$1=t$1.name;vf.heuristics.set(e$1,t$1),vf.flags[e$1]||(vf.flags[e$1]=!1)},run:function(t$1,e$1,s$1){let i$1=vf.heuristics.get(t$1);return i$1&&!vf.blacklist[t$1]&&(vf.flags[t$1]||i$1.applicable(e$1))?i$1.apply(e$1):s$1?s$1(e$1):e$1}};class Cf{static getInstance(){return Cf.instance=Cf.instance||new Cf,Cf.instance}static tableToMultiline(t$1){if(!nf(t$1))return vf.run(`rewrite_subcases`,t$1,Cf.classifyTable);t$1.type=Jp.MULTILINE;for(let e$2,s$1=0;e$2=t$1.childNodes[s$1];s$1++)Cf.rowToLine_(e$2,$p.MULTILINE);var e$1;return t$1.childNodes.length!==1||Fm(e$1=t$1.childNodes[0],Jp.LINE)&&e$1.contentNodes.length&&Um(e$1.contentNodes[0],$p.LABEL)||!sf(t$1.childNodes[0].childNodes[0])||Cf.tableToMatrixOrVector_(Cf.rewriteFencedLine_(t$1)),Cf.binomialForm_(t$1),Cf.classifyMultiline(t$1),t$1}static number(t$1){t$1.type!==Jp.UNKNOWN&&t$1.type!==Jp.IDENTIFIER||(t$1.type=Jp.NUMBER),Cf.meaningFromContent(t$1,Cf.numberRole_),Cf.exprFont_(t$1)}static classifyMultiline(t$1){let e$1=0,s$1=t$1.childNodes.length,i$1;for(;e$1<s$1&&(!(i$1=t$1.childNodes[e$1])||!i$1.childNodes.length);)e$1++;if(e$1>=s$1)return;let r$1=i$1.childNodes[0].role;r$1!==$p.UNKNOWN&&t$1.childNodes.every((function(t$2){let e$2=t$2.childNodes[0];return!e$2||e$2.role===r$1&&(Fm(e$2,Jp.RELATION)||Fm(e$2,Jp.RELSEQ))}))&&(t$1.role=r$1)}static classifyTable(t$1){let e$1=Cf.computeColumns_(t$1);return Cf.classifyByColumns_(t$1,e$1,$p.EQUALITY)||Cf.classifyByColumns_(t$1,e$1,$p.INEQUALITY,[$p.EQUALITY])||Cf.classifyByColumns_(t$1,e$1,$p.ARROW)||Cf.detectCaleyTable(t$1),t$1}static detectCaleyTable(t$1){if(!t$1.mathmlTree)return!1;let e$1=t$1.mathmlTree,s$1=e$1.getAttribute(`columnlines`),i$1=e$1.getAttribute(`rowlines`);return!(!s$1||!i$1)&&!(!Cf.cayleySpacing(s$1)||!Cf.cayleySpacing(i$1))&&(t$1.role=$p.CAYLEY,!0)}static cayleySpacing(t$1){let e$1=t$1.split(` `);return(e$1[0]===`solid`||e$1[0]===`dashed`)&&e$1.slice(1).every((t$2=>t$2===`none`))}static proof(t$1,e$1,s$1){let i$1=Cf.separateSemantics(e$1);return Cf.getInstance().proof(t$1,i$1,s$1)}static findSemantics(t$1,e$1,s$1){let i$1=s$1??null,r$1=Cf.getSemantics(t$1);return!!r$1&&!!r$1[e$1]&&(i$1==null||r$1[e$1]===i$1)}static getSemantics(t$1){let e$1=t$1.getAttribute(`semantics`);return e$1?Cf.separateSemantics(e$1):null}static removePrefix(t$1){let[,...e$1]=t$1.split(`_`);return e$1.join(`_`)}static separateSemantics(t$1){let e$1={};return t$1.split(`;`).forEach((function(t$2){let[s$1,i$1]=t$2.split(`:`);e$1[Cf.removePrefix(s$1)]=i$1})),e$1}static matchSpaces_(t$1,e$1){for(let s$1,i$1=0;s$1=e$1[i$1];i$1++){let e$2=t$1[i$1].mathmlTree,r$1=t$1[i$1+1].mathmlTree;if(!e$2||!r$1)continue;let n$1=e$2.nextSibling;if(!n$1||n$1===r$1)continue;let o$1=Cf.getSpacer_(n$1);o$1&&(s$1.mathml.push(o$1),s$1.mathmlTree=o$1,s$1.role=$p.SPACE)}}static getSpacer_(t$1){if(Mp(t$1)===Em.MSPACE)return t$1;for(;km(t$1)&&t$1.childNodes.length===1;)if(Mp(t$1=t$1.childNodes[0])===Em.MSPACE)return t$1;return null}static fenceToPunct_(t$1){let e$1=Cf.FENCE_TO_PUNCT_[t$1.role];if(e$1){for(;t$1.embellished;)t$1.embellished=Jp.PUNCTUATION,Um(t$1,$p.SUBSUP)||Um(t$1,$p.UNDEROVER)||(t$1.role=e$1),t$1=t$1.childNodes[0];t$1.type=Jp.PUNCTUATION,t$1.role=e$1}}static classifyFunction_(t$1,e$1){if(t$1.type===Jp.APPL||t$1.type===Jp.BIGOP||t$1.type===Jp.INTEGRAL)return``;if(e$1[0]&&e$1[0].textContent===sm.functionApplication){Cf.getInstance().funcAppls[t$1.id]=e$1.shift();let s$1=$p.SIMPLEFUNC;return vf.run(`simple2prefix`,t$1),t$1.role!==$p.PREFIXFUNC&&t$1.role!==$p.LIMFUNC||(s$1=t$1.role),Cf.propagateFunctionRole_(t$1,s$1),`prefix`}return Cf.CLASSIFY_FUNCTION_[t$1.role]||((i$1=t$1).type===Jp.IDENTIFIER||i$1.role===$p.LATINLETTER||i$1.role===$p.GREEKLETTER||i$1.role===$p.OTHERLETTER?`simple`:``);var i$1}static propagateFunctionRole_(t$1,e$1){if(t$1){if(t$1.type===Jp.INFIXOP)return;Um(t$1,$p.SUBSUP)||Um(t$1,$p.UNDEROVER)||(t$1.role=e$1),Cf.propagateFunctionRole_(t$1.childNodes[0],e$1)}}static getFunctionOp_(t$1,e$1){if(e$1(t$1))return t$1;for(let s$1,i$1=0;s$1=t$1.childNodes[i$1];i$1++){let t$2=Cf.getFunctionOp_(s$1,e$1);if(t$2)return t$2}return null}static tableToMatrixOrVector_(t$1){let e$1=t$1.childNodes[0];Fm(e$1,Jp.MULTILINE)?Cf.tableToVector_(t$1):Cf.tableToMatrix_(t$1),t$1.contentNodes.forEach(e$1.appendContentNode.bind(e$1));for(let t$2,s$1=0;t$2=e$1.childNodes[s$1];s$1++)Cf.assignRoleToRow_(t$2,Cf.getComponentRoles_(e$1));return e$1.parent=null,e$1}static tableToVector_(t$1){let e$1=t$1.childNodes[0];e$1.type=Jp.VECTOR,e$1.childNodes.length===1?Cf.tableToSquare_(t$1):Cf.binomialForm_(e$1)}static binomialForm_(t$1){Um(t$1,$p.UNKNOWN)&&t$1.childNodes.length===2&&(t$1.role=$p.BINOMIAL,t$1.childNodes[0].role=$p.BINOMIAL,t$1.childNodes[1].role=$p.BINOMIAL)}static tableToMatrix_(t$1){let e$1=t$1.childNodes[0];e$1.type=Jp.MATRIX,e$1.childNodes&&e$1.childNodes.length>0&&e$1.childNodes[0].childNodes&&e$1.childNodes.length===e$1.childNodes[0].childNodes.length?Cf.tableToSquare_(t$1):e$1.childNodes&&e$1.childNodes.length===1&&(e$1.role=$p.ROWVECTOR)}static tableToSquare_(t$1){let e$1=t$1.childNodes[0];Um(e$1,$p.UNKNOWN)&&(bf(t$1)?e$1.role=$p.DETERMINANT:e$1.role=$p.SQUAREMATRIX)}static getComponentRoles_(t$1){let e$1=t$1.role;return e$1&&e$1!==$p.UNKNOWN?e$1:t$1.type.toLowerCase()||$p.UNKNOWN}static tableToCases_(t$1,e$1){for(let e$2,s$1=0;e$2=t$1.childNodes[s$1];s$1++)Cf.assignRoleToRow_(e$2,$p.CASES);return t$1.type=Jp.CASES,t$1.appendContentNode(e$1),nf(t$1)&&Cf.binomialForm_(t$1),t$1}static rewriteFencedLine_(t$1){let e$1=t$1.childNodes[0],s$1=t$1.childNodes[0].childNodes[0],i$1=t$1.childNodes[0].childNodes[0].childNodes[0];return s$1.parent=t$1.parent,t$1.parent=s$1,i$1.parent=e$1,s$1.childNodes=[t$1],e$1.childNodes=[i$1],s$1}static rowToLine_(t$1,e$1){let s$1=e$1||$p.UNKNOWN;Fm(t$1,Jp.ROW)&&(t$1.type=Jp.LINE,t$1.role=s$1,t$1.childNodes.length===1&&Fm(t$1.childNodes[0],Jp.CELL)&&(t$1.childNodes=t$1.childNodes[0].childNodes,t$1.childNodes.forEach((function(e$2){e$2.parent=t$1}))))}static assignRoleToRow_(t$1,e$1){Fm(t$1,Jp.LINE)?t$1.role=e$1:Fm(t$1,Jp.ROW)&&(t$1.role=e$1,t$1.childNodes.forEach((function(t$2){Fm(t$2,Jp.CELL)&&(t$2.role=e$1)})))}static nextSeparatorFunction_(t$1){let e$1;if(t$1){if(t$1.match(/^\s+$/))return null;e$1=t$1.replace(/\s/g,``).split(``).filter((function(t$2){return t$2}))}else e$1=[`,`];return function(){return e$1.length>1?e$1.shift():e$1[0]}}static meaningFromContent(t$1,e$1){let s$1=[...t$1.textContent].filter((t$2=>t$2.match(/[^\s]/)));e$1(t$1,s$1,s$1.map((t$2=>nm.Meaning.get(t$2))))}static numberRole_(t$1,e$1,s$1){if(t$1.role===$p.UNKNOWN)return s$1.every((function(t$2){return t$2.type===Jp.NUMBER&&t$2.role===$p.INTEGER||t$2.type===Jp.PUNCTUATION&&t$2.role===$p.COMMA}))?(t$1.role=$p.INTEGER,void(e$1[0]===`0`&&t$1.addAnnotation(`general`,`basenumber`))):void(s$1.every((function(t$2){return t$2.type===Jp.NUMBER&&t$2.role===$p.INTEGER||t$2.type===Jp.PUNCTUATION}))?t$1.role=$p.FLOAT:t$1.role=$p.OTHERNUMBER)}static exprFont_(t$1){t$1.font===Qp.UNKNOWN&&Cf.compSemantics(t$1,`font`,Qp)}static compSemantics(t$1,e$1,s$1){let i$1=[...t$1.textContent].map((t$2=>nm.Meaning.get(t$2))).reduce((function(t$2,i$2){return t$2&&i$2[e$1]&&i$2[e$1]!==s$1.UNKNOWN&&i$2[e$1]!==t$2?t$2===s$1.UNKNOWN?i$2[e$1]:null:t$2}),s$1.UNKNOWN);i$1&&(t$1[e$1]=i$1)}static purgeFences_(t$1){let e$1=t$1.rel,s$1=t$1.comp,i$1=[],r$1=[];for(;e$1.length>0;){let t$2=e$1.shift(),n$1=s$1.shift();Qm(t$2)?(i$1.push(t$2),r$1.push(n$1)):(Cf.fenceToPunct_(t$2),n$1.push(t$2),n$1=n$1.concat(s$1.shift()),s$1.unshift(n$1))}return r$1.push(s$1.shift()),{rel:i$1,comp:r$1}}static rewriteFencedNode_(t$1){let e$1=t$1.contentNodes[0],s$1=t$1.contentNodes[1],i$1=Cf.rewriteFence_(t$1,e$1);return t$1.contentNodes[0]=i$1.fence,i$1=Cf.rewriteFence_(i$1.node,s$1),t$1.contentNodes[1]=i$1.fence,t$1.contentNodes[0].parent=t$1,t$1.contentNodes[1].parent=t$1,i$1.node.parent=null,i$1.node}static rewriteFence_(t$1,e$1){if(!e$1.embellished)return{node:t$1,fence:e$1};let s$1=e$1.childNodes[0],i$1=Cf.rewriteFence_(t$1,s$1);return Fm(e$1,Jp.SUPERSCRIPT)||Fm(e$1,Jp.SUBSCRIPT)||Fm(e$1,Jp.TENSOR)?(Um(e$1,$p.SUBSUP)||(e$1.role=t$1.role),s$1!==i$1.node&&(e$1.replaceChild(s$1,i$1.node),s$1.parent=t$1),Cf.propagateFencePointer_(e$1,s$1),{node:e$1,fence:i$1.fence}):(e$1.replaceChild(s$1,i$1.fence),e$1.mathmlTree&&e$1.mathml.indexOf(e$1.mathmlTree)===-1&&e$1.mathml.push(e$1.mathmlTree),{node:i$1.node,fence:e$1})}static propagateFencePointer_(t$1,e$1){t$1.fencePointer=e$1.fencePointer||e$1.id.toString(),t$1.embellished=null}static classifyByColumns_(t$1,e$1,s$1,i$1=[]){let r$1=[s$1].concat(i$1);return!!(e$1.length===3&&Cf.testColumns_(e$1,1,(t$2=>Cf.isPureRelation_(t$2,r$1)))||e$1.length===2&&(Cf.testColumns_(e$1,1,(t$2=>Cf.isEndRelation_(t$2,r$1)||Cf.isPureRelation_(t$2,r$1)))||Cf.testColumns_(e$1,0,(t$2=>Cf.isEndRelation_(t$2,r$1,!0)||Cf.isPureRelation_(t$2,r$1)))))&&(t$1.role=s$1,!0)}static isEndRelation_(t$1,e$1,s$1){let i$1=s$1?t$1.childNodes.length-1:0;return Fm(t$1,Jp.RELSEQ)&&e$1.some((e$2=>Um(t$1,e$2)))&&Fm(t$1.childNodes[i$1],Jp.EMPTY)}static isPureRelation_(t$1,e$1){return Fm(t$1,Jp.RELATION)&&e$1.some((e$2=>Um(t$1,e$2)))}static computeColumns_(t$1){let e$1=[];for(let s$1,i$1=0;s$1=t$1.childNodes[i$1];i$1++)for(let t$2,i$2=0;t$2=s$1.childNodes[i$2];i$2++)e$1[i$2]?e$1[i$2].push(t$2):e$1[i$2]=[t$2];return e$1}static testColumns_(t$1,e$1,s$1){let i$1=t$1[e$1];return!!i$1&&i$1.some((function(t$2){return t$2.childNodes.length&&s$1(t$2.childNodes[0])}))&&i$1.every((function(t$2){return!t$2.childNodes.length||s$1(t$2.childNodes[0])}))}setNodeFactory(t$1){Cf.getInstance().factory_=t$1,vf.updateFactory(Cf.getInstance().factory_)}getNodeFactory(){return Cf.getInstance().factory_}identifierNode(t$1,e$1,s$1){if(s$1===`MathML-Unit`)t$1.type=Jp.IDENTIFIER,t$1.role=$p.UNIT;else if(!e$1&&t$1.textContent.length===1&&(t$1.role===$p.INTEGER||t$1.role===$p.LATINLETTER||t$1.role===$p.GREEKLETTER)&&t$1.font===Qp.NORMAL)return t$1.font=Qp.ITALIC,vf.run(`simpleNamedFunction`,t$1);return t$1.type===Jp.UNKNOWN&&(t$1.type=Jp.IDENTIFIER),Cf.exprFont_(t$1),vf.run(`simpleNamedFunction`,t$1)}implicitNode(t$1){if(t$1=Cf.getInstance().getMixedNumbers_(t$1),(t$1=Cf.getInstance().combineUnits_(t$1)).length===1)return t$1[0];let e$1=Cf.getInstance().implicitNode_(t$1);return vf.run(`combine_juxtaposition`,e$1)}text(t$1,e$1){return Cf.exprFont_(t$1),t$1.type=Jp.TEXT,e$1===Em.ANNOTATIONXML?(t$1.role=$p.ANNOTATION,t$1):e$1===Em.MS?(t$1.role=$p.STRING,t$1):e$1===Em.MSPACE||t$1.textContent.match(/^\s*$/)?(t$1.role=$p.SPACE,t$1):/\s/.exec(t$1.textContent)?(t$1.role=$p.TEXT,t$1):(t$1.role=$p.UNKNOWN,t$1)}row(t$1){return(t$1=t$1.filter((function(t$2){return!Fm(t$2,Jp.EMPTY)}))).length===0?Cf.getInstance().factory_.makeEmptyNode():(t$1=Cf.getInstance().getFencesInRow_(t$1),t$1=Cf.getInstance().tablesInRow(t$1),t$1=Cf.getInstance().getPunctuationInRow_(t$1),t$1=Cf.getInstance().getTextInRow_(t$1),t$1=Cf.getInstance().getFunctionsInRow_(t$1),Cf.getInstance().relationsInRow_(t$1))}limitNode(t$1,e$1){if(!e$1.length)return Cf.getInstance().factory_.makeEmptyNode();let s$1,i$1=e$1[0],r$1=Jp.UNKNOWN;if(!e$1[1])return i$1;if(vf.run(`op_with_limits`,e$1),of(i$1)){s$1=Cf.MML_TO_LIMIT_[t$1];let n$1=s$1.length;if(r$1=s$1.type,e$1=e$1.slice(0,s$1.length+1),n$1===1&&qm(e$1[1])||n$1===2&&qm(e$1[1])&&qm(e$1[2]))return s$1=Cf.MML_TO_BOUNDS_[t$1],Cf.getInstance().accentNode_(i$1,e$1,s$1.type,s$1.length,s$1.accent);if(n$1===2){if(qm(e$1[1]))return i$1=Cf.getInstance().accentNode_(i$1,[i$1,e$1[1]],{MSUBSUP:Jp.SUBSCRIPT,MUNDEROVER:Jp.UNDERSCORE}[t$1],1,!0),e$1[2]?Cf.getInstance().makeLimitNode_(i$1,[i$1,e$1[2]],null,Jp.LIMUPPER):i$1;if(e$1[2]&&qm(e$1[2]))return i$1=Cf.getInstance().accentNode_(i$1,[i$1,e$1[2]],{MSUBSUP:Jp.SUPERSCRIPT,MUNDEROVER:Jp.OVERSCORE}[t$1],1,!0),Cf.getInstance().makeLimitNode_(i$1,[i$1,e$1[1]],null,Jp.LIMLOWER);e$1[n$1]||(r$1=Jp.LIMLOWER)}return Cf.getInstance().makeLimitNode_(i$1,e$1,null,r$1)}return s$1=Cf.MML_TO_BOUNDS_[t$1],Cf.getInstance().accentNode_(i$1,e$1,s$1.type,s$1.length,s$1.accent)}tablesInRow(t$1){let e$1=Rm(t$1,ef),s$1=[];for(let t$2,i$1=0;t$2=e$1.rel[i$1];i$1++)s$1=s$1.concat(e$1.comp.shift()),s$1.push(Cf.tableToMatrixOrVector_(t$2));s$1=s$1.concat(e$1.comp.shift()),e$1=Rm(s$1,tf),s$1=[];for(let t$2,i$1=0;t$2=e$1.rel[i$1];i$1++){let i$2=e$1.comp.shift();rf(0,i$2)&&Cf.tableToCases_(t$2,i$2.pop()),s$1=s$1.concat(i$2),s$1.push(t$2)}return s$1.concat(e$1.comp.shift())}mfenced(t$1,e$1,s$1,i$1){if(s$1&&i$1.length>0){let t$2=Cf.nextSeparatorFunction_(s$1),e$2=[i$1.shift()];i$1.forEach((s$2=>{e$2.push(Cf.getInstance().factory_.makeContentNode(t$2())),e$2.push(s$2)})),i$1=e$2}return t$1&&e$1?Cf.getInstance().horizontalFencedNode_(Cf.getInstance().factory_.makeContentNode(t$1),Cf.getInstance().factory_.makeContentNode(e$1),i$1):(t$1&&i$1.unshift(Cf.getInstance().factory_.makeContentNode(t$1)),e$1&&i$1.push(Cf.getInstance().factory_.makeContentNode(e$1)),Cf.getInstance().row(i$1))}fractionLikeNode(t$1,e$1,s$1,i$1){let r$1;if(!i$1&&function(t$2){if(!t$2)return!1;if([`negativeveryverythinmathspace`,`negativeverythinmathspace`,`negativethinmathspace`,`negativemediummathspace`,`negativethickmathspace`,`negativeverythickmathspace`,`negativeveryverythickmathspace`].includes(t$2))return!0;let e$2=t$2.match(/[0-9.]+/);return!!e$2&&parseFloat(e$2[0])===0}(s$1)){let s$2=Cf.getInstance().factory_.makeBranchNode(Jp.LINE,[t$1],[]),i$2=Cf.getInstance().factory_.makeBranchNode(Jp.LINE,[e$1],[]);return r$1=Cf.getInstance().factory_.makeBranchNode(Jp.MULTILINE,[s$2,i$2],[]),Cf.binomialForm_(r$1),Cf.classifyMultiline(r$1),r$1}return r$1=Cf.getInstance().fractionNode_(t$1,e$1),i$1&&r$1.addAnnotation(`general`,`bevelled`),r$1}tensor(t$1,e$1,s$1,i$1,r$1){let n$1=Cf.getInstance().factory_.makeBranchNode(Jp.TENSOR,[t$1,Cf.getInstance().scriptNode_(e$1,$p.LEFTSUB),Cf.getInstance().scriptNode_(s$1,$p.LEFTSUPER),Cf.getInstance().scriptNode_(i$1,$p.RIGHTSUB),Cf.getInstance().scriptNode_(r$1,$p.RIGHTSUPER)],[]);return n$1.role=t$1.role,n$1.embellished=Gm(t$1),n$1}pseudoTensor(t$1,e$1,s$1){let i$1=t$2=>!Fm(t$2,Jp.EMPTY),r$1=e$1.filter(i$1).length,n$1=s$1.filter(i$1).length;if(!r$1&&!n$1)return t$1;let o$1=r$1?n$1?Em.MSUBSUP:Em.MSUB:Em.MSUP,a$1=[t$1];return r$1&&a$1.push(Cf.getInstance().scriptNode_(e$1,$p.RIGHTSUB,!0)),n$1&&a$1.push(Cf.getInstance().scriptNode_(s$1,$p.RIGHTSUPER,!0)),Cf.getInstance().limitNode(o$1,a$1)}font(t$1){return Cf.MATHJAX_FONTS[t$1]||t$1}proof(t$1,e$1,s$1){if(e$1.inference||e$1.axiom||console.log(`Noise`),e$1.axiom){let e$2=Cf.getInstance().cleanInference(t$1.childNodes),i$2=e$2.length?Cf.getInstance().factory_.makeBranchNode(Jp.INFERENCE,s$1(e$2),[]):Cf.getInstance().factory_.makeEmptyNode();return i$2.role=$p.AXIOM,i$2.mathmlTree=t$1,i$2}let i$1=Cf.getInstance().inference(t$1,e$1,s$1);return e$1.proof&&(i$1.role=$p.PROOF,i$1.childNodes[0].role=$p.FINAL),i$1}inference(t$1,e$1,s$1){if(e$1.inferenceRule){let e$2=Cf.getInstance().getFormulas(t$1,[],s$1);return Cf.getInstance().factory_.makeBranchNode(Jp.INFERENCE,[e$2.conclusion,e$2.premises],[])}let i$1=e$1.labelledRule,r$1=Cp(t$1.childNodes),n$1=[];i$1!==`left`&&i$1!==`both`||n$1.push(Cf.getInstance().getLabel(t$1,r$1,s$1,$p.LEFT)),i$1!==`right`&&i$1!==`both`||n$1.push(Cf.getInstance().getLabel(t$1,r$1,s$1,$p.RIGHT));let o$1=Cf.getInstance().getFormulas(t$1,r$1,s$1),a$1=Cf.getInstance().factory_.makeBranchNode(Jp.INFERENCE,[o$1.conclusion,o$1.premises],n$1);return a$1.mathmlTree=t$1,a$1}getLabel(t$1,e$1,s$1,i$1){let r$1=Cf.getInstance().findNestedRow(e$1,`prooflabel`,i$1),n$1=Cf.getInstance().factory_.makeBranchNode(Jp.RULELABEL,s$1(Cp(r$1.childNodes)),[]);return n$1.role=i$1,n$1.mathmlTree=r$1,n$1}getFormulas(t$1,e$1,s$1){let i$1=e$1.length?Cf.getInstance().findNestedRow(e$1,`inferenceRule`):t$1,r$1=Cf.getSemantics(i$1).inferenceRule===`up`,n$1=r$1?i$1.childNodes[1]:i$1.childNodes[0],o$1=r$1?i$1.childNodes[0]:i$1.childNodes[1],a$1=n$1.childNodes[0].childNodes[0],c$1=Cp(a$1.childNodes[0].childNodes),l$1=[],h$1=1;for(let t$2 of c$1)h$1%2&&l$1.push(t$2.childNodes[0]),h$1++;let d$1=s$1(l$1),u$1=s$1(Cp(o$1.childNodes[0].childNodes))[0],p$1=Cf.getInstance().factory_.makeBranchNode(Jp.PREMISES,d$1,[]);p$1.mathmlTree=a$1;let m$1=Cf.getInstance().factory_.makeBranchNode(Jp.CONCLUSION,[u$1],[]);return m$1.mathmlTree=o$1.childNodes[0].childNodes[0],{conclusion:m$1,premises:p$1}}findNestedRow(t$1,e$1,s$1){return Cf.getInstance().findNestedRow_(t$1,e$1,0,s$1)}cleanInference(t$1){return Cp(t$1).filter((function(t$2){return Mp(t$2)!==`MSPACE`}))}operatorNode(t$1){return t$1.type===Jp.UNKNOWN&&(t$1.type=Jp.OPERATOR),vf.run(`multioperator`,t$1)}constructor(){this.funcAppls={},this.splitRoles=new Map([[$p.SUBTRACTION,$p.NEGATIVE],[$p.ADDITION,$p.POSITIVE]]),this.splitOps=[``,`-`,``,``,`+`],this.factory_=new Pm,vf.updateFactory(this.factory_)}implicitNode_(t$1){let e$1=Cf.getInstance().factory_.makeMultipleContentNodes(t$1.length-1,sm.invisibleTimes);Cf.matchSpaces_(t$1,e$1);let s$1=Cf.getInstance().infixNode_(t$1,e$1[0]);return s$1.role=$p.IMPLICIT,e$1.forEach((function(t$2){t$2.parent=s$1})),s$1.contentNodes=e$1,s$1}infixNode_(t$1,e$1){let s$1=Cf.getInstance().factory_.makeBranchNode(Jp.INFIXOP,t$1,[e$1],Im(e$1).textContent);return s$1.role=e$1.role,s$1=vf.run(`propagateInterval`,s$1),vf.run(`propagateSimpleFunction`,s$1)}explicitMixed_(t$1){let e$1=Rm(t$1,(function(t$2){return t$2.textContent===sm.invisiblePlus}));if(!e$1.rel.length)return t$1;let s$1=[];for(let t$2,i$1=0;t$2=e$1.rel[i$1];i$1++){let r$1=e$1.comp[i$1],n$1=e$1.comp[i$1+1],o$1=r$1.length-1;if(r$1[o$1]&&n$1[0]&&Fm(r$1[o$1],Jp.NUMBER)&&!Um(r$1[o$1],$p.MIXED)&&Fm(n$1[0],Jp.FRACTION)){let t$3=Cf.getInstance().factory_.makeBranchNode(Jp.NUMBER,[r$1[o$1],n$1[0]],[]);t$3.role=$p.MIXED,s$1=s$1.concat(r$1.slice(0,o$1)),s$1.push(t$3),n$1.shift()}else s$1=s$1.concat(r$1),s$1.push(t$2)}return s$1.concat(e$1.comp[e$1.comp.length-1])}concatNode_(t$1,e$1,s$1){if(e$1.length===0)return t$1;let i$1=e$1.map((function(t$2){return Im(t$2).textContent})).join(` `),r$1=Cf.getInstance().factory_.makeBranchNode(s$1,[t$1],e$1,i$1);return e$1.length>1&&(r$1.role=$p.MULTIOP),r$1}prefixNode_(t$1,e$1){let s$1=this.splitSingles(e$1),i$1=t$1;for(;s$1.length>0;){let t$2=s$1.pop();i$1=Cf.getInstance().concatNode_(i$1,t$2,Jp.PREFIXOP),t$2.length===1&&this.splitOps.indexOf(t$2[0].textContent)!==-1&&(i$1.role=this.splitRoles.get(t$2[0].role))}return i$1}splitSingles(t$1){let e$1=0,s$1=[],i$1=0;for(;i$1<t$1.length;){let r$1=t$1[i$1];!this.splitRoles.has(r$1.role)||t$1[i$1-1]&&t$1[i$1-1].role===r$1.role||t$1[i$1+1]&&t$1[i$1+1].role===r$1.role||this.splitOps.indexOf(r$1.textContent)===-1||(s$1.push(t$1.slice(e$1,i$1)),s$1.push(t$1.slice(i$1,i$1+1)),e$1=i$1+1),i$1++}return e$1<i$1&&s$1.push(t$1.slice(e$1,i$1)),s$1}postfixNode_(t$1,e$1){return e$1.length?Cf.getInstance().concatNode_(t$1,e$1,Jp.POSTFIXOP):t$1}combineUnits_(t$1){let e$1=Rm(t$1,(function(t$2){return!Um(t$2,$p.UNIT)}));if(t$1.length===e$1.rel.length)return e$1.rel;let s$1=[],i$1,r$1;do{let t$2=e$1.comp.shift();i$1=e$1.rel.shift();let n$1=null;r$1=s$1.pop(),r$1&&(t$2.length&&uf(r$1)?t$2.unshift(r$1):s$1.push(r$1)),t$2.length===1&&(n$1=t$2.pop()),t$2.length>1&&(n$1=Cf.getInstance().implicitNode_(t$2),n$1.role=$p.UNIT),n$1&&s$1.push(n$1),i$1&&s$1.push(i$1)}while(i$1);return s$1}getMixedNumbers_(t$1){let e$1=Rm(t$1,(function(t$2){return Fm(t$2,Jp.FRACTION)&&Um(t$2,$p.VULGAR)}));if(!e$1.rel.length)return t$1;let s$1=[];for(let t$2,i$1=0;t$2=e$1.rel[i$1];i$1++){let r$1=e$1.comp[i$1],n$1=r$1.length-1;if(r$1[n$1]&&Fm(r$1[n$1],Jp.NUMBER)&&(Um(r$1[n$1],$p.INTEGER)||Um(r$1[n$1],$p.FLOAT))){let e$2=Cf.getInstance().factory_.makeBranchNode(Jp.NUMBER,[r$1[n$1],t$2],[]);e$2.role=$p.MIXED,s$1=s$1.concat(r$1.slice(0,n$1)),s$1.push(e$2)}else s$1=s$1.concat(r$1),s$1.push(t$2)}return s$1.concat(e$1.comp[e$1.comp.length-1])}getTextInRow_(t$1){if(t$1.length===0)return t$1;if(t$1.length===1)return t$1[0].type===Jp.TEXT&&t$1[0].role===$p.UNKNOWN&&(t$1[0].role=$p.ANNOTATION),t$1;let{rel:e$1,comp:s$1}=Rm(t$1,(t$2=>Fm(t$2,Jp.TEXT)));if(e$1.length===0)return t$1;let i$1=[],r$1=s$1.shift();for(;e$1.length>0;){let t$2=e$1.shift(),n$1=s$1.shift(),o$1=[];for(;!n$1.length&&e$1.length&&t$2.role!==$p.SPACE&&e$1[0].role!==$p.SPACE;)o$1.push(t$2),t$2=e$1.shift(),n$1=s$1.shift();if(o$1.length){r$1.length&&i$1.push(Cf.getInstance().row(r$1)),o$1.push(t$2);let e$2=Cf.getInstance().dummyNode_(o$1);i$1.push(e$2),r$1=n$1;continue}if(t$2.role!==$p.UNKNOWN){r$1.length&&i$1.push(Cf.getInstance().row(r$1)),i$1.push(t$2),r$1=n$1;continue}let a$1=nm.Meaning.get(t$2.textContent);a$1.type===Jp.PUNCTUATION?(t$2.role=a$1.role,t$2.font=a$1.font,r$1.length&&i$1.push(Cf.getInstance().row(r$1)),i$1.push(t$2),r$1=n$1):a$1.type===Jp.UNKNOWN?(Cf.meaningFromContent(t$2,((t$3,e$2,s$2)=>{if(t$3.role===$p.UNKNOWN){if(Cf.numberRole_(t$3,e$2,s$2),t$3.role===$p.OTHERNUMBER)return s$2.some((t$4=>t$4.type!==Jp.NUMBER&&t$4.type!==Jp.IDENTIFIER))?(t$3.type=Jp.TEXT,void(t$3.role=$p.ANNOTATION)):void(t$3.role=$p.UNKNOWN);t$3.type=Jp.NUMBER}})),t$2.type!==Jp.TEXT||t$2.role===$p.UNKNOWN?(t$2.role===$p.UNKNOWN&&(e$1.length||n$1.length?n$1.length&&n$1[0].type===Jp.FENCED?(t$2.type=Jp.FUNCTION,t$2.role=$p.PREFIXFUNC):t$2.role=$p.TEXT:(t$2.type=Jp.IDENTIFIER,t$2.role=$p.UNIT)),r$1.push(t$2),r$1=r$1.concat(n$1)):(r$1.length&&i$1.push(Cf.getInstance().row(r$1)),i$1.push(t$2),r$1=n$1)):(t$2.type=a$1.type,t$2.role=a$1.role,t$2.font=a$1.font,t$2.addAnnotation(`general`,`text`),r$1.push(t$2),r$1=r$1.concat(n$1))}return r$1.length>0&&i$1.push(Cf.getInstance().row(r$1)),i$1.length>1?[Cf.getInstance().dummyNode_(i$1)]:i$1}relationsInRow_(t$1){let e$1=Rm(t$1,Km),s$1=e$1.rel[0];if(!s$1)return Cf.getInstance().operationsInRow_(t$1);if(t$1.length===1)return t$1[0];let i$1=e$1.comp.map(Cf.getInstance().operationsInRow_),r$1;return e$1.rel.some((function(t$2){return!t$2.equals(s$1)}))?(r$1=Cf.getInstance().factory_.makeBranchNode(Jp.MULTIREL,i$1,e$1.rel),e$1.rel.every((function(t$2){return t$2.role===s$1.role}))&&(r$1.role=s$1.role),r$1):(r$1=Cf.getInstance().factory_.makeBranchNode(Jp.RELSEQ,i$1,e$1.rel,Im(s$1).textContent),r$1.role=s$1.role,r$1)}operationsInRow_(t$1){if(t$1.length===0)return Cf.getInstance().factory_.makeEmptyNode();if((t$1=Cf.getInstance().explicitMixed_(t$1)).length===1)return t$1[0];let e$1=[];for(;t$1.length>0&&Jm(t$1[0]);)e$1.push(t$1.shift());if(t$1.length===0)return Cf.getInstance().prefixNode_(e$1.pop(),e$1);if(t$1.length===1)return Cf.getInstance().prefixNode_(t$1[0],e$1);let s$1=Sm(t$1=vf.run(`convert_juxtaposition`,t$1),Jm),i$1=Cf.getInstance().wrapFactor(e$1,s$1);return Cf.getInstance().addFactor(i$1,s$1)}wrapPostfix(t$1){var e$1;t$1.div?.role===$p.POSTFIXOP&&(t$1.tail.length&&t$1.tail[0].type!==Jp.OPERATOR?t$1.div.role=$p.DIVISION:(t$1.head=[Cf.getInstance().postfixNode_(Cf.getInstance().implicitNode(t$1.head),[t$1.div])],t$1.div=t$1.tail.shift(),Cf.getInstance().wrapPostfix(t$1)))}wrapFactor(t$1,e$1){return Cf.getInstance().wrapPostfix(e$1),Cf.getInstance().prefixNode_(Cf.getInstance().implicitNode(e$1.head),t$1)}addFactor(t$1,e$1){return e$1.div?Cf.getInstance().operationsTree_(e$1.tail,t$1,e$1.div):(mf(t$1)&&(t$1.role=$p.UNIT),t$1)}operationsTree_(t$1,e$1,s$1,i$1=[]){if(t$1.length===0){if(i$1.unshift(s$1),e$1.type===Jp.INFIXOP){let t$2=Cf.getInstance().postfixNode_(e$1.childNodes.pop(),i$1);return e$1.appendChild(t$2),e$1}return Cf.getInstance().postfixNode_(e$1,i$1)}let r$1=Sm(t$1,Jm);if(r$1.head.length===0)return i$1.push(r$1.div),Cf.getInstance().operationsTree_(r$1.tail,e$1,s$1,i$1);let n$1=Cf.getInstance().wrapFactor(i$1,r$1),o$1=Cf.getInstance().appendOperand_(e$1,s$1,n$1);return Cf.getInstance().addFactor(o$1,r$1)}appendOperand_(t$1,e$1,s$1){return t$1.type===Jp.INFIXOP?Cf.getInstance().appendDivisionOp_(t$1,e$1,s$1)||(Cf.getInstance().appendExistingOperator_(t$1,e$1,s$1)?t$1:e$1.role===$p.MULTIPLICATION?Cf.getInstance().appendMultiplicativeOp_(t$1,e$1,s$1):Cf.getInstance().appendAdditiveOp_(t$1,e$1,s$1)):Cf.getInstance().infixNode_([t$1,s$1],e$1)}appendDivisionOp_(t$1,e$1,s$1){return e$1.role===$p.DIVISION?ff(t$1)?Cf.getInstance().infixNode_([t$1,s$1],e$1):Cf.getInstance().appendLastOperand_(t$1,e$1,s$1):t$1.role===$p.DIVISION?Cf.getInstance().infixNode_([t$1,s$1],e$1):null}appendLastOperand_(t$1,e$1,s$1){let i$1=t$1,r$1=t$1.childNodes[t$1.childNodes.length-1];for(;r$1&&r$1.type===Jp.INFIXOP&&!ff(r$1);)i$1=r$1,r$1=i$1.childNodes[t$1.childNodes.length-1];let n$1=Cf.getInstance().infixNode_([i$1.childNodes.pop(),s$1],e$1);return i$1.appendChild(n$1),t$1}appendMultiplicativeOp_(t$1,e$1,s$1){if(ff(t$1))return Cf.getInstance().infixNode_([t$1,s$1],e$1);let i$1=t$1,r$1=t$1.childNodes[t$1.childNodes.length-1];for(;r$1&&r$1.type===Jp.INFIXOP&&!ff(r$1);)i$1=r$1,r$1=i$1.childNodes[t$1.childNodes.length-1];let n$1=Cf.getInstance().infixNode_([i$1.childNodes.pop(),s$1],e$1);return i$1.appendChild(n$1),t$1}appendAdditiveOp_(t$1,e$1,s$1){return Cf.getInstance().infixNode_([t$1,s$1],e$1)}appendExistingOperator_(t$1,e$1,s$1){return!(!t$1||t$1.type!==Jp.INFIXOP||ff(t$1))&&(t$1.contentNodes[0].equals(e$1)?(t$1.appendContentNode(e$1),t$1.appendChild(s$1),!0):Cf.getInstance().appendExistingOperator_(t$1.childNodes[t$1.childNodes.length-1],e$1,s$1))}getFencesInRow_(t$1){let e$1=Rm(t$1,Ym);e$1=Cf.purgeFences_(e$1);let s$1=e$1.comp.shift();return Cf.getInstance().fences_(e$1.rel,e$1.comp,[],[s$1])}fences_(t$1,e$1,s$1,i$1){if(t$1.length===0&&s$1.length===0)return i$1[0];let r$1=vf.run(`bracketed_interval`,[t$1[0],t$1[1],...e$1[0]||[]],(()=>null));if(r$1){t$1.shift(),t$1.shift(),e$1.shift();let n$2=i$1.pop()||[];return i$1.push([...n$2,r$1,...e$1.shift()]),Cf.getInstance().fences_(t$1,e$1,s$1,i$1)}let n$1=t$2=>Um(t$2,$p.OPEN);if(t$1.length===0){let t$2=i$1.shift();for(;s$1.length>0;){if(n$1(s$1[0])){let e$2=s$1.shift();Cf.fenceToPunct_(e$2),t$2.push(e$2)}else{let e$2=Sm(s$1,n$1),r$2=e$2.head.length-1,o$2=Cf.getInstance().neutralFences_(e$2.head,i$1.slice(0,r$2));i$1=i$1.slice(r$2),t$2.push(...o$2),e$2.div&&e$2.tail.unshift(e$2.div),s$1=e$2.tail}t$2.push(...i$1.shift())}return t$2}let o$1=s$1[s$1.length-1],a$1=t$1[0].role;if(a$1===$p.OPEN||bf(t$1[0])&&(!o$1||!Ef(t$1[0],o$1))){s$1.push(t$1.shift());let r$2=e$1.shift();return r$2&&i$1.push(r$2),Cf.getInstance().fences_(t$1,e$1,s$1,i$1)}if(o$1&&a$1===$p.CLOSE&&o$1.role===$p.OPEN){let r$2=Cf.getInstance().horizontalFencedNode_(s$1.pop(),t$1.shift(),i$1.pop());return i$1.push(i$1.pop().concat([r$2],e$1.shift())),Cf.getInstance().fences_(t$1,e$1,s$1,i$1)}if(o$1&&Ef(t$1[0],o$1)){if(!Nf(o$1)||!yf(t$1[0])){s$1.push(t$1.shift());let r$3=e$1.shift();return r$3&&i$1.push(r$3),Cf.getInstance().fences_(t$1,e$1,s$1,i$1)}let r$2=Cf.getInstance().horizontalFencedNode_(s$1.pop(),t$1.shift(),i$1.pop());return i$1.push(i$1.pop().concat([r$2],e$1.shift())),Cf.getInstance().fences_(t$1,e$1,s$1,i$1)}if(o$1&&a$1===$p.CLOSE&&bf(o$1)&&s$1.some(n$1)){let r$2=Sm(s$1,n$1,!0),o$2=i$1.pop(),a$2=i$1.length-r$2.tail.length+1,c$2=Cf.getInstance().neutralFences_(r$2.tail,i$1.slice(a$2));i$1=i$1.slice(0,a$2);let l$1=Cf.getInstance().horizontalFencedNode_(r$2.div,t$1.shift(),i$1.pop().concat(c$2,o$2));return i$1.push(i$1.pop().concat([l$1],e$1.shift())),Cf.getInstance().fences_(t$1,e$1,r$2.head,i$1)}let c$1=t$1.shift();return Cf.fenceToPunct_(c$1),i$1.push(i$1.pop().concat([c$1],e$1.shift())),Cf.getInstance().fences_(t$1,e$1,s$1,i$1)}neutralFences_(t$1,e$1){if(t$1.length===0)return t$1;if(t$1.length===1)return Cf.fenceToPunct_(t$1[0]),t$1;let s$1=t$1.shift();if(!Nf(s$1)){Cf.fenceToPunct_(s$1);let i$2=e$1.shift();return i$2.unshift(s$1),i$2.concat(Cf.getInstance().neutralFences_(t$1,e$1))}let i$1=Sm(t$1,(function(t$2){return Ef(t$2,s$1)}));if(!i$1.div){Cf.fenceToPunct_(s$1);let i$2=e$1.shift();return i$2.unshift(s$1),i$2.concat(Cf.getInstance().neutralFences_(t$1,e$1))}if(!yf(i$1.div))return Cf.fenceToPunct_(i$1.div),t$1.unshift(s$1),Cf.getInstance().neutralFences_(t$1,e$1);let r$1=Cf.getInstance().combineFencedContent_(s$1,i$1.div,i$1.head,e$1);if(i$1.tail.length>0){let t$2=r$1.shift(),e$2=Cf.getInstance().neutralFences_(i$1.tail,r$1);return t$2.concat(e$2)}return r$1[0]}combineFencedContent_(t$1,e$1,s$1,i$1){if(s$1.length===0){let s$2=Cf.getInstance().horizontalFencedNode_(t$1,e$1,i$1.shift());return i$1.length>0?i$1[0].unshift(s$2):i$1=[[s$2]],i$1}let r$1=i$1.shift(),n$1=s$1.length-1,o$1=i$1.slice(0,n$1),a$1=(i$1=i$1.slice(n$1)).shift(),c$1=Cf.getInstance().neutralFences_(s$1,o$1);r$1.push(...c$1),r$1.push(...a$1);let l$1=Cf.getInstance().horizontalFencedNode_(t$1,e$1,r$1);return i$1.length>0?i$1[0].unshift(l$1):i$1=[[l$1]],i$1}horizontalFencedNode_(t$1,e$1,s$1){let i$1=Cf.getInstance().row(s$1),r$1=Cf.getInstance().factory_.makeBranchNode(Jp.FENCED,[i$1],[t$1,e$1]);return t$1.role===$p.OPEN?(Cf.getInstance().classifyHorizontalFence_(r$1),r$1=vf.run(`propagateComposedFunction`,r$1)):r$1.role=t$1.role,r$1=vf.run(`detect_cycle`,r$1),Cf.rewriteFencedNode_(r$1)}classifyHorizontalFence_(t$1){if(vf.run(`interval_heuristic`,t$1),t$1.role===$p.INTERVAL)return;t$1.role=$p.LEFTRIGHT;let e$1=t$1.childNodes;if(!function(t$2){return function(t$3){return!!t$3&&[`{`,``,``].indexOf(t$3.textContent)!==-1}(t$2.contentNodes[0])&&function(t$3){return!!t$3&&[`}`,``,``].indexOf(t$3.textContent)!==-1}(t$2.contentNodes[1])}(t$1)||e$1.length>1)return;if(e$1.length===0||e$1[0].type===Jp.EMPTY)return void(t$1.role=$p.SETEMPTY);let s$1=e$1[0].type;if(e$1.length===1&&df(e$1[0]))return void(t$1.role=$p.SETSINGLE);let i$1=e$1[0].role;if(s$1===Jp.PUNCTUATED&&i$1===$p.SEQUENCE){if(e$1[0].contentNodes[0].role!==$p.COMMA)return e$1[0].contentNodes.length!==1||e$1[0].contentNodes[0].role!==$p.VBAR&&e$1[0].contentNodes[0].role!==$p.COLON?void 0:(t$1.role=$p.SETEXT,void Cf.getInstance().setExtension_(t$1));t$1.role=$p.SETCOLLECT}}setExtension_(t$1){let e$1=t$1.childNodes[0].childNodes[0];e$1&&e$1.type===Jp.INFIXOP&&e$1.contentNodes.length===1&&xf(e$1.contentNodes[0])&&(e$1.addAnnotation(`set`,`intensional`),e$1.contentNodes[0].addAnnotation(`set`,`intensional`))}getPunctuationInRow_(t$1){if(t$1.length<=1)return t$1;let e$1=t$2=>{let e$2=t$2.type;return e$2===`punctuation`||e$2===`text`||e$2===`operator`||e$2===`relation`},s$1=Rm(t$1,(function(s$2){if(!$m(s$2))return!1;if($m(s$2)&&!Um(s$2,$p.ELLIPSIS))return!0;let i$2=t$1.indexOf(s$2);if(i$2===0)return!t$1[1]||!e$1(t$1[1]);let r$2=t$1[i$2-1];if(i$2===t$1.length-1)return!e$1(r$2);let n$2=t$1[i$2+1];return!e$1(r$2)||!e$1(n$2)}));if(s$1.rel.length===0)return t$1;let i$1=[],r$1=s$1.comp.shift();r$1.length>0&&i$1.push(Cf.getInstance().row(r$1));let n$1=0;for(;s$1.comp.length>0;){let t$2=[],e$2=n$1;do t$2.push(s$1.rel[n$1++]),r$1=s$1.comp.shift();while(s$1.rel[n$1]&&r$1&&r$1.length===0);t$2=vf.run(`ellipses`,t$2),s$1.rel.splice(e$2,n$1-e$2,...t$2),n$1=e$2+t$2.length,i$1=i$1.concat(t$2),r$1&&r$1.length>0&&i$1.push(Cf.getInstance().row(r$1))}return i$1.length===1&&s$1.rel.length===1?i$1:[Cf.getInstance().punctuatedNode_(i$1,s$1.rel)]}punctuatedNode_(t$1,e$1){let s$1=Cf.getInstance().factory_.makeBranchNode(Jp.PUNCTUATED,t$1,e$1);if(e$1.length===t$1.length){let t$2=e$1[0].role;if(t$2!==$p.UNKNOWN&&e$1.every((function(e$2){return e$2.role===t$2})))return s$1.role=t$2,s$1}let i$1=e$1[0];return af(t$1,e$1,0)?s$1.role=i$1.childNodes.length&&!i$1.embellished?i$1.role:$p.STARTPUNCT:af(t$1,e$1,t$1.length-1)?s$1.role=i$1.childNodes.length&&!i$1.embellished?i$1.role:$p.ENDPUNCT:e$1.every((t$2=>Um(t$2,$p.DUMMY)))?s$1.role=$p.TEXT:e$1.every((t$2=>Um(t$2,$p.SPACE)))?s$1.role=$p.SPACE:s$1.role=$p.SEQUENCE,s$1}dummyNode_(t$1){let e$1=Cf.getInstance().factory_.makeMultipleContentNodes(t$1.length-1,sm.invisibleComma);return e$1.forEach((function(t$2){t$2.role=$p.DUMMY})),Cf.getInstance().punctuatedNode_(t$1,e$1)}accentRole_(t$1,e$1){if(!qm(t$1))return!1;let s$1=t$1.textContent,i$1=nm.Secondary.get(s$1,tm.BAR)||nm.Secondary.get(s$1,tm.TILDE)||t$1.role;return t$1.role=e$1===Jp.UNDERSCORE?$p.UNDERACCENT:$p.OVERACCENT,t$1.addAnnotation(`accent`,i$1),!0}accentNode_(t$1,e$1,s$1,i$1,r$1){let n$1=(e$1=e$1.slice(0,i$1+1))[1],o$1=e$1[2],a$1;if(!r$1&&o$1&&(a$1=Cf.getInstance().factory_.makeBranchNode(Jp.SUBSCRIPT,[t$1,n$1],[]),a$1.role=$p.SUBSUP,e$1=[a$1,o$1],s$1=Jp.SUPERSCRIPT),r$1){let i$2=Cf.getInstance().accentRole_(n$1,s$1);o$1&&(Cf.getInstance().accentRole_(o$1,Jp.OVERSCORE)&&!i$2?(a$1=Cf.getInstance().factory_.makeBranchNode(Jp.OVERSCORE,[t$1,o$1],[]),e$1=[a$1,n$1],s$1=Jp.UNDERSCORE):(a$1=Cf.getInstance().factory_.makeBranchNode(Jp.UNDERSCORE,[t$1,n$1],[]),e$1=[a$1,o$1],s$1=Jp.OVERSCORE),a$1.role=$p.UNDEROVER)}return Cf.getInstance().makeLimitNode_(t$1,e$1,a$1,s$1)}makeLimitNode_(t$1,e$1,s$1,i$1){if(i$1===Jp.LIMUPPER&&t$1.type===Jp.LIMLOWER)return t$1.childNodes.push(e$1[1]),e$1[1].parent=t$1,t$1.type=Jp.LIMBOTH,t$1;if(i$1===Jp.LIMLOWER&&t$1.type===Jp.LIMUPPER)return t$1.childNodes.splice(1,-1,e$1[1]),e$1[1].parent=t$1,t$1.type=Jp.LIMBOTH,t$1;let r$1=Cf.getInstance().factory_.makeBranchNode(i$1,e$1,[]),n$1=Gm(t$1);return s$1&&(s$1.embellished=n$1),r$1.embellished=n$1,r$1.role=t$1.role,r$1}getFunctionsInRow_(t$1,e$1){let s$1=e$1||[];if(t$1.length===0)return s$1;let i$1=t$1.shift(),r$1=Cf.classifyFunction_(i$1,t$1);if(!r$1)return s$1.push(i$1),Cf.getInstance().getFunctionsInRow_(t$1,s$1);let n$1=Cf.getInstance().getFunctionsInRow_(t$1,[]),o$1=Cf.getInstance().getFunctionArgs_(i$1,n$1,r$1);return s$1.concat(o$1)}getFunctionArgs_(t$1,e$1,s$1){let i$1,r$1,n$1;switch(s$1){case`integral`:{let s$2=Cf.getInstance().getIntegralArgs_(e$1);if(!s$2.intvar&&!s$2.integrand.length)return s$2.rest.unshift(t$1),s$2.rest;let i$2=Cf.getInstance().row(s$2.integrand);return n$1=Cf.getInstance().integralNode_(t$1,i$2,s$2.intvar),vf.run(`intvar_from_fraction`,n$1),s$2.rest.unshift(n$1),s$2.rest}case`prefix`:if(e$1[0]&&e$1[0].type===Jp.FENCED){let s$2=e$1.shift();return bf(s$2)||(s$2.role=$p.LEFTRIGHT),n$1=Cf.getInstance().functionNode_(t$1,s$2),e$1.unshift(n$1),e$1}if(i$1=Sm(e$1,Hm),i$1.head.length)r$1=Cf.getInstance().row(i$1.head),i$1.div&&i$1.tail.unshift(i$1.div);else{if(!i$1.div||!Fm(i$1.div,Jp.APPL))return e$1.unshift(t$1),e$1;r$1=i$1.div}return n$1=Cf.getInstance().functionNode_(t$1,r$1),i$1.tail.unshift(n$1),i$1.tail;case`bigop`:return i$1=Sm(e$1,Wm),i$1.head.length?(r$1=Cf.getInstance().row(i$1.head),n$1=Cf.getInstance().bigOpNode_(t$1,r$1),i$1.div&&i$1.tail.unshift(i$1.div),i$1.tail.unshift(n$1),i$1.tail):(e$1.unshift(t$1),e$1);default:{if(e$1.length===0)return[t$1];let s$2=e$1[0];return s$2.type===Jp.FENCED&&!bf(s$2)&&function(t$2){let e$2=t$2.childNodes;if(e$2.length===0)return!0;if(e$2.length>1)return!1;let s$3=e$2[0];return!(s$3.type===Jp.INFIXOP&&(s$3.role!==$p.IMPLICIT||s$3.childNodes.some((t$3=>Fm(t$3,Jp.INFIXOP)))))}(s$2)?(s$2.role=$p.LEFTRIGHT,Cf.propagateFunctionRole_(t$1,$p.SIMPLEFUNC),n$1=Cf.getInstance().functionNode_(t$1,e$1.shift()),e$1.unshift(n$1),e$1):(e$1.unshift(t$1),e$1)}}}getIntegralArgs_(t$1,e$1=[]){if(t$1.length===0){let t$2=Sm(e$1,Wm);return t$2.div&&t$2.tail.unshift(t$2.div),{integrand:t$2.head,intvar:null,rest:t$2.tail}}vf.run(`intvar_from_implicit`,t$1);let s$1=t$1[0];if(Vm(s$1)){let{integrand:s$2,rest:i$1}=Cf.getInstance().getIntegralArgs_(e$1);return{integrand:s$2,intvar:null,rest:i$1.concat(t$1)}}if(Xm(s$1))return s$1.role=$p.INTEGRAL,{integrand:e$1,intvar:s$1,rest:t$1.slice(1)};if(t$1[1]&&zm(s$1,t$1[1])){let i$1=Cf.getInstance().prefixNode_(t$1[1],[s$1]);return i$1.role=$p.INTEGRAL,{integrand:e$1,intvar:i$1,rest:t$1.slice(2)}}return e$1.push(t$1.shift()),Cf.getInstance().getIntegralArgs_(t$1,e$1)}functionNode_(t$1,e$1){let s$1=Cf.getInstance().factory_.makeContentNode(sm.functionApplication),i$1=Cf.getInstance().funcAppls[t$1.id];i$1&&(s$1.mathmlTree=i$1.mathmlTree,s$1.mathml=i$1.mathml,s$1.annotation=i$1.annotation,s$1.attributes=i$1.attributes,delete Cf.getInstance().funcAppls[t$1.id]),s$1.type=Jp.PUNCTUATION,s$1.role=$p.APPLICATION;let r$1=Cf.getFunctionOp_(t$1,(function(t$2){return Fm(t$2,Jp.FUNCTION)||Fm(t$2,Jp.IDENTIFIER)&&Um(t$2,$p.SIMPLEFUNC)}));return Cf.getInstance().functionalNode_(Jp.APPL,[t$1,e$1],r$1,[s$1])}bigOpNode_(t$1,e$1){let s$1=Cf.getFunctionOp_(t$1,(t$2=>Fm(t$2,Jp.LARGEOP)));return Cf.getInstance().functionalNode_(Jp.BIGOP,[t$1,e$1],s$1,[])}integralNode_(t$1,e$1,s$1){e$1||=Cf.getInstance().factory_.makeEmptyNode(),s$1||=Cf.getInstance().factory_.makeEmptyNode();let i$1=Cf.getFunctionOp_(t$1,(t$2=>Fm(t$2,Jp.LARGEOP)));return Cf.getInstance().functionalNode_(Jp.INTEGRAL,[t$1,e$1,s$1],i$1,[])}functionalNode_(t$1,e$1,s$1,i$1){let r$1=e$1[0],n$1;s$1&&(n$1=s$1.parent,i$1.push(s$1));let o$1=Cf.getInstance().factory_.makeBranchNode(t$1,e$1,i$1);return o$1.role=r$1.role,n$1&&(s$1.parent=n$1),o$1}fractionNode_(t$1,e$1){let s$1=Cf.getInstance().factory_.makeBranchNode(Jp.FRACTION,[t$1,e$1],[]);return s$1.role=s$1.childNodes.every((function(t$2){return Fm(t$2,Jp.NUMBER)&&Um(t$2,$p.INTEGER)}))?$p.VULGAR:s$1.childNodes.every(pf)?$p.UNIT:$p.DIVISION,vf.run(`propagateSimpleFunction`,s$1)}scriptNode_(t$1,e$1,s$1){let i$1;switch(t$1.length){case 0:i$1=Cf.getInstance().factory_.makeEmptyNode();break;case 1:if(i$1=t$1[0],s$1)return i$1;break;default:i$1=Cf.getInstance().dummyNode_(t$1)}return i$1.role=e$1,i$1}findNestedRow_(t$1,e$1,s$1,i$1){if(s$1>3)return null;for(let r$1,n$1=0;r$1=t$1[n$1];n$1++){let t$2=Mp(r$1);if(t$2!==Em.MSPACE){if(t$2===Em.MROW)return Cf.getInstance().findNestedRow_(Cp(r$1.childNodes),e$1,s$1+1,i$1);if(Cf.findSemantics(r$1,e$1,i$1))return r$1}}return null}}Cf.FENCE_TO_PUNCT_={[$p.METRIC]:$p.METRIC,[$p.NEUTRAL]:$p.VBAR,[$p.OPEN]:$p.OPENFENCE,[$p.CLOSE]:$p.CLOSEFENCE},Cf.MML_TO_LIMIT_={[Em.MSUB]:{type:Jp.LIMLOWER,length:1},[Em.MUNDER]:{type:Jp.LIMLOWER,length:1},[Em.MSUP]:{type:Jp.LIMUPPER,length:1},[Em.MOVER]:{type:Jp.LIMUPPER,length:1},[Em.MSUBSUP]:{type:Jp.LIMBOTH,length:2},[Em.MUNDEROVER]:{type:Jp.LIMBOTH,length:2}},Cf.MML_TO_BOUNDS_={[Em.MSUB]:{type:Jp.SUBSCRIPT,length:1,accent:!1},[Em.MSUP]:{type:Jp.SUPERSCRIPT,length:1,accent:!1},[Em.MSUBSUP]:{type:Jp.SUBSCRIPT,length:2,accent:!1},[Em.MUNDER]:{type:Jp.UNDERSCORE,length:1,accent:!0},[Em.MOVER]:{type:Jp.OVERSCORE,length:1,accent:!0},[Em.MUNDEROVER]:{type:Jp.UNDERSCORE,length:2,accent:!0}},Cf.CLASSIFY_FUNCTION_={[$p.INTEGRAL]:`integral`,[$p.SUM]:`bigop`,[$p.PREFIXFUNC]:`prefix`,[$p.LIMFUNC]:`prefix`,[$p.SIMPLEFUNC]:`prefix`,[$p.COMPFUNC]:`prefix`},Cf.MATHJAX_FONTS={"-tex-caligraphic":Qp.CALIGRAPHIC,"-tex-caligraphic-bold":Qp.CALIGRAPHICBOLD,"-tex-calligraphic":Qp.CALIGRAPHIC,"-tex-calligraphic-bold":Qp.CALIGRAPHICBOLD,"-tex-oldstyle":Qp.OLDSTYLE,"-tex-oldstyle-bold":Qp.OLDSTYLEBOLD,"-tex-mathit":Qp.ITALIC};class Tf extends Bm{static getAttribute_(t$1,e$1,s$1){if(!t$1.hasAttribute(e$1))return s$1;let i$1=t$1.getAttribute(e$1);return i$1.match(/^\s*$/)?null:i$1}constructor(t$1){super(`MathML`),this.options=t$1,vf.options=t$1,this.parseMap_=new Map([[Em.SEMANTICS,this.semantics_.bind(this)],[Em.MATH,this.rows_.bind(this)],[Em.MROW,this.rows_.bind(this)],[Em.MPADDED,this.rows_.bind(this)],[Em.MSTYLE,this.rows_.bind(this)],[Em.MFRAC,this.fraction_.bind(this)],[Em.MSUB,this.limits_.bind(this)],[Em.MSUP,this.limits_.bind(this)],[Em.MSUBSUP,this.limits_.bind(this)],[Em.MOVER,this.limits_.bind(this)],[Em.MUNDER,this.limits_.bind(this)],[Em.MUNDEROVER,this.limits_.bind(this)],[Em.MROOT,this.root_.bind(this)],[Em.MSQRT,this.sqrt_.bind(this)],[Em.MTABLE,this.table_.bind(this)],[Em.MLABELEDTR,this.tableLabeledRow_.bind(this)],[Em.MTR,this.tableRow_.bind(this)],[Em.MTD,this.tableCell_.bind(this)],[Em.MS,this.text_.bind(this)],[Em.MTEXT,this.text_.bind(this)],[Em.MSPACE,this.space_.bind(this)],[Em.ANNOTATIONXML,this.text_.bind(this)],[Em.MI,this.identifier_.bind(this)],[Em.MN,this.number_.bind(this)],[Em.MO,this.operator_.bind(this)],[Em.MFENCED,this.fenced_.bind(this)],[Em.MENCLOSE,this.enclosed_.bind(this)],[Em.MMULTISCRIPTS,this.multiscripts_.bind(this)],[Em.ANNOTATION,this.empty_.bind(this)],[Em.NONE,this.empty_.bind(this)],[Em.MACTION,this.action_.bind(this)]]);let e$1={type:Jp.IDENTIFIER,role:$p.NUMBERSET,font:Qp.DOUBLESTRUCK};[`C`,`H`,`N`,`P`,`Q`,`R`,`Z`,``,``,``,``,``,``,``].forEach((t$2=>this.getFactory().defaultMap.set(t$2,e$1)).bind(this))}parse(t$1){Cf.getInstance().setNodeFactory(this.getFactory());let e$1=Cp(t$1.childNodes),s$1=Mp(t$1),r$1=(this.parseMap_.get(s$1)||this.dummy_.bind(this))(t$1,e$1);return Mm(r$1,t$1),[Em.MATH,Em.MROW,Em.MPADDED,Em.MSTYLE,Em.SEMANTICS,Em.MACTION].indexOf(s$1)!==-1||(r$1.mathml.unshift(t$1),r$1.mathmlTree=t$1),r$1}semantics_(t$1,e$1){return e$1.length?this.parse(e$1[0]):this.getFactory().makeEmptyNode()}rows_(t$1,e$1){let s$1=t$1.getAttribute(`semantics`);if(s$1&&s$1.match(`bspr_`))return Cf.proof(t$1,s$1,this.parseList.bind(this));let i$1;if((e$1=Lm(e$1)).length===1)i$1=this.parse(e$1[0]),i$1.type!==Jp.EMPTY||i$1.mathmlTree||(i$1.mathmlTree=t$1);else{let s$2=vf.run(`function_from_identifiers`,t$1);i$1=s$2&&s$2!==t$1?s$2:Cf.getInstance().row(this.parseList(e$1))}return i$1.mathml.unshift(t$1),i$1}fraction_(t$1,e$1){if(!e$1.length)return this.getFactory().makeEmptyNode();let s$1=this.parse(e$1[0]),i$1=e$1[1]?this.parse(e$1[1]):this.getFactory().makeEmptyNode();return Cf.getInstance().fractionLikeNode(s$1,i$1,t$1.getAttribute(`linethickness`),t$1.getAttribute(`bevelled`)===`true`)}limits_(t$1,e$1){return Cf.getInstance().limitNode(Mp(t$1),this.parseList(e$1))}root_(t$1,e$1){return e$1[1]?this.getFactory().makeBranchNode(Jp.ROOT,[this.parse(e$1[1]),this.parse(e$1[0])],[]):this.sqrt_(t$1,e$1)}sqrt_(t$1,e$1){let s$1=this.parseList(Lm(e$1));return this.getFactory().makeBranchNode(Jp.SQRT,[Cf.getInstance().row(s$1)],[])}table_(t$1,e$1){let s$1=t$1.getAttribute(`semantics`);if(s$1&&s$1.match(`bspr_`))return Cf.proof(t$1,s$1,this.parseList.bind(this));let i$1=this.getFactory().makeBranchNode(Jp.TABLE,this.parseList(e$1),[]);return i$1.mathmlTree=t$1,Cf.tableToMultiline(i$1)}tableRow_(t$1,e$1){let s$1=this.getFactory().makeBranchNode(Jp.ROW,this.parseList(e$1),[]);return s$1.role=$p.TABLE,s$1}tableLabeledRow_(t$1,e$1){var s$1;if(!e$1.length)return this.tableRow_(t$1,e$1);let i$1=this.parse(e$1[0]);i$1.role=$p.LABEL,i$1.childNodes[0]?.type===Jp.TEXT&&(i$1.childNodes[0].role=$p.LABEL);let r$1=this.getFactory().makeBranchNode(Jp.ROW,this.parseList(e$1.slice(1)),[i$1]);return r$1.role=$p.TABLE,r$1}tableCell_(t$1,e$1){let s$1=this.parseList(Lm(e$1)),i$1;i$1=s$1.length?s$1.length===1&&Fm(s$1[0],Jp.EMPTY)?s$1:[Cf.getInstance().row(s$1)]:[];let r$1=this.getFactory().makeBranchNode(Jp.CELL,i$1,[]);return r$1.role=$p.TABLE,r$1}space_(t$1,e$1){let s$1=t$1.getAttribute(`width`),i$1=s$1&&s$1.match(/[a-z]*$/);if(!i$1)return this.empty_(t$1,e$1);let r$1=i$1[0],n$1=parseFloat(s$1.slice(0,i$1.index)),o$1={cm:.4,pc:.5,em:.5,ex:1,in:.15,pt:5,mm:5}[r$1];if(!o$1||isNaN(n$1)||n$1<o$1)return this.empty_(t$1,e$1);let a$1=this.getFactory().makeUnprocessed(t$1);return Cf.getInstance().text(a$1,Mp(t$1))}text_(t$1,e$1){let s$1=this.leaf_(t$1,e$1);return t$1.textContent?(s$1.updateContent(t$1.textContent,!0),Cf.getInstance().text(s$1,Mp(t$1))):s$1}identifier_(t$1,e$1){let s$1=this.leaf_(t$1,e$1);return Cf.getInstance().identifierNode(s$1,Cf.getInstance().font(t$1.getAttribute(`mathvariant`)),t$1.getAttribute(`class`))}number_(t$1,e$1){let s$1=this.leaf_(t$1,e$1);return Cf.number(s$1),s$1}operator_(t$1,e$1){let s$1=this.leaf_(t$1,e$1);return Cf.getInstance().operatorNode(s$1),s$1}fenced_(t$1,e$1){let s$1=this.parseList(Lm(e$1)),i$1=Tf.getAttribute_(t$1,`separators`,`,`),r$1=Tf.getAttribute_(t$1,`open`,`(`),n$1=Tf.getAttribute_(t$1,`close`,`)`),o$1=Cf.getInstance().mfenced(r$1,n$1,i$1,s$1);return Cf.getInstance().tablesInRow([o$1])[0]}enclosed_(t$1,e$1){let s$1=this.parseList(Lm(e$1)),i$1=this.getFactory().makeBranchNode(Jp.ENCLOSE,[Cf.getInstance().row(s$1)],[]);return i$1.role=t$1.getAttribute(`notation`)||$p.UNKNOWN,i$1}multiscripts_(t$1,e$1){if(!e$1.length)return this.getFactory().makeEmptyNode();let s$1=this.parse(e$1.shift());if(!e$1.length)return s$1;let i$1=[],r$1=[],n$1=[],o$1=[],a$1=!1,c$1=0;for(let t$2,s$2=0;t$2=e$1[s$2];s$2++)Mp(t$2)===Em.MPRESCRIPTS?(a$1=!0,c$1=0):(a$1?1&c$1?i$1.push(t$2):r$1.push(t$2):1&c$1?n$1.push(t$2):o$1.push(t$2),c$1++);return Lm(i$1).length||Lm(r$1).length?Cf.getInstance().tensor(s$1,this.parseList(r$1),this.parseList(i$1),this.parseList(o$1),this.parseList(n$1)):Cf.getInstance().pseudoTensor(s$1,this.parseList(o$1),this.parseList(n$1))}empty_(t$1,e$1){return this.getFactory().makeEmptyNode()}action_(t$1,e$1){let s$1=e$1[t$1.hasAttribute(`selection`)?parseInt(t$1.getAttribute(`selection`),10)-1:0],i$1=this.parse(s$1);return i$1.mathmlTree=s$1,i$1}dummy_(t$1,e$1){let s$1=this.getFactory().makeUnprocessed(t$1);return s$1.role=t$1.tagName,s$1.textContent=t$1.textContent,s$1}leaf_(t$1,e$1){if(e$1.length===1&&e$1[0].nodeType!==wp.TEXT_NODE){let s$2=this.getFactory().makeUnprocessed(t$1);return s$2.role=e$1[0].tagName,Mm(s$2,e$1[0]),s$2}let s$1=this.getFactory().makeLeafNode(t$1.textContent,Cf.getInstance().font(t$1.getAttribute(`mathvariant`)));return t$1.hasAttribute(`data-latex`)&&nm.LatexCommands.set(t$1.getAttribute(`data-latex`),t$1.textContent),s$1}}class wf{constructor(t$1,e$1,s$1=t$2=>!1){this.name=t$1,this.apply=e$1,this.applicable=s$1}}class _f extends wf{}class kf extends wf{}function Af(t$1,e$1){let s$1=[];for(;t$1.length||e$1.length;)t$1.length&&s$1.push(t$1.shift()),e$1.length&&s$1.push(e$1.shift());return s$1}let Lf=`data-semantic-`;var Mf;(function(t$1){t$1.ADDED=`data-semantic-added`,t$1.ALTERNATIVE=`data-semantic-alternative`,t$1.CHILDREN=`data-semantic-children`,t$1.COLLAPSED=`data-semantic-collapsed`,t$1.CONTENT=`data-semantic-content`,t$1.EMBELLISHED=`data-semantic-embellished`,t$1.FENCEPOINTER=`data-semantic-fencepointer`,t$1.FONT=`data-semantic-font`,t$1.ID=`data-semantic-id`,t$1.ANNOTATION=`data-semantic-annotation`,t$1.ATTRIBUTES=`data-semantic-attributes`,t$1.OPERATOR=`data-semantic-operator`,t$1.OWNS=`data-semantic-owns`,t$1.PARENT=`data-semantic-parent`,t$1.POSTFIX=`data-semantic-postfix`,t$1.PREFIX=`data-semantic-prefix`,t$1.ROLE=`data-semantic-role`,t$1.SPEECH=`data-semantic-speech`,t$1.STRUCTURE=`data-semantic-structure`,t$1.SUMMARY=`data-semantic-summary`,t$1.TYPE=`data-semantic-type`})(Mf||={});let If=[Mf.ADDED,Mf.ALTERNATIVE,Mf.CHILDREN,Mf.COLLAPSED,Mf.CONTENT,Mf.EMBELLISHED,Mf.FENCEPOINTER,Mf.FONT,Mf.ID,Mf.ANNOTATION,Mf.ATTRIBUTES,Mf.OPERATOR,Mf.OWNS,Mf.PARENT,Mf.POSTFIX,Mf.PREFIX,Mf.ROLE,Mf.SPEECH,Mf.STRUCTURE,Mf.SUMMARY,Mf.TYPE];function Sf(t$1){return t$1.map((function(t$2){return t$2.id})).join(`,`)}function Rf(t$1,e$1){t$1.setAttribute(Mf.TYPE,e$1.type);let s$1=e$1.allAttributes();for(let e$2,i$2=0;e$2=s$1[i$2];i$2++)t$1.setAttribute(Lf+e$2[0].toLowerCase(),e$2[1]);e$1.childNodes.length&&t$1.setAttribute(Mf.CHILDREN,Sf(e$1.childNodes)),e$1.contentNodes.length&&t$1.setAttribute(Mf.CONTENT,Sf(e$1.contentNodes)),e$1.parent&&t$1.setAttribute(Mf.PARENT,e$1.parent.id.toString());let i$1=e$1.attributesXml();i$1&&t$1.setAttribute(Mf.ATTRIBUTES,i$1),function(t$2,e$2){let s$2=[];e$2.role===$p.MGLYPH&&s$2.push(`image`),e$2.attributes.href&&s$2.push(`link`),s$2.length&&t$2.setAttribute(Mf.POSTFIX,s$2.join(` `))}(t$1,e$1)}function Of(){let t$1=kp(`mrow`);return t$1.setAttribute(Mf.ADDED,`true`),t$1}class Df{static fromTree(t$1){return Df.fromNode(t$1.root)}static fromNode(t$1){return new Df(Df.fromNode_(t$1))}static fromString(t$1){return new Df(Df.fromString_(t$1))}static simpleCollapseStructure(t$1){return typeof t$1==`number`}static contentCollapseStructure(t$1){return!!t$1&&!Df.simpleCollapseStructure(t$1)&&t$1[0]===`c`}static interleaveIds(t$1,e$1){return Af(Df.collapsedLeafs(t$1),Df.collapsedLeafs(e$1))}static collapsedLeafs(...t$1){return t$1.reduce(((t$2,e$1)=>{return t$2.concat((s$1=e$1,Df.simpleCollapseStructure(s$1)?[s$1]:Df.contentCollapseStructure(s$1[1])?s$1.slice(2):s$1.slice(1)));var s$1}),[])}static fromStructure(t$1,e$1,s$1){return new Df(Df.tree_(t$1,e$1.root,s$1))}static combineContentChildren(t$1,e$1,s$1,i$1){switch(t$1){case Jp.RELSEQ:case Jp.INFIXOP:case Jp.MULTIREL:return Af(i$1,s$1);case Jp.PREFIXOP:return s$1.concat(i$1);case Jp.POSTFIXOP:return i$1.concat(s$1);case Jp.MATRIX:case Jp.VECTOR:case Jp.FENCED:return i$1.unshift(s$1[0]),i$1.push(s$1[1]),i$1;case Jp.CASES:return i$1.unshift(s$1[0]),i$1;case Jp.APPL:return[i$1[0],s$1[0],i$1[1]];case Jp.ROOT:return[i$1[0],i$1[1]];case Jp.ROW:case Jp.LINE:return s$1.length&&i$1.unshift(s$1[0]),i$1;default:return i$1}}static makeSexp_(t$1){return Df.simpleCollapseStructure(t$1)?t$1.toString():Df.contentCollapseStructure(t$1)?`(c `+t$1.slice(1).map(Df.makeSexp_).join(` `)+`)`:`(`+t$1.map(Df.makeSexp_).join(` `)+`)`}static fromString_(t$1){let e$1=t$1.replace(/\(/g,`[`);return e$1=e$1.replace(/\)/g,`]`),e$1=e$1.replace(/ /g,`,`),e$1=e$1.replace(/c/g,`"c"`),JSON.parse(e$1)}static fromNode_(t$1){if(!t$1)return[];let e$1=t$1.contentNodes,s$1;e$1.length&&(s$1=e$1.map(Df.fromNode_),s$1.unshift(`c`));let i$1=t$1.childNodes;if(!i$1.length)return e$1.length?[t$1.id,s$1]:t$1.id;let r$1=i$1.map(Df.fromNode_);return e$1.length&&r$1.unshift(s$1),r$1.unshift(t$1.id),r$1}static tree_(t$1,e$1,s$1,i$1=0,r$1=1,n$1=1){if(!e$1)return[];let o$1=e$1.id,a$1=[o$1];(function(t$2){if(gp.getInstance().mode!==tp.HTTP)return;let e$2=t$2;for(;e$2&&!e$2.evaluate;)e$2=e$2.parentNode;e$2&&e$2.evaluate?Ep.currentDocument=e$2:t$2.ownerDocument&&(Ep.currentDocument=t$2.ownerDocument)})(t$1);let c$1=function(t$2,e$2){let s$2;try{s$2=vp(t$2,e$2,Ep.result.ORDERED_NODE_ITERATOR_TYPE)}catch{return[]}let i$2=[];for(let t$3=s$2.iterateNext();t$3;t$3=s$2.iterateNext())i$2.push(t$3);return i$2}(`.//self::*[@${Mf.ID}=${o$1}]`,t$1)[0];if(!e$1.childNodes.length)return Df.addAria(c$1,i$1,r$1,n$1,s$1),e$1.id;let l$1=Df.combineContentChildren(e$1.type,e$1.role,e$1.contentNodes.map((function(t$2){return t$2})),e$1.childNodes.map((function(t$2){return t$2})));c$1&&Df.addOwns_(c$1,l$1);for(let e$2,r$2=0,n$2=l$1.length;e$2=l$1[r$2];r$2++)a$1.push(Df.tree_(t$1,e$2,s$1,i$1+1,r$2+1,n$2));return Df.addAria(c$1,i$1,r$1,n$1,s$1),a$1}static addAria(t$1,e$1,s$1,i$1,r$1){let n$1=r$1.tree?e$1?`treeitem`:`tree`:`treeitem`;r$1.aria&&t$1&&(t$1.setAttribute(`aria-level`,e$1.toString()),t$1.setAttribute(`aria-posinset`,s$1.toString()),t$1.setAttribute(`aria-setsize`,i$1.toString()),t$1.setAttribute(`role`,n$1),t$1.hasAttribute(Mf.OWNS)&&t$1.setAttribute(`aria-owns`,t$1.getAttribute(Mf.OWNS)))}static addOwns_(t$1,e$1){let s$1=t$1.getAttribute(Mf.COLLAPSED),i$1=s$1?Df.realLeafs_(Df.fromString(s$1).array):e$1.map((t$2=>t$2.id));t$1.setAttribute(Mf.OWNS,i$1.join(` `))}static realLeafs_(t$1){if(Df.simpleCollapseStructure(t$1))return[t$1];if(Df.contentCollapseStructure(t$1))return[];let e$1=[];for(let s$1=1;s$1<t$1.length;s$1++)e$1=e$1.concat(Df.realLeafs_(t$1[s$1]));return e$1}constructor(t$1){this.parents=null,this.levelsMap=null,t$1=t$1===0?t$1:t$1||[],this.array=t$1}populate(){this.parents&&this.levelsMap||(this.parents={},this.levelsMap={},this.populate_(this.array,this.array,[]))}toString(){return Df.makeSexp_(this.array)}populate_(t$1,e$1,s$1){if(Df.simpleCollapseStructure(t$1))return this.levelsMap[t$1]=e$1,void(this.parents[t$1]=t$1===s$1[0]?s$1.slice(1):s$1);let i$1=Df.contentCollapseStructure(t$1)?t$1.slice(1):t$1,r$1=[i$1[0]].concat(s$1);for(let e$2=0,s$2=i$1.length;e$2<s$2;e$2++){let s$3=i$1[e$2];this.populate_(s$3,t$1,r$1)}}isRoot(t$1){return t$1===this.levelsMap[t$1][0]}directChildren(t$1){return this.isRoot(t$1)?this.levelsMap[t$1].slice(1).map((t$2=>Df.simpleCollapseStructure(t$2)?t$2:Df.contentCollapseStructure(t$2)?t$2[1]:t$2[0])):[]}subtreeNodes(t$1){if(!this.isRoot(t$1))return[];let e$1=(t$2,s$2)=>{Df.simpleCollapseStructure(t$2)?s$2.push(t$2):(Df.contentCollapseStructure(t$2)&&(t$2=t$2.slice(1)),t$2.forEach((t$3=>e$1(t$3,s$2))))},s$1=this.levelsMap[t$1],i$1=[];return e$1(s$1.slice(1),i$1),i$1}}function Pf(t$1,e$1,s$1){let i$1=null;if(!t$1.length)return i$1;let r$1=s$1[s$1.length-1],n$1=r$1&&r$1.length,o$1=e$1&&e$1.length,a$1=Cf.getInstance();if(n$1&&o$1){if(e$1[0].type===Jp.INFIXOP&&e$1[0].role===$p.IMPLICIT)return i$1=t$1.pop(),r$1.push(a$1.postfixNode_(r$1.pop(),t$1)),i$1;i$1=t$1.shift();let s$2=a$1.prefixNode_(e$1.shift(),t$1);return e$1.unshift(s$2),i$1}return n$1?(r$1.push(a$1.postfixNode_(r$1.pop(),t$1)),i$1):(o$1&&e$1.unshift(a$1.prefixNode_(e$1.shift(),t$1)),i$1)}function Bf(t$1,e$1,s$1){if(!e$1.length)return t$1;let i$1=t$1.pop(),r$1=e$1.shift(),n$1=s$1.shift();if(r$1.type===Jp.INFIXOP&&(r$1.role===$p.IMPLICIT||r$1.role===$p.UNIT)){hp.getInstance().output(`Juxta Heuristic Case 2`);let o$2=(i$1?[i$1,r$1]:[r$1]).concat(n$1);return Bf(t$1.concat(o$2),e$1,s$1)}if(!i$1)return hp.getInstance().output(`Juxta Heuristic Case 3`),Bf([r$1].concat(n$1),e$1,s$1);let o$1=n$1.shift();if(!o$1){hp.getInstance().output(`Juxta Heuristic Case 9`);let n$2=vf.factory.makeBranchNode(Jp.INFIXOP,[i$1,e$1.shift()],[r$1],r$1.textContent);return n$2.role=$p.IMPLICIT,vf.run(`combine_juxtaposition`,n$2),e$1.unshift(n$2),Bf(t$1,e$1,s$1)}if(Jm(i$1)||Jm(o$1))return hp.getInstance().output(`Juxta Heuristic Case 4`),Bf(t$1.concat([i$1,r$1,o$1]).concat(n$1),e$1,s$1);let a$1=null;return gf(i$1)&&gf(o$1)?(hp.getInstance().output(`Juxta Heuristic Case 5`),i$1.contentNodes.push(r$1),i$1.contentNodes=i$1.contentNodes.concat(o$1.contentNodes),i$1.childNodes.push(o$1),i$1.childNodes=i$1.childNodes.concat(o$1.childNodes),o$1.childNodes.forEach((t$2=>t$2.parent=i$1)),r$1.parent=i$1,i$1.addMathmlNodes(r$1.mathml),i$1.addMathmlNodes(o$1.mathml),a$1=i$1):gf(i$1)?(hp.getInstance().output(`Juxta Heuristic Case 6`),i$1.contentNodes.push(r$1),i$1.childNodes.push(o$1),o$1.parent=i$1,r$1.parent=i$1,i$1.addMathmlNodes(r$1.mathml),i$1.addMathmlNodes(o$1.mathml),a$1=i$1):gf(o$1)?(hp.getInstance().output(`Juxta Heuristic Case 7`),o$1.contentNodes.unshift(r$1),o$1.childNodes.unshift(i$1),i$1.parent=o$1,r$1.parent=o$1,o$1.addMathmlNodes(r$1.mathml),o$1.addMathmlNodes(i$1.mathml),a$1=o$1):(hp.getInstance().output(`Juxta Heuristic Case 8`),a$1=vf.factory.makeBranchNode(Jp.INFIXOP,[i$1,o$1],[r$1],r$1.textContent),a$1.role=$p.IMPLICIT),t$1.push(a$1),Bf(t$1.concat(n$1),e$1,s$1)}function Ff(t$1){return t$1.childNodes[0]&&t$1.childNodes[0].childNodes[0]&&Mp(t$1.childNodes[0])===Em.MPADDED&&Mp(t$1.childNodes[0].childNodes[0])===Em.MPADDED&&Mp(t$1.childNodes[0].childNodes[t$1.childNodes[0].childNodes.length-1])===Em.MPHANTOM}vf.add(new _f(`combine_juxtaposition`,(function(t$1){for(let e$1,s$1=t$1.childNodes.length-1;e$1=t$1.childNodes[s$1];s$1--)gf(e$1)&&!e$1.nobreaking&&(t$1.childNodes.splice(s$1,1,...e$1.childNodes),t$1.contentNodes.splice(s$1,0,...e$1.contentNodes),e$1.childNodes.concat(e$1.contentNodes).forEach((function(e$2){e$2.parent=t$1})),t$1.addMathmlNodes(e$1.mathml));return t$1}))),vf.add(new _f(`propagateSimpleFunction`,(t$1=>(t$1.type!==Jp.INFIXOP&&t$1.type!==Jp.FRACTION||!t$1.childNodes.every(cf)||(t$1.role=$p.COMPFUNC),t$1)),(t$1=>vf.options.domain===`clearspeak`))),vf.add(new _f(`simpleNamedFunction`,(t$1=>(t$1.role!==$p.UNIT&&[`f`,`g`,`h`,`F`,`G`,`H`].indexOf(t$1.textContent)!==-1&&(t$1.role=$p.SIMPLEFUNC),t$1)),(t$1=>vf.options.domain===`clearspeak`))),vf.add(new _f(`propagateComposedFunction`,(t$1=>(t$1.type===Jp.FENCED&&t$1.childNodes[0].role===$p.COMPFUNC&&(t$1.role=$p.COMPFUNC),t$1)),(t$1=>vf.options.domain===`clearspeak`))),vf.add(new _f(`multioperator`,(t$1=>{t$1.role!==$p.UNKNOWN||t$1.textContent.length<=1||(Cf.compSemantics(t$1,`role`,$p),Cf.compSemantics(t$1,`type`,Jp))}))),vf.add(new kf(`convert_juxtaposition`,(t$1=>{let e$1=Rm(t$1,(function(t$2){return t$2.textContent===sm.invisibleTimes&&t$2.type===Jp.OPERATOR}));e$1=e$1.rel.length?function(t$2){let e$2=[],s$1=[],i$1=t$2.comp.shift(),r$1=null,n$1=[];for(;t$2.comp.length;)if(n$1=[],i$1.length)r$1&&e$2.push(r$1),s$1.push(i$1),r$1=t$2.rel.shift(),i$1=t$2.comp.shift();else{for(r$1&&n$1.push(r$1);!i$1.length&&t$2.comp.length;)i$1=t$2.comp.shift(),n$1.push(t$2.rel.shift());r$1=Pf(n$1,i$1,s$1)}return n$1.length||i$1.length?(e$2.push(r$1),s$1.push(i$1)):(n$1.push(r$1),Pf(n$1,i$1,s$1)),{rel:e$2,comp:s$1}}(e$1):e$1,t$1=e$1.comp[0];for(let s$1,i$1,r$1=1;s$1=e$1.comp[r$1],i$1=e$1.rel[r$1-1];r$1++)t$1.push(i$1),t$1=t$1.concat(s$1);return e$1=Rm(t$1,(function(t$2){return t$2.textContent===sm.invisibleTimes&&(t$2.type===Jp.OPERATOR||t$2.type===Jp.INFIXOP)})),e$1.rel.length?Bf(e$1.comp.shift(),e$1.rel,e$1.comp):t$1}))),vf.add(new _f(`simple2prefix`,(t$1=>(t$1.textContent.length>1&&!t$1.textContent[0].match(/[A-Z]/)&&(t$1.role=$p.PREFIXFUNC),t$1)),(t$1=>vf.options.modality===`braille`&&t$1.type===Jp.IDENTIFIER))),vf.add(new _f(`detect_cycle`,(t$1=>{t$1.type=Jp.MATRIX,t$1.role=$p.CYCLE;let e$1=t$1.childNodes[0];return e$1.type=Jp.ROW,e$1.role=$p.CYCLE,e$1.textContent=``,e$1.contentNodes=[],t$1}),(t$1=>t$1.type===Jp.FENCED&&t$1.childNodes[0].type===Jp.INFIXOP&&t$1.childNodes[0].role===$p.IMPLICIT&&t$1.childNodes[0].childNodes.every((function(t$2){return t$2.type===Jp.NUMBER}))&&t$1.childNodes[0].contentNodes.every((function(t$2){return t$2.role===$p.SPACE}))))),vf.add(new kf(`intvar_from_implicit`,(function(t$1){let e$1=t$1[0].childNodes;t$1.splice(0,1,...e$1)}),(t$1=>t$1[0]&&ff(t$1[0])))),vf.add(new _f(`intvar_from_fraction`,(function(t$1){let e$1=t$1.childNodes[1],s$1=e$1.childNodes[0];if(Xm(s$1))return void(s$1.role=$p.INTEGRAL);if(!ff(s$1))return;let i$1=s$1.childNodes.length,r$1=s$1.childNodes[i$1-2],n$1=s$1.childNodes[i$1-1];if(Xm(n$1))return void(n$1.role=$p.INTEGRAL);if(zm(r$1,n$1)){let t$2=Cf.getInstance().prefixNode_(n$1,[r$1]);t$2.role=$p.INTEGRAL,i$1===2?e$1.childNodes[0]=t$2:(s$1.childNodes.pop(),s$1.contentNodes.pop(),s$1.childNodes[i$1-2]=t$2,t$2.parent=s$1)}}),(t$1=>{if(t$1.type!==Jp.INTEGRAL)return!1;let[,e$1,s$1]=t$1.childNodes;return s$1.type===Jp.EMPTY&&e$1.type===Jp.FRACTION}))),vf.add(new _f(`rewrite_subcases`,(function(t$1){t$1.addAnnotation(`Emph`,`top`);let e$1=[];if(t$1.hasAnnotation(`Emph`,`left`)){let s$2=Uf(t$1.childNodes[0].childNodes[0].childNodes[0],!0);s$2.forEach((t$2=>t$2.addAnnotation(`Emph`,`left`))),e$1=e$1.concat(s$2);for(let e$2,s$3=0;e$2=t$1.childNodes[s$3];s$3++)e$2.childNodes.shift()}if(e$1.push(t$1),t$1.hasAnnotation(`Emph`,`right`)){let s$2=Uf(t$1.childNodes[0].childNodes[t$1.childNodes[0].childNodes.length-1].childNodes[0]);s$2.forEach((t$2=>t$2.addAnnotation(`Emph`,`left`))),e$1=e$1.concat(s$2),t$1.childNodes[0].childNodes.pop()}Cf.tableToMultiline(t$1);let s$1=Cf.getInstance().row(e$1),i$1=t$1.annotation.Emph;return t$1.annotation.Emph=[`table`],i$1.forEach((t$2=>s$1.addAnnotation(`Emph`,t$2))),s$1}),(t$1=>{let e$1=!0,s$1=!0;if(Ff(t$1.childNodes[0].childNodes[0].mathmlTree)){for(let s$2,i$1=1;s$2=t$1.childNodes[i$1];i$1++)if(s$2.childNodes[0].childNodes.length){e$1=!1;break}}else e$1=!1;if(e$1&&t$1.addAnnotation(`Emph`,`left`),Ff(t$1.childNodes[0].childNodes[t$1.childNodes[0].childNodes.length-1].mathmlTree)){let e$2=t$1.childNodes[0].childNodes.length;for(let i$1,r$1=1;i$1=t$1.childNodes[r$1];r$1++)if(i$1.childNodes.length>=e$2){s$1=!1;break}}else s$1=!1;return s$1&&t$1.addAnnotation(`Emph`,`right`),e$1||s$1})));let jf=[Jp.PUNCTUATED,Jp.RELSEQ,Jp.MULTIREL,Jp.INFIXOP,Jp.PREFIXOP,Jp.POSTFIXOP];function Uf(t$1,e$1){if(!t$1.childNodes.length)return Hf(t$1),[t$1];let s$1=null;if(t$1.type===Jp.PUNCTUATED&&(e$1?t$1.role===$p.ENDPUNCT:t$1.role===$p.STARTPUNCT)){let i$1=t$1.childNodes;Hf(i$1[e$1?i$1.length-1:0])&&(t$1=i$1[e$1?0:i$1.length-1],s$1=i$1[e$1?i$1.length-1:0])}if(jf.indexOf(t$1.type)!==-1){let i$1=t$1.childNodes;Hf(i$1[e$1?i$1.length-1:0]);let r$1=Df.combineContentChildren(t$1.type,t$1.role,t$1.contentNodes,t$1.childNodes);return s$1&&(e$1?r$1.push(s$1):r$1.unshift(s$1)),r$1}return s$1?e$1?[t$1,s$1]:[s$1,t$1]:[t$1]}let qf={[$p.METRIC]:$p.METRIC,[$p.VBAR]:$p.NEUTRAL,[$p.OPENFENCE]:$p.OPEN,[$p.CLOSEFENCE]:$p.CLOSE};function Hf(t$1){if(t$1.type!==Jp.PUNCTUATION)return!1;let e$1=qf[t$1.role];return!!e$1&&(t$1.role=e$1,t$1.type=Jp.FENCE,t$1.addAnnotation(`Emph`,`fence`),!0)}function Wf(t$1,e$1,s$1,i$1=s$1){let r$1=[];for(;t$1&&t$1.role===s$1;)r$1.push(t$1),t$1=e$1.shift();return r$1.length?(t$1&&e$1.unshift(t$1),[r$1.length===1?r$1[0]:zf(r$1,i$1),e$1]):[t$1,e$1]}function zf(t$1,e$1){let s$1=vf.factory.makeBranchNode(Jp.PUNCTUATION,t$1,[]);return s$1.role=e$1,s$1}function Xf(t$1){return[`[`,``].includes(t$1)}function Vf(t$1){return[`]`,``].includes(t$1)}function Gf(t$1){return[`(`,``,``].includes(t$1)}function Jf(t$1){return[`)`,``,``].includes(t$1)}function Kf(t$1){return t$1.role===$p.INFTY||t$1.type===Jp.PREFIXOP&&t$1.childNodes[0].role===$p.INFTY}function $f(t$1){let e$1=t$1.childNodes[0];if(t$1.type!==Jp.FENCED||e$1?.type!==Jp.PUNCTUATED||e$1?.childNodes.length!==3||e$1?.contentNodes.length!==1||e$1?.childNodes[1].role!==$p.COMMA)return!1;let s$1=t$1.childNodes[0].childNodes[0],i$1=t$1.childNodes[0].childNodes[2],r$1=t$1.contentNodes[0].textContent,n$1=t$1.contentNodes[1].textContent;return!!(Xf(r$1)&&Jf(n$1)||Gf(r$1)&&Vf(n$1))||!(!Gf(r$1)||!Jf(n$1)||!Kf(s$1)&&!Kf(i$1))}function Yf(t$1){return eg(t$1)||function(t$2){return Zf(t$2)||t$2.type===Jp.INFIXOP&&t$2.role===$p.IMPLICIT&&(t$2.childNodes.length===2&&(Zf(t$2.childNodes[0])||eg(t$2.childNodes[0]))&&Zf(t$2.childNodes[1])||t$2.childNodes.length===3&&eg(t$2.childNodes[0])&&Zf(t$2.childNodes[1])&&Zf(t$2.childNodes[2]))}(t$1)||function(t$2){return t$2.type===Jp.PUNCTUATED&&t$2.role===$p.ENDPUNCT&&t$2.childNodes.length===2&&t$2.childNodes[1].role===$p.DEGREE&&(Zf(t$2.childNodes[0])||tg(t$2.childNodes[0])||t$2.childNodes[0].type===Jp.PREFIXOP&&t$2.childNodes[0].role===$p.NEGATIVE&&(Zf(t$2.childNodes[0].childNodes[0])||tg(t$2.childNodes[0].childNodes[0])))}(t$1)||function(t$2){return t$2.type===Jp.PREFIXOP&&t$2.role===$p.NEGATIVE&&Qf(t$2.childNodes[0])&&t$2.childNodes[0].type!==Jp.PREFIXOP&&t$2.childNodes[0].type!==Jp.APPL&&t$2.childNodes[0].type!==Jp.PUNCTUATED}(t$1)||function(t$2){return t$2.type===Jp.APPL&&(t$2.childNodes[0].role===$p.PREFIXFUNC||t$2.childNodes[0].role===$p.SIMPLEFUNC)&&(Qf(t$2.childNodes[1])||t$2.childNodes[1].type===Jp.FENCED&&Qf(t$2.childNodes[1].childNodes[0]))}(t$1)}function Qf(t$1){return t$1.hasAnnotation(`clearspeak`,`simple`)}function Zf(t$1){return t$1.type===Jp.IDENTIFIER&&(t$1.role===$p.LATINLETTER||t$1.role===$p.GREEKLETTER||t$1.role===$p.OTHERLETTER||t$1.role===$p.SIMPLEFUNC)}function tg(t$1){return t$1.type===Jp.NUMBER&&(t$1.role===$p.INTEGER||t$1.role===$p.FLOAT)}function eg(t$1){return tg(t$1)||function(t$2){if(sg(`Fraction_Over`)||sg(`Fraction_FracOver`)||t$2.type!==Jp.FRACTION||t$2.role!==$p.VULGAR)return!1;if(sg(`Fraction_Ordinal`))return!0;let e$1=parseInt(t$2.childNodes[0].textContent,10),s$1=parseInt(t$2.childNodes[1].textContent,10);return e$1>0&&e$1<20&&s$1>0&&s$1<11}(t$1)}function sg(t$1){return gp.getInstance().options.style===t$1}function ig(t$1){return t$1.type===Jp.TEXT&&t$1.role!==$p.LABEL||t$1.type===Jp.PUNCTUATED&&t$1.role===$p.TEXT&&tg(t$1.childNodes[0])&&function(t$2){for(let e$1=0;e$1<t$2.length-1;e$1++)if(t$2[e$1].type!==Jp.TEXT||t$2[e$1].textContent!==``)return!1;return t$2[t$2.length-1].type===Jp.TEXT}(t$1.childNodes.slice(1))||t$1.type===Jp.IDENTIFIER&&t$1.role===$p.UNIT||t$1.type===Jp.INFIXOP&&(t$1.role===$p.IMPLICIT||t$1.role===$p.UNIT)}vf.add(new kf(`ellipses`,(t$1=>{let e$1=[],s$1=t$1.shift();for(;s$1;)[s$1,t$1]=Wf(s$1,t$1,$p.FULLSTOP,$p.ELLIPSIS),[s$1,t$1]=Wf(s$1,t$1,$p.DASH),e$1.push(s$1),s$1=t$1.shift();return e$1}),(t$1=>t$1.length>1))),vf.add(new kf(`op_with_limits`,(t$1=>{let e$1=t$1[0];return e$1.type=Jp.LARGEOP,e$1.role=$p.SUM,t$1}),(t$1=>t$1[0].type===Jp.OPERATOR&&t$1.slice(1).some((t$2=>t$2.type===Jp.RELSEQ||t$2.type===Jp.MULTIREL||t$2.type===Jp.INFIXOP&&t$2.role===$p.ELEMENT||t$2.type===Jp.PUNCTUATED&&t$2.role===$p.SEQUENCE))))),vf.add(new class extends wf{}(`function_from_identifiers`,(t$1=>{let e$1=Cp(t$1.childNodes).map((t$2=>t$2.textContent.trim())).join(``);if(nm.Meaning.get(e$1).type===Jp.UNKNOWN)return t$1;let s$1=vf.factory.makeLeafNode(e$1,Cf.getInstance().font(t$1.getAttribute(`mathvariant`)));return s$1.mathmlTree=t$1,s$1}),(t$1=>{let e$1=Cp(t$1.childNodes);return!(e$1.length<2)&&e$1.every((t$2=>Mp(t$2)===Em.MI&&nm.Meaning.get(t$2.textContent.trim()).role===$p.LATINLETTER))}))),vf.add(new kf(`bracketed_interval`,(t$1=>{let e$1=t$1[0],s$1=t$1[1],i$1=t$1.slice(2),r$1=Cf.getInstance().row(i$1),n$1=vf.factory.makeBranchNode(Jp.FENCED,[r$1],[e$1,s$1]);return n$1.role=$p.INTERVAL,n$1}),(t$1=>{let e$1=t$1[0],s$1=t$1[1],i$1=t$1.slice(2);if(!(e$1&&s$1&&(Vf(e$1.textContent)&&(Xf(s$1.textContent)||Vf(s$1.textContent))||Xf(s$1.textContent)&&(Xf(e$1.textContent)||Vf(e$1.textContent)))))return!1;if(i$1.length===1&&i$1[0].type===Jp.PUNCTUATED&&i$1[0].contentNodes.length===1)return!0;let r$1=Rm(i$1,$m);return!(r$1.rel.length!==1||!r$1.comp[0].length||!r$1.comp[1].length)}))),vf.add(new _f(`interval_heuristic`,(t$1=>(t$1.role=$p.INTERVAL,t$1)),(t$1=>$f(t$1)))),vf.add(new _f(`propagateInterval`,(t$1=>(t$1.childNodes.forEach((t$2=>{$f(t$2)&&(t$2.role=$p.INTERVAL)})),t$1)),(t$1=>xf(t$1)))),Pp(new Sp(`clearspeak`,`simple`,(function(t$1){return Yf(t$1)?`simple`:``}))),Bp(`clearspeak`,`simple`),Pp(new Sp(`clearspeak`,`unit`,(function(t$1){return ig(t$1)?`unit`:``}))),Bp(`clearspeak`,`unit`);let rg=[Jp.MULTIREL,Jp.RELSEQ,Jp.APPL,Jp.ROW,Jp.LINE],ng=[Jp.SUBSCRIPT,Jp.SUPERSCRIPT,Jp.OVERSCORE,Jp.UNDERSCORE];function og(t$1,e$1){let s$1=t$1.parent;if(!s$1)return!1;let i$1=s$1.type;return rg.indexOf(i$1)!==-1||i$1===Jp.PREFIXOP&&s$1.role===$p.NEGATIVE&&!e$1.script&&!e$1.enclosed||i$1===Jp.PREFIXOP&&s$1.role===$p.GEOMETRY||!(i$1!==Jp.PUNCTUATED||e$1.enclosed&&s$1.role!==$p.TEXT)}Pp(new Rp(`nemeth`,`number`,(function(t$1,e$1){return t$1.childNodes.length?(ng.indexOf(t$1.type)!==-1&&(e$1.script=!0),t$1.type===Jp.FENCED?(e$1.number=!1,e$1.enclosed=!0,[``,e$1]):t$1.type===Jp.PREFIXOP&&t$1.role!==$p.GEOMETRY&&t$1.role!==$p.NEGATIVE?(e$1.number=!1,[``,e$1]):(og(t$1,e$1)&&(e$1.number=!0,e$1.enclosed=!1),[``,e$1])):(og(t$1,e$1)&&(e$1.number=!0,e$1.script=!1,e$1.enclosed=!1),[e$1.number?`number`:``,{number:!1,enclosed:e$1.enclosed,script:e$1.script}])}),{number:!0})),Bp(`nemeth`,`number`),Pp(new Rp(`depth`,`depth`,(function(t$1){return t$1.parent?[parseInt(t$1.parent.annotation.depth[0])+1]:[1]}))),Bp(`depth`,`depth`);class ag{static empty(){let t$1=Tp(`<math/>`),e$1=new ag(t$1,new up);return e$1.mathml=t$1,e$1}static fromNode(t$1,e$1){let s$1=ag.empty();return s$1.root=t$1,e$1&&(s$1.mathml=e$1),s$1}static fromRoot(t$1,e$1){let s$1=t$1;for(;s$1.parent;)s$1=s$1.parent;let i$1=ag.fromNode(s$1);return e$1&&(i$1.mathml=e$1),i$1}static fromXml(t$1){let e$1=ag.empty();return t$1.childNodes[0]&&(e$1.root=Dm.fromXml(t$1.childNodes[0])),e$1}constructor(t$1,e$1){this.mathml=t$1,this.options=e$1,this.parser=new Tf(e$1),this.root=this.parser.parse(t$1),this.collator=this.parser.getFactory().leafMap.collateMeaning();let s$1=this.collator.newDefault();s$1&&(this.parser=new Tf(e$1),this.parser.getFactory().defaultMap=s$1,this.root=this.parser.parse(t$1)),cg.visit(this.root,{}),function(t$2){for(let e$2 of Op.values())e$2.active&&e$2.annotate(t$2);for(let e$2 of Dp.values())e$2.active&&e$2.visit(t$2,Object.assign({},e$2.def))}(this.root)}xml(t$1){let e$1=Tp(`<stree></stree>`),s$1=this.root.xml(e$1.ownerDocument,t$1);return e$1.appendChild(s$1),e$1}toString(t$1){return Ip(this.xml(t$1))}formatXml(t$1){return Ap(this.toString(t$1))}displayTree(){this.root.displayTree()}replaceNode(t$1,e$1){let s$1=t$1.parent;s$1?s$1.replaceChild(t$1,e$1):this.root=e$1}toJson(){let t$1={};return t$1.stree=this.root.toJson(),t$1}}let cg=new Rp(`general`,`unit`,((t$1,e$1)=>(mf(t$1)&&(t$1.role=$p.UNIT),!1)));function lg(t$1,e$1){return new ag(t$1,e$1)}let hg=[],dg=!0,ug=new Map;function pg(t$1){hp.getInstance().generate((()=>[`WALKING START: `,t$1.toString()]));let e$1=function(t$2){for(let e$2,s$2=0;e$2=hg[s$2];s$2++)if(e$2.test(t$2))return e$2.constr(t$2);return null}(t$1),s$1;if(e$1)return s$1=e$1.getMathml(),hp.getInstance().generate((()=>[`WALKING END: `,t$1.toString()])),Tg(s$1);if(t$1.mathml.length===1){if(hp.getInstance().output(`Walktree Case 0`),!t$1.childNodes.length)return hp.getInstance().output(`Walktree Case 0.1`),s$1=t$1.mathml[0],Rf(s$1,t$1),hp.getInstance().generate((()=>[`WALKING END: `,t$1.toString()])),Tg(s$1);let e$2=t$1.childNodes[0];if(t$1.childNodes.length===1&&e$2.type===Jp.EMPTY)return hp.getInstance().output(`Walktree Case 0.2`),s$1=t$1.mathml[0],Rf(s$1,t$1),s$1.appendChild(pg(e$2)),hp.getInstance().generate((()=>[`WALKING END: `,t$1.toString()])),Tg(s$1);t$1.childNodes.forEach((t$2=>{t$2.mathml.length||(t$2.mathml=[Sg(t$2)])}))}let i$1=t$1.contentNodes.map(Mg);Rg(t$1,i$1);let r$1=t$1.childNodes.map(pg),n$1=Df.combineContentChildren(t$1.type,t$1.role,i$1,r$1);if(s$1=t$1.mathmlTree,s$1===null)hp.getInstance().output(`Walktree Case 1`),s$1=mg(n$1,t$1);else{let t$2=xg(n$1);hp.getInstance().output(`Walktree Case 2`),t$2?(hp.getInstance().output(`Walktree Case 2.1`),s$1=Ag(t$2)):(hp.getInstance().output(`Walktree Case 2.2`),s$1=Og(s$1))}return s$1=Ig(s$1),function(t$2,e$2,s$2){if(!e$2.length||e$2.length===1&&t$2===e$2[0])return;let i$2=s$2.role===$p.IMPLICIT&&vf.flags.combine_juxtaposition?function(t$3,e$3,s$3){let i$3=[],r$3=Cp(t$3.childNodes),n$2=!1;for(;r$3.length;){let t$4=r$3.shift();if(t$4.hasAttribute(Mf.TYPE)){i$3.push(t$4);continue}let s$4=gg(t$4,e$3);s$4.length!==0&&(s$4.length===1?i$3.push(t$4):(n$2?t$4.setAttribute(`AuxiliaryImplicit`,!0):n$2=!0,r$3=s$4.concat(r$3)))}let o$1=[],a$1=s$3.childNodes.map((function(t$4){return t$4.mathmlTree}));for(;a$1.length;){let t$4=a$1.pop();if(t$4){if(i$3.indexOf(t$4)!==-1)break;e$3.indexOf(t$4)!==-1&&o$1.unshift(t$4)}}return i$3.concat(o$1)}(t$2,e$2,s$2):Cp(t$2.childNodes);if(!i$2.length)return void e$2.forEach((function(e$3){t$2.appendChild(e$3)}));let r$2=0;for(;e$2.length;){let s$3=e$2[0];if(i$2[r$2]===s$3||Ng(i$2[r$2],s$3)){e$2.shift(),r$2++;continue}if(i$2[r$2]&&e$2.indexOf(i$2[r$2])===-1){r$2++;continue}if(Eg(s$3,t$2)){e$2.shift();continue}let n$2=i$2[r$2];if(n$2)bg(t$2,n$2,s$3),e$2.shift();else{if(s$3.parentNode){t$2=Ag(s$3),e$2.shift();continue}let i$3=e$2[1];if(i$3&&i$3.parentNode){(t$2=Ag(i$3)).insertBefore(s$3,i$3),e$2.shift(),e$2.shift();continue}t$2.insertBefore(s$3,null),e$2.shift()}}}(s$1,n$1,t$1),ug.has(t$1.id)||(ug.set(t$1.id,!0),Rf(s$1,t$1)),hp.getInstance().generate((()=>[`WALKING END: `,t$1.toString()])),Tg(s$1)}function mg(t$1,e$1){let s$1=function(t$2){let e$2=xg(t$2);if(!e$2)return{type:yg.INVALID,node:null};let s$2=xg(t$2.slice().reverse());if(e$2===s$2)return{type:yg.VALID,node:e$2};let i$2=vg(e$2),r$2=function(t$3,e$3){let s$3=0;for(;t$3[s$3]&&e$3.indexOf(t$3[s$3])===-1;)s$3++;return t$3.slice(0,s$3+1)}(i$2,t$2),n$1=vg(s$2,(function(t$3){return r$2.indexOf(t$3)!==-1})),o$1=n$1[0],a$1=r$2.indexOf(o$1);return a$1===-1?{type:yg.INVALID,node:null}:{type:r$2.length===i$2.length?Cg(r$2[a$1+1],n$1[1])?yg.VALID:yg.INVALID:yg.PRUNED,node:o$1}}(t$1),i$1=s$1.node,r$1=s$1.type;if(r$1!==yg.VALID||!km(i$1)||!i$1.parentNode&&e$1.parent){if(hp.getInstance().output(`Walktree Case 1.1`),i$1=Of(),r$1===yg.PRUNED)hp.getInstance().output(`Walktree Case 1.1.0`),i$1=function(t$2,e$2,s$2){let i$2=wg(e$2);if(wm(i$2)){hp.getInstance().output(`Walktree Case 1.1.0.0`),fg(i$2,t$2),Cp(i$2.childNodes).forEach((function(e$4){t$2.appendChild(e$4)}));let e$3=t$2;t$2=i$2,i$2=e$3}let r$2=s$2.indexOf(e$2);return s$2[r$2]=i$2,_p(i$2,t$2),t$2.appendChild(i$2),s$2.forEach((function(e$3){t$2.appendChild(e$3)})),t$2}(i$1,s$1.node,t$1);else if(t$1[0]){hp.getInstance().output(`Walktree Case 1.1.1`);let e$2=xg(t$1);if(e$2){let s$2=function(t$2,e$3){let s$3=Cp(t$2.childNodes),i$2=1/0,r$2=-1/0;return e$3.forEach((function(t$3){let e$4=s$3.indexOf(t$3);e$4!==-1&&(i$2=Math.min(i$2,e$4),r$2=Math.max(r$2,e$4))})),s$3.slice(i$2,r$2+1)}(Ag(e$2),t$1);_p(e$2,i$1),s$2.forEach((function(t$2){i$1.appendChild(t$2)}))}else fg(i$1,t$1[0]),i$1=t$1[0]}}return e$1.mathmlTree||=i$1,i$1}function fg(t$1,e$1){for(let s$1 of If)t$1.hasAttribute(s$1)&&(e$1.setAttribute(s$1,t$1.getAttribute(s$1)),t$1.removeAttribute(s$1))}function gg(t$1,e$1){let s$1=[],i$1=Cp(t$1.childNodes);for(;i$1.length;){let t$2=i$1.shift();t$2.nodeType===wp.ELEMENT_NODE&&(t$2.hasAttribute(Mf.TYPE)||e$1.indexOf(t$2)!==-1?s$1.push(t$2):i$1=Cp(t$2.childNodes).concat(i$1))}return s$1}function bg(t$1,e$1,s$1){let i$1=e$1,r$1=Ag(i$1);for(;r$1&&r$1.firstChild===i$1&&!i$1.hasAttribute(`AuxiliaryImplicit`)&&r$1!==t$1;)i$1=r$1,r$1=Ag(i$1);r$1&&(r$1.insertBefore(s$1,i$1),i$1.removeAttribute(`AuxiliaryImplicit`))}function Eg(t$1,e$1){if(!t$1)return!1;do if((t$1=Ag(t$1))===e$1)return!0;while(t$1);return!1}function Ng(t$1,e$1){let s$1=sm.functionApplication;if(t$1&&e$1&&t$1.textContent&&e$1.textContent&&t$1.textContent===s$1&&e$1.textContent===s$1&&e$1.getAttribute(Mf.ADDED)===`true`){for(let s$2,i$1=0;s$2=t$1.attributes[i$1];i$1++)e$1.hasAttribute(s$2.nodeName)||e$1.setAttribute(s$2.nodeName,s$2.nodeValue);return _p(t$1,e$1),!0}return!1}var yg;function xg(t$1){let e$1=0,s$1=null;for(;!s$1&&e$1<t$1.length;)t$1[e$1].parentNode&&(s$1=t$1[e$1]),e$1++;return s$1}function vg(t$1,e$1){let s$1=e$1||(t$2=>!1),i$1=[t$1];for(;!s$1(t$1)&&!wm(t$1)&&t$1.parentNode;)t$1=Ag(t$1),i$1.unshift(t$1);return i$1}function Cg(t$1,e$1){return!(!t$1||!e$1||t$1.previousSibling||e$1.nextSibling)}function Tg(t$1){for(;!wm(t$1)&&_g(t$1);)t$1=Ag(t$1);return t$1}function wg(t$1){let e$1=Cp(t$1.childNodes);if(!e$1)return t$1;let s$1=e$1.filter((function(t$2){return t$2.nodeType===wp.ELEMENT_NODE&&!_m(t$2)}));return s$1.length===1&&km(s$1[0])&&!s$1[0].hasAttribute(Mf.TYPE)?wg(s$1[0]):t$1}function _g(t$1){let e$1=Ag(t$1);return!(!e$1||!km(e$1))&&Cp(e$1.childNodes).every((function(e$2){return e$2===t$1||kg(e$2)}))}function kg(t$1){if(t$1.nodeType!==wp.ELEMENT_NODE||!t$1||_m(t$1))return!0;let e$1=Cp(t$1.childNodes);return!(!km(t$1)&&e$1.length||function(t$2){return!!t$2&&Cm.includes(Mp(t$2))}(t$1)||t$1.hasAttribute(Mf.TYPE)||Am(t$1))&&Cp(t$1.childNodes).every(kg)}function Ag(t$1){return t$1.parentNode}function Lg(t$1,e$1){let s$1=new Df(e$1);t$1.setAttribute(Mf.COLLAPSED,s$1.toString())}function Mg(t$1){if(t$1.mathml.length)return pg(t$1);let e$1=Sg(t$1);return t$1.mathml=[e$1],e$1}function Ig(t$1){if(Mp(t$1)!==Em.MFENCED)return t$1;let e$1=Of();for(let s$1,i$1=0;s$1=t$1.attributes[i$1];i$1++)[`open`,`close`,`separators`].indexOf(s$1.name)===-1&&e$1.setAttribute(s$1.name,s$1.value);return Cp(t$1.childNodes).forEach((function(t$2){e$1.appendChild(t$2)})),_p(t$1,e$1),e$1}function Sg(t$1){let e$1=kp(`mo`),s$1=(i$1=t$1.textContent,cp.f.document.createTextNode(i$1));var i$1;return e$1.appendChild(s$1),Rf(e$1,t$1),e$1.setAttribute(Mf.ADDED,`true`),e$1}function Rg(t$1,e$1){let s$1=t$1.type+(t$1.textContent?`,`+t$1.textContent:``);e$1.forEach((function(t$2){Og(t$2).setAttribute(Mf.OPERATOR,s$1)}))}function Og(t$1){let e$1=Cp(t$1.childNodes);if(!e$1)return t$1;let s$1=e$1.filter((function(t$2){return!kg(t$2)})),i$1=[];for(let t$2,e$2=0;t$2=s$1[e$2];e$2++)if(km(t$2)&&t$2.getAttribute(Mf.TYPE)!==Jp.PUNCTUATION){let e$3=Og(t$2);e$3&&e$3!==t$2&&i$1.push(e$3)}else i$1.push(t$2);return i$1.length===1?i$1[0]:t$1}function Dg(t$1){return Ap(t$1.toString()).toString().replace(new RegExp(Lf,`g`),``)}function Pg(t$1,e$1){let s$1=!!e$1,i$1=e$1||[],r$1=t$1.parent,n$1=t$1.contentNodes.map((function(t$2){return t$2.id}));n$1.unshift(`c`);let o$1=[t$1.id,n$1];for(let e$2,n$2=0;e$2=t$1.childNodes[n$2];n$2++){let t$2=pg(e$2);i$1.push(t$2);let n$3=Og(t$2);r$1&&!s$1&&n$3.setAttribute(Mf.PARENT,r$1.id.toString()),o$1.push(e$2.id)}return o$1}(function(t$1){t$1.VALID=`valid`,t$1.INVALID=`invalid`,t$1.PRUNED=`pruned`})(yg||={});class Bg{constructor(t$1){this.semantic=t$1}}class Fg extends Bg{static test(t$1){return!t$1.mathmlTree&&t$1.type===Jp.LINE&&t$1.role===$p.BINOMIAL}constructor(t$1){super(t$1),this.mml=t$1.mathmlTree}getMathml(){if(!this.semantic.childNodes.length)return this.mml;let t$1=this.semantic.childNodes[0];if(this.mml=pg(t$1),this.mml.hasAttribute(Mf.TYPE)){let t$2=Of();_p(this.mml,t$2),t$2.appendChild(this.mml),this.mml=t$2}return Rf(this.mml,this.semantic),this.mml}}class jg extends Bg{static test(t$1){if(!t$1.mathmlTree||!t$1.childNodes.length)return!1;let e$1=Mp(t$1.mathmlTree),s$1=t$1.childNodes[0].role;return e$1===Em.MSUBSUP&&s$1===$p.SUBSUP||e$1===Em.MUNDEROVER&&s$1===$p.UNDEROVER}constructor(t$1){super(t$1),this.mml=t$1.mathmlTree}getMathml(){let t$1=this.semantic.childNodes[0],e$1=t$1.childNodes[0],s$1=this.semantic.childNodes[1],i$1=t$1.childNodes[1],r$1=pg(s$1),n$1=pg(e$1),o$1=pg(i$1);return Rf(this.mml,this.semantic),this.mml.setAttribute(Mf.CHILDREN,Sf([e$1,i$1,s$1])),[n$1,o$1,r$1].forEach((t$2=>Og(t$2).setAttribute(Mf.PARENT,this.mml.getAttribute(Mf.ID)))),this.mml.setAttribute(Mf.TYPE,t$1.role),Lg(this.mml,[this.semantic.id,[t$1.id,e$1.id,i$1.id],s$1.id]),this.mml}}class Ug extends Bg{static multiscriptIndex(t$1){return t$1.type===Jp.PUNCTUATED&&t$1.contentNodes[0].role===$p.DUMMY?Pg(t$1):(pg(t$1),t$1.id)}static createNone_(t$1){let e$1=kp(`none`);return t$1&&Rf(e$1,t$1),e$1.setAttribute(Mf.ADDED,`true`),e$1}constructor(t$1){super(t$1),this.mml=t$1.mathmlTree}completeMultiscript(t$1,e$1){let s$1=Cp(this.mml.childNodes).slice(1),i$1=0,r$1=t$2=>{for(let e$2 of t$2){let t$3=s$1[i$1];if(t$3&&e$2===parseInt(t$3.getAttribute(Mf.ID)))t$3.setAttribute(Mf.PARENT,this.semantic.id.toString()),i$1++;else if(t$3&&e$2===parseInt(Og(t$3).getAttribute(Mf.ID)))Og(t$3).setAttribute(Mf.PARENT,this.semantic.id.toString()),i$1++;else{let s$2=this.semantic.querySelectorAll((t$4=>t$4.id===e$2));this.mml.insertBefore(Ug.createNone_(s$2[0]),t$3||null)}}};r$1(t$1),s$1[i$1]&&Mp(s$1[i$1])!==Em.MPRESCRIPTS?this.mml.insertBefore(s$1[i$1],kp(`mprescripts`)):i$1++,r$1(e$1)}}class qg extends Ug{static test(t$1){return t$1.mathmlTree?Mp(t$1.mathmlTree)===Em.MMULTISCRIPTS&&(t$1.type===Jp.SUPERSCRIPT||t$1.type===Jp.SUBSCRIPT):!1}constructor(t$1){super(t$1)}getMathml(){let t$1,e$1,s$1;if(Rf(this.mml,this.semantic),this.semantic.childNodes[0]&&this.semantic.childNodes[0].role===$p.SUBSUP){let i$2=this.semantic.childNodes[0];t$1=i$2.childNodes[0],e$1=Ug.multiscriptIndex(this.semantic.childNodes[1]),s$1=Ug.multiscriptIndex(i$2.childNodes[1]);let r$1=[this.semantic.id,[i$2.id,t$1.id,s$1],e$1];Lg(this.mml,r$1),this.mml.setAttribute(Mf.TYPE,i$2.role),this.completeMultiscript(Df.interleaveIds(s$1,e$1),[])}else{t$1=this.semantic.childNodes[0],e$1=Ug.multiscriptIndex(this.semantic.childNodes[1]);let s$2=[this.semantic.id,t$1.id,e$1];Lg(this.mml,s$2)}let i$1=Df.collapsedLeafs(s$1||[],e$1);return Og(pg(t$1)).setAttribute(Mf.PARENT,this.semantic.id.toString()),i$1.unshift(t$1.id),this.mml.setAttribute(Mf.CHILDREN,i$1.join(`,`)),this.mml}}class Hg extends Ug{static test(t$1){return!!t$1.mathmlTree&&t$1.type===Jp.TENSOR}constructor(t$1){super(t$1)}getMathml(){pg(this.semantic.childNodes[0]);let t$1=Ug.multiscriptIndex(this.semantic.childNodes[1]),e$1=Ug.multiscriptIndex(this.semantic.childNodes[2]),s$1=Ug.multiscriptIndex(this.semantic.childNodes[3]),i$1=Ug.multiscriptIndex(this.semantic.childNodes[4]);Rf(this.mml,this.semantic);let r$1=[this.semantic.id,this.semantic.childNodes[0].id,t$1,e$1,s$1,i$1];Lg(this.mml,r$1);let n$1=Df.collapsedLeafs(t$1,e$1,s$1,i$1);return n$1.unshift(this.semantic.childNodes[0].id),this.mml.setAttribute(Mf.CHILDREN,n$1.join(`,`)),this.completeMultiscript(Df.interleaveIds(s$1,i$1),Df.interleaveIds(t$1,e$1)),this.mml}}class Wg extends Bg{static test(t$1){return!(!t$1.mathmlTree||!t$1.fencePointer||t$1.mathmlTree.getAttribute(`data-semantic-type`))}static makeEmptyNode_(t$1){let e$1=Of(),s$1=new Dm(t$1);return s$1.type=Jp.EMPTY,s$1.mathmlTree=e$1,s$1}static fencedMap_(t$1,e$1){e$1[t$1.id]=t$1.mathmlTree,t$1.embellished&&Wg.fencedMap_(t$1.childNodes[0],e$1)}constructor(t$1){super(t$1),this.fenced=null,this.fencedMml=null,this.fencedMmlNodes=[],this.ofence=null,this.ofenceMml=null,this.ofenceMap={},this.cfence=null,this.cfenceMml=null,this.cfenceMap={},this.parentCleanup=[]}getMathml(){return this.getFenced_(),this.fencedMml=pg(this.fenced),this.getFencesMml_(),this.fenced.type!==Jp.EMPTY||this.fencedMml.parentNode||(this.fencedMml.setAttribute(Mf.ADDED,`true`),this.cfenceMml.parentNode.insertBefore(this.fencedMml,this.cfenceMml)),this.getFencedMml_(),this.rewrite_()}fencedElement(t$1){return t$1.type===Jp.FENCED||t$1.type===Jp.MATRIX||t$1.type===Jp.VECTOR}getFenced_(){let t$1=this.semantic;for(;!this.fencedElement(t$1);)t$1=t$1.childNodes[0];this.fenced=t$1.childNodes[0],this.ofence=t$1.contentNodes[0],this.cfence=t$1.contentNodes[1],Wg.fencedMap_(this.ofence,this.ofenceMap),Wg.fencedMap_(this.cfence,this.cfenceMap)}getFencedMml_(){let t$1=this.ofenceMml.nextSibling;for(t$1=t$1===this.fencedMml?t$1:this.fencedMml;t$1&&t$1!==this.cfenceMml;)this.fencedMmlNodes.push(t$1),t$1=t$1.nextSibling}getFencesMml_(){let t$1=this.semantic,e$1=Object.keys(this.ofenceMap),s$1=Object.keys(this.cfenceMap);for(;!(this.ofenceMml&&this.cfenceMml||t$1===this.fenced);)e$1.indexOf(t$1.fencePointer)===-1||this.ofenceMml||(this.ofenceMml=t$1.mathmlTree),s$1.indexOf(t$1.fencePointer)===-1||this.cfenceMml||(this.cfenceMml=t$1.mathmlTree),t$1=t$1.childNodes[0];this.ofenceMml||=this.ofence.mathmlTree,this.cfenceMml||=this.cfence.mathmlTree,this.ofenceMml&&=Tg(this.ofenceMml),this.cfenceMml&&=Tg(this.cfenceMml)}rewrite_(){let t$1=this.semantic,e$1=null,s$1=this.introduceNewLayer_();for(Rf(s$1,this.fenced.parent);!this.fencedElement(t$1);){let i$1=t$1.mathmlTree,r$1=this.specialCase_(t$1,i$1);if(r$1)t$1=r$1;else{Rf(i$1,t$1);let e$2=[];for(let s$2,i$2=1;s$2=t$1.childNodes[i$2];i$2++)e$2.push(pg(s$2));t$1=t$1.childNodes[0]}let n$1=kp(`dummy`),o$1=i$1.childNodes[0];_p(i$1,n$1),_p(s$1,i$1),_p(i$1.childNodes[0],s$1),_p(n$1,o$1),e$1||=i$1}return pg(this.ofence),pg(this.cfence),this.cleanupParents_(),e$1||s$1}specialCase_(t$1,e$1){let s$1=Mp(e$1),i$1,r$1=null;if(s$1===Em.MSUBSUP?(r$1=t$1.childNodes[0],i$1=jg):s$1===Em.MMULTISCRIPTS&&(t$1.type===Jp.SUPERSCRIPT||t$1.type===Jp.SUBSCRIPT?i$1=qg:t$1.type===Jp.TENSOR&&(i$1=Hg),r$1=i$1&&t$1.childNodes[0]&&t$1.childNodes[0].role===$p.SUBSUP?t$1.childNodes[0]:t$1),!r$1)return null;let n$1=r$1.childNodes[0],o$1=Wg.makeEmptyNode_(n$1.id);return r$1.childNodes[0]=o$1,e$1=new i$1(t$1).getMathml(),r$1.childNodes[0]=n$1,this.parentCleanup.push(e$1),r$1.childNodes[0]}introduceNewLayer_(){let t$1=this.fullFence(this.ofenceMml),e$1=this.fullFence(this.cfenceMml),s$1=Of();if(_p(this.fencedMml,s$1),this.fencedMmlNodes.forEach((t$2=>s$1.appendChild(t$2))),s$1.insertBefore(t$1,this.fencedMml),s$1.appendChild(e$1),!s$1.parentNode){let t$2=Of();for(;s$1.childNodes.length>0;)t$2.appendChild(s$1.childNodes[0]);s$1.appendChild(t$2),s$1=t$2}return s$1}fullFence(t$1){let e$1=this.fencedMml.parentNode,s$1=t$1;for(;s$1.parentNode&&s$1.parentNode!==e$1;)s$1=s$1.parentNode;return s$1}cleanupParents_(){this.parentCleanup.forEach((function(t$1){let e$1=t$1.childNodes[1].getAttribute(Mf.PARENT);t$1.childNodes[0].setAttribute(Mf.PARENT,e$1)}))}}class zg extends Bg{static test(t$1){return!!t$1.mathmlTree&&t$1.hasAnnotation(`Emph`,`top`)}constructor(t$1){super(t$1),this.mrows=[],this.mml=t$1.mathmlTree}getMathml(){if(this.recurseToTable(this.semantic),this.mrows.length){let t$1=Of();this.mml.parentNode.insertBefore(t$1,this.mml);for(let e$1 of this.mrows)t$1.appendChild(e$1);t$1.appendChild(this.mml)}return this.mml}recurseToTable(t$1){var e$1,s$1;if(t$1.hasAnnotation(`Emph`,`top`)||t$1.hasAnnotation(`Emph`,`fence`)||!t$1.hasAnnotation(`Emph`,`left`)&&!t$1.hasAnnotation(`Emph`,`right`)){if(!t$1.mathmlTree||Mp(t$1.mathmlTree)===Em.MTABLE&&t$1.annotation.Emph?.length&&t$1.annotation.Emph[0]!==`table`){let e$2=Of();Rf(e$2,t$1),this.mrows.unshift(e$2)}else{if(Mp(t$1.mathmlTree)===Em.MTABLE&&t$1.annotation.Emph?.length&&t$1.annotation.Emph[0]===`table`)return void this.finalizeTable(t$1);Rf(t$1.mathmlTree,t$1)}t$1.childNodes.forEach(this.recurseToTable.bind(this)),t$1.textContent||t$1.type===`punctuated`?Rg(t$1,t$1.contentNodes.map((t$2=>{let e$2=Mg(t$2);return e$2.hasAttribute(`data-semantic-added`)?this.mrows.unshift(e$2):this.recurseToTable(t$2),e$2}))):t$1.contentNodes.forEach(this.recurseToTable.bind(this))}else pg(t$1)}finalizeTable(t$1){Rf(t$1.mathmlTree,t$1),t$1.contentNodes.forEach((t$2=>{pg(t$2)})),t$1.childNodes.forEach((t$2=>{pg(t$2)}))}}class Xg extends Bg{static test(t$1){if(!t$1.mathmlTree||!t$1.childNodes.length)return!1;let e$1=Mp(t$1.mathmlTree),s$1=t$1.type;return(s$1===Jp.LIMUPPER||s$1===Jp.LIMLOWER)&&(e$1===Em.MSUBSUP||e$1===Em.MUNDEROVER)||s$1===Jp.LIMBOTH&&(e$1===Em.MSUB||e$1===Em.MUNDER||e$1===Em.MSUP||e$1===Em.MOVER)}static walkTree_(t$1){t$1&&pg(t$1)}constructor(t$1){super(t$1),this.mml=t$1.mathmlTree}getMathml(){let t$1=this.semantic.childNodes;return this.semantic.type!==Jp.LIMBOTH&&this.mml.childNodes.length>=3&&(this.mml=mg([this.mml],this.semantic)),Rf(this.mml,this.semantic),t$1[0].mathmlTree||(t$1[0].mathmlTree=this.semantic.mathmlTree),t$1.forEach(Xg.walkTree_),this.mml}}class Vg extends Bg{static test(t$1){return!!t$1.mathmlTree&&t$1.type===Jp.LINE}constructor(t$1){super(t$1),this.mml=t$1.mathmlTree}getMathml(){return this.semantic.contentNodes.length&&pg(this.semantic.contentNodes[0]),this.semantic.childNodes.length&&pg(this.semantic.childNodes[0]),Rf(this.mml,this.semantic),this.mml}}class Gg extends Bg{static test(t$1){return!!t$1.mathmlTree&&(t$1.type===Jp.INFERENCE||t$1.type===Jp.PREMISES)}constructor(t$1){super(t$1),this.mml=t$1.mathmlTree}getMathml(){return this.semantic.childNodes.length?(this.semantic.contentNodes.forEach((function(t$1){pg(t$1),Rf(t$1.mathmlTree,t$1)})),this.semantic.childNodes.forEach((function(t$1){pg(t$1)})),Rf(this.mml,this.semantic),this.mml.getAttribute(`data-semantic-id`)===this.mml.getAttribute(`data-semantic-parent`)&&this.mml.removeAttribute(`data-semantic-parent`),this.mml):this.mml}}class Jg extends Bg{static test(t$1){return t$1.type===Jp.MATRIX||t$1.type===Jp.VECTOR||t$1.type===Jp.CASES}constructor(t$1){super(t$1),this.inner=[],this.mml=t$1.mathmlTree}getMathml(){let t$1=Mg(this.semantic.contentNodes[0]),e$1=this.semantic.contentNodes[1]?Mg(this.semantic.contentNodes[1]):null;if(this.inner=this.semantic.childNodes.map(pg),this.mml)if(Mp(this.mml)===Em.MFENCED){let s$1=this.mml.childNodes;this.mml.insertBefore(t$1,s$1[0]||null),e$1&&this.mml.appendChild(e$1),this.mml=Ig(this.mml)}else{let s$1=[t$1,this.mml];e$1&&s$1.push(e$1),this.mml=mg(s$1,this.semantic)}else this.mml=mg([t$1].concat(this.inner,[e$1]),this.semantic);return Rf(this.mml,this.semantic),this.mml}}class Kg extends Bg{static test(t$1){return t$1.type===Jp.PUNCTUATED&&(t$1.role===$p.TEXT||t$1.contentNodes.every((t$2=>t$2.role===$p.DUMMY)))}constructor(t$1){super(t$1),this.mml=t$1.mathmlTree}getMathml(){let t$1=[],e$1=Pg(this.semantic,t$1);return this.mml=mg(t$1,this.semantic),Rf(this.mml,this.semantic),this.mml.removeAttribute(Mf.CONTENT),Lg(this.mml,e$1),this.mml}}function $g(t$1,e$1){let s$1=t$1.cloneNode(!0);return function(t$2,e$2,s$2){return hp.getInstance().generate((()=>[`Original MathML`,Dg(t$2)])),ug.clear(),pg(e$2.root),s$2.structure&&t$2.setAttribute(Mf.STRUCTURE,Df.fromStructure(t$2,e$2,s$2).toString()),hp.getInstance().generate((()=>[`Semantic Tree
`,Dg(e$2),`Semantically enriched MathML
`,Dg(t$2)])),t$2}(s$1,lg(s$1,e$1),e$1)}hg.push({test:Xg.test,constr:t$1=>new Xg(t$1)},{test:Wg.test,constr:t$1=>new Wg(t$1)},{test:jg.test,constr:t$1=>new jg(t$1)},{test:Hg.test,constr:t$1=>new Hg(t$1)},{test:qg.test,constr:t$1=>new qg(t$1)},{test:Vg.test,constr:t$1=>new Vg(t$1)},{test:Fg.test,constr:t$1=>new Fg(t$1)},{test:Gg.test,constr:t$1=>new Gg(t$1)},{test:zg.test,constr:t$1=>new zg(t$1)},{test:Jg.test,constr:t$1=>new Jg(t$1)},{test:Kg.test,constr:t$1=>new Kg(t$1)});let Yg=new sp({AbsoluteValue:[`Auto`,`AbsEnd`,`Cardinality`,`Determinant`],Bar:[`Auto`,`Conjugate`],Caps:[`Auto`,`SayCaps`],CombinationPermutation:[`Auto`,`ChoosePermute`],Currency:[`Auto`,`Position`,`Prefix`],Ellipses:[`Auto`,`AndSoOn`],Enclosed:[`Auto`,`EndEnclose`],Exponent:[`Auto`,`AfterPower`,`Ordinal`,`OrdinalPower`,`Exponent`],Fraction:[`Auto`,`EndFrac`,`FracOver`,`General`,`GeneralEndFrac`,`Ordinal`,`Over`,`OverEndFrac`,`Per`],Functions:[`Auto`,`None`,`Reciprocal`],Inference:[`Auto`,`Long`],ImpliedTimes:[`Auto`,`MoreImpliedTimes`,`None`],Log:[`Auto`,`LnAsNaturalLog`],Matrix:[`Auto`,`Combinatoric`,`EndMatrix`,`EndVector`,`SilentColNum`,`SpeakColNum`,`Vector`],MultiLineLabel:[`Auto`,`Case`,`Constraint`,`Equation`,`Line`,`None`,`Row`,`Step`],MultiLineOverview:[`Auto`,`None`],MultiLinePausesBetweenColumns:[`Auto`,`Long`,`Short`],MultsymbolDot:[`Auto`,`Dot`],MultsymbolX:[`Auto`,`By`,`Cross`],Paren:[`Auto`,`CoordPoint`,`Interval`,`Silent`,`Speak`,`SpeakNestingLevel`],Prime:[`Auto`,`Angle`,`Length`],Roots:[`Auto`,`PosNegSqRoot`,`PosNegSqRootEnd`,`RootEnd`],SetMemberSymbol:[`Auto`,`Belongs`,`Element`,`Member`,`In`],Sets:[`Auto`,`SilentBracket`,`woAll`],TriangleSymbol:[`Auto`,`Delta`],Trig:[`Auto`,`ArcTrig`,`TrigInverse`,`Reciprocal`],VerticalLine:[`Auto`,`Divides`,`Given`,`SuchThat`]}),Qg=`Auto`;function Zg(t$1){let e$1=t$1.split(`:`),s$1={},i$1=Yg.getProperties(),r$1=Object.keys(i$1);for(let t$2,n$1=0;t$2=e$1[n$1];n$1++){let e$2=t$2.split(`_`);if(r$1.indexOf(e$2[0])===-1)continue;let n$2=e$2[1];n$2&&n$2!==`Auto`&&i$1[e$2[0]].indexOf(n$2)!==-1&&(s$1[e$2[0]]=e$2[1])}return s$1}function tb(t$1){let e$1=Object.keys(t$1),s$1=[];for(let i$1=0;i$1<e$1.length;i$1++)s$1.push(e$1[i$1]+`_`+t$1[e$1[i$1]]);return s$1.length?s$1.join(`:`):ip.DEFAULT_VALUE}let eb=dp.u.LOCALES,sb=t$1=>gp.getInstance().setup(t$1),ib=()=>gp.getInstance().json(),rb=t$1=>function(t$2,e$1){let s$1=Tp(t$2);try{return $g(s$1,e$1)}catch(t$3){return console.error(t$3),s$1}}(t$1,gp.getInstance().options),nb=Tp,ob=function(t$1,e$1,s$1){if(t$1===`default`)return e$1+`_`+s$1;let i$1=Zg(t$1);return i$1[e$1]=s$1,tb(i$1)},ab=Zg,cb=tb;var lb=function(t$1,e$1,s$1,i$1){return new(s$1||=Promise)((function(r$1,n$1){function o$1(t$2){try{c$1(i$1.next(t$2))}catch(t$3){n$1(t$3)}}function a$1(t$2){try{c$1(i$1.throw(t$2))}catch(t$3){n$1(t$3)}}function c$1(t$2){var e$2;t$2.done?r$1(t$2.value):(e$2=t$2.value,e$2 instanceof s$1?e$2:new s$1((function(t$3){t$3(e$2)}))).then(o$1,a$1)}c$1((i$1=i$1.apply(t$1,e$1||[])).next())}))};let hb={},db=null;function ub(t$1){var e$1,s$1;let i$1=t$1?.match(/^clearspeak-(.*)/);return db=(i$1&&i$1[1])??db??`default`,db}let pb=new Map,mb=new Map,fb=0;function gb(t$1,e$1){let s$1=pb.get(e$1);(function(t$2,e$2){let s$2=t$2.pool.lookup(`speechRules`);hb=ab(ub(t$2.settings.speechRules));for(let i$2 of e$2)t$2.factory.get(`variable`)(t$2.factory,{name:`csprf_`+i$2,setter:t$3=>{hb[i$2]=t$3,s$2.setValue(`clearspeak-`+cb(hb))},getter:()=>hb[i$2]||`Auto`},t$2.pool)})(t$1,Object.keys(s$1));let i$1=[];for(let t$2 of Object.getOwnPropertyNames(s$1))i$1.push({title:t$2,values:s$1[t$2].map((e$2=>e$2.replace(RegExp(`^`+t$2+`_`),``))),variable:`csprf_`+t$2});let r$1=t$1.factory.get(`selectionBox`)(t$1.factory,{title:`Clearspeak Preferences`,signature:``,order:`alphabetic`,grid:`square`,selections:i$1},t$1);return{type:`command`,id:`ClearspeakPreferences`,content:`Select Preferences`,action:()=>r$1.post(0,0)}}function bb(t$1,e$1,s$1){return lb(this,void 0,void 0,(function*(){var i$1,r$1;let n$1=i$2=>{s$1(t$1.factory.get(`subMenu`)(t$1.factory,{items:i$2,id:`Clearspeak`},e$1))};if(!t$1.settings.speech||!t$1.settings.enrich)return void n$1([]);let o$1=t$1.pool.lookup(`locale`).getValue();if(yield function(t$2,e$2){return lb(this,void 0,void 0,(function*(){pb.has(e$2)||(yield t$2.mathItem.generatorPool.getLocalePreferences(pb))}))}(t$1,o$1),!pb.get(o$1))return void n$1([]);let a$1=gb(t$1,o$1),c$1=[];if(t$1.settings.speech){let e$2=t$1.mathItem,s$2=e$2?.explorers?.speech,n$2=ub(t$1.settings.speechRules);c$1=c$1.concat(function(t$2){return[{type:`radio`,content:`No Preferences`,id:`clearspeak-default`,variable:`speechRules`},{type:`radio`,content:`Current Preferences`,id:`clearspeak-`+t$2,variable:`speechRules`},{type:`rule`}]}(n$2));let l$1=(s$2?.refocus)?.getAttribute(`data-semantic-id`)??null,h$1=fb++;yield e$2.generatorPool.getRelevantPreferences(e$2,l$1,mb,h$1);let d$1=mb.get(h$1);if(mb.delete(h$1),d$1){let t$2=function(t$3,e$3,s$3){let i$2=pb.get(s$3);return[{type:`label`,content:`Preferences for `+e$3},{type:`rule`}].concat(i$2[e$3].map((function(e$4){let[s$4,i$3]=e$4.split(`_`);return{type:`radioCompare`,content:i$3,id:`clearspeak-`+ob(t$3,s$4,i$3),variable:`speechRules`,comparator:(t$4,e$5)=>{if(t$4===e$5)return!0;if(i$3!==`Auto`)return!1;let[r$2,n$3]=t$4.split(`-`),[o$2]=e$5.split(`-`);return r$2===o$2&&!ab(n$3)[s$4]}}})))}(n$2,d$1,o$1);c$1=c$1.concat(t$2)}}c$1.splice(2,0,a$1),n$1(c$1)}))}Qu.DynamicSubmenus.set(`Clearspeak`,[bb,`speech`]);let Eb=null;function Nb(t$1,e$1,s$1){if(Eb)return void s$1(Eb);let i$1=[];for(let t$2 of eb.keys())t$2!==`nemeth`&&t$2!==`euro`&&i$1.push({type:`radio`,id:t$2,content:eb.get(t$2)||t$2,variable:`locale`});i$1.sort(((t$2,e$2)=>t$2.content.localeCompare(e$2.content,`en`))),Eb=t$1.factory.get(`subMenu`)(t$1.factory,{items:i$1,id:`Language`},e$1),s$1(Eb)}Qu.DynamicSubmenus.set(`A11yLanguage`,[Nb,`speech`]);let yb=hi.os===`MacOS`;function xb(t$1){let e$1=hi.document,s$1=e$1.createElement(`textarea`);s$1.value=t$1,s$1.setAttribute(`readonly`,``),s$1.style.cssText=`height: 1px; width: 1px; padding: 1px; position: absolute; left: -10px`,e$1.body.appendChild(s$1),s$1.select();try{e$1.execCommand(`copy`)}catch(t$2){alert(`Can't copy to clipboard: ${t$2.message}`)}e$1.body.removeChild(s$1)}function vb(t$1,e$1,s$1){return(i$1,r$1)=>(function(t$2,e$2,s$2){if(t$2){for(let i$2 of t$2.childNodes)if(i$2.isKind(`annotation`)){let t$3=Tb(i$2,e$2);if(t$3){let e$3=i$2.childNodes.reduce(((t$4,e$4)=>t$4+e$4.toString()),``);s$2.push([t$3,e$3])}}}}(function(t$2){var e$2;let s$2=t$2.mathItem?.root;for(;s$2&&!s$2.isKind(`semantics`);){if(s$2.isToken||s$2.childNodes.length!==1)return null;s$2=s$2.childNodes[0]}return s$2}(i$1),e$1,s$1),t$1.attachMenu(i$1),_b(i$1,r$1,s$1,(()=>t$1.post())))}function Cb(t$1){return(e$1,s$1)=>{let i$1=t$1.slice();return t$1.length=0,_b(e$1,s$1,i$1,(()=>xb(wb.trim())))}}function Tb(t$1,e$1){let s$1=t$1.attributes.get(`encoding`);for(let t$2 of Object.keys(e$1))if(e$1[t$2].includes(s$1))return t$2;return null}let wb=``;function _b(t$1,e$1,s$1,i$1){return t$1.factory.get(`subMenu`)(t$1.factory,{items:s$1.map((([t$2,e$2])=>({type:`command`,id:t$2,content:t$2,action:()=>{wb=e$2,i$1()}}))),id:`annotations`},e$1)}class kb extends Mu{static fromJson(t$1,{content:e$1,variable:s$1,id:i$1,comparator:r$1},n$1){return new this(n$1,e$1,s$1,i$1,r$1)}constructor(t$1,e$1,s$1,i$1,r$1){super(t$1,e$1,s$1,i$1),this.comparator=r$1,this.role=`menuitemradiocompare`}updateAria(){this.html.setAttribute(`aria-checked`,this.comparator(this.variable.getValue(),this.id)?`true`:`false`)}updateSpan(){this.span.style.display=this.comparator(this.variable.getValue(),this.id)?``:`none`}}class Ab extends Jn{constructor(){super(...arguments),this.options={filterSRE:!0,filterTex:!0,texHints:!0,semantics:!1},this.mathItem=null}visitTree(t$1,e$1=null,s$1={}){return this.mathItem=e$1,Oi(this.options,s$1),this.visitNode(t$1,``)}visitTeXAtomNode(t$1,e$1){return this.options.texHints?super.visitDefault(t$1,e$1):t$1.childNodes[0]&&t$1.childNodes[0].childNodes.length===1?this.visitNode(t$1.childNodes[0],e$1):`${e$1}<mrow${this.getAttributes(t$1)}>\n`+this.childNodeMml(t$1,e$1+`  `,`
`)+`${e$1}</mrow>`}visitMathNode(t$1,e$1){if(!this.options.semantics||this.mathItem.inputJax.name!==`TeX`)return super.visitDefault(t$1,e$1);let s$1=t$1.childNodes.length&&t$1.childNodes[0].childNodes.length>1;return`${e$1}<math${this.getAttributes(t$1)}>\n${e$1}  <semantics>\n`+(s$1?e$1+`    <mrow>
`:``)+this.childNodeMml(t$1,e$1+(s$1?`      `:`    `),`
`)+(s$1?e$1+`    </mrow>
`:``)+`${e$1}    <annotation encoding="application/x-tex">`+this.mathItem.math+`</annotation>\n${e$1}  </semantics>\n${e$1}</math>`}getAttributeList(t$1){let e$1=super.getAttributeList(t$1);if(this.options.filterTex&&(delete e$1[`data-latex`],delete e$1[`data-latex-item`]),this.options.filterSRE){let t$2=Object.keys(e$1).filter((t$3=>t$3.match(/^(?:data-semantic-.*?|data-speech-node|role|aria-(?:level|posinset|setsize|owns))$/)));for(let s$1 of t$2)delete e$1[s$1]}return e$1}}class Lb extends Au{keydown(t$1){if(t$1.key===`a`&&(t$1.ctrlKey||t$1.metaKey))return this.selectAll(),void this.stop(t$1);super.keydown(t$1)}selectAll(){document.getSelection().selectAllChildren(this.html.querySelector(`.CtxtMenu_InfoContent`).firstChild)}copyToClipboard(){this.selectAll();try{document.execCommand(`copy`)}catch(t$1){alert(`Can't copy to clipboard: ${t$1.message}`)}document.getSelection().removeAllRanges()}generateHtml(){super.generateHtml();let t$1=this.html.querySelector(`span.`+uu.INFOSIGNATURE).appendChild(document.createElement(`input`));t$1.type=`button`,t$1.value=`Copy to Clipboard`,t$1.addEventListener(`click`,(t$2=>this.copyToClipboard()))}}var Mb=function(t$1,e$1,s$1,i$1){return new(s$1||=Promise)((function(r$1,n$1){function o$1(t$2){try{c$1(i$1.next(t$2))}catch(t$3){n$1(t$3)}}function a$1(t$2){try{c$1(i$1.throw(t$2))}catch(t$3){n$1(t$3)}}function c$1(t$2){var e$2;t$2.done?r$1(t$2.value):(e$2=t$2.value,e$2 instanceof s$1?e$2:new s$1((function(t$3){t$3(e$2)}))).then(o$1,a$1)}c$1((i$1=i$1.apply(t$1,e$1||[])).next())}))};let Ib=ci;class Sb{get isLoading(){return Sb.loading>0}get loadingPromise(){return this.isLoading?(Sb._loadingPromise||=new Promise(((t$1,e$1)=>{Sb._loadingOK=t$1,Sb._loadingFailed=e$1})),Sb._loadingPromise):Promise.resolve()}postInfo(t$1){this.menu.mathItem&&(this.menu.nofocus=!!this.menu.mathItem.outputData.nofocus),t$1.post()}constructor(t$1,e$1={}){this.settings=null,this.defaultSettings=null,this.menu=null,this.current=null,this.MmlVisitor=new Ab,this.jax={CHTML:null,SVG:null},this.rerenderStart=rr.LAST,this.requiredExtensions=[],this.about=new Au(`<b style="font-size:120%;">MathJax</b> v`+Yn.version,(()=>{let t$2=[];return t$2.push(`Input Jax: `+this.document.inputJax.map((t$3=>t$3.name)).join(`, `)),t$2.push(`Output Jax: `+this.document.outputJax.name),t$2.push(`Document Type: `+this.document.kind),t$2.join(`<br/>`)}),`<a href="https://www.mathjax.org">www.mathjax.org</a>`),this.help=new Au(`<b>MathJax Help</b>`,(()=>[`<p><b>MathJax</b> is a JavaScript library that allows page`,` authors to include mathematics within their web pages.`,` As a reader, you don't need to do anything to make that happen.</p>`,`<p><b>Browsers</b>: MathJax works with all modern browsers including`,` Edge, Firefox, Chrome, Safari, Opera, and most mobile browsers.</p>`,`<p><b>Math Menu</b>: MathJax adds a contextual menu to equations.`,` Right-click or CTRL-click on any mathematics to access the menu.</p>`,`<div style="margin-left: 1em;">`,`<p><b>Show Math As:</b> These options allow you to view the formula's`,` source markup (as MathML or in its original format).</p>`,`<p><b>Copy to Clipboard:</b> These options copy the formula's source markup,`,` as MathML or in its original format, to the clipboard`,` (in browsers that support that).</p>`,`<p><b>Math Settings:</b> These give you control over features of MathJax,`,` such the size of the mathematics, the mechanism used to display equations,`,` how to handle equations that are too wide, and the language to use for`,` MathJax's menus and error messages (not yet implemented in v4).`,`</p>`,`<p><b>Accessibility</b>: MathJax can work with screen`,` readers to make mathematics accessible to the visually impaired.`,` Turn on speech or braille generation to enable creation of speech strings`,` and the ability to investigate expressions interactively.  You can control`,` the style of the explorer in its menu.</p>`,`</div>`,`<p><b>Math Zoom</b>: If you are having difficulty reading an`,` equation, MathJax can enlarge it to help you see it better, or`,` you can scale all the math on the page to make it larger.`,` Turn these features on in the <b>Math Settings</b> menu.</p>`,`<p><b>Preferences</b>: MathJax uses your browser's localStorage database`,` to save the preferences set via this menu locally in your browser.  These`,` are not used to track you, and are not transferred or used remotely by`,` MathJax in any way.</p>`].join(`
`)),`<a href="https://www.mathjax.org">www.mathjax.org</a>`),this.mathmlCode=new Lb(`MathJax MathML Expression`,(()=>{if(!this.menu.mathItem)return``;let t$2=this.toMML(this.menu.mathItem);return`<pre>`+this.formatSource(t$2)+`</pre>`}),``),this.originalText=new Lb(`MathJax Original Source`,(()=>{if(!this.menu.mathItem)return``;let t$2=this.menu.mathItem.math;return`<pre style="font-size:125%; margin:0">`+this.formatSource(t$2)+`</pre>`}),``),this.annotationBox=new Lb(`MathJax Annotation Text`,(()=>{let t$2=wb;return`<pre style="font-size:125%; margin:0">`+this.formatSource(t$2)+`</pre>`}),``),this.svgImage=new Lb(`MathJax SVG Image`,(()=>`<div id="svg-image" style="font-family: monospace; font-size:125%; margin:0">Generative SVG Image...</div>`),``),this.speechText=new Lb(`MathJax Speech Text`,(()=>this.menu.mathItem?`<div style="font-size:125%; margin:0">`+this.formatSource(this.menu.mathItem.outputData.speech)+`</div>`:``),``),this.brailleText=new Lb(`MathJax Braille Code`,(()=>this.menu.mathItem?`<div style="font-size:125%; margin:0">`+this.formatSource(this.menu.mathItem.outputData.braille)+`</div>`:``),``),this.errorMessage=new Lb(`MathJax Error Message`,(()=>this.menu.mathItem?`<pre style="font-size:125%; margin:0">`+this.formatSource(this.menu.errorMsg)+`</pre>`:``),``),this.zoomBox=new Au(`MathJax Zoomed Expression`,(()=>{if(!this.menu.mathItem)return``;let t$2=this.menu.mathItem.typesetRoot.cloneNode(!0);return t$2.style.margin=`0`,`<div style="font-size: `+1.25*parseFloat(this.settings.zscale)+`%">`+t$2.outerHTML+`</div>`}),``),this.document=t$1,this.options=Oi(Ri({},this.constructor.OPTIONS),e$1),this.initSettings(),this.mergeUserSettings(),this.initMenu(),this.applySettings()}initSettings(){var t$1;this.settings=this.options.settings,this.jax=this.options.jax;let e$1=this.document.outputJax;this.jax[e$1.name]=e$1,this.settings.renderer=e$1.name,this.settings.scale=e$1.options.scale,e$1.options.displayOverflow&&(this.settings.overflow=e$1.options.displayOverflow.substring(0,1).toUpperCase()+e$1.options.displayOverflow.substring(1).toLowerCase()),this.settings.breakInline=e$1.options.linebreaks?.inline,this.defaultSettings=Object.assign({},this.document.options.a11y,this.settings),this.setA11y({roleDescription:this.settings.roleDescription})}initMenu(){this.menu=new Hu([[`contextMenu`,Qu.fromJson.bind(Qu)],[`radioCompare`,kb.fromJson.bind(kb)]]).parse({type:`contextMenu`,id:`MathJax_Menu`,pool:[this.variable(`showSRE`),this.variable(`showTex`),this.variable(`texHints`),this.variable(`semantics`),this.variable(`zoom`),this.variable(`zscale`),this.variable(`renderer`,(t$1=>this.setRenderer(t$1))),this.variable(`overflow`,(t$1=>this.setOverflow(t$1))),this.variable(`breakInline`,(t$1=>this.setInlineBreaks(t$1))),this.variable(`alt`),this.variable(`cmd`),this.variable(`ctrl`),this.variable(`shift`),this.variable(`scale`,(t$1=>this.setScale(t$1))),this.a11yVar(`speech`,(t$1=>this.setSpeech(t$1))),this.a11yVar(`braille`,(t$1=>this.setBraille(t$1))),this.variable(`brailleCode`,(t$1=>this.setBrailleCode(t$1))),this.a11yVar(`highlight`,(t$1=>this.setHighlight(t$1))),this.a11yVar(`backgroundColor`),this.a11yVar(`backgroundOpacity`),this.a11yVar(`foregroundColor`),this.a11yVar(`foregroundOpacity`),this.a11yVar(`subtitles`),this.a11yVar(`viewBraille`),this.a11yVar(`voicing`),this.a11yVar(`roleDescription`,(()=>this.setRoleDescription())),this.a11yVar(`help`),this.a11yVar(`locale`,(t$1=>this.setLocale(t$1))),this.variable(`speechRules`,(t$1=>{let[e$2,s$2]=t$1.split(`-`);this.document.options.sre.domain=e$2,this.document.options.sre.style=s$2,this.rerender(rr.COMPILED)})),this.a11yVar(`magnification`),this.a11yVar(`magnify`),this.a11yVar(`treeColoring`),this.a11yVar(`infoType`),this.a11yVar(`infoRole`),this.a11yVar(`infoPrefix`),this.variable(`autocollapse`),this.variable(`collapsible`,(t$1=>this.setCollapsible(t$1))),this.variable(`enrich`,(t$1=>this.setEnrichment(t$1))),this.variable(`inTabOrder`,(t$1=>this.setTabOrder(t$1))),this.a11yVar(`tabSelects`),this.variable(`assistiveMml`,(t$1=>this.setAssistiveMml(t$1)))],items:[this.submenu(`Show`,`Show Math As`,[this.command(`MathMLcode`,`MathML Code`,(()=>this.postInfo(this.mathmlCode))),this.command(`Original`,`Original Form`,(()=>this.postInfo(this.originalText))),this.rule(),this.command(`Speech`,`Speech Text`,(()=>this.postInfo(this.speechText)),{disabled:!0}),this.command(`Braille`,`Braille Code`,(()=>this.postInfo(this.brailleText)),{disabled:!0}),this.command(`SVG`,`SVG Image`,(()=>this.postSvgImage()),{disabled:!0}),this.submenu(`ShowAnnotation`,`Annotation`),this.rule(),this.command(`Error`,`Error Message`,(()=>this.postInfo(this.errorMessage)),{disabled:!0})]),this.submenu(`Copy`,`Copy to Clipboard`,[this.command(`MathMLcode`,`MathML Code`,(()=>this.copyMathML())),this.command(`Original`,`Original Form`,(()=>this.copyOriginal())),this.rule(),this.command(`Speech`,`Speech Text`,(()=>this.copySpeechText()),{disabled:!0}),this.command(`Braille`,`Braille Code`,(()=>this.copyBrailleText()),{disabled:!0}),this.command(`SVG`,`SVG Image`,(()=>this.copySvgImage()),{disabled:!0}),this.submenu(`CopyAnnotation`,`Annotation`),this.rule(),this.command(`Error`,`Error Message`,(()=>this.copyErrorMessage()),{disabled:!0})]),this.rule(),this.submenu(`Settings`,`Math Settings`,[this.submenu(`Renderer`,`Math Renderer`,this.radioGroup(`renderer`,[[`CHTML`],[`SVG`]])),this.submenu(`Overflow`,`Wide Expressions`,[this.radioGroup(`overflow`,[[`Overflow`],[`Scroll`],[`Linebreak`],[`Scale`],[`Truncate`],[`Elide`]]),this.rule(),this.checkbox(`BreakInline`,`Allow In-line Breaks`,`breakInline`)]),this.rule(),this.submenu(`MathmlIncludes`,`MathML/SVG has`,[this.checkbox(`showSRE`,`Semantic attributes`,`showSRE`),this.checkbox(`showTex`,`LaTeX attributes`,`showTex`),this.checkbox(`texHints`,`TeX hints`,`texHints`),this.checkbox(`semantics`,`Original as annotation`,`semantics`)]),this.submenu(`Language`,`Language`),this.rule(),this.submenu(`ZoomTrigger`,`Zoom Trigger`,[this.command(`ZoomNow`,`Zoom Once Now`,(()=>this.zoom(null,``,this.menu.mathItem))),this.rule(),this.radioGroup(`zoom`,[[`Click`],[`DoubleClick`,`Double-Click`],[`NoZoom`,`No Zoom`]]),this.rule(),this.label(`TriggerRequires`,`Trigger Requires:`),this.checkbox(yb?`Option`:`Alt`,yb?`Option`:`Alt`,`alt`),this.checkbox(`Command`,`Command`,`cmd`,{hidden:!yb}),this.checkbox(`Control`,`Control`,`ctrl`,{hiddne:yb}),this.checkbox(`Shift`,`Shift`,`shift`)]),this.submenu(`ZoomFactor`,`Zoom Factor`,this.radioGroup(`zscale`,[[`150%`],[`175%`],[`200%`],[`250%`],[`300%`],[`400%`]])),this.rule(),this.command(`Scale`,`Scale All Math...`,(()=>this.scaleAllMath())),this.rule(),this.command(`Reset`,`Reset to defaults`,(()=>this.resetDefaults()))]),this.rule(),this.label(`Accessibility`,`\xA0\xA0 Accessibility:`),this.submenu(`Speech`,`\xA0 \xA0 Speech`,[this.checkbox(`Generate`,`Generate`,`speech`),this.checkbox(`Subtitles`,`Show Subtitles`,`subtitles`),this.checkbox(`Auto Voicing`,`Auto Voicing`,`voicing`),this.rule(),this.label(`Rules`,`Rules:`),this.submenu(`Mathspeak`,`Mathspeak`,this.radioGroup(`speechRules`,[[`mathspeak-default`,`Verbose`],[`mathspeak-brief`,`Brief`],[`mathspeak-sbrief`,`Superbrief`]])),this.submenu(`Clearspeak`,`Clearspeak`,this.radioGroup(`speechRules`,[[`clearspeak-default`,`Auto`]])),this.rule(),this.submenu(`A11yLanguage`,`Language`)]),this.submenu(`Braille`,`\xA0 \xA0 Braille`,[this.checkbox(`Generate`,`Generate`,`braille`),this.checkbox(`Subtitles`,`Show Subtitles`,`viewBraille`),this.rule(),this.label(`Code`,`Code Format:`),this.radioGroup(`brailleCode`,[[`nemeth`,`Nemeth`],[`ueb`,`UEB`],[`euro`,`Euro`]])]),this.submenu(`Explorer`,`\xA0 \xA0 Explorer`,[this.submenu(`Highlight`,`Highlight`,[this.submenu(`Background`,`Background`,this.radioGroup(`backgroundColor`,[[`Blue`],[`Red`],[`Green`],[`Yellow`],[`Cyan`],[`Magenta`],[`White`],[`Black`]])),{type:`slider`,variable:`backgroundOpacity`,content:` `},this.submenu(`Foreground`,`Foreground`,this.radioGroup(`foregroundColor`,[[`Black`],[`White`],[`Magenta`],[`Cyan`],[`Yellow`],[`Green`],[`Red`],[`Blue`]])),{type:`slider`,variable:`foregroundOpacity`,content:` `},this.rule(),this.radioGroup(`highlight`,[[`None`],[`Hover`],[`Flame`]]),this.rule(),this.checkbox(`TreeColoring`,`Tree Coloring`,`treeColoring`)]),this.submenu(`Magnification`,`Magnification`,[this.radioGroup(`magnification`,[[`None`],[`Keyboard`],[`Mouse`]]),this.rule(),this.radioGroup(`magnify`,[[`200%`],[`300%`],[`400%`],[`500%`]])]),this.submenu(`Semantic Info`,`Semantic Info`,[this.checkbox(`Type`,`Type`,`infoType`),this.checkbox(`Role`,`Role`,`infoRole`),this.checkbox(`Prefix`,`Prefix`,`infoPrefix`)]),this.rule(),this.submenu(`Role Description`,`Describe math as`,[this.radioGroup(`roleDescription`,[[`MathJax expression`],[`MathJax`],[`math`],[`clickable math`],[`explorable math`],[`none`]])]),this.checkbox(`Math Help`,`Help message on focus`,`help`)]),this.submenu(`Options`,`\xA0 \xA0 Options`,[this.checkbox(`Enrich`,`Semantic Enrichment`,`enrich`),this.checkbox(`Collapsible`,`Collapsible Math`,`collapsible`),this.checkbox(`AutoCollapse`,`Auto Collapse`,`autocollapse`,{disabled:!0}),this.rule(),this.checkbox(`InTabOrder`,`Include in Tab Order`,`inTabOrder`),this.submenu(`TabSelects`,`Tabbing Focuses on`,[this.radioGroup(`tabSelects`,[[`all`,`Whole Expression`],[`last`,`Last Explored Node`]])]),this.rule(),this.checkbox(`AssistiveMml`,`Include Hidden MathML`,`assistiveMml`)]),this.rule(),this.command(`About`,`About MathJax`,(()=>this.postInfo(this.about))),this.command(`Help`,`MathJax Help`,(()=>this.postInfo(this.help)))]});let e$1=this.menu;e$1.settings=this.settings,e$1.findID(`Settings`,`Overflow`,`Elide`).disable(),e$1.findID(`Braille`,`ueb`).hide(),e$1.setJax(this.jax),this.attachDialogMenus(e$1),this.checkLoadableItems();let s$1=[];var i$1;Qu.DynamicSubmenus.set(`ShowAnnotation`,[vb(this.annotationBox,this.options.annotationTypes,s$1),``]),Qu.DynamicSubmenus.set(`CopyAnnotation`,[Cb(s$1),``]),i$1=this.document.document,Gu||(Yu(zu,i$1),Gu=!0,$u(i$1)),function(t$1){Ju||(Yu(Xu,t$1),Ju=!0,$u(t$1))}(this.document.document)}attachDialogMenus(t$1){this.about.attachMenu(t$1),this.help.attachMenu(t$1),this.originalText.attachMenu(t$1),this.mathmlCode.attachMenu(t$1),this.originalText.attachMenu(t$1),this.svgImage.attachMenu(t$1),this.speechText.attachMenu(t$1),this.brailleText.attachMenu(t$1),this.errorMessage.attachMenu(t$1),this.zoomBox.attachMenu(t$1)}checkLoadableItems(){var t$1,e$1,s$1,i$1,r$1,n$1;if(Ib&&Ib._&&Ib.loader&&Ib.startup){let o$1=this.settings,a$1=this.document.options;(o$1.enrich||o$1.speech&&a$1.enableSpeech||o$1.braille&&a$1.enableBraille)&&!Ib._?.a11y?.explorer&&this.loadA11y(`explorer`),o$1.collapsible&&!Ib._?.a11y?.complexity&&this.loadA11y(`complexity`),o$1.assistiveMml&&!Ib._?.a11y?.[`assistive-mml`]&&this.loadA11y(`assistive-mml`)}else{let t$2=this.menu;for(let e$2 of Object.keys(this.jax))this.jax[e$2]||t$2.findID(`Settings`,`Renderer`,e$2).disable();t$2.findID(`Speech`).disable(),t$2.findID(`Braille`).disable(),t$2.findID(`Explorer`).disable(),t$2.findID(`Options`,`AutoCollapse`).disable(),t$2.findID(`Options`,`Collapsible`).disable(),t$2.findID(`Options`,`Enrich`).disable(),t$2.findID(`Options`,`AssistiveMml`).disable()}}enableAccessibilityItems(t$1,e$1){let s$1=this.menu.findID(t$1).submenu;for(let t$2 of s$1.items.slice(1))t$2 instanceof Iu||(!e$1||t$2 instanceof xu&&!t$2.submenu.items.length?t$2.disable():t$2.enable())}mergeUserSettings(){try{let t$1=localStorage.getItem(Sb.MENU_STORAGE);if(!t$1)return;Object.assign(this.settings,JSON.parse(t$1)),this.setA11y(this.settings)}catch(t$1){console.log(`MathJax localStorage error: `+t$1.message)}}saveUserSettings(){let t$1={};for(let e$1 of Object.keys(this.settings))this.settings[e$1]!==this.defaultSettings[e$1]&&(t$1[e$1]=this.settings[e$1]);try{Object.keys(t$1).length?localStorage.setItem(Sb.MENU_STORAGE,JSON.stringify(t$1)):localStorage.removeItem(Sb.MENU_STORAGE)}catch(t$2){console.log(`MathJax localStorage error: `+t$2.message)}}setA11y(t$1){var e$1,s$1;(s$1=Ib._?.a11y)!=null&&s$1.explorer&&Ib._.a11y.explorer_ts.setA11yOptions(this.document,t$1)}getA11y(t$1){var e$1,s$1;if(Ib._?.a11y?.explorer)return this.document.options.a11y[t$1]===void 0?this.document.options.sre[t$1]:this.document.options.a11y[t$1]}applySettings(){this.setTabOrder(this.settings.inTabOrder),this.document.options.enableAssistiveMml=this.settings.assistiveMml,this.enableAccessibilityItems(`Speech`,this.settings.speech),this.enableAccessibilityItems(`Braille`,this.settings.braille),this.setAccessibilityMenus();let t$1=this.settings.renderer.replace(/[^a-zA-Z0-9]/g,``)||`CHTML`;(Sb._loadingPromise||Promise.resolve()).then((()=>{let e$1=this.settings,s$1=this.document.outputJax.options;if(s$1.scale=parseFloat(e$1.scale),s$1.displayOverflow=e$1.overflow.toLowerCase(),s$1.linebreaks&&(s$1.linebreaks.inline=e$1.breakInline),!e$1.speechRules){let t$2=this.document.options.sre;e$1.speechRules=`${t$2.domain||`clearspeak`}-${t$2.style||`default`}`}t$1!==this.defaultSettings.renderer&&this.document.whenReady((()=>this.setRenderer(t$1,!1)))}))}setOverflow(t$1){this.document.outputJax.options.displayOverflow=t$1.toLowerCase(),Sb.loading||this.document.rerenderPromise()}setInlineBreaks(t$1){this.document.outputJax.options.linebreaks.inline=t$1,Sb.loading||this.document.rerenderPromise()}setScale(t$1){this.document.outputJax.options.scale=parseFloat(t$1),Sb.loading||this.document.rerenderPromise()}setRenderer(t$1,e$1=!0){if(Object.hasOwn(this.jax,t$1)&&this.jax[t$1])return this.setOutputJax(t$1,e$1);let s$1=t$1.toLowerCase();return new Promise(((i$1,r$1)=>{this.loadComponent(`output/`+s$1,(()=>{let n$1=Ib.startup;if(!(s$1 in n$1.constructors))return r$1(Error(`Component ${s$1} not loaded`));n$1.useOutput(s$1,!0),n$1.output=n$1.getOutputJax(),n$1.output.setAdaptor(this.document.adaptor),n$1.output.initialize(),this.jax[t$1]=n$1.output,this.setOutputJax(t$1,e$1).then((()=>i$1())).catch((t$2=>r$1(t$2)))}))}))}setOutputJax(t$1,e$1=!0){this.jax[t$1].setAdaptor(this.document.adaptor),this.document.outputJax=this.jax[t$1];let s$1=this.loadRequiredExtensions();return e$1?s$1.then((()=>Yn.handleRetriesFor((()=>this.rerender())))):s$1.then((()=>{}))}loadRequiredExtensions(){let t$1=this.document.outputJax.name.toLowerCase(),e$1=[];for(let s$1 of this.requiredExtensions)e$1.push(Ib.loader.load(`[${s$1}]/${t$1}`));return this.requiredExtensions=[],Promise.all(e$1)}addRequiredExtensions(t$1){t$1&&(this.requiredExtensions=[...new Set([...this.requiredExtensions,...t$1])])}setTabOrder(t$1){let e$1=this.menu.findID(`Options`,`TabSelects`);t$1?e$1.enable():e$1.disable(),this.menu.store.inTaborder(t$1)}setAssistiveMml(t$1){var e$1,s$1;this.document.options.enableAssistiveMml=t$1,!t$1||Ib._?.a11y?.[`assistive-mml`]?this.rerender():this.loadA11y(`assistive-mml`)}setAccessibilityMenus(){let t$1=this.settings.enrich,e$1=t$1?`enable`:`disable`;[`Speech`,`Braille`,`Explorer`].forEach((t$2=>this.menu.findID(t$2)[e$1]()));let s$1=this.document.options;s$1.enableSpeech=s$1.enableBraille=s$1.enableExplorer=t$1,t$1||(this.settings.collapsible=!1,this.document.options.enableCollapsible=!1)}setSpeech(t$1){var e$1,s$1;this.enableAccessibilityItems(`Speech`,t$1),this.document.options.enableSpeech=t$1,!t$1||Ib._?.a11y?.explorer?this.rerender(rr.COMPILED):this.loadA11y(`explorer`)}setBraille(t$1){var e$1,s$1;this.enableAccessibilityItems(`Braille`,t$1),this.document.options.enableBraille=t$1,!t$1||Ib._?.a11y?.explorer?this.rerender(rr.COMPILED):this.loadA11y(`explorer`)}setBrailleCode(t$1){this.document.options.sre.braille=t$1,this.rerender(rr.COMPILED)}setLocale(t$1){this.document.options.sre.locale=t$1,this.rerender(rr.COMPILED)}setRoleDescription(){this.rerender(rr.COMPILED)}setEnrichment(t$1){var e$1,s$1;this.document.options.enableEnrichment=t$1,this.setAccessibilityMenus(),!t$1||Ib._?.a11y?.explorer?this.rerender(rr.COMPILED):this.loadA11y(`explorer`)}setCollapsible(t$1){var e$1,s$1,i$1,r$1;this.document.options.enableComplexity=t$1,t$1&&!this.settings.enrich&&(this.settings.enrich=this.document.options.enableEnrichment=!0,this.setAccessibilityMenus()),t$1||this.menu.pool.lookup(`highlight`).setValue(`None`),!t$1||Ib._?.a11y?.complexity?this.rerender(rr.COMPILED):(this.loadA11y(`complexity`),(r$1=Ib._?.a11y)!=null&&r$1.explorer||this.loadA11y(`explorer`))}setHighlight(t$1){var e$1,s$1;if(t$1!==`None`){if(!this.settings.collapsible){let t$2=this.menu.pool.lookup(`collapsible`);t$2.setValue(!0),(s$1=(e$1=t$2.items[0])?.executeCallbacks_)==null||s$1.call(e$1)}Sb.loadingPromises.has(`a11y/complexity`)||this.rerender(rr.COMPILED)}}scaleAllMath(){let t$1=(100*parseFloat(this.settings.scale)).toFixed(1).replace(/.0$/,``),e$1=prompt(`Scale all mathematics (compared to surrounding text) by`,t$1+`%`);if(this.current){let t$2=this.menu.mathItem.explorers.speech;t$2.refocus=this.current,t$2.focus()}if(e$1)if(e$1.match(/^\s*\d+(\.\d*)?\s*%?\s*$/)){let t$2=parseFloat(e$1)/100;t$2?this.menu.pool.lookup(`scale`).setValue(String(t$2)):alert(`The scale should not be zero`)}else alert(`The scale should be a percentage (e.g., 120%)`)}resetDefaults(){Sb.loading++;let t$1=this.menu.pool,e$1=this.defaultSettings;for(let s$1 of Object.keys(e$1)){let i$1=t$1.lookup(s$1);if(i$1){if(i$1.getValue()!==e$1[s$1]){i$1.setValue(e$1[s$1]);let t$2=i$1.items[0];t$2&&t$2.executeCallbacks_()}}else Object.hasOwn(this.settings,s$1)&&(this.settings[s$1]=e$1[s$1])}Sb.loading--,this.rerender(rr.COMPILED)}checkComponent(t$1){let e$1=Sb.loadingPromises.get(t$1);e$1&&Yn.retryAfter(e$1)}loadComponent(t$1,e$1){if(Sb.loadingPromises.has(t$1))return;let s$1=Ib.loader;if(!s$1)return;Sb.loading++;let i$1=s$1.load(t$1).then((()=>{Sb.loading--,Sb.loadingPromises.delete(t$1),Sb.loading===0&&Sb._loadingPromise&&(Sb._loadingPromise=null,Sb._loadingOK()),e$1()})).catch((t$2=>{Sb._loadingPromise?(Sb._loadingPromise=null,Sb._loadingFailed(t$2)):console.log(t$2)}));Sb.loadingPromises.set(t$1,i$1)}loadA11y(t$1){let e$1=!rr.ENRICHED;this.loadComponent(`a11y/`+t$1,(()=>{var s$1,i$1;let r$1=Ib.startup;Yn.handlers.unregister(r$1.handler),r$1.handler=r$1.getHandler(),Yn.handlers.register(r$1.handler);let n$1=this.document;this.document=r$1.document=r$1.getDocument(),this.document.processed=n$1.processed,this.document.menu=this,n$1.webworker&&(this.document.webworker=n$1.webworker),this.setA11y(this.settings),this.defaultSettings=Object.assign({},this.document.options.a11y,Ib.config?.options?.a11y||{},this.defaultSettings),this.document.outputJax.reset(),this.transferMathList(n$1),this.document.processed=n$1.processed,Sb._loadingPromise||(this.document.outputJax.reset(),Yn.handleRetriesFor((()=>{this.rerender(t$1===`complexity`||e$1?rr.COMPILED:rr.TYPESET)})))}))}transferMathList(t$1){let e$1=this.document.options.MathItem;for(let s$1 of t$1.math){let t$2=new e$1;Object.assign(t$2,s$1),this.document.math.push(t$2)}}formatSource(t$1){return t$1.trim().replace(/&/g,`&amp;`).replace(/</g,`&lt;`).replace(/>/g,`&gt;`)}toMML(t$1){return this.MmlVisitor.visitTree(t$1.root,t$1,{filterSRE:!this.settings.showSRE,filterTex:!this.settings.showTex,texHints:this.settings.texHints,semantics:this.settings.semantics&&t$1.inputJax.name!==`MathML`})}toSVG(t$1){let e$1=this.jax.SVG;if(!e$1)return Promise.resolve(`SVG can't be produced.<br>Try switching to SVG output first.`);let s$1=e$1.adaptor,i$1=e$1.options.fontCache,r$1=!!t$1.root.getProperty(`process-breaks`);if(i$1!==`global`&&(t$1.display||!r$1)&&s$1.getAttribute(t$1.typesetRoot,`jax`)===`SVG`){for(let e$2 of s$1.childNodes(t$1.typesetRoot))if(s$1.kind(e$2)===`svg`)return Promise.resolve(this.formatSvg(s$1.serializeXML(e$2)))}return this.typesetSVG(t$1,i$1,r$1)}typesetSVG(t$1,e$1,s$1){return Mb(this,void 0,void 0,(function*(){let i$1=this.jax.SVG,r$1=i$1.html(`div`);e$1===`global`&&(i$1.options.fontCache=`local`);let n$1=t$1.root;return t$1.root=n$1.copy(!0),t$1.root.setInheritedAttributes({},t$1.display,0,!1),s$1&&(i$1.unmarkInlineBreaks(t$1.root),t$1.root.setProperty(`inlineMarked`,!1)),Yn.handleRetriesFor((()=>{i$1.toDOM(t$1,r$1,i$1.document)})).then((()=>(t$1.root=n$1,i$1.options.fontCache=e$1,this.formatSvg(i$1.adaptor.innerHTML(r$1)))))}))}formatSvg(t$1){let e$1=this.constructor.SvgCss;return t$1=(t$1=t$1.match(/^<svg.*?><defs>/)?t$1.replace(/<defs>/,`<defs><style>${e$1}</style>`):t$1.replace(/^(<svg.*?>)/,`$1<defs><style>${e$1}</style></defs>`)).replace(/ (?:role|focusable)=".*?"/g,``).replace(/"currentColor"/g,`"black"`),this.settings.showSRE||(t$1=t$1.replace(/ (?:data-semantic-.*?|data-speech-node|role|aria-(?:level|posinset|setsize|owns))=".*?"/g,``)),this.settings.showTex||(t$1=t$1.replace(/ data-latex(?:-item)?=".*?"/g,``)),this.settings.texHints||(t$1=t$1.replace(/ data-mjx-(?:texclass|alternate|variant|pseudoscript|smallmatrix|mathaccent|auto-op|script-align|vbox)=".*?"/g,``).replace(/ data-mml-node="TeXAtom"/g,``)),`<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n${t$1}`}postSvgImage(){this.postInfo(this.svgImage),this.toSVG(this.menu.mathItem).then((t$1=>{this.svgImage.html.querySelector(`#svg-image`).innerHTML=this.formatSource(t$1).replace(/\n/g,`<br>`)}))}zoom(t$1,e$1,s$1){t$1&&!this.isZoomEvent(t$1,e$1)||(this.menu.mathItem=s$1,t$1&&this.menu.post(t$1),this.postInfo(this.zoomBox))}isZoomEvent(t$1,e$1){return this.settings.zoom===e$1&&(!this.settings.alt||t$1.altKey)&&(!this.settings.ctrl||t$1.ctrlKey)&&(!this.settings.cmd||t$1.metaKey)&&(!this.settings.shift||t$1.shiftKey)}rerender(t$1=rr.TYPESET){this.rerenderStart=Math.min(t$1,this.rerenderStart);let e$1=Ib.startup;!Sb.loading&&e$1.hasTypeset&&e$1.document.whenReady((()=>Mb(this,void 0,void 0,(function*(){this.rerenderStart<=rr.COMPILED&&this.document.reset({inputJax:[]}),yield this.document.rerenderPromise(this.rerenderStart),this.rerenderStart=rr.LAST}))))}copyMathML(){xb(this.toMML(this.menu.mathItem))}copyOriginal(){xb(this.menu.mathItem.math.trim())}copySvgImage(){this.toSVG(this.menu.mathItem).then((t$1=>{xb(t$1)}))}copySpeechText(){xb(this.menu.mathItem.outputData.speech)}copyBrailleText(){xb(this.menu.mathItem.outputData.braille)}copyErrorMessage(){xb(this.menu.errorMsg.trim())}addMenu(t$1){this.addEvents(t$1),this.menu.store.insert(t$1.typesetRoot),t$1.typesetRoot.tabIndex=this.settings.inTabOrder?0:-1}addEvents(t$1){let e$1=t$1.typesetRoot;e$1.addEventListener(`mousedown`,(()=>{var e$2,s$1;this.menu.mathItem=t$1,this.current=t$1.explorers?.speech?.current}),!0),e$1.addEventListener(`contextmenu`,(()=>{var e$2;this.menu.mathItem=t$1;let s$1=t$1.explorers?.speech;s$1&&(t$1.outputData.nofocus=!this.current,s$1.refocus=this.current)}),!0),e$1.addEventListener(`keydown`,(()=>this.menu.mathItem=t$1),!0),e$1.addEventListener(`click`,(e$2=>this.zoom(e$2,`Click`,t$1)),!0),e$1.addEventListener(`dblclick`,(e$2=>this.zoom(e$2,`DoubleClick`,t$1)),!0)}clear(){this.menu.store.clear()}variable(t$1,e$1){return{name:t$1,getter:()=>this.settings[t$1],setter:s$1=>{this.settings[t$1]=s$1,e$1&&e$1(s$1),this.saveUserSettings()}}}a11yVar(t$1,e$1){return{name:t$1,getter:()=>this.getA11y(t$1),setter:s$1=>{this.settings[t$1]=s$1,this.setA11y({[t$1]:s$1}),e$1&&e$1(s$1),this.saveUserSettings()}}}submenu(t$1,e$1,s$1=[],i$1=!1){let r$1=[];for(let t$2 of s$1)Array.isArray(t$2)?r$1=r$1.concat(t$2):r$1.push(t$2);return{type:`submenu`,id:t$1,content:e$1,menu:{items:r$1},disabled:r$1.length===0||i$1}}command(t$1,e$1,s$1,i$1={}){return Object.assign({type:`command`,id:t$1,content:e$1,action:s$1},i$1)}checkbox(t$1,e$1,s$1,i$1={}){return Object.assign({type:`checkbox`,id:t$1,content:e$1,variable:s$1},i$1)}radioGroup(t$1,e$1){return e$1.map((e$2=>this.radio(e$2[0],e$2[1]||e$2[0],t$1)))}radio(t$1,e$1,s$1,i$1={}){return Object.assign({type:`radio`,id:t$1,content:e$1,variable:s$1},i$1)}label(t$1,e$1){return{type:`label`,id:t$1,content:e$1}}rule(){return{type:`rule`}}}function Rb(t$1){return class extends t$1{addMenu(t$2,e$1=!1){this.state()>=rr.CONTEXT_MENU||(this.isEscaped||!t$2.options.enableMenu&&!e$1||t$2.menu.addMenu(this),this.state(rr.CONTEXT_MENU))}getMenus(t$2){t$2.menu.menu.store.sort()}checkLoading(t$2){t$2.checkLoading()}}}function Ob(t$1){var e$1;return e$1=class extends t$1{constructor(...t$2){super(...t$2),this.menu=new this.options.MenuClass(this,this.options.menuOptions);let e$2=this.constructor.ProcessBits;e$2.has(`context-menu`)||e$2.allocate(`context-menu`),this.options.MathItem=Rb(this.options.MathItem);let s$1=this.menu.settings,i$1=this.options,r$1=i$1.enableEnrichment=s$1.enrich;i$1.enableSpeech=s$1.speech&&r$1,i$1.enableBraille=s$1.braille&&r$1,i$1.enableComplexity=s$1.collapsible&&r$1,i$1.enableExplorer=r$1}addMenu(){if(!this.processed.isSet(`context-menu`)){for(let t$2 of this.math)t$2.addMenu(this);this.processed.set(`context-menu`)}return this}getMenus(){this.menu.menu.store.sort()}checkLoading(){let t$2=!0;try{this._checkLoading(),t$2=!1}catch(t$3){if(!t$3.retry)throw t$3}return t$2}_checkLoading(){return this.menu.isLoading&&Yn.retryAfter(this.menu.loadingPromise.catch((t$2=>console.log(t$2)))),this.options.enableComplexity&&this.menu.checkComponent(`a11y/complexity`),this.options.enableExplorer&&this.menu.checkComponent(`a11y/explorer`),this}state(t$2,e$2=!1){return super.state(t$2,e$2),t$2<rr.CONTEXT_MENU&&this.processed.clear(`context-menu`),this}},e$1.OPTIONS=Object.assign(Object.assign({enableEnrichment:!0,enableComplexity:!0,enableSpeech:!0,enableBraille:!0,enableExplorer:!0,enrichSpeech:`none`,enrichError:(t$2,e$2,s$1)=>console.warn(`Enrichment Error:`,s$1)},t$1.OPTIONS),{MenuClass:Sb,menuOptions:Sb.OPTIONS,enableMenu:!0,sre:t$1.OPTIONS.sre||Ai({}),a11y:t$1.OPTIONS.a11y||Ai({}),renderActions:Ai(Object.assign(Object.assign({},t$1.OPTIONS.renderActions),{addMenu:[rr.CONTEXT_MENU],getMenus:[rr.INSERTED+5,!1],checkLoading:[rr.UNPROCESSED+1,t$2=>t$2.checkLoading(),``,!1]}))}),e$1}function Db(t$1){return t$1.documentClass=Ob(t$1.documentClass),t$1}Sb.MENU_STORAGE=`MathJax-Menu-Settings`,Sb.OPTIONS={settings:{showSRE:!1,showTex:!1,texHints:!0,semantics:!1,zoom:`NoZoom`,zscale:`200%`,renderer:`CHTML`,alt:!1,cmd:!1,ctrl:!1,shift:!1,scale:1,overflow:`Scroll`,breakInline:!0,autocollapse:!1,collapsible:!1,enrich:!0,inTabOrder:!0,assistiveMml:!1,speech:!0,braille:!0,brailleCode:`nemeth`,speechRules:`clearspeak-default`,roleDescription:`math`,tabSelects:`all`},jax:{CHTML:null,SVG:null},annotationTypes:Ai({TeX:[`TeX`,`LaTeX`,`application/x-tex`],StarMath:[`StarMath 5.0`],Maple:[`Maple`],ContentMathML:[`MathML-Content`,`application/mathml-content+xml`],OpenMath:[`OpenMath`]})},Sb.SvgCss=[`svg a{fill:blue;stroke:blue}`,`[data-mml-node="merror"]>g{fill:red;stroke:red}`,`[data-mml-node="merror"]>rect[data-background]{fill:yellow;stroke:none}`,`[data-frame],[data-line]{stroke-width:70px;fill:none}`,`.mjx-dashed{stroke-dasharray:140}`,`.mjx-dotted{stroke-linecap:round;stroke-dasharray:0,140}`,`use[data-c]{stroke-width:3px}`].join(``),Sb.loading=0,Sb.loadingPromises=new Map,Sb._loadingPromise=null,Sb._loadingOK=null,Sb._loadingFailed=null,nr(`CONTEXT_MENU`,170),MathJax.loader&&MathJax.loader.checkVersion(`ui/menu`,si,`ui`),ai({_:{a11y:{speech:{SpeechMenu:Ds}},ui:{menu:{AnnotationMenu:Bs,MJContextMenu:Rs,Menu:qs,MenuHandler:Hs,MenuUtil:Ps,MmlVisitor:js,RadioCompare:Fs,SelectableInfo:Us}}}}),MathJax.startup&&li&&MathJax.startup.extendHandler((t$1=>Db(t$1)),20),MathJax.loader&&MathJax.loader.checkVersion(`a11y/sre`,si,`a11y`),ai({_:{a11y:{sre_ts:Os}}}),nr(`ENRICHED`,rr.COMPILED+10);class Pb extends Jn{visitTree(t$1,e$1){this.mactionId=0;let s$1=super.visitTree(t$1);return this.mactionId&&(e$1.inputData.hasMaction=!0),s$1}visitHtmlNode(t$1,e$1){return t$1.getSerializedXML()}visitMactionNode(t$1,e$1){let[s$1,i$1]=t$1.childNodes.length===0?[``,``]:[`
`,e$1],r$1=this.childNodeMml(t$1,e$1+`  `,s$1),n$1=this.getAttributes(t$1);if(t$1.attributes.get(`actiontype`)===`toggle`){let e$2=++this.mactionId;t$1.setProperty(`mactionId`,e$2),n$1=` data-maction-id="${e$2}" selection="${t$1.attributes.get(`selection`)}"`+n$1.replace(/ selection="\d+"/,``).replace(/ data-maction-id="\d+"/,``)}return`${e$1}<maction${n$1}>`+(r$1.match(/\S/)?s$1+r$1+i$1:``)+`</maction>`}}function Bb(t$1,e$1,s$1){return class extends t$1{constructor(){super(...arguments),this.toMathML=s$1}serializeMml(t$2){if(`outerHTML`in t$2)return t$2.outerHTML;if(typeof Element<`u`&&typeof window<`u`&&t$2 instanceof Element){let e$2=window.document.createElement(`div`);return e$2.appendChild(t$2),e$2.innerHTML}return t$2.toString()}enrich(t$2,s$2=!1){if(!(this.state()>=rr.ENRICHED)){if(!this.isEscaped&&(t$2.options.enableEnrichment||s$2)){let s$3=new t$2.options.MathItem(``,e$1);try{let e$2;e$2=this.inputData.originalMml?this.adjustSelections():this.inputData.originalMml=this.toMathML(this.root,this);let i$1=rb(e$2);this.inputData.enrichedMml=s$3.math=this.serializeMml(i$1),s$3.math=s$3.math.replace(/ role="treeitem"/g,` data-speech-node="true"`).replace(/ aria-(?:posinset|owns|setsize)=".*?"/g,``),s$3.display=this.display,s$3.compile(t$2),this.root=s$3.root}catch(e$2){t$2.options.enrichError(t$2,this,e$2)}}this.state(rr.ENRICHED)}}toEnriched(t$2){return this.serializeMml(rb(t$2))}unEnrich(t$2){let s$2=this.inputData.originalMml;if(!s$2)return;let i$1=new t$2.options.MathItem(``,e$1);i$1.math=s$2,i$1.display=this.display,i$1.compile(t$2),this.root=i$1.root}adjustSelections(){let t$2=this.inputData.originalMml;if(!this.inputData.hasMaction)return t$2;let e$2=[];return this.root.walkTree((t$3=>{t$3.isKind(`maction`)&&(e$2[t$3.attributes.get(`data-maction-id`)]=t$3)})),t$2.replace(/(data-maction-id="(\d+)" selection=)"\d+"/g,((t$3,s$2,i$1)=>`${s$2}"${e$2[i$1].attributes.get(`selection`)}"`))}}}function Fb(t$1,e$1){var s$1;return(s$1=class extends t$1{constructor(...t$2){super(...t$2),e$1.setMmlFactory(this.mmlFactory);let s$2=this.constructor.ProcessBits;s$2.has(`enriched`)||s$2.allocate(`enriched`);let i$1=new Pb(this.mmlFactory);this.options.MathItem=Bb(this.options.MathItem,e$1,((t$3,e$2)=>i$1.visitTree(t$3,e$2)))}enrich(){if(!this.processed.isSet(`enriched`)){if(this.options.enableEnrichment){sb(this.options.sre);for(let t$2 of this.math)t$2.enrich(this)}this.processed.set(`enriched`)}return this}enrichError(t$2,e$2,s$2){console.warn(`Enrichment error:`,s$2)}state(t$2,e$2=!1){if(super.state(t$2,e$2),t$2<rr.ENRICHED&&(this.processed.clear(`enriched`),t$2>=rr.COMPILED))for(let t$3 of this.math)t$3.unEnrich(this);return this}}).OPTIONS=Object.assign(Object.assign({},t$1.OPTIONS),{enableEnrichment:!0,enrichError:(t$2,e$2,s$2)=>t$2.enrichError(t$2,e$2,s$2),renderActions:Ai(Object.assign(Object.assign({},t$1.OPTIONS.renderActions),{enrich:[rr.ENRICHED]})),sre:Ai({speech:`none`,locale:`en`,domain:`clearspeak`,style:`default`,braille:`nemeth`,structure:!0,aria:!0})}),s$1}function jb(t$1,e$1){return e$1.setAdaptor(t$1.adaptor),t$1.documentClass=Fb(t$1.documentClass,e$1),t$1}MathJax.loader&&MathJax.loader.checkVersion(`a11y/semantic-enrich`,si,`a11y`),ai({_:{a11y:{"semantic-enrich":Ws}}}),MathJax.startup&&MathJax.startup.extendHandler((t$1=>jb(t$1,new Nl({allowHtmlInTokenNodes:!0}))));let Ub=[`pitch`,`rate`,`volume`];function qb(t$1){let e$1=nb(t$1),s$1=[],i$1=[];return Hb(Array.from(e$1.childNodes),s$1,i$1),[i$1.join(` `),s$1]}function Hb(t$1,e$1,s$1,i$1={}){for(let r$1 of t$1)if(r$1.nodeType!==3){if(r$1.nodeType===1){let t$2=r$1,n$1=t$2.tagName;if(n$1===`speak`)continue;if(n$1===`prosody`){Hb(Array.from(r$1.childNodes),e$1,s$1,zb(t$2,i$1));continue}switch(n$1){case`break`:e$1.push({pause:t$2.getAttribute(`time`)});break;case`mark`:e$1.push({mark:t$2.getAttribute(`name`)});break;case`say-as`:{let r$2=t$2.textContent;e$1.push(Object.assign({text:r$2,character:!0},i$1)),s$1.push(r$2);break}}}}else{let t$2=r$1.textContent.trim();t$2&&(s$1.push(t$2),e$1.push(Object.assign({text:t$2},i$1)))}}let Wb={pitch:(t$1,e$1)=>t$1/100*1,volume:(t$1,e$1)=>t$1/100*.5,rate:(t$1,e$1)=>t$1/100*1};function zb(t$1,e$1){let s$1={};for(let i$1 of Ub)if(t$1.hasAttribute(i$1)){let[r$1,n$1]=Vb(t$1.getAttribute(i$1));if(!r$1){s$1[i$1]=i$1===`volume`?.5:1;continue}let o$1=e$1[i$1];o$1||=i$1===`volume`?.5:1;let a$1=Wb[i$1](parseInt(n$1,10),r$1);s$1[i$1]=r$1===`-`?o$1-a$1:o$1+a$1}return s$1}let Xb=/([+-]?)([0-9]+)%/;function Vb(t$1){let e$1=t$1.match(Xb);return e$1?[e$1[1],e$1[2]]:(console.warn(`Something went wrong with the prosody matching.`),[``,`100`])}function Gb(t$1,e$1,s$1,i$1=` `){if(!t$1)return``;let r$1=[t$1];return e$1&&r$1.unshift(e$1),s$1&&r$1.push(s$1),r$1.join(i$1)}function Jb(t$1,e$1=`en`,s$1=`100`){return qb(`<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="${e$1}"><prosody rate="${s$1}%">${t$1}</prosody></speak>`)}function Kb(){let t$1=new AudioContext,e$1=t$1.createOscillator();e$1.frequency.value=300,e$1.connect(t$1.destination),e$1.start(t$1.currentTime),e$1.stop(t$1.currentTime+.05)}var $b,Yb;(function(t$1){t$1[t$1.NONE=0]=`NONE`,t$1[t$1.DEPTH=1]=`DEPTH`,t$1[t$1.SUMMARY=2]=`SUMMARY`})($b||={}),function(t$1){t$1.SPEECH=`data-semantic-speech-none`,t$1.SPEECH_SSML=`data-semantic-speech`,t$1.SUMMARY=`data-semantic-summary-none`,t$1.SUMMARY_SSML=`data-semantic-summary`,t$1.PREFIX=`data-semantic-prefix-none`,t$1.PREFIX_SSML=`data-semantic-prefix`,t$1.POSTFIX=`data-semantic-postfix-none`,t$1.POSTFIX_SSML=`data-semantic-postfix`,t$1.BRAILLE=`data-semantic-braille`}(Yb||={});class Qb{constructor(){this.promise=Promise.resolve(),this.adaptor=null,this._options={},this._init=!1}set element(t$1){this._element=t$1}get element(){return this._element}set options(t$1){this._options=Object.assign({},t$1?.sre||{},{enableSpeech:t$1.enableSpeech,enableBraille:t$1.enableBraille}),delete this._options.custom}get options(){return this._options}init(t$1,e$1,s$1){this.options=t$1,this._init||=(this.adaptor=e$1,this.webworker=s$1,!0)}update(t$1){Object.assign(this.options,t$1)}Speech(t$1){let e$1=t$1.outputData.mml,s$1=Object.assign({},this.options,{modality:`speech`});return this.promise=this.webworker.Speech(e$1,s$1,t$1)}SpeechFor(t$1,e$1){let s$1=Object.assign({},this.options,{modality:`speech`});return this.webworker.speechFor(e$1,s$1,t$1)}cancel(t$1){var e$1;(e$1=this.webworker)==null||e$1.Cancel(t$1)}updateRegions(t$1,e$1,s$1){e$1.Update(this.getLabel(t$1)),s$1.Update(this.getBraille(t$1))}getOptions(t$1){var e$1,s$1,i$1,r$1;return{locale:this.adaptor.getAttribute(t$1,`data-semantic-locale`)??``,domain:this.adaptor.getAttribute(t$1,`data-semantic-domain`)??``,style:this.adaptor.getAttribute(t$1,`data-semantic-style`)??``,domain2style:this.adaptor.getAttribute(t$1,`data-semantic-domain2style`)??``}}nextRules(t$1){let e$1=this.getOptions(t$1.typesetRoot);return this.update(e$1),this.promise=this.webworker.nextRules(t$1.outputData.mml,Object.assign({},this.options,{modality:`speech`}),t$1)}nextStyle(t$1,e$1){let s$1=this.getOptions(e$1.typesetRoot);return this.update(s$1),this.promise=this.webworker.nextStyle(e$1.outputData.mml,Object.assign({},this.options,{modality:`speech`}),this.adaptor.getAttribute(t$1,`data-semantic-id`),e$1)}getLabel(t$1,e$1=``,s$1=` `){let i$1=this.adaptor;return Gb(i$1.getAttribute(t$1,Yb.SPEECH_SSML),i$1.getAttribute(t$1,Yb.PREFIX_SSML),i$1.getAttribute(t$1,Yb.POSTFIX_SSML),s$1)||i$1.getAttribute(t$1,`aria-label`)}getBraille(t$1){let e$1=this.adaptor;return e$1.getAttribute(t$1,`aria-braillelabel`)||e$1.getAttribute(t$1,Yb.BRAILLE)}getLocalePreferences(t$1){return this.promise=this.webworker.clearspeakLocalePreferences(this.options,t$1)}getRelevantPreferences(t$1,e$1,s$1,i$1){let r$1=t$1.outputData.mml;return this.promise=this.webworker.clearspeakRelevantPreferences(r$1,e$1,s$1,i$1)}}var Zb=function(t$1,e$1,s$1,i$1){return new(s$1||=Promise)((function(r$1,n$1){function o$1(t$2){try{c$1(i$1.next(t$2))}catch(t$3){n$1(t$3)}}function a$1(t$2){try{c$1(i$1.throw(t$2))}catch(t$3){n$1(t$3)}}function c$1(t$2){var e$2;t$2.done?r$1(t$2.value):(e$2=t$2.value,e$2 instanceof s$1?e$2:new s$1((function(t$3){t$3(e$2)}))).then(o$1,a$1)}c$1((i$1=i$1.apply(t$1,e$1||[])).next())}))};class tE{constructor(t$1,e$1,s$1,i$1){this.cmd=t$1,this.item=e$1,this.resolve=s$1,this.reject=i$1}}class eE{constructor(t$1,e$1){this.adaptor=t$1,this.options=e$1,this.ready=!1,this.tasks=[],this.Commands={Ready(t$2,e$2){t$2.ready=!0,t$2.postNext()},Finished(t$2,e$2){let s$1=t$2.tasks.shift();e$2.success?s$1.resolve(e$2.result):s$1.reject(e$2.error),t$2.postNext()},Log(t$2,e$2){t$2.options.debug&&console.log(`Log:`,e$2)}}}Start(){return Zb(this,void 0,void 0,(function*(){if(this.ready)throw Error(`Worker already started`);this.worker=yield this.adaptor.createWorker(this.Listener.bind(this),this.options)}))}debug(t$1,...e$1){this.options.debug&&console.info(t$1,...e$1)}Listener(t$1){this.debug(`Worker  >>>  Client:`,t$1.data),Object.hasOwn(this.Commands,t$1.data.cmd)?this.Commands[t$1.data.cmd](this,t$1.data.data):this.debug(`Invalid command from worker: `+t$1.data.cmd)}Post(t$1,e$1){let s$1=new Promise(((s$2,i$1)=>{this.tasks.push(new tE(t$1,e$1,s$2,i$1))}));return this.ready&&this.tasks.length===1&&this.postNext(),s$1}postNext(){if(this.tasks.length){let t$1=Object.assign({},this.tasks[0].cmd,{debug:this.options.debug});this.worker.postMessage(t$1)}}Cancel(t$1){let e$1=this.tasks.findIndex((e$2=>e$2.item===t$1));e$1>0&&(this.tasks[e$1].reject(`Task ${this.tasks[e$1].cmd.cmd} cancelled`),this.tasks.splice(e$1,1))}Setup(t$1){return this.Post({cmd:`setup`,data:{domain:t$1.domain,style:t$1.style,locale:t$1.locale,modality:t$1.modality}})}Speech(t$1,e$1,s$1){return Zb(this,void 0,void 0,(function*(){this.Attach(s$1,e$1.enableSpeech,e$1.enableBraille,yield this.Post({cmd:`speech`,data:{mml:t$1,options:e$1}},s$1))}))}nextRules(t$1,e$1,s$1){return Zb(this,void 0,void 0,(function*(){this.Attach(s$1,e$1.enableSpeech,e$1.enableBraille,yield this.Post({cmd:`nextRules`,data:{mml:t$1,options:e$1}},s$1))}))}nextStyle(t$1,e$1,s$1,i$1){return Zb(this,void 0,void 0,(function*(){this.Attach(i$1,e$1.enableSpeech,e$1.enableBraille,yield this.Post({cmd:`nextStyle`,data:{mml:t$1,options:e$1,nodeId:s$1}},i$1))}))}speechFor(t$1,e$1,s$1){return Zb(this,void 0,void 0,(function*(){let i$1=yield this.Post({cmd:`speech`,data:{mml:t$1,options:e$1}},s$1);return JSON.parse(i$1)}))}Attach(t$1,e$1,s$1,i$1){let r$1=JSON.parse(i$1),n$1=t$1.typesetRoot;if(!n$1)return;this.setSpecialAttributes(n$1,r$1.options,`data-semantic-`,[`locale`,`domain`,`style`,`domain2style`]);let o$1=this.adaptor;this.setSpecialAttributes(n$1,r$1.translations,`data-semantic-`);for(let[t$2,e$2]of Object.entries(r$1.mactions)){let s$2=o$1.getElement(`#`+t$2,n$1);s$2&&o$1.childNodes(s$2)[0]&&(s$2=o$1.childNodes(s$2)[0],o$1.setAttribute(s$2,`data-semantic-type`,`dummy`),this.setSpecialAttributes(s$2,e$2,``))}this.setSpeechAttributes(o$1.childNodes(n$1)[0],``,r$1,e$1,s$1),e$1&&(r$1.label&&(o$1.setAttribute(n$1,Yb.SPEECH,r$1.label),o$1.setAttribute(n$1,Yb.SPEECH_SSML,r$1.ssml),t$1.outputData.speech=r$1.label),o$1.setAttribute(n$1,`data-speech-attached`,`true`)),s$1&&(r$1.braillelabel&&(o$1.setAttribute(n$1,Yb.BRAILLE,r$1.braillelabel),t$1.outputData.braille=r$1.braillelabel),r$1.braille&&o$1.setAttribute(n$1,`data-braille-attached`,`true`))}setSpeechAttribute(t$1,e$1,s$1,i$1){var r$1,n$1;let o$1=this.adaptor,a$1=o$1.getAttribute(t$1,`data-semantic-id`);if(o$1.removeAttribute(t$1,`data-speech-node`),s$1&&e$1.speech[a$1][`speech-none`]){o$1.setAttribute(t$1,`data-speech-node`,`true`);for(let[s$2,i$2]of Object.entries(e$1.speech[a$1]))s$2=s$2.replace(/-ssml$/,``),i$2&&o$1.setAttribute(t$1,`data-semantic-${s$2}`,i$2)}if(i$1&&e$1.braille?.[a$1]?.[`braille-none`]){o$1.setAttribute(t$1,`data-speech-node`,`true`);let s$2=e$1.braille[a$1][`braille-none`];o$1.setAttribute(t$1,Yb.BRAILLE,s$2)}}setSpeechAttributes(t$1,e$1,s$1,i$1,r$1){let n$1=this.adaptor;if(!t$1||n$1.kind(t$1)===`#text`||n$1.kind(t$1)===`#comment`)return e$1;n$1.hasAttribute(t$1,`data-semantic-id`)&&(this.setSpeechAttribute(t$1,s$1,i$1,r$1),e$1||n$1.hasAttribute(t$1,`data-semantic-parent`)||(e$1=n$1.getAttribute(t$1,`data-semantic-id`)));for(let o$1 of Array.from(n$1.childNodes(t$1)))e$1=this.setSpeechAttributes(o$1,e$1,s$1,i$1,r$1);return e$1}setSpecialAttributes(t$1,e$1,s$1,i$1){if(e$1){i$1||=Object.keys(e$1);for(let r$1 of i$1){let i$2=e$1[r$1];i$2&&this.adaptor.setAttribute(t$1,`${s$1}${r$1.toLowerCase()}`,i$2)}}}Detach(t$1){let e$1=t$1.typesetRoot;this.adaptor.removeAttribute(e$1,`data-speech-attached`),this.adaptor.removeAttribute(e$1,`data-braille-attached`),this.detachSpeech(e$1)}detachSpeech(t$1){let e$1=this.adaptor,s$1=e$1.childNodes(t$1);if(s$1){if(e$1.kind(t$1)!==`#text`)for(let s$2 of[`none`,`summary-none`,`speech`,`speech-none`,`summary`,`braille`])e$1.removeAttribute(t$1,`data-semantic-${s$2}`);for(let t$2 of s$1)this.detachSpeech(t$2)}}Terminate(){this.debug(`Terminating pending tasks`);for(let t$1 of this.tasks)t$1.reject(`${t$1.cmd.data.cmd} cancelled by WorkerHandler termination`);return this.tasks=[],this.debug(`Terminating worker`),this.worker.terminate()}Stop(){return Zb(this,void 0,void 0,(function*(){if(!this.worker)throw Error(`Worker has not been started`);yield this.Terminate(),this.worker=null,this.ready=!1}))}clearspeakLocalePreferences(t$1,e$1){return Zb(this,void 0,void 0,(function*(){yield this.Post({cmd:`localePreferences`,data:{options:t$1}}).then((s$1=>{e$1.set(t$1.locale,JSON.parse(s$1))}))}))}clearspeakRelevantPreferences(t$1,e$1,s$1,i$1){return Zb(this,void 0,void 0,(function*(){yield this.Post({cmd:`relevantPreferences`,data:{mml:t$1,id:e$1}}).then((t$2=>{s$1.set(i$1,t$2)}))}))}}let sE=ci.config||{},iE=()=>(sE?.loader?.paths?.mathjax||sE?.__dirname||`/`)+`/sre`;var rE=function(t$1,e$1,s$1,i$1){return new(s$1||=Promise)((function(r$1,n$1){function o$1(t$2){try{c$1(i$1.next(t$2))}catch(t$3){n$1(t$3)}}function a$1(t$2){try{c$1(i$1.throw(t$2))}catch(t$3){n$1(t$3)}}function c$1(t$2){var e$2;t$2.done?r$1(t$2.value):(e$2=t$2.value,e$2 instanceof s$1?e$2:new s$1((function(t$3){t$3(e$2)}))).then(o$1,a$1)}c$1((i$1=i$1.apply(t$1,e$1||[])).next())}))};function nE(t$1){return class extends t$1{constructor(){super(...arguments),this.generatorPool=new Qb}attachSpeech(t$2){if(this.outputData.speechPromise=null,this.state()>=rr.ATTACHSPEECH||(this.state(rr.ATTACHSPEECH),this.isEscaped||!t$2.options.enableSpeech&&!t$2.options.enableBraille||!t$2.options.enableEnrichment))return;t$2.getWebworker(),this.generatorPool.init(t$2.options,t$2.adaptor,t$2.webworker),this.outputData.mml=this.toMathML(this.root,this);let e$1=this.generatorPool.Speech(this).catch((e$2=>t$2.options.speechError(t$2,this,e$2)));t$2.savePromise(e$1),this.outputData.speechPromise=e$1}detachSpeech(t$2){t$2.webworker.Detach(this)}speechFor(t$2){return rE(this,void 0,void 0,(function*(){t$2=this.toEnriched(t$2);let e$1=yield this.generatorPool.SpeechFor(this,t$2);return[e$1.label,e$1.braillelabel]}))}clear(){this.generatorPool.cancel(this)}}}function oE(t$1){var e$1;return e$1=class extends t$1{constructor(...t$2){super(...t$2),this.webworker=null;let e$2=this.constructor.ProcessBits;e$2.has(`attach-speech`)||e$2.allocate(`attach-speech`),this.options.MathItem=nE(this.options.MathItem)}getWebworker(){this.webworker||(this.webworker=new eE(this.adaptor,this.options.worker),this.webworker.Start())}attachSpeech(){if(!this.processed.isSet(`attach-speech`)){let t$2=this.options;if(t$2.enableEnrichment&&(t$2.enableSpeech||t$2.enableBraille)){this.getWebworker();for(let t$3 of this.math)t$3.attachSpeech(this)}this.processed.set(`attach-speech`)}return this}speechError(t$2,e$2,s$1){console.warn(`Speech generation error:`,s$1)}state(t$2,e$2=!1){if(super.state(t$2,e$2),t$2<rr.ATTACHSPEECH&&(this.processed.clear(`attach-speech`),t$2>=rr.TYPESET))for(let t$3 of this.math)t$3.detachSpeech(this);return this}done(){let t$2=Object.create(null,{done:{get:()=>super.done}});return rE(this,void 0,void 0,(function*(){var e$2;return yield this.webworker?.Stop(),t$2.done.call(this)}))}},e$1.OPTIONS=Object.assign(Object.assign({},t$1.OPTIONS),{enableSpeech:!0,enableBraille:!0,speechError:(t$2,e$2,s$1)=>t$2.speechError(t$2,e$2,s$1),renderActions:Ai(Object.assign(Object.assign({},t$1.OPTIONS.renderActions),{attachSpeech:[rr.ATTACHSPEECH]})),worker:{path:iE(),maps:iE().replace(/[cm]js\/a11y\/sre$/,`bundle/sre/mathmaps`),worker:`speech-worker.js`,debug:!1},a11y:Ai({speech:!0,braille:!0})}),e$1}function aE(t$1,e$1){return!t$1.documentClass.prototype.enrich&&e$1&&(t$1=jb(t$1,e$1)),t$1.documentClass=oE(t$1.documentClass),t$1}if(nr(`ATTACHSPEECH`,rr.INSERTED+10),MathJax.loader&&MathJax.loader.checkVersion(`a11y/speech`,si,`a11y`),ai({_:{a11y:{speech_ts:Gs,speech:{GeneratorPool:Xs,SpeechUtil:zs,WebWorker:Vs}}}}),MathJax.loader){let t$1=ui.resolvePath(`[sre]`,!1),e$1=ui.resolvePath(`[mathmaps]`,!1);if(li)t$1=new URL(t$1,location).href,e$1=new URL(e$1,location).href;else{let s$1=__require===void 0?MathJax.config.loader.require:__require;s$1?.resolve?(t$1=s$1.resolve(`${t$1}/require.mjs`).replace(/\/[^\/]*$/,``),e$1=s$1.resolve(`${e$1}/base.json`).replace(/\/[^\/]*$/,``)):t$1=e$1=``}t$1&&oi(MathJax.config,`options`,{worker:{path:t$1,maps:e$1}})}MathJax.startup&&MathJax.startup.extendHandler((t$1=>aE(t$1)));let cE={red:{red:255,green:0,blue:0},green:{red:0,green:255,blue:0},blue:{red:0,green:0,blue:255},yellow:{red:255,green:255,blue:0},cyan:{red:0,green:255,blue:255},magenta:{red:255,green:0,blue:255},white:{red:255,green:255,blue:255},black:{red:0,green:0,blue:0}};function lE(t$1,e$1){var s$1;let i$1=cE[t$1.color]||cE[e$1.color];return i$1.alpha=t$1.alpha??e$1.alpha,function(t$2){var e$2;return`rgba(${t$2.red},${t$2.green},${t$2.blue},${t$2.alpha??1})`}(i$1)}let hE={color:`blue`,alpha:1},dE={color:`black`,alpha:1},uE=0;class pE{constructor(){this.counter=uE++,this.ATTR=`sre-highlight-`+this.counter.toString(),this.mactionName=``,this.currentHighlights=[]}highlight(t$1){this.currentHighlights.push(t$1.map((t$2=>{let e$1=this.highlightNode(t$2);return this.setHighlighted(t$2),e$1})))}highlightAll(t$1){let e$1=this.getMactionNodes(t$1);for(let t$2,s$1=0;t$2=e$1[s$1];s$1++)this.highlight([t$2])}unhighlight(){let t$1=this.currentHighlights.pop();t$1&&t$1.forEach((t$2=>{this.isHighlighted(t$2.node)&&(this.unhighlightNode(t$2),this.unsetHighlighted(t$2.node))}))}unhighlightAll(){for(;this.currentHighlights.length>0;)this.unhighlight()}setColor(t$1,e$1){this._foreground=lE(e$1,dE),this._background=lE(t$1,hE)}get foreground(){return this._foreground}get background(){return this._background}getMactionNodes(t$1){return Array.from(t$1.getElementsByClassName(this.mactionName))}isMactionNode(t$1){let e$1=t$1.className||t$1.getAttribute(`class`);return!!e$1&&!!e$1.match(new RegExp(this.mactionName))}isHighlighted(t$1){return t$1.hasAttribute(this.ATTR)}setHighlighted(t$1){t$1.setAttribute(this.ATTR,`true`)}unsetHighlighted(t$1){t$1.removeAttribute(this.ATTR)}}class mE extends pE{constructor(){super(),this.mactionName=`mjx-maction`}highlightNode(t$1){let e$1={node:t$1,background:t$1.style.backgroundColor,foreground:t$1.style.color};return this.isHighlighted(t$1)||(t$1.style.backgroundColor=this.background,t$1.style.color=this.foreground),e$1}unhighlightNode(t$1){t$1.node.style.backgroundColor=t$1.background,t$1.node.style.color=t$1.foreground}isMactionNode(t$1){var e$1;return t$1.tagName?.toUpperCase()===this.mactionName.toUpperCase()}getMactionNodes(t$1){return Array.from(t$1.getElementsByTagName(this.mactionName))}}function fE(t$1,e$1,s$1){let i$1=new gE[s$1];return i$1.setColor(t$1,e$1),i$1}let gE={SVG:class extends pE{constructor(){super(),this.mactionName=`maction`}highlightNode(t$1){let e$1;if(this.isHighlighted(t$1))return e$1={node:t$1,background:this.background,foreground:this.foreground},e$1;if(t$1.tagName===`svg`||t$1.tagName===`MJX-CONTAINER`)return e$1={node:t$1,background:t$1.style.backgroundColor,foreground:t$1.style.color},t$1.style.backgroundColor=this.background,t$1.style.color=this.foreground,e$1;let s$1=document.createElementNS(`http://www.w3.org/2000/svg`,`rect`);s$1.setAttribute(`sre-highlighter-added`,`true`);let i$1=t$1.getBBox();s$1.setAttribute(`x`,(i$1.x-40).toString()),s$1.setAttribute(`y`,(i$1.y-40).toString()),s$1.setAttribute(`width`,(i$1.width+80).toString()),s$1.setAttribute(`height`,(i$1.height+80).toString());let r$1=t$1.getAttribute(`transform`);return r$1&&s$1.setAttribute(`transform`,r$1),s$1.setAttribute(`fill`,this.background),t$1.setAttribute(this.ATTR,`true`),t$1.parentNode.insertBefore(s$1,t$1),e$1={node:t$1,foreground:t$1.getAttribute(`fill`)},t$1.nodeName!==`rect`&&t$1.setAttribute(`fill`,this.foreground),e$1}setHighlighted(t$1){t$1.tagName===`svg`&&super.setHighlighted(t$1)}unhighlightNode(t$1){let e$1=t$1.node.previousSibling;if(e$1&&e$1.hasAttribute(`sre-highlighter-added`))return t$1.foreground?t$1.node.setAttribute(`fill`,t$1.foreground):t$1.node.removeAttribute(`fill`),void t$1.node.parentNode.removeChild(e$1);t$1.node.style.backgroundColor=t$1.background,t$1.node.style.color=t$1.foreground}isMactionNode(t$1){return t$1.getAttribute(`data-mml-node`)===this.mactionName}getMactionNodes(t$1){return Array.from(t$1.querySelectorAll(`[data-mml-node="${this.mactionName}"]`))}},CHTML:mE,generic:mE};class bE{constructor(t$1){this.document=t$1,this.CLASS=this.constructor,this.AddStyles()}AddStyles(){if(this.CLASS.styleAdded)return;let t$1=this.document.adaptor.node(`style`);t$1.innerHTML=this.CLASS.style.cssText,this.document.adaptor.head(this.document.adaptor.document).appendChild(t$1),this.CLASS.styleAdded=!0}AddElement(){if(this.div)return;let t$1=this.document.adaptor.node(`div`);t$1.classList.add(this.CLASS.className),this.div=t$1,this.inner=this.document.adaptor.node(`div`),this.div.appendChild(this.inner),this.document.adaptor.body(this.document.adaptor.document).appendChild(this.div)}Show(t$1,e$1){this.AddElement(),this.position(t$1),this.highlight(e$1),this.div.classList.add(this.CLASS.className+`_Show`)}Hide(){this.div&&(this.div.parentNode.removeChild(this.div),this.div=null,this.inner=null)}stackRegions(t$1){let e$1=t$1.getBoundingClientRect(),s$1=0,i$1=1/0,r$1=this.document.adaptor.document.getElementsByClassName(this.CLASS.className+`_Show`);for(let t$2,e$2=0;t$2=r$1[e$2];e$2++)t$2!==this.div&&(s$1=Math.max(t$2.getBoundingClientRect().bottom,s$1),i$1=Math.min(t$2.getBoundingClientRect().left,i$1));let n$1=(s$1||e$1.bottom+10)+window.scrollY,o$1=(i$1<1/0?i$1:e$1.left)+window.scrollX;this.div.style.top=n$1+`px`,this.div.style.left=o$1+`px`}}bE.styleAdded=!1;class EE extends bE{Clear(){}Update(){}Hide(){}Show(){}AddElement(){}AddStyles(){}position(){}highlight(t$1){}}class NE extends bE{Clear(){this.div&&(this.Update(``),this.inner.style.top=``,this.inner.style.backgroundColor=``)}Update(t$1){t$1&&this.AddElement(),this.inner&&(this.inner.textContent=``,this.inner.textContent=t$1||`\xA0`)}position(t$1){this.stackRegions(t$1)}highlight(t$1){this.div&&(this.inner.style.backgroundColor=t$1.background,this.inner.style.color=t$1.foreground)}}class yE extends NE{}yE.className=`MJX_ToolTip`,yE.style=new Co({[`.`+yE.className]:{width:`auto`,height:`auto`,opacity:1,"text-align":`center`,"border-radius":`4px`,padding:0,"border-bottom":`1px dotted black`,position:`absolute`,display:`inline-block`,"background-color":`white`,"z-index":202},[`.`+yE.className+` > div`]:{"border-radius":`inherit`,padding:`0 2px`}});class xE extends NE{}xE.className=`MJX_LiveRegion`,xE.style=new Co({[`.`+xE.className]:{position:`absolute`,top:0,display:`none`,width:`auto`,height:`auto`,padding:0,opacity:1,"z-index":`202`,left:0,right:0,margin:`0 auto`,"background-color":`white`,"box-shadow":`0px 5px 20px #888`,border:`2px solid #CCCCCC`},[`.`+xE.className+`_Show`]:{display:`block`}});class vE extends xE{constructor(){super(...arguments),this.active=!1,this.node=null,this.clear=!1,this.highlighter=fE({color:`red`},{color:`black`},this.document.outputJax.name),this.voiceRequest=!1,this.voiceCancelled=!1}Show(t$1,e$1){super.Update(`\xA0`),this.node=t$1,super.Show(t$1,e$1)}Update(t$1){if(this.voiceRequest)return void this.makeVoice(t$1);speechSynthesis.onvoiceschanged=(()=>this.voiceRequest=!0).bind(this),new Promise((t$2=>{setTimeout((()=>{this.voiceRequest?t$2(!0):setTimeout((()=>{this.voiceRequest=!0,t$2(!0)}),100)}),100)})).then((()=>this.makeVoice(t$1)))}makeVoice(t$1){this.active=this.document.options.a11y.voicing&&!!speechSynthesis.getVoices().length,speechSynthesis.cancel(),this.clear=!0;let[e$1,s$1]=Jb(t$1,this.document.options.sre.locale,this.document.options.sre.rate);super.Update(e$1),this.active&&e$1&&this.makeUtterances(s$1,this.document.options.sre.locale)}makeUtterances(t$1,e$1){this.voiceCancelled=!1;let s$1=null;for(let i$1 of t$1)if(i$1.mark){if(!s$1){this.highlightNode(i$1.mark,!0);continue}s$1.addEventListener(`end`,(t$2=>{this.voiceCancelled||this.highlightNode(i$1.mark)}))}else if(i$1.pause){let t$2=parseInt(i$1.pause.match(/^[0-9]+/)[0]);if(isNaN(t$2)||!s$1)continue;s$1.addEventListener(`end`,(e$2=>{speechSynthesis.pause(),setTimeout((()=>{speechSynthesis.resume()}),t$2)}))}else s$1=new SpeechSynthesisUtterance(i$1.text),i$1.rate&&(s$1.rate=i$1.rate),i$1.pitch&&(s$1.pitch=i$1.pitch),s$1.lang=e$1,speechSynthesis.speak(s$1);s$1&&s$1.addEventListener(`end`,(t$2=>{this.highlighter.unhighlight()}))}Hide(){this.cancelVoice(),super.Hide()}cancelVoice(){this.voiceCancelled=!0,speechSynthesis.cancel(),this.highlighter.unhighlight()}highlightNode(t$1,e$1=!1){this.highlighter.unhighlight();let s$1=Array.from(this.node.querySelectorAll(`[data-semantic-id="${t$1}"]`));this.clear&&!e$1||this.highlighter.highlight(s$1),this.clear=!1}}class CE extends bE{position(t$1){let e$1=t$1.getBoundingClientRect(),s$1=this.div.getBoundingClientRect(),i$1,r$1=e$1.left+e$1.width/2-s$1.width/2;switch(r$1=r$1<0?0:r$1,r$1+=window.scrollX,this.document.options.a11y.align){case`top`:i$1=e$1.top-s$1.height-10;break;case`bottom`:i$1=e$1.bottom+10;break;default:i$1=e$1.top+e$1.height/2-s$1.height/2}i$1+=window.scrollY,i$1=i$1<0?0:i$1,this.div.style.top=i$1+`px`,this.div.style.left=r$1+`px`}highlight(t$1){this.div&&(this.inner.firstChild&&!this.inner.firstChild.hasAttribute(`sre-highlight`)||(this.inner.style.backgroundColor=t$1.background,this.inner.style.color=t$1.foreground))}Show(t$1,e$1){this.AddElement(),this.div.style.fontSize=this.document.options.a11y.magnify,this.Update(t$1),super.Show(t$1,e$1)}Clear(){this.div&&(this.inner.textContent=``,this.inner.style.top=``,this.inner.style.backgroundColor=``)}Update(t$1){if(!this.div)return;this.Clear();let e$1=this.cloneNode(t$1),s$1=e$1.querySelector(`[data-mjx-clone]`);this.inner.style.backgroundColor=t$1.style.backgroundColor,s$1.style.backgroundColor=``,s$1.classList.remove(`mjx-selected`),this.inner.appendChild(e$1),this.position(t$1)}cloneNode(t$1){let e$1=t$1.cloneNode(!0);if(e$1.setAttribute(`data-mjx-clone`,`true`),e$1.nodeName!==`MJX-CONTAINER`){e$1.nodeName!==`g`&&(e$1.style.marginLeft=e$1.style.marginRight=`0`);let s$1=t$1;for(;s$1&&s$1.nodeName!==`MJX-CONTAINER`;)s$1=s$1.parentNode;if(e$1.nodeName!==`MJX-MATH`&&e$1.nodeName!==`svg`&&(e$1=s$1.firstChild.cloneNode(!1).appendChild(e$1).parentNode,e$1.nodeName===`svg`)){e$1.firstChild.setAttribute(`transform`,`matrix(1 0 0 -1 0 0)`);let i$1=parseFloat(e$1.getAttribute(`viewBox`).split(/ /)[2]),r$1=parseFloat(e$1.getAttribute(`width`)),{x:n$1,y:o$1,width:a$1,height:c$1}=t$1.getBBox();e$1.setAttribute(`viewBox`,[n$1,-(o$1+c$1),a$1,c$1].join(` `)),e$1.removeAttribute(`style`),e$1.setAttribute(`width`,r$1/i$1*a$1+`ex`),e$1.setAttribute(`height`,r$1/i$1*c$1+`ex`),s$1.setAttribute(`sre-highlight`,`false`)}e$1=s$1.cloneNode(!1).appendChild(e$1).parentNode,e$1.style.margin=`0`}return e$1}}CE.className=`MJX_HoverRegion`,CE.style=new Co({[`.`+CE.className]:{display:`block`,position:`absolute`,width:`max-content`,height:`auto`,padding:0,opacity:1,"z-index":`202`,margin:`0 auto`,"background-color":`white`,"line-height":0,"box-shadow":`0px 10px 20px #888`,border:`2px solid #CCCCCC`},[`.`+CE.className+` > div`]:{overflow:`hidden`}});class TE{get highlighter(){return this.pool.highlighter}static stopEvent(t$1){t$1.preventDefault?t$1.preventDefault():t$1.returnValue=!1,t$1.stopImmediatePropagation?t$1.stopImmediatePropagation():t$1.stopPropagation&&t$1.stopPropagation(),t$1.cancelBubble=!0}static create(t$1,e$1,s$1,i$1,...r$1){return new this(t$1,e$1,s$1,i$1,...r$1)}constructor(t$1,e$1,s$1,i$1,...r$1){this.document=t$1,this.pool=e$1,this.region=s$1,this.node=i$1,this.stoppable=!0,this.events=[],this._active=!1}Events(){return this.events}get active(){return this._active}set active(t$1){this._active=t$1}Attach(){this.AddEvents()}Detach(){this.RemoveEvents()}Start(){this.active=!0}Stop(){this.active&&=(this.region.Clear(),this.region.Hide(),!1)}AddEvents(){for(let[t$1,e$1]of this.events)this.node.addEventListener(t$1,e$1)}RemoveEvents(){for(let[t$1,e$1]of this.events)this.node.removeEventListener(t$1,e$1)}Update(t$1=!1){}stopEvent(t$1){this.stoppable&&TE.stopEvent(t$1)}}var wE=function(t$1,e$1,s$1,i$1){return new(s$1||=Promise)((function(r$1,n$1){function o$1(t$2){try{c$1(i$1.next(t$2))}catch(t$3){n$1(t$3)}}function a$1(t$2){try{c$1(i$1.throw(t$2))}catch(t$3){n$1(t$3)}}function c$1(t$2){var e$2;t$2.done?r$1(t$2.value):(e$2=t$2.value,e$2 instanceof s$1?e$2:new s$1((function(t$3){t$3(e$2)}))).then(o$1,a$1)}c$1((i$1=i$1.apply(t$1,e$1||[])).next())}))};let _E=`[data-speech-node]`;function kE(t$1){return t$1.matches(`mjx-container`)}function AE(t$1,e$1=!0){return t$1.shiftKey&&e$1||t$1.metaKey||t$1.altKey||t$1.ctrlKey}let LE=new Map([[`MacOS`,[`on MacOS and iOS using VoiceOver`,`, or the VoiceOver arrow keys to select an expression`]],[`Windows`,[`in Windows using NVDA or JAWS`,`. The screen reader should enter focus or forms mode automatically
when the expression gets the browser focus, but if not, you can toggle
focus mode using NVDA+space in NVDA; for JAWS, Enter should start
forms mode while Numpad Plus leaves it.  Also note that you can use
the NVDA or JAWS key plus the arrow keys to explore the expression
even in browse mode, and you can use NVDA+shift+arrow keys to
navigate out of an expression that has the focus in NVDA`]],[`Unix`,[`in Unix using Orca`,`, and Orca should enter focus mode automatically.  If not, use the
Orca+a key to toggle focus mode on or off.  Also note that you can use
Orca+arrow keys to explore expressions even in browse mode`]],[`unknown`,[`with a Screen Reader.`,``]]]);class ME extends TE{get generators(){var t$1;return this.item?.generatorPool}get role(){return this.item.ariaRole}get description(){return this.item.roleDescription}get none(){return this.item.none}FocusIn(t$1){this.item.outputData.nofocus?this.item.outputData.nofocus=!1:(this.clicked||this.Start(),this.clicked=null)}FocusOut(t$1){this.current&&!this.focusSpeech&&(this.setCurrent(null),this.Stop(),document.hasFocus()||this.focusTop())}KeyDown(t$1){if(this.pendingIndex.shift(),this.region.cancelVoice(),AE(t$1,!1))return;let e$1=this.constructor,s$1=t$1.key.length===1?t$1.key.toLowerCase():t$1.key,[i$1,r$1]=e$1.keyMap.get(s$1)||[],n$1=i$1?r$1===void 0||this.active?i$1(this,t$1):r$1:this.undefinedKey(t$1);n$1||(this.stopEvent(t$1),!1===n$1&&this.sound&&this.NoMove())}MouseDown(t$1){var e$1;if(this.pendingIndex=[],this.region.cancelVoice(),AE(t$1)||t$1.buttons===2)return void(this.item.outputData.nofocus=!0);let s$1=this.findClicked(t$1.target,t$1.x,t$1.y);s$1===this.document.infoIcon?this.stopEvent(t$1):((e$1=document.getSelection())==null||e$1.removeAllRanges(),t$1.target.getAttribute(`sre-highlighter-added`)?this.refocus=s$1:this.clicked=s$1)}Click(t$1){if(AE(t$1)||t$1.buttons===2||document.getSelection().type===`Range`)return void this.FocusOut(null);let e$1=this.findClicked(t$1.target,t$1.x,t$1.y);if(e$1===this.document.infoIcon)return this.stopEvent(t$1),void this.help();e$1&&!this.node.contains(e$1)||(this.stopEvent(t$1),this.refocus=e$1,this.triggerLinkMouse()||this.Start())}DblClick(t$1){var e$1;let s$1=document.getSelection().direction??`none`;AE(t$1)||t$1.buttons===2||s$1!==`none`?this.FocusOut(null):(this.stopEvent(t$1),this.refocus=this.rootNode(),this.Start())}spaceKey(){return this.refocus=this.current,!0}hKey(){this.refocus=this.current,this.help()}escapeKey(){return this.Stop(),this.focusTop(),!0}enterKey(t$1){if(this.active)if(this.triggerLinkKeyboard(t$1))this.Stop();else{let t$2=this.actionable(this.current);if(!t$2)return!1;this.refocus=t$2,t$2.dispatchEvent(new Event(`click`))}else this.Start()}homeKey(){this.setCurrent(this.rootNode())}moveDown(t$1){return t$1?this.moveToNeighborCell(1,0):this.moveTo(this.firstNode(this.current))}moveUp(t$1){return t$1?this.moveToNeighborCell(-1,0):this.moveTo(this.getParent(this.current))}moveRight(t$1){return t$1?this.moveToNeighborCell(0,1):this.moveTo(this.nextSibling(this.current))}moveLeft(t$1){return t$1?this.moveToNeighborCell(0,-1):this.moveTo(this.prevSibling(this.current))}moveTo(t$1){if(!t$1)return!1;this.setCurrent(t$1)}moveToNeighborCell(t$1,e$1){let s$1=this.tableCell(this.current);if(!s$1)return!1;let[i$1,r$1]=this.cellPosition(s$1);if(i$1==null)return!1;let n$1=this.cellAt(this.cellTable(s$1),i$1+t$1,r$1+e$1);if(!n$1)return!1;this.setCurrent(n$1)}undefinedKey(t$1){return!this.active||AE(t$1)}addMark(){this.current===this.marks[this.marks.length-1]?this.setCurrent(this.current):(this.currentMark=this.marks.length-1,this.marks.push(this.current),this.speak(`Position marked`))}prevMark(){if(this.currentMark<0){if(this.marks.length===0)return void this.setCurrent(this.lastMark||this.rootNode());this.currentMark=this.marks.length-1}let t$1=this.currentMark;this.setCurrent(this.marks[t$1]),this.currentMark=t$1-1}clearMarks(){this.marks=[],this.currentMark=-1,this.prevMark()}autoVoice(){let t$1=!this.document.options.a11y.voicing;this.document.menu?this.document.menu.menu.pool.lookup(`voicing`).setValue(t$1):this.document.options.a11y.voicing=t$1,this.Update()}numberKey(t$1){if(!this.tableCell(this.current))return!1;if(t$1===0&&(t$1=10),this.pendingIndex.length){let e$1=this.cellTable(this.tableCell(this.current)),s$1=this.cellAt(e$1,this.pendingIndex[0]-1,t$1-1);if(this.pendingIndex=[],this.speak(String(t$1)),!s$1)return!1;setTimeout((()=>this.setCurrent(s$1)),500)}else this.pendingIndex=[null,t$1],this.speak(`Jump to row ${t$1} and column`)}depth(){var t$1,e$1,s$1;if(this.speechType===`d`)return void this.setCurrent(this.current);this.speechType=`d`;let i$1=[[this.node.getAttribute(`data-semantic-level`)??`Level`,this.current.getAttribute(`aria-level`)??`0`].join(` `).trim()],r$1=this.actionable(this.current);r$1&&i$1.unshift(this.node.getAttribute(r$1.getAttribute(`toggle`)===`1`?`data-semantic-expandable`:`data-semantic-collapsible`)??``),this.speak(i$1.join(` `),this.current.getAttribute(Yb.BRAILLE))}summary(){if(this.speechType===`x`)return void this.setCurrent(this.current);this.speechType=`x`;let t$1=this.current.getAttribute(Yb.SUMMARY);this.speak(t$1,this.current.getAttribute(Yb.BRAILLE),this.SsmlAttributes(this.current,Yb.SUMMARY_SSML))}nextRules(){this.node.removeAttribute(`data-speech-attached`),this.restartAfter(this.generators.nextRules(this.item))}nextStyle(){this.node.removeAttribute(`data-speech-attached`),this.restartAfter(this.generators.nextStyle(this.current,this.item))}details(){let t$1=this.actionable(this.current);if(!t$1||!t$1.getAttribute(`data-collapsible`)||t$1.getAttribute(`toggle`)!==`1`||this.speechType===`z`)return void this.setCurrent(this.current);this.speechType=`z`;let e$1=this.nodeId(this.current),s$1;this.item.root.walkTree((t$2=>{t$2.attributes.get(`data-semantic-id`)===e$1&&(s$1=t$2)}));let i$1=this.item.toMathML(s$1,this.item);s$1.isKind(`math`)||(i$1=`<math>${i$1}</math>`),i$1=i$1.replace(/ (?:data-semantic-|aria-|data-speech-|data-latex).*?=".*?"/g,``),this.item.speechFor(i$1).then((([t$2,e$2])=>this.speak(t$2,e$2)))}help(){let t$1=this.document.adaptor,e$1=t$1.node(`mjx-help-background`),s$1=t$2=>{e$1.remove(),this.node.focus(),this.stopEvent(t$2)};e$1.addEventListener(`click`,s$1);let i$1=t$1.node(`mjx-help-sizer`,{},[t$1.node(`mjx-help-dialog`,{tabindex:0,role:`dialog`,"aria-labeledby":`mjx-help-label`},[t$1.node(`h1`,{id:`mjx-help-label`},[t$1.text(`MathJax Expression Explorer Help`)]),t$1.node(`div`),t$1.node(`input`,{type:`button`,value:`Close`})])]);e$1.append(i$1);let r$1=i$1.firstChild;r$1.addEventListener(`click`,(t$2=>this.stopEvent(t$2))),r$1.lastChild.addEventListener(`click`,s$1),r$1.addEventListener(`keydown`,(t$2=>{t$2.code===`Escape`&&s$1(t$2)}));let[n$1,o$1]=LE.get(hi.os);r$1.childNodes[1].innerHTML=function(t$2,e$2){return`\n<H2>Exploring expressions ${t$2}</h2>\n\n<p>The mathematics on this page is being rendered by <a\nhref="https://www.mathjax.org/" target="_blank">MathJax</a>, which\ngenerates both the text spoken by screen readers, as well as the\nvisual layout for sighted users.</p>\n\n<p>Expressions typeset by MathJax can be explored interactively, and\nare focusable.  You can use the <kbd>Tab</kbd> key to move to a typeset\nexpression${e$2}.  Initially, the expression will be read in full,\nbut you can use the following keys to explore the expression\nfurther:<p>\n\n<ul>\n\n<li><kbd>Down Arrow</kbd> moves one level deeper into the expression to\nallow you to explore the current subexpression term by term.</li>\n\n<li><kbd>Up Arrow</kbd> moves back up a level within the expression.</li>\n\n<li><kbd>Right Arrow</kbd> moves to the next term in the current\nsubexpression.</li>\n\n<li><kbd>Left Arrow</kbd> moves to the next term in the current\nsubexpression.</li>\n\n<li><kbd>Shift</kbd>+<kbd>Arrow</kbd> moves to a neighboring cell within a table.\n\n<li><kbd>0-9</kbd>+<kbd>0-9</kbd> jumps to a cell by its index in the table, where 0 = 10.\n\n<li><kbd>Home</kbd> takes you to the top of the expression.</li>\n\n<li><kbd>Enter</kbd> or <kbd>Return</kbd> clicks a link or activates an active\nsubexpression.</li>\n\n<li><kbd>Space</kbd> opens the MathJax contextual menu where you can view\nor copy the source format of the expression, or modify MathJax's\nsettings.</li>\n\n<li><kbd>Escape</kbd> exits the expression explorer.</li>\n\n<li><kbd>x</kbd> gives a summary of the current subexpression.</li>\n\n<li><kbd>z</kbd> gives the full text of a collapsed expression.</li>\n\n<li><kbd>d</kbd> gives the current depth within the expression.</li>\n\n<li><kbd>s</kbd> starts or stops auto-voicing with synchronized highlighting.</li>\n\n<li><kbd>v</kbd> marks the current position in the expression.</li>\n\n<li><kbd>p</kbd> cycles through the marked positions in the expression.</li>\n\n<li><kbd>u</kbd> clears all marked positions and returns to the starting position.</li>\n\n<li><kbd>&gt;</kbd> cycles through the available speech rule sets\n(MathSpeak, ClearSpeak).</li>\n\n<li><kbd>&lt;</kbd> cycles through the verbosity levels for the current\nrule set.</li>\n\n<li><kbd>h</kbd> produces this help listing.</li>\n</ul>\n\n<p>The MathJax contextual menu allows you to enable or disable speech\nor Braille generation for mathematical expressions, the language to\nuse for the spoken mathematics, and other features of MathJax.  In\nparticular, the Explorer submenu allows you to specify how the\nmathematics should be identified in the page (e.g., by saying "math"\nwhen the expression is spoken), and whether or not to include a\nmessage about the letter "h" bringing up this dialog box.</p>\n\n<p>The contextual menu also provides options for viewing or copying a\nMathML version of the expression or its original source format,\ncreating an SVG version of the expression, and viewing various other\ninformation.</p>\n\n<p>For more help, see the <a\nhref="https://docs.mathjax.org/en/latest/basic/accessibility.html"\ntarge="_blank">MathJax accessibility documentation.</a></p>\n`}(n$1,o$1),document.body.append(e$1),r$1.focus()}setCurrent(t$1,e$1=!1){if(this.speechType=``,document.hasFocus()||(this.refocus=this.current),this.node.setAttribute(`aria-busy`,`true`),this.current){for(let t$2 of this.getSplitNodes(this.current))t$2.classList.remove(`mjx-selected`);this.pool.unhighlight(),this.document.options.a11y.tabSelects===`last`&&(this.refocus=this.current),t$1||(this.lastMark=this.current,this.removeSpeech()),this.current=null}if(this.current=t$1,this.currentMark=-1,this.current){let s$1=this.getSplitNodes(this.current);for(let t$2 of s$1)t$2.classList.add(`mjx-selected`);this.pool.highlight(s$1),this.addSpeech(t$1,e$1)}this.node.removeAttribute(`aria-busy`)}getSplitNodes(t$1){let e$1=this.nodeId(t$1);return e$1?Array.from(this.node.querySelectorAll(`[data-semantic-id="${e$1}"]`)):[t$1]}addSpeech(t$1,e$1){var s$1;(s$1=this.img)==null||s$1.remove();let i$1=[t$1.getAttribute(Yb.PREFIX),t$1.getAttribute(Yb.SPEECH),t$1.getAttribute(Yb.POSTFIX)].join(` `).trim();if(e$1){let t$2=this.description===this.none?``:`, `+this.description;this.document.options.a11y.help&&(t$2+=`, press h for help`),i$1+=t$2}this.speak(i$1,t$1.getAttribute(Yb.BRAILLE),this.SsmlAttributes(t$1,Yb.SPEECH_SSML)),this.node.setAttribute(`tabindex`,`-1`)}removeSpeech(){this.speech&&(this.speech.remove(),this.speech=null,this.img&&this.node.append(this.img),this.node.setAttribute(`tabindex`,`0`))}speak(t$1,e$1=``,s$1=null,i$1=this.none){let r$1=this.speech;this.speech=document.createElement(`mjx-speech`),this.speech.setAttribute(`role`,this.role),this.speech.setAttribute(`aria-label`,t$1),this.speech.setAttribute(Yb.SPEECH,t$1),s$1&&(this.speech.setAttribute(Yb.PREFIX_SSML,s$1[0]||``),this.speech.setAttribute(Yb.SPEECH_SSML,s$1[1]||``),this.speech.setAttribute(Yb.POSTFIX_SSML,s$1[2]||``)),e$1&&this.speech.setAttribute(`aria-braillelabel`,e$1),this.speech.setAttribute(`aria-roledescription`,i$1),this.speech.setAttribute(`tabindex`,`0`),this.node.append(this.speech),this.focusSpeech=!0,this.speech.focus(),this.focusSpeech=!1,this.Update(),r$1&&setTimeout((()=>r$1.remove()),100)}attachSpeech(){var t$1;let e$1=this.item,s$1=this.node;if(!s$1.hasAttribute(`has-speech`)){for(let t$2 of Array.from(s$1.childNodes))t$2.setAttribute(`aria-hidden`,`true`);s$1.setAttribute(`has-speech`,`true`)}let i$1=e$1.roleDescription,r$1=(s$1.getAttribute(Yb.SPEECH)||``)+(i$1?`, `+i$1:``);(t$1=this.img)==null||t$1.remove(),this.img=this.document.adaptor.node(`mjx-speech`,{"aria-label":r$1,role:`img`,"aria-roledescription":e$1.none}),s$1.appendChild(this.img)}detachSpeech(){var t$1;let e$1=this.node;(t$1=this.img)==null||t$1.remove(),e$1.removeAttribute(`has-speech`);for(let t$2 of Array.from(e$1.childNodes))t$2.removeAttribute(`aria-hidden`)}focus(){this.node.focus()}nodeId(t$1){return t$1.getAttribute(`data-semantic-id`)}parentId(t$1){return t$1.getAttribute(`data-semantic-parent`)}getNode(t$1){return t$1?this.node.querySelector(`[data-semantic-id="${t$1}"]`):null}getParent(t$1){return this.getNode(this.parentId(t$1))}childArray(t$1){return t$1?t$1.getAttribute(`data-semantic-children`).split(/,/):[]}isCell(t$1){return!!t$1&&this.cellTypes.includes(t$1.getAttribute(`data-semantic-type`))}isRow(t$1){return!!t$1&&t$1.getAttribute(`data-semantic-type`)===`row`}tableCell(t$1){for(;t$1&&t$1!==this.node;){if(this.isCell(t$1))return t$1;t$1=t$1.parentNode}return null}cellTable(t$1){let e$1=this.getParent(t$1);return this.isRow(e$1)?this.getParent(e$1):e$1}cellPosition(t$1){let e$1=this.getParent(t$1),s$1=this.childArray(e$1).indexOf(this.nodeId(t$1));if(!this.isRow(e$1))return[s$1,1];let i$1=this.getParent(e$1);return[this.childArray(i$1).indexOf(this.nodeId(e$1)),s$1]}cellAt(t$1,e$1,s$1){let i$1=this.getNode(this.childArray(t$1)[e$1]);return this.isRow(i$1)?this.getNode(this.childArray(i$1)[s$1]):s$1===1?i$1:null}firstNode(t$1){let e$1=t$1.getAttribute(`data-semantic-owns`);if(!e$1)return t$1.querySelector(_E);let s$1=e$1.split(/ /);for(let t$2 of s$1){let e$2=this.getNode(t$2);if(e$2?.hasAttribute(`data-speech-node`))return e$2}return t$1.querySelector(_E)}rootNode(){let t$1=this.node.querySelector(`[data-semantic-structure]`);if(!t$1)return this.node.querySelector(_E);let e$1=t$1.getAttribute(`data-semantic-structure`).split(/ /)[0].replace(`(`,``);return this.getNode(e$1)}nextSibling(t$1){var e$1;let s$1=this.parentId(t$1);if(!s$1)return null;let i$1=this.getNode(s$1).getAttribute(`data-semantic-owns`)?.split(/ /);if(!i$1)return null;let r$1,n$1=i$1.indexOf(this.nodeId(t$1));do r$1=this.getNode(i$1[++n$1]);while(r$1&&!r$1.hasAttribute(`data-speech-node`));return r$1}prevSibling(t$1){var e$1;let s$1=this.parentId(t$1);if(!s$1)return null;let i$1=this.getNode(s$1).getAttribute(`data-semantic-owns`)?.split(/ /);if(!i$1)return null;let r$1,n$1=i$1.indexOf(this.nodeId(t$1));do r$1=this.getNode(i$1[--n$1]);while(r$1&&!r$1.hasAttribute(`data-speech-node`));return r$1}findClicked(t$1,e$1,s$1){let i$1=this.document.infoIcon;if(i$1===t$1||i$1.contains(t$1))return i$1;if(this.node.getAttribute(`jax`)!==`SVG`)return t$1.closest(_E);let r$1=null,n$1=this.node;for(;n$1;){n$1.matches(_E)&&(r$1=n$1);let t$2=Array.from(n$1.childNodes);n$1=null;for(let i$2 of t$2)if(i$2!==this.speech&&i$2!==this.img&&i$2.tagName.toLowerCase()!==`rect`){let{left:t$3,right:r$2,top:o$1,bottom:a$1}=i$2.getBoundingClientRect();if(t$3<=e$1&&e$1<=r$2&&o$1<=s$1&&s$1<=a$1){n$1=i$2;break}}}return r$1}focusTop(){this.focusSpeech=!0,this.node.focus(),this.focusSpeech=!1}SsmlAttributes(t$1,e$1){return[t$1.getAttribute(Yb.PREFIX_SSML),t$1.getAttribute(e$1),t$1.getAttribute(Yb.POSTFIX_SSML)]}restartAfter(t$1){return wE(this,void 0,void 0,(function*(){yield t$1,this.attachSpeech();let e$1=this.current;this.current=null,this.pool.unhighlight(),this.setCurrent(e$1)}))}constructor(t$1,e$1,s$1,i$1,r$1,n$1,o$1,a$1){super(t$1,e$1,null,i$1),this.document=t$1,this.pool=e$1,this.region=s$1,this.node=i$1,this.brailleRegion=r$1,this.magnifyRegion=n$1,this.item=a$1,this.sound=!1,this.current=null,this.clicked=null,this.refocus=null,this.focusSpeech=!1,this.restarted=null,this.speech=null,this.speechType=``,this.img=null,this.attached=!1,this.eventsAttached=!1,this.marks=[],this.currentMark=-1,this.lastMark=null,this.pendingIndex=[],this.cellTypes=[`cell`,`line`],this.events=super.Events().concat([[`focusin`,this.FocusIn.bind(this)],[`focusout`,this.FocusOut.bind(this)],[`keydown`,this.KeyDown.bind(this)],[`mousedown`,this.MouseDown.bind(this)],[`click`,this.Click.bind(this)],[`dblclick`,this.DblClick.bind(this)]])}findStartNode(){let t$1=this.refocus||this.current;return!t$1&&this.restarted&&(t$1=this.node.querySelector(this.restarted)),this.refocus=this.restarted=null,t$1}Start(){let t$1=Object.create(null,{Start:{get:()=>super.Start}});return wE(this,void 0,void 0,(function*(){if(!this.attached||this.active||(this.document.activeItem=this.item,this.item.state()<rr.ATTACHSPEECH&&(this.item.attachSpeech(this.document),yield this.generators.promise),this.focusSpeech))return;this.node.classList.add(`mjx-explorer-active`),this.node.append(this.document.infoIcon);let e$1=this.findStartNode();this.setCurrent(e$1||this.rootNode(),!e$1),t$1.Start.call(this);let s$1=this.document.options,i$1=s$1.a11y;i$1.subtitles&&i$1.speech&&s$1.enableSpeech&&this.region.Show(this.node,this.highlighter),i$1.viewBraille&&i$1.braille&&s$1.enableBraille&&this.brailleRegion.Show(this.node,this.highlighter),i$1.keyMagnifier&&this.magnifyRegion.Show(this.current,this.highlighter),this.Update()}))}Stop(){if(this.active){let t$1=this.description;this.node.getAttribute(`aria-roledescription`)!==t$1&&this.node.setAttribute(`aria-roledescription`,t$1),this.node.classList.remove(`mjx-explorer-active`),this.document.infoIcon.remove(),this.pool.unhighlight(),this.magnifyRegion.Hide(),this.region.Hide(),this.brailleRegion.Hide()}super.Stop()}Update(){this.active&&(this.region.node=this.node,this.generators.updateRegions(this.speech||this.node,this.region,this.brailleRegion),this.magnifyRegion.Update(this.current))}Attach(){this.attached||=(super.Attach(),this.node.setAttribute(`tabindex`,`0`),!0)}Detach(){var t$1;super.RemoveEvents(),this.node.removeAttribute(`role`),this.node.removeAttribute(`aria-roledescription`),this.node.removeAttribute(`aria-label`),(t$1=this.img)==null||t$1.remove(),this.active&&this.node.setAttribute(`tabindex`,`0`),this.attached=!1}NoMove(){Kb()}AddEvents(){this.eventsAttached||=(super.AddEvents(),!0)}actionable(t$1){let e$1=t$1?.parentNode;return e$1&&this.highlighter.isMactionNode(e$1)?e$1:null}triggerLinkKeyboard(t$1){return this.current?this.triggerLink(this.current):t$1.target instanceof HTMLAnchorElement&&(t$1.target.dispatchEvent(new MouseEvent(`click`)),!0)}triggerLink(t$1){var e$1;if((t$1?.getAttribute(`data-semantic-postfix`))?.match(/(^| )link($| )/))for(;t$1&&t$1!==this.node;){if(t$1 instanceof HTMLAnchorElement)return t$1.dispatchEvent(new MouseEvent(`click`)),setTimeout((()=>this.FocusOut(null)),50),!0;t$1=t$1.parentNode}return!1}triggerLinkMouse(){let t$1=this.refocus;for(;t$1&&t$1!==this.node;){if(this.triggerLink(t$1))return!0;t$1=t$1.parentNode}return!1}semanticFocus(){let t$1=[],e$1=`data-semantic-id`,s$1=this.current||this.refocus||this.node,i$1=this.actionable(s$1);i$1&&(e$1=i$1.hasAttribute(`data-maction-id`)?`data-maction-id`:`id`,s$1=i$1,t$1.push(_E));let r$1=s$1.getAttribute(e$1);return r$1&&t$1.unshift(`[${e$1}="${r$1}"]`),t$1.join(` `)}}ME.keyMap=new Map([[`Tab`,[()=>!0]],[`Escape`,[t$1=>t$1.escapeKey()]],[`Enter`,[(t$1,e$1)=>t$1.enterKey(e$1)]],[`Home`,[t$1=>t$1.homeKey()]],[`ArrowDown`,[(t$1,e$1)=>t$1.moveDown(e$1.shiftKey),!0]],[`ArrowUp`,[(t$1,e$1)=>t$1.moveUp(e$1.shiftKey),!0]],[`ArrowLeft`,[(t$1,e$1)=>t$1.moveLeft(e$1.shiftKey),!0]],[`ArrowRight`,[(t$1,e$1)=>t$1.moveRight(e$1.shiftKey),!0]],[` `,[t$1=>t$1.spaceKey()]],[`h`,[t$1=>t$1.hKey()]],[`>`,[t$1=>t$1.nextRules(),!1]],[`<`,[t$1=>t$1.nextStyle(),!1]],[`x`,[t$1=>t$1.summary(),!1]],[`z`,[t$1=>t$1.details(),!1]],[`d`,[t$1=>t$1.depth(),!1]],[`v`,[t$1=>t$1.addMark(),!1]],[`p`,[t$1=>t$1.prevMark(),!1]],[`u`,[t$1=>t$1.clearMarks(),!1]],[`s`,[t$1=>t$1.autoVoice(),!1]],...[...`0123456789`].map((t$1=>[t$1,[e$1=>e$1.numberKey(parseInt(t$1)),!1]]))]);class IE extends TE{constructor(){super(...arguments),this.events=super.Events().concat([[`mouseover`,this.MouseOver.bind(this)],[`mouseout`,this.MouseOut.bind(this)]])}MouseOver(t$1){this.Start()}MouseOut(t$1){this.Stop()}}class SE extends IE{constructor(t$1,e$1,s$1,i$1,r$1,n$1){super(t$1,e$1,s$1,i$1),this.document=t$1,this.pool=e$1,this.region=s$1,this.node=i$1,this.nodeQuery=r$1,this.nodeAccess=n$1}MouseOut(t$1){this.highlighter.unhighlight(),this.region.Hide(),super.MouseOut(t$1)}MouseOver(t$1){super.MouseOver(t$1);let e$1=t$1.target,[s$1,i$1]=this.getNode(e$1);s$1&&(this.highlighter.unhighlight(),this.highlighter.highlight([s$1]),this.region.Update(i$1),this.region.Show(s$1,this.highlighter))}getNode(t$1){let e$1=t$1;for(;t$1&&t$1!==this.node;){if(this.nodeQuery(t$1))return[t$1,this.nodeAccess(t$1)];t$1=t$1.parentNode}for(t$1=e$1;t$1;){if(this.nodeQuery(t$1))return[t$1,this.nodeAccess(t$1)];let e$2=t$1.childNodes[0];t$1=e$2&&e$2.tagName===`defs`?t$1.childNodes[1]:e$2}return[null,null]}}class RE extends SE{}class OE extends SE{}class DE extends SE{constructor(t$1,e$1,s$1,i$1){super(t$1,e$1,new EE(t$1),i$1,(t$2=>this.highlighter.isMactionNode(t$2)),(()=>{})),this.document=t$1,this.pool=e$1,this.node=i$1}}class PE extends TE{constructor(t$1,e$1,s$1,i$1,r$1){super(t$1,e$1,null,i$1),this.document=t$1,this.pool=e$1,this.region=s$1,this.node=i$1,this.mml=r$1,this.stoppable=!1}Attach(){super.Attach(),this.Start()}Detach(){this.Stop(),super.Detach()}}class BE extends PE{Start(){this.active||(this.active=!0,this.highlighter.highlightAll(this.node))}Stop(){this.active&&this.highlighter.unhighlightAll(),this.active=!1}}class FE extends PE{constructor(){super(...arguments),this.contrast=new jE,this.leaves=[],this.modality=`data-semantic-foreground`}Start(){this.active||(this.active=!0,this.node.hasAttribute(`hasforegroundcolor`)||(this.colorLeaves(),this.node.setAttribute(`hasforegroundcolor`,`true`)),this.leaves.forEach((t$1=>this.colorize(t$1))))}Stop(){this.active&&this.leaves.forEach((t$1=>this.uncolorize(t$1))),this.active=!1}colorLeaves(){this.leaves=Array.from(this.node.querySelectorAll(`[data-semantic-id]:not([data-semantic-children])`));for(let t$1 of this.leaves)t$1.setAttribute(this.modality,this.contrast.generate()),this.contrast.increment()}colorize(t$1){t$1.hasAttribute(this.modality)&&(t$1.setAttribute(this.modality+`-old`,t$1.style.color),t$1.style.color=t$1.getAttribute(this.modality))}uncolorize(t$1){let e$1=this.modality+`-old`;t$1.hasAttribute(e$1)&&(t$1.style.color=t$1.getAttribute(e$1))}}class jE{constructor(){this.hue=10,this.sat=100,this.light=50,this.incr=53}generate(){return jE.hsl2rgb(this.hue,this.sat,this.light)}increment(){this.hue=(this.hue+this.incr)%360}static hsl2rgb(t$1,e$1,s$1){e$1=e$1>1?e$1/100:e$1,s$1=s$1>1?s$1/100:s$1;let i$1=(1-Math.abs(2*s$1-1))*e$1,r$1=i$1*(1-Math.abs(t$1/60%2-1)),n$1=s$1-i$1/2,o$1=0,a$1=0,c$1=0;return 0<=t$1&&t$1<60?[o$1,a$1,c$1]=[i$1,r$1,0]:60<=t$1&&t$1<120?[o$1,a$1,c$1]=[r$1,i$1,0]:120<=t$1&&t$1<180?[o$1,a$1,c$1]=[0,i$1,r$1]:180<=t$1&&t$1<240?[o$1,a$1,c$1]=[0,r$1,i$1]:240<=t$1&&t$1<300?[o$1,a$1,c$1]=[r$1,0,i$1]:300<=t$1&&t$1<360&&([o$1,a$1,c$1]=[i$1,0,r$1]),`rgb(${255*(o$1+n$1)}, ${255*(a$1+n$1)}, ${255*(c$1+n$1)})`}}class UE{constructor(t$1){this.document=t$1,this.speechRegion=new vE(this.document),this.brailleRegion=new xE(this.document),this.magnifier=new CE(this.document),this.tooltip1=new yE(this.document),this.tooltip2=new yE(this.document),this.tooltip3=new yE(this.document)}}let qE={speech:(t$1,e$1,s$1,...i$1)=>{let r$1=ME.create(t$1,e$1,t$1.explorerRegions.speechRegion,s$1,t$1.explorerRegions.brailleRegion,t$1.explorerRegions.magnifier,i$1[0],i$1[1]);return r$1.sound=!0,r$1},mouseMagnifier:(t$1,e$1,s$1,...i$1)=>OE.create(t$1,e$1,t$1.explorerRegions.magnifier,s$1,(t$2=>t$2.hasAttribute(`data-semantic-type`)),(t$2=>t$2)),hover:(t$1,e$1,s$1,...i$1)=>DE.create(t$1,e$1,null,s$1),infoType:(t$1,e$1,s$1,...i$1)=>RE.create(t$1,e$1,t$1.explorerRegions.tooltip1,s$1,(t$2=>t$2.hasAttribute(`data-semantic-type`)),(t$2=>t$2.getAttribute(`data-semantic-type`))),infoRole:(t$1,e$1,s$1,...i$1)=>RE.create(t$1,e$1,t$1.explorerRegions.tooltip2,s$1,(t$2=>t$2.hasAttribute(`data-semantic-role`)),(t$2=>t$2.getAttribute(`data-semantic-role`))),infoPrefix:(t$1,e$1,s$1,...i$1)=>RE.create(t$1,e$1,t$1.explorerRegions.tooltip3,s$1,(t$2=>{var e$2;return t$2.hasAttribute?.call(t$2,`data-semantic-prefix-none`)}),(t$2=>{var e$2;return t$2.getAttribute?.call(t$2,`data-semantic-prefix-none`)})),flame:(t$1,e$1,s$1,...i$1)=>BE.create(t$1,e$1,null,s$1),treeColoring:(t$1,e$1,s$1,...i$1)=>FE.create(t$1,e$1,null,s$1,...i$1)};class HE{constructor(){this.explorers={},this.attached=[],this._restart=[],this.speechExplorerKeys=[`speech`,`braille`,`keyMagnifier`]}get highlighter(){if(this._renderer!==this.document.outputJax.name)return this._renderer=this.document.outputJax.name,this.setPrimaryHighlighter(),this._highlighter;let[t$1,e$1]=this.colorOptions();return this._highlighter.setColor(e$1,t$1),this._highlighter}init(t$1,e$1,s$1,i$1){this.document=t$1,this.mml=s$1,this.node=e$1,this.setPrimaryHighlighter();for(let t$2 of Object.keys(qE))this.explorers[t$2]=qE[t$2](this.document,this,this.node,this.mml,i$1);this.setSecondaryHighlighter(),this.attach()}attach(){this.attached=[];let t$1=[],e$1=this.document.options.a11y;for(let[s$1,i$1]of Object.entries(this.explorers))i$1 instanceof ME?(i$1.stoppable=!1,t$1.unshift(i$1),this.speechExplorerKeys.some((t$2=>this.document.options.a11y[t$2]))?(i$1.Attach(),this.attached.push(s$1)):i$1.Detach()):e$1[s$1]||s$1===`speech`&&(e$1.braille||e$1.keyMagnifier)?(i$1.Attach(),this.attached.push(s$1)):i$1.Detach();for(let e$2 of t$1)if(e$2.attached){e$2.stoppable=!0;break}}reattach(){for(let t$1 of this.attached){let e$1=this.explorers[t$1];e$1.active&&(this._restart.push(t$1),e$1.Stop())}}restart(){this._restart.forEach((t$1=>{this.explorers[t$1].Start()})),this._restart=[]}setPrimaryHighlighter(){let[t$1,e$1]=this.colorOptions();this._highlighter=fE(e$1,t$1,this.document.outputJax.name)}setSecondaryHighlighter(){this.secondaryHighlighter=fE({color:`red`},{color:`black`},this.document.outputJax.name),this.speech.region.highlighter=this.secondaryHighlighter}highlight(t$1){this.highlighter.highlight(t$1)}unhighlight(){this.secondaryHighlighter.unhighlight(),this.highlighter.unhighlight()}get speech(){return this.explorers.speech}colorOptions(){let t$1=this.document.options.a11y;return[{color:t$1.foregroundColor.toLowerCase(),alpha:t$1.foregroundOpacity/100},{color:t$1.backgroundColor.toLowerCase(),alpha:t$1.backgroundOpacity/100}]}}let WE=hi.os===`Unix`;function zE(t$1,e$1){var s$1;return s$1=class extends t$1{constructor(){super(...arguments),this.refocus=null}get ariaRole(){return this.constructor.ariaRole}get roleDescription(){let t$2=this.constructor;return t$2.roleDescription===`none`?t$2.none:t$2.roleDescription}get none(){return this.constructor.none}attachSpeech(t$2){var e$2,s$2;super.attachSpeech(t$2),(s$2=this.outputData.speechPromise?.then((()=>this.explorers.speech.attachSpeech())))==null||s$2.then((()=>{var t$3;(t$3=this.explorers)!=null&&t$3.speech&&(this.explorers.speech.restarted=this.refocus),this.refocus=null,this.explorers&&this.explorers.restart()}))}detachSpeech(t$2){super.detachSpeech(t$2),this.explorers.speech.detachSpeech()}explorable(t$2,s$2=!1){if(!(this.state()>=rr.EXPLORER)){if(!this.isEscaped&&(t$2.options.enableExplorer||s$2)){let s$3=this.typesetRoot,i$1=e$1(this.root);this.explorers||=new HE,this.explorers.init(t$2,s$3,i$1,this)}this.state(rr.EXPLORER)}}state(t$2=null,e$2=!1){if(t$2<rr.EXPLORER&&this.explorers)for(let t$3 of Object.values(this.explorers.explorers))t$3.active&&t$3.Stop();return super.state(t$2,e$2)}rerender(t$2,e$2=rr.RERENDER){let s$2=this.setTemporaryFocus(t$2);super.rerender(t$2,e$2),this.clearTemporaryFocus(s$2)}setTemporaryFocus(t$2){var e$2;let s$2=null;if(this.explorers){let i$1=this.explorers.speech;if(s$2=i$1?.attached?t$2.tmpFocus:null,s$2){this.refocus=i$1.semanticFocus()??null;let r$1=t$2.adaptor;r$1.append(r$1.body(),s$2)}this.explorers.reattach(),s$2?.focus()}return s$2}clearTemporaryFocus(t$2){var e$2;t$2&&(this.outputData.speechPromise??Promise.resolve()).then((()=>setTimeout((()=>t$2.remove()),100)))}},s$1.ariaRole=WE?`tree`:`application`,s$1.roleDescription=`math`,s$1.none=``,s$1}function XE(t$1){var e$1;return e$1=class extends t$1{constructor(...t$2){super(...t$2),this.explorerRegions=null,this.activeItem=null;let e$2=this.constructor.ProcessBits;e$2.has(`explorer`)||e$2.allocate(`explorer`);let s$1=new Jn(this.mmlFactory),i$1=this.options;i$1.a11y.speechRules||(i$1.a11y.speechRules=`${i$1.sre.domain}-${i$1.sre.style}`);let r$1=i$1.MathItem=zE(i$1.MathItem,(t$3=>s$1.visitTree(t$3)));r$1.roleDescription=i$1.roleDescription,this.explorerRegions=new UE(this),`addStyles`in this&&this.addStyles(this.constructor.speechStyles);let n$1=this.adaptor,o$1=`http://www.w3.org/2000/svg`;this.infoIcon=n$1.node(`mjx-help`,{},[n$1.node(`svg`,{viewBox:`0 0 18 18`,xmlns:o$1,"aria-hidden":`true`},[n$1.node(`circle`,{stroke:`none`},[],o$1),n$1.node(`circle`,{},[],o$1),n$1.node(`line`,{x1:9,y1:9,x2:9,y2:13},[],o$1),n$1.node(`line`,{x1:9,y1:5.5,x2:9,y2:5.5},[],o$1)],o$1)]),this.tmpFocus=this.adaptor.node(`mjx-focus`,{tabIndex:0,style:{outline:`none`,display:`block`,position:`absolute`,top:0,left:`-10px`,width:`1px`,height:`1px`,overflow:`hidden`},role:r$1.ariaRole,"aria-label":r$1.none,"aria-roledescription":r$1.none})}explorable(){if(!this.processed.isSet(`explorer`)){if(this.options.enableExplorer)for(let t$2 of this.math)t$2.explorable(this);this.processed.set(`explorer`)}return this}rerender(t$2){let e$2=this.activeItem,s$1=e$2?.setTemporaryFocus(this);return super.rerender(t$2),e$2?.clearTemporaryFocus(s$1),this}state(t$2,e$2=!1){return super.state(t$2,e$2),t$2<rr.EXPLORER&&this.processed.clear(`explorer`),this}},e$1.OPTIONS=Object.assign(Object.assign({},t$1.OPTIONS),{enableExplorer:li,renderActions:Ai(Object.assign(Object.assign({},t$1.OPTIONS.renderActions),{explorable:[rr.EXPLORER]})),sre:Ai(Object.assign(Object.assign({},t$1.OPTIONS.sre),{speech:`none`})),a11y:Object.assign(Object.assign({},t$1.OPTIONS.a11y),{align:`top`,backgroundColor:`Blue`,backgroundOpacity:20,flame:!1,foregroundColor:`Black`,foregroundOpacity:100,highlight:`None`,hover:!1,infoPrefix:!1,infoRole:!1,infoType:!1,keyMagnifier:!1,magnification:`None`,magnify:`400%`,mouseMagnifier:!1,subtitles:!1,treeColoring:!1,viewBraille:!1,voicing:!1,help:!0,roleDescription:`math`,tabSelects:`all`})}),e$1.speechStyles={'mjx-container[has-speech="true"]':{position:`relative`,cursor:`default`},"mjx-speech":{position:`absolute`,"z-index":-1,left:0,top:0,bottom:0,right:0},"mjx-speech:focus":{outline:`none`},"mjx-container .mjx-selected":{outline:`2px solid black`},"mjx-container > mjx-help":{display:`none`,position:`absolute`,top:`-.33em`,right:`-.5em`,width:`.6em`,height:`.6em`,cursor:`pointer`},'mjx-container[display="true"] > mjx-help':{right:0},"mjx-help > svg":{stroke:`black`,width:`100%`,height:`100%`},"mjx-help > svg > circle":{"stroke-width":`1.5px`,cx:`9px`,cy:`9px`,r:`9px`,fill:`white`},"mjx-help > svg > circle:nth-child(2)":{fill:`rgba(0, 0, 255, 0.2)`,r:`7px`},"mjx-help > svg > line":{"stroke-width":`2.5px`,"stroke-linecap":`round`},"mjx-help:hover > svg > circle:nth-child(2)":{fill:`white`},"mjx-container.mjx-explorer-active > mjx-help":{display:`inline-flex`,"align-items":`center`},"mjx-help-sizer":{position:`fixed`,width:`40%`,"max-width":`30em`,top:`3em`,left:`50%`},"mjx-help-dialog":{position:`absolute`,width:`200%`,left:`-100%`,border:`3px outset`,"border-radius":`15px`,color:`black`,"background-color":`#DDDDDD`,"z-index":`301`,"text-align":`right`,"font-style":`normal`,"text-indent":0,"text-transform":`none`,"line-height":`normal`,"letter-spacing":`normal`,"word-spacing":`normal`,"word-wrap":`normal`,float:`none`,"box-shadow":`0px 10px 20px #808080`,outline:`none`},"mjx-help-dialog > h1":{"font-size":`24px`,"text-align":`center`,margin:`.5em 0`},"mjx-help-dialog > div":{margin:`0 1em`,padding:`3px`,overflow:`auto`,height:`20em`,border:`2px inset black`,"background-color":`white`,"text-align":`left`},"mjx-help-dialog > input":{margin:`.5em 2em`},"mjx-help-dialog kbd":{display:`inline-block`,padding:`3px 5px`,"font-size":`11px`,"line-height":`10px`,color:`#444d56`,"vertical-align":`middle`,"background-color":`#fafbfc`,border:`solid 1.5px #c6cbd1`,"border-bottom-color":`#959da5`,"border-radius":`3px`,"box-shadow":`inset -.5px -1px 0 #959da5`},"mjx-help-dialog ul":{"list-style-type":`none`},"mjx-help-dialog li":{"margin-bottom":`.5em`},"mjx-help-background":{position:`fixed`,top:0,left:0,right:0,bottom:0}},e$1}function VE(t$1,e$1=null){return t$1.documentClass.prototype.attachSpeech||(t$1=aE(t$1,e$1)),t$1.documentClass=XE(t$1.documentClass),t$1}function GE(t$1,e$1){var s$1;let i$1=ib();for(let s$2 in e$1)t$1.options.a11y[s$2]===void 0?i$1[s$2]!==void 0&&(t$1.options.sre[s$2]=e$1[s$2]):JE(t$1,s$2,e$1[s$2]);e$1.roleDescription&&(t$1.options.MathItem.roleDescription=e$1.roleDescription);for(let e$2 of t$1.math)(s$1=e$2?.explorers)==null||s$1.attach()}function JE(t$1,e$1,s$1){switch(e$1){case`speechRules`:{let[e$2,i$1]=s$1.split(`-`);t$1.options.sre.domain=e$2,t$1.options.sre.style=i$1;break}case`magnification`:switch(s$1){case`None`:t$1.options.a11y.magnification=s$1,t$1.options.a11y.keyMagnifier=!1,t$1.options.a11y.mouseMagnifier=!1;break;case`Keyboard`:t$1.options.a11y.magnification=s$1,t$1.options.a11y.keyMagnifier=!0,t$1.options.a11y.mouseMagnifier=!1;break;case`Mouse`:t$1.options.a11y.magnification=s$1,t$1.options.a11y.keyMagnifier=!1,t$1.options.a11y.mouseMagnifier=!0}break;case`highlight`:switch(s$1){case`None`:t$1.options.a11y.highlight=s$1,t$1.options.a11y.hover=!1,t$1.options.a11y.flame=!1;break;case`Hover`:t$1.options.a11y.highlight=s$1,t$1.options.a11y.hover=!0,t$1.options.a11y.flame=!1;break;case`Flame`:t$1.options.a11y.highlight=s$1,t$1.options.a11y.hover=!1,t$1.options.a11y.flame=!0}break;case`locale`:t$1.options.sre.locale=s$1;break;default:t$1.options.a11y[e$1]=s$1}}nr(`EXPLORER`,rr.INSERTED+30),MathJax.loader&&MathJax.loader.checkVersion(`a11y/explorer`,si,`a11y`),ai({_:{a11y:{explorer_ts:ei,explorer:{Explorer:$s,ExplorerPool:ti,Highlighter:Js,KeyExplorer:Ys,MouseExplorer:Qs,Region:Ks,TreeExplorer:Zs}}}}),MathJax.startup&&li&&MathJax.startup.extendHandler((t$1=>VE(t$1))),Ni.preLoaded(`a11y/sre`,`a11y/semantic-enrich`,`a11y/speech`,`a11y/explorer`),Ni.preLoaded(`loader`,`startup`,`core`,`input/tex`,`input/mml`,`output/chtml`,`ui/menu`),Ni.saveVersion(`tex-mml-chtml`),function(t$1,e$1){Yd.loadFont(t$1,`chtml`,Vd,e$1)}((function(t$1){return Ni.load(...xi.load).then((()=>(t$1||function(){})())).then((()=>xi.ready())).catch((t$2=>xi.failed(t$2)))}),!0)})()})();var root$6=from_html(`<div class="learn svelte-1pkvjn0"><div class="numbering svelte-1pkvjn0"> </div> <div class="card-wrapper svelte-1pkvjn0"><div class="card svelte-1pkvjn0"><div class="front-side svelte-1pkvjn0"> </div> <div class="back-side svelte-1pkvjn0"> </div></div></div> <div class="button-row"><button class="prev">&lt;</button> <button class="flip">Flip</button> <button class="next">&gt;</button></div></div>`);function Learn($$anchor,$$props){push($$props,!0);let settings=proxy(loadSettings()),params=GetCurrentParams(),albumIndex=Number(params.album),cardIndex=state(0),album=AlbumRegistry.getAlbum(albumIndex)||ExampleAlbum;album.cards.length===0&&(album.cards=[{front:`No cards in this album!`,back:`Please add some cards in the Edit page.`}]),settings.shouldShuffle&&album.shuffle();let animating=!1,cardWarpper,card;function flip(){card.classList.toggle(`flipped`)}function renderMath(){settings.enableMathJax&&MathJax.typesetPromise([childElement,backElement])}function go(amount){if(card.classList.contains(`flipped`)){flip(),setTimeout(()=>go(amount),300);return}animating||(animating=!0,cardWarpper.classList.add(amount>0?`rotate-left`:`rotate-right`),card.classList.add(amount>0?`hide-left`:`hide-right`),setTimeout(()=>{cardWarpper.classList.remove(amount>0?`rotate-left`:`rotate-right`),card.classList.remove(amount>0?`hide-left`:`hide-right`),animating=!1,set(cardIndex,get(cardIndex)+amount);let childElement$1=card.querySelector(`.front-side`);childElement$1.innerHTML=album.getNextCard(get(cardIndex)).front;let backElement$1=card.querySelector(`.back-side`);backElement$1.innerHTML=album.getNextCard(get(cardIndex)).back,renderMath()},300))}onMount(()=>{renderMath()});var div=root$6(),div_1=child(div),text$1=child(div_1);reset(div_1);var div_2=sibling(div_1,2),div_3=child(div_2),div_4=child(div_3),text_1=child(div_4,!0);reset(div_4);var div_5=sibling(div_4,2),text_2=child(div_5,!0);reset(div_5),reset(div_3),bind_this(div_3,$$value=>card=$$value,()=>card),reset(div_2),bind_this(div_2,$$value=>cardWarpper=$$value,()=>cardWarpper);var div_6=sibling(div_2,2),button=child(div_6);button.__click=()=>go(-1);var button_1=sibling(button,2);button_1.__click=flip;var button_2=sibling(button_1,2);button_2.__click=()=>go(1),reset(div_6),reset(div),template_effect(($0,$1)=>{set_text(text$1,`Card ${(get(cardIndex)%album.cards.length+album.cards.length)%album.cards.length+1} / ${album.cards.length??``}`),set_text(text_1,$0),set_text(text_2,$1)},[()=>album.getNextCard(get(cardIndex)).front,()=>album.getNextCard(get(cardIndex)).back]),append($$anchor,div),pop()}delegate([`click`]);var root$5=from_html(`<div class="card-edit svelte-hjs7ce"><div class="card-info svelte-hjs7ce"> <button class="delete svelte-hjs7ce"></button></div> <textarea class="card-front svelte-hjs7ce" placeholder="Front Side"></textarea> <textarea class="card-back svelte-hjs7ce" placeholder="Back Side"></textarea></div>`);function CardEdit($$anchor,$$props){push($$props,!0);var div=root$5(),div_1=child(div),text$1=child(div_1),button=sibling(text$1);button.__click=()=>$$props.onDelete(),reset(div_1);var textarea=sibling(div_1,2);remove_textarea_child(textarea),textarea.__input=e=>$$props.onEdit(`front`,$$props.index,e.target.value);var textarea_1=sibling(textarea,2);remove_textarea_child(textarea_1),textarea_1.__input=e=>$$props.onEdit(`back`,$$props.index,e.target.value),reset(div),template_effect(()=>{set_text(text$1,`${$$props.index+1} `),set_value(textarea,$$props.card.front),set_value(textarea_1,$$props.card.back)}),append($$anchor,div),pop()}delegate([`click`,`input`]);var root$4=from_html(`<div class="edit svelte-59dnua"><input type="text" class="album-title svelte-59dnua" placeholder="Album Title"/> <textarea class="album-description svelte-59dnua" placeholder="Album Description"></textarea> <div class="cards svelte-59dnua"></div> <button class="circle add-button svelte-59dnua"><span class="svelte-59dnua">+</span></button> <button class="circle save-button svelte-59dnua"></button> <button class="circle delete-button svelte-59dnua"></button> <button class="circle export-button svelte-59dnua"></button> <button class="circle import-button svelte-59dnua"></button></div>`);function Edit($$anchor,$$props){push($$props,!0);let params=GetCurrentParams(),albumIndex=parseInt(params.album),source$1=AlbumRegistry.getAlbum(albumIndex)||ExampleAlbum,editedAlbum=proxy({...source$1,cards:source$1.cards});function addCard(){editedAlbum.cards.push({front:``,back:``}),setTimeout(()=>{document.body.scroll({top:document.body.scrollHeight,behavior:`smooth`})},50)}function deleteAlbum(){albumIndex>=0&&AlbumRegistry.deleteAlbum(albumIndex),Navigate(`/`)}function onDelete(index$1){editedAlbum.cards.splice(index$1,1)}function onEdit(which,index$1,value){editedAlbum.cards[index$1][which]=value}function saveAlbum(){albumIndex>=0?AlbumRegistry.updateAlbum(albumIndex,editedAlbum):AlbumRegistry.addAlbum(new Album(editedAlbum.title,editedAlbum.description,editedAlbum.cards)),Navigate(`/`)}function exportAlbum(){``+encodeURIComponent(JSON.stringify(editedAlbum)),alert(`Album JSON (Triple click to select):

`+JSON.stringify(editedAlbum))}function importAlbum(){let json=prompt(`Paste album JSON here:`);if(json)try{let imported=JSON.parse(json);editedAlbum.title=imported.title||`Imported Album`,editedAlbum.description=imported.description||``,editedAlbum.cards=imported.cards||[]}catch(e){alert(`Failed to import album: `+e)}}var div=root$4(),input=child(div);remove_input_defaults(input);var textarea=sibling(input,2);remove_textarea_child(textarea);var div_1=sibling(textarea,2);each(div_1,21,()=>editedAlbum.cards,index,($$anchor$1,card,index$1)=>{CardEdit($$anchor$1,{get card(){return get(card)},index:index$1,onDelete:()=>onDelete(index$1),onEdit})}),reset(div_1);var button=sibling(div_1,2);button.__click=()=>addCard();var button_1=sibling(button,2);button_1.__click=()=>saveAlbum();var button_2=sibling(button_1,2);button_2.__click=()=>deleteAlbum();var button_3=sibling(button_2,2);button_3.__click=()=>exportAlbum();var button_4=sibling(button_3,2);button_4.__click=()=>importAlbum(),reset(div),bind_value(input,()=>editedAlbum.title,$$value=>editedAlbum.title=$$value),bind_value(textarea,()=>editedAlbum.description,$$value=>editedAlbum.description=$$value),append($$anchor,div),pop()}delegate([`click`]);var root$3=from_html(`<div class="about svelte-8kinj7"><h1 class="svelte-8kinj7">About Flashcard App</h1> <p>This application is designed to help users create, edit, and learn from flashcard albums. You can create multiple albums, each containing a set of flashcards with a front and back side.</p> <h2 class="svelte-8kinj7">Features</h2> <ul class="svelte-8kinj7"><li>Create and edit flashcard albums.</li> <li>Add, edit, and delete individual flashcards within an album.</li> <li>Learn mode to review flashcards with flip animations.</li> <li>Shuffle cards for varied learning experiences.</li></ul> <h2 class="svelte-8kinj7">Technologies Used</h2> <p>This app is built using Svelte and TypeScript, providing a fast and reactive user experience.</p> <h2 class="svelte-8kinj7">Contact</h2> <p>If you have any questions or feedback, feel free to reach out!</p> <p>E-mail: <!></p></div>`);function About($$anchor){var div=root$3(),p=sibling(child(div),16);Link(sibling(child(p)),{href:`mailto:business@konrads.hu`,target:`_blank`,style:`display: inline-block;`,children:($$anchor$1,$$slotProps)=>{next(),append($$anchor$1,text(`business@konrads.hu`))},$$slots:{default:!0}}),reset(p),reset(div),append($$anchor,div)}var root$2=from_html(`<div class="settings svelte-15j4tnx"><h1 class="svelte-15j4tnx">Settings</h1> <div class="setting-item svelte-15j4tnx"><label for="shuffle-cards">Shuffle Cards When Learning</label> <input type="checkbox" id="shuffle-cards" class="svelte-15j4tnx"/></div> <div class="setting-item svelte-15j4tnx"><label for="enable-mathjax">Enable MathJax Rendering</label> <input type="checkbox" id="enable-mathjax" class="svelte-15j4tnx"/></div></div>`);function Settings($$anchor,$$props){push($$props,!0);let settings=proxy(loadSettings());var div=root$2(),div_1=sibling(child(div),2),input=sibling(child(div_1),2);remove_input_defaults(input),input.__change=()=>saveSettings(settings),reset(div_1);var div_2=sibling(div_1,2),input_1=sibling(child(div_2),2);remove_input_defaults(input_1),input_1.__change=()=>saveSettings(settings),reset(div_2),reset(div),bind_checked(input,()=>settings.shouldShuffle,$$value=>settings.shouldShuffle=$$value),bind_checked(input_1,()=>settings.enableMathJax,$$value=>settings.enableMathJax=$$value),append($$anchor,div),pop()}delegate([`change`]),console.log(`Running in production mode.`);const BASE_URL=`/flashcard`;var Callbacks=[],RouteArray=[{href:`/`,component:Home,title:`Home`},{href:`/404`,component:NotFound,title:`404`},{href:`/learn`,component:Learn,title:`Learn`},{href:`/edit`,component:Edit,title:`Edit`},{href:`/about`,component:About,title:`About`},{href:`/settings`,component:Settings,title:`Settings`}];const Routes=RouteArray.reduce((collection,route)=>(collection[route.href]=route,collection),{});var CurrentRoute=Routes[globalThis.location.pathname.replace(`/flashcard`,``)]??Routes[`/404`];function GetCurrentParams(){let searchParams=new URLSearchParams(globalThis.location.search),params={};return searchParams.forEach((value,key)=>{params[key]=value}),params}function Navigate(path){let realPath=path.split(`?`)[0];globalThis.history.pushState({},``,`/flashcard`+path),CurrentRoute=Routes[realPath]??Routes[`/404`],Callbacks.forEach(callback=>callback(CurrentRoute))}function getCurrentRoute(){return CurrentRoute}function onRouteChange(callback){Callbacks.push(callback)}globalThis.addEventListener(`popstate`,()=>{CurrentRoute=Routes[globalThis.location.pathname.replace(`/flashcard`,``)]??Routes[`/404`],Callbacks.forEach(callback=>callback(CurrentRoute))});var root$1=from_html(`<header class="svelte-oiwvqb"><!> <div class="spacer svelte-oiwvqb"></div> <div class="buttons svelte-oiwvqb"><button>Home</button> <button>Settings</button> <button>About</button></div></header>`);function Header($$anchor,$$props){push($$props,!1),init();var header=root$1(),node=child(header);Link(node,{href:`/`,style:`font-size: 1.5rem`,children:($$anchor$1,$$slotProps)=>{next(),append($$anchor$1,text(`Flash Card App`))},$$slots:{default:!0}});var div=sibling(node,4),button=child(div);button.__click=()=>Navigate(`/`);var button_1=sibling(button,2);button_1.__click=()=>Navigate(`/settings`);var button_2=sibling(button_1,2);button_2.__click=()=>Navigate(`/about`),reset(div),reset(header),append($$anchor,header),pop()}delegate([`click`]);function Router($$anchor,$$props){push($$props,!0);let CurrentRoute$1=state(proxy(getCurrentRoute())),CurrentComponent=user_derived(()=>get(CurrentRoute$1)?.component),CurrentTitle=user_derived(()=>get(CurrentRoute$1)?.title||`*`),CurrentProps=user_derived(()=>get(CurrentRoute$1)?.props||{}),animation=null;onRouteChange(route=>{get(CurrentRoute$1).href!=route.href&&(animation&&clearTimeout(animation),document.getElementById(`current-page`).classList.add(`fade-out`),animation=setTimeout(()=>{set(CurrentRoute$1,route,!0),document.getElementById(`current-page`).classList.remove(`fade-out`)},100))});var fragment=comment();head(`gaoouv`,$$anchor$1=>{deferred_template_effect(()=>{$document.title=`Flash cards - ${get(CurrentTitle)??``}`})}),component(first_child(fragment),()=>get(CurrentComponent),($$anchor$1,CurrentComponent_1)=>{CurrentComponent_1($$anchor$1,spread_props(()=>get(CurrentProps)))}),append($$anchor,fragment),pop()}var root=from_html(`<!> <main id="current-page" class="svelte-1n46o8q"><!></main>`,1);function App($$anchor){var fragment=root(),node=first_child(fragment);Header(node,{});var main=sibling(node,2);Router(child(main),{}),reset(main),append($$anchor,fragment)}var app=mount(App,{target:document.body});